var oG=Object.defineProperty,sG=Object.defineProperties;var lG=Object.getOwnPropertyDescriptors;var pb=Object.getOwnPropertySymbols;var NT=Object.prototype.hasOwnProperty,zT=Object.prototype.propertyIsEnumerable;var FT=(e,t,i)=>t in e?oG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,$=(e,t)=>{for(var i in t||(t={}))NT.call(t,i)&&FT(e,i,t[i]);if(pb)for(var i of pb(t))zT.call(t,i)&&FT(e,i,t[i]);return e},le=(e,t)=>sG(e,lG(t));var g_=(e,t)=>{var i={};for(var n in e)NT.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&pb)for(var n of pb(e))t.indexOf(n)<0&&zT.call(e,n)&&(i[n]=e[n]);return i};const cG=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=i(r);fetch(r.href,a)}};cG();function Ve(){}function dy(e,t){for(const i in t)e[i]=t[i];return e}function CF(e){return e()}function jT(){return Object.create(null)}function Cm(e){e.forEach(CF)}function mC(e){return typeof e=="function"}function fi(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let mb;function Td(e,t){return mb||(mb=document.createElement("a")),mb.href=t,e===mb.href}function uG(e){return Object.keys(e).length===0}function dG(e,...t){if(e==null)return Ve;const i=e.subscribe(...t);return i.unsubscribe?()=>i.unsubscribe():i}function IF(e,t,i,n){if(e){const r=EF(e,t,i,n);return e[0](r)}}function EF(e,t,i,n){return e[1]&&n?dy(i.ctx.slice(),e[1](n(t))):i.ctx}function TF(e,t,i,n){if(e[2]&&n){const r=e[2](n(i));if(t.dirty===void 0)return r;if(typeof r=="object"){const a=[],o=Math.max(t.dirty.length,r.length);for(let s=0;s<o;s+=1)a[s]=t.dirty[s]|r[s];return a}return t.dirty|r}return t.dirty}function MF(e,t,i,n,r,a){if(r){const o=EF(t,i,n,a);e.p(o,r)}}function AF(e){if(e.ctx.length>32){const t=[],i=e.ctx.length/32;for(let n=0;n<i;n++)t[n]=-1;return t}return-1}function hG(e){return e&&mC(e.destroy)?e.destroy:Ve}function G(e,t){e.appendChild(t)}function ve(e,t,i){e.insertBefore(t,i||null)}function fe(e){e.parentNode.removeChild(e)}function hy(e,t){for(let i=0;i<e.length;i+=1)e[i]&&e[i].d(t)}function ee(e){return document.createElement(e)}function zx(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function jt(e){return document.createTextNode(e)}function De(){return jt(" ")}function Hc(){return jt("")}function j(e,t,i){i==null?e.removeAttribute(t):e.getAttribute(t)!==i&&e.setAttribute(t,i)}function sw(e,t){for(const i in t)j(e,i,t[i])}function pG(e){return Array.from(e.childNodes)}function Zp(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function go(e,t,i){e.classList[i?"add":"remove"](t)}function mG(e,t,i=!1){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,i,!1,t),n}let $g;function B0(e){$g=e}function jx(){if(!$g)throw new Error("Function called outside component initialization");return $g}function OF(e){jx().$$.on_mount.push(e)}function fG(e){jx().$$.after_update.push(e)}function gG(e){jx().$$.on_destroy.push(e)}function yG(){const e=jx();return(t,i)=>{const n=e.$$.callbacks[t];if(n){const r=mG(t,i);n.slice().forEach(a=>{a.call(e,r)})}}}function VT(e,t){const i=e.$$.callbacks[t.type];i&&i.slice().forEach(n=>n.call(this,t))}const Bf=[],A3=[],Rv=[],O3=[],PF=Promise.resolve();let P3=!1;function LF(){P3||(P3=!0,PF.then(RF))}function bG(){return LF(),PF}function L3(e){Rv.push(e)}function vG(e){O3.push(e)}const y_=new Set;let fb=0;function RF(){const e=$g;do{for(;fb<Bf.length;){const t=Bf[fb];fb++,B0(t),wG(t.$$)}for(B0(null),Bf.length=0,fb=0;A3.length;)A3.pop()();for(let t=0;t<Rv.length;t+=1){const i=Rv[t];y_.has(i)||(y_.add(i),i())}Rv.length=0}while(Bf.length);for(;O3.length;)O3.pop()();P3=!1,y_.clear(),B0(e)}function wG(e){if(e.fragment!==null){e.update(),Cm(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(L3)}}const Fv=new Set;let ad;function oa(){ad={r:0,c:[],p:ad}}function sa(){ad.r||Cm(ad.c),ad=ad.p}function me(e,t){e&&e.i&&(Fv.delete(e),e.i(t))}function be(e,t,i,n){if(e&&e.o){if(Fv.has(e))return;Fv.add(e),ad.c.push(()=>{Fv.delete(e),n&&(i&&e.d(1),n())}),e.o(t)}}function Vx(e,t){const i={},n={},r={$$scope:1};let a=e.length;for(;a--;){const o=e[a],s=t[a];if(s){for(const l in o)l in s||(n[l]=1);for(const l in s)r[l]||(i[l]=s[l],r[l]=1);e[a]=s}else for(const l in o)r[l]=1}for(const o in n)o in i||(i[o]=void 0);return i}function FF(e){return typeof e=="object"&&e!==null?e:{}}function xG(e,t,i){const n=e.$$.props[t];n!==void 0&&(e.$$.bound[n]=i,i(e.$$.ctx[n]))}function Ye(e){e&&e.c()}function Ge(e,t,i,n){const{fragment:r,on_mount:a,on_destroy:o,after_update:s}=e.$$;r&&r.m(t,i),n||L3(()=>{const l=a.map(CF).filter(mC);o?o.push(...l):Cm(l),e.$$.on_mount=[]}),s.forEach(L3)}function We(e,t){const i=e.$$;i.fragment!==null&&(Cm(i.on_destroy),i.fragment&&i.fragment.d(t),i.on_destroy=i.fragment=null,i.ctx=[])}function kG(e,t){e.$$.dirty[0]===-1&&(Bf.push(e),LF(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Si(e,t,i,n,r,a,o,s=[-1]){const l=$g;B0(e);const u=e.$$={fragment:null,ctx:null,props:a,update:Ve,not_equal:r,bound:jT(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:jT(),dirty:s,skip_bound:!1,root:t.target||l.$$.root};o&&o(u.root);let h=!1;if(u.ctx=i?i(e,t.props||{},(m,f,...g)=>{const b=g.length?g[0]:f;return u.ctx&&r(u.ctx[m],u.ctx[m]=b)&&(!u.skip_bound&&u.bound[m]&&u.bound[m](b),h&&kG(e,m)),f}):[],u.update(),h=!0,Cm(u.before_update),u.fragment=n?n(u.ctx):!1,t.target){if(t.hydrate){const m=pG(t.target);u.fragment&&u.fragment.l(m),m.forEach(fe)}else u.fragment&&u.fragment.c();t.intro&&me(e.$$.fragment),Ge(e,t.target,t.anchor,t.customElement),RF()}B0(l)}class Di{$destroy(){We(this,1),this.$destroy=Ve}$on(t,i){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(i),()=>{const r=n.indexOf(i);r!==-1&&n.splice(r,1)}}$set(t){this.$$set&&!uG(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const bt={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,safari10:!1,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,cssVarShim:!1,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,dynamicImportShim:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0};let Mh,NF,Hx,zF=!1,lw=!1,fC=!1,yr=!1,HT=null,R3=!1;const Im=typeof window!="undefined"?window:{};bt.cssVarShim&&Im.CSS;const Qa=Im.document||{head:{}},te=Im.HTMLElement||class{},tn={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,i,n)=>e.addEventListener(t,i,n),rel:(e,t,i,n)=>e.removeEventListener(t,i,n),ce:(e,t)=>new CustomEvent(e,t)},cw=bt.shadowDomShim&&bt.shadowDom?(()=>(Qa.head.attachShadow+"").indexOf("[native")>-1)():!0,_G=(()=>{let e=!1;try{Qa.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch{}return e})(),SG=e=>Promise.resolve(e),DG=bt.constructableCSS?(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replace=="function"}catch{}return!1})():!1,jF=(e,t,i,n)=>{i&&i.map(([r,a,o])=>{const s=CG(e,r),l=$G(t,o),u=IG(r);tn.ael(s,a,l,u),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>tn.rel(s,a,l,u))})},$G=(e,t)=>i=>{try{bt.lazyLoad||e.$hostElement$[t](i)}catch(n){py(n)}},CG=(e,t)=>t&4?Qa:t&8?Im:t&16?Qa.body:e,IG=e=>_G?{passive:(e&1)!==0,capture:(e&2)!==0}:(e&2)!==0,qT="http://www.w3.org/1999/xlink",Md=(e,t="")=>()=>{},BT=new WeakMap,EG=(e,t,i)=>{let n=hw.get(e);DG&&i?(n=n||new CSSStyleSheet,n.replace(t)):n=t,hw.set(e,n)},TG=(e,t,i,n)=>{let r=VF(t,i),a=hw.get(r);if(e=e.nodeType===11?e:Qa,a)if(typeof a=="string"){e=e.head||e;let o=BT.get(e),s;o||BT.set(e,o=new Set),o.has(r)||(s=Qa.createElement("style"),s.innerHTML=a,e.insertBefore(s,e.querySelector("link")),o&&o.add(r))}else e.adoptedStyleSheets.includes(a)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,a]);return r},MG=e=>{const t=e.$cmpMeta$,i=e.$hostElement$,n=t.$flags$,r=Md("attachStyles",t.$tagName$),a=TG(cw&&i.shadowRoot?i.shadowRoot:i.getRootNode(),t,e.$modeName$);n&10&&(i["s-sc"]=a,i.classList.add(a+"-h"),n&2&&i.classList.add(a+"-s")),r()},VF=(e,t)=>"sc-"+(t&&e.$flags$&32?e.$tagName$+"-"+t:e.$tagName$),AG=e=>sW.map(t=>t(e)).find(t=>!!t),UT={},OG="http://www.w3.org/2000/svg",PG="http://www.w3.org/1999/xhtml",LG=e=>e!=null,gC=e=>(e=typeof e,e==="object"||e==="function"),y=(e,t,...i)=>{let n=null,r=null,a=null,o=!1,s=!1,l=[];const u=m=>{for(let f=0;f<m.length;f++)n=m[f],Array.isArray(n)?u(n):n!=null&&typeof n!="boolean"&&((o=typeof e!="function"&&!gC(n))&&(n=String(n)),o&&s?l[l.length-1].$text$+=n:l.push(o?uw(null,n):n),s=o)};if(u(i),t&&(bt.isDev&&e==="input"&&NG(t),bt.vdomKey&&t.key&&(r=t.key),bt.slotRelocation&&t.name&&(a=t.name),bt.vdomClass)){const m=t.className||t.class;m&&(t.class=typeof m!="object"?m:Object.keys(m).filter(f=>m[f]).join(" "))}if(bt.isDev&&l.some(HF)&&oW(`The <Host> must be the single root component. Make sure:
- You are NOT using hostData() and <Host> in the same component.
- <Host> is used once, and it's the single root component of the render() function.`),bt.vdomFunctional&&typeof e=="function")return e(t===null?{}:t,l,RG);const h=uw(e,null);return h.$attrs$=t,l.length>0&&(h.$children$=l),bt.vdomKey&&(h.$key$=r),bt.slotRelocation&&(h.$name$=a),h},uw=(e,t)=>{const i={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return bt.vdomAttribute&&(i.$attrs$=null),bt.vdomKey&&(i.$key$=null),bt.slotRelocation&&(i.$name$=null),i},ze={},HF=e=>e&&e.$tag$===ze,RG={forEach:(e,t)=>e.map(GT).forEach(t),map:(e,t)=>e.map(GT).map(t).map(FG)},GT=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),FG=e=>{if(typeof e.vtag=="function"){const i=Object.assign({},e.vattrs);return e.vkey&&(i.key=e.vkey),e.vname&&(i.name=e.vname),y(e.vtag,i,...e.vchildren||[])}const t=uw(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},NG=e=>{const t=Object.keys(e),i=t.indexOf("value");if(i===-1)return;const n=t.indexOf("type"),r=t.indexOf("min"),a=t.indexOf("max"),o=t.indexOf("step");(i<n||i<r||i<a||i<o)&&QF('The "value" prop of <input> should be set after "min", "max", "type" and "step"')},WT=(e,t,i,n,r,a)=>{if(i!==n){let o=ZT(e,t),s=t.toLowerCase();if(t==="class"){const l=e.classList,u=JT(i),h=JT(n);l.remove(...u.filter(m=>m&&!h.includes(m))),l.add(...h.filter(m=>m&&!u.includes(m)))}else if(t==="style"){for(const l in i)(!n||n[l]==null)&&(l.includes("-")?e.style.removeProperty(l):e.style[l]="");for(const l in n)(!i||n[l]!==i[l])&&(l.includes("-")?e.style.setProperty(l,n[l]):e.style[l]=n[l])}else if(t!=="key")if(t==="ref")n&&n(e);else if(!e.__lookupSetter__(t)&&t[0]==="o"&&t[1]==="n")t[2]==="-"?t=t.slice(3):ZT(Im,s)?t=s.slice(2):t=s[2]+t.slice(3),i&&tn.rel(e,t,i,!1),n&&tn.ael(e,t,n,!1);else{const l=gC(n);if((o||l&&n!==null)&&!r)try{if(e.tagName.includes("-"))e[t]=n;else{let h=n==null?"":n;t==="list"?o=!1:(i==null||e[t]!=h)&&(e[t]=h)}}catch{}let u=!1;s!==(s=s.replace(/^xlink\:?/,""))&&(t=s,u=!0),n==null||n===!1?(n!==!1||e.getAttribute(t)==="")&&(u?e.removeAttributeNS(qT,t):e.removeAttribute(t)):(!o||a&4||r)&&!l&&(n=n===!0?"":n,u?e.setAttributeNS(qT,t,n):e.setAttribute(t,n))}}},zG=/\s/,JT=e=>e?e.split(zG):[],qF=(e,t,i,n)=>{const r=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,a=e&&e.$attrs$||UT,o=t.$attrs$||UT;for(n in a)n in o||WT(r,n,a[n],void 0,i,t.$flags$);for(n in o)WT(r,n,a[n],o[n],i,t.$flags$)},dw=(e,t,i,n)=>{let r=t.$children$[i],a=0,o,s,l;if(zF||(fC=!0,r.$tag$==="slot"&&(Mh&&n.classList.add(Mh+"-s"),r.$flags$|=r.$children$?2:1)),r.$text$!==null)o=r.$elm$=Qa.createTextNode(r.$text$);else if(r.$flags$&1)o=r.$elm$=Qa.createTextNode("");else{if(yr||(yr=r.$tag$==="svg"),o=r.$elm$=Qa.createElementNS(yr?OG:PG,r.$flags$&2?"slot-fb":r.$tag$),yr&&r.$tag$==="foreignObject"&&(yr=!1),qF(null,r,yr),LG(Mh)&&o["s-si"]!==Mh&&o.classList.add(o["s-si"]=Mh),r.$children$)for(a=0;a<r.$children$.length;++a)s=dw(e,r,a,o),s&&o.appendChild(s);r.$tag$==="svg"?yr=!1:o.tagName==="foreignObject"&&(yr=!0)}return o["s-hn"]=Hx,r.$flags$&3&&(o["s-sr"]=!0,o["s-cr"]=NF,o["s-sn"]=r.$name$||"",l=e&&e.$children$&&e.$children$[i],l&&l.$tag$===r.$tag$&&e.$elm$&&Cg(e.$elm$,!1)),o},Cg=(e,t)=>{tn.$flags$|=1;const i=e.childNodes;for(let n=i.length-1;n>=0;n--){const r=i[n];r["s-hn"]!==Hx&&r["s-ol"]&&(GF(r).insertBefore(r,yC(r)),r["s-ol"].remove(),r["s-ol"]=void 0,fC=!0),t&&Cg(r,t)}tn.$flags$&=-2},BF=(e,t,i,n,r,a)=>{let o=e["s-cr"]&&e["s-cr"].parentNode||e,s;for(o.shadowRoot&&o.tagName===Hx&&(o=o.shadowRoot);r<=a;++r)n[r]&&(s=dw(null,i,r,e),s&&(n[r].$elm$=s,o.insertBefore(s,yC(t))))},UF=(e,t,i,n,r)=>{for(;t<=i;++t)(n=e[t])&&(r=n.$elm$,KF(n),lw=!0,r["s-ol"]?r["s-ol"].remove():Cg(r,!0),r.remove())},jG=(e,t,i,n)=>{let r=0,a=0,o=0,s=0,l=t.length-1,u=t[0],h=t[l],m=n.length-1,f=n[0],g=n[m],b,v;for(;r<=l&&a<=m;)if(u==null)u=t[++r];else if(h==null)h=t[--l];else if(f==null)f=n[++a];else if(g==null)g=n[--m];else if(gb(u,f))Ah(u,f),u=t[++r],f=n[++a];else if(gb(h,g))Ah(h,g),h=t[--l],g=n[--m];else if(gb(u,g))(u.$tag$==="slot"||g.$tag$==="slot")&&Cg(u.$elm$.parentNode,!1),Ah(u,g),e.insertBefore(u.$elm$,h.$elm$.nextSibling),u=t[++r],g=n[--m];else if(gb(h,f))(u.$tag$==="slot"||g.$tag$==="slot")&&Cg(h.$elm$.parentNode,!1),Ah(h,f),e.insertBefore(h.$elm$,u.$elm$),h=t[--l],f=n[++a];else{for(o=-1,s=r;s<=l;++s)if(t[s]&&t[s].$key$!==null&&t[s].$key$===f.$key$){o=s;break}o>=0?(v=t[o],v.$tag$!==f.$tag$?b=dw(t&&t[a],i,o,e):(Ah(v,f),t[o]=void 0,b=v.$elm$),f=n[++a]):(b=dw(t&&t[a],i,a,e),f=n[++a]),b&&GF(u.$elm$).insertBefore(b,yC(u.$elm$))}r>l?BF(e,n[m+1]==null?null:n[m+1].$elm$,i,n,a,m):a>m&&UF(t,r,l)},gb=(e,t)=>e.$tag$===t.$tag$?e.$tag$==="slot"?e.$name$===t.$name$:e.$key$===t.$key$:!1,yC=e=>e&&e["s-ol"]||e,GF=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,Ah=(e,t)=>{const i=t.$elm$=e.$elm$,n=e.$children$,r=t.$children$,a=t.$tag$,o=t.$text$;let s;o===null?(yr=a==="svg"?!0:a==="foreignObject"?!1:yr,a==="slot"||qF(e,t,yr),n!==null&&r!==null?jG(i,n,t,r):r!==null?(e.$text$!==null&&(i.textContent=""),BF(i,null,t,r,0,r.length-1)):n!==null&&UF(n,0,n.length-1),yr&&a==="svg"&&(yr=!1)):(s=i["s-cr"])?s.parentNode.textContent=o:e.$text$!==o&&(i.data=o)},WF=e=>{let t=e.childNodes,i,n,r,a,o,s;for(n=0,r=t.length;n<r;n++)if(i=t[n],i.nodeType===1){if(i["s-sr"]){for(o=i["s-sn"],i.hidden=!1,a=0;a<r;a++)if(s=t[a].nodeType,t[a]["s-hn"]!==i["s-hn"]||o!==""){if(s===1&&o===t[a].getAttribute("slot")){i.hidden=!0;break}}else if(s===1||s===3&&t[a].textContent.trim()!==""){i.hidden=!0;break}}WF(i)}},Ga=[],JF=e=>{let t,i,n,r,a,o,s=0,l=e.childNodes,u=l.length;for(;s<u;s++){if(t=l[s],t["s-sr"]&&(i=t["s-cr"])&&i.parentNode)for(n=i.parentNode.childNodes,r=t["s-sn"],o=n.length-1;o>=0;o--)i=n[o],!i["s-cn"]&&!i["s-nr"]&&i["s-hn"]!==t["s-hn"]&&(KT(i,r)?(a=Ga.find(h=>h.$nodeToRelocate$===i),lw=!0,i["s-sn"]=i["s-sn"]||r,a?a.$slotRefNode$=t:Ga.push({$slotRefNode$:t,$nodeToRelocate$:i}),i["s-sr"]&&Ga.map(h=>{KT(h.$nodeToRelocate$,i["s-sn"])&&(a=Ga.find(m=>m.$nodeToRelocate$===i),a&&!h.$slotRefNode$&&(h.$slotRefNode$=a.$slotRefNode$))})):Ga.some(h=>h.$nodeToRelocate$===i)||Ga.push({$nodeToRelocate$:i}));t.nodeType===1&&JF(t)}},KT=(e,t)=>e.nodeType===1?e.getAttribute("slot")===null&&t===""||e.getAttribute("slot")===t:e["s-sn"]===t?!0:t==="",KF=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(KF)},VG=(e,t)=>{const i=e.$hostElement$,n=e.$cmpMeta$,r=e.$vnode$||uw(null,null),a=HF(t)?t:y(null,null,t);Hx=i.tagName,n.$attrsToReflect$&&(a.$attrs$=a.$attrs$||{},n.$attrsToReflect$.map(([o,s])=>a.$attrs$[s]=i[o])),a.$tag$=null,a.$flags$|=4,e.$vnode$=a,a.$elm$=r.$elm$=i.shadowRoot||i,Mh=i["s-sc"],NF=i["s-cr"],zF=cw&&(n.$flags$&1)!==0,lw=!1,Ah(r,a);{if(tn.$flags$|=1,fC){JF(a.$elm$);let o,s,l,u,h,m,f=0;for(;f<Ga.length;f++)o=Ga[f],s=o.$nodeToRelocate$,s["s-ol"]||(l=Qa.createTextNode(""),l["s-nr"]=s,s.parentNode.insertBefore(s["s-ol"]=l,s));for(f=0;f<Ga.length;f++)if(o=Ga[f],s=o.$nodeToRelocate$,o.$slotRefNode$){for(u=o.$slotRefNode$.parentNode,h=o.$slotRefNode$.nextSibling,l=s["s-ol"];l=l.previousSibling;)if(m=l["s-nr"],m&&m["s-sn"]===s["s-sn"]&&u===m.parentNode&&(m=m.nextSibling,!m||!m["s-nr"])){h=m;break}(!h&&u!==s.parentNode||s.nextSibling!==h)&&s!==h&&(!s["s-hn"]&&s["s-ol"]&&(s["s-hn"]=s["s-ol"].parentNode.nodeName),u.insertBefore(s,h))}else s.nodeType===1&&(s.hidden=!0)}lw&&WF(a.$elm$),tn.$flags$&=-2,Ga.length=0}},HG=e=>bt.lazyLoad?Tm(e).$hostElement$:e,W=(e,t,i)=>{const n=HG(e);return{emit:r=>(bt.isDev&&!n.isConnected&&QF(`The "${t}" event was emitted, but the dispatcher node is no longer connected to the dom.`),qG(n,t,{bubbles:!!(i&4),composed:!!(i&2),cancelable:!!(i&1),detail:r}))}},qG=(e,t,i)=>{const n=tn.ce(t,i);return e.dispatchEvent(n),n},BG=(e,t)=>{},bC=(e,t)=>{bt.taskQueue&&bt.updatable&&(e.$flags$|=16),BG(e,e.$ancestorComponent$);const i=()=>UG(e,t);return bt.taskQueue?uW(i):i()},UG=(e,t)=>{const i=e.$hostElement$,n=Md("scheduleUpdate",e.$cmpMeta$.$tagName$),r=i;let a;return t?a=Mp(r,"componentWillLoad"):a=Mp(r,"componentWillUpdate"),a=YT(a,()=>Mp(r,"componentWillRender")),n(),YT(a,()=>GG(e,r,t))},GG=async(e,t,i)=>{const n=e.$hostElement$,r=Md("update",e.$cmpMeta$.$tagName$);n["s-rc"],i&&MG(e);const a=Md("render",e.$cmpMeta$.$tagName$);WG(e,t,n),a(),r(),JG(e)},WG=(e,t,i)=>{try{HT=t,t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(bt.hasRenderFn||bt.reflect)&&(bt.vdomRender||bt.reflect)&&(bt.hydrateServerSide||VG(e,t))}catch(s){py(s,e.$hostElement$)}return HT=null,null},JG=e=>{const t=e.$cmpMeta$.$tagName$,i=e.$hostElement$,n=Md("postUpdate",t),r=i;e.$ancestorComponent$,Mp(r,"componentDidRender"),e.$flags$&64?(Mp(r,"componentDidUpdate"),n()):(e.$flags$|=64,Mp(r,"componentDidLoad"),n())},Em=e=>{if(bt.updatable){const t=Tm(e),i=t.$hostElement$.isConnected;return i&&(t.$flags$&18)===2&&bC(t,!1),i}return!1},Mp=(e,t,i)=>{if(e&&e[t])try{return e[t](i)}catch(n){py(n)}},YT=(e,t)=>e&&e.then?e.then(t):t(),KG=(e,t)=>e!=null&&!gC(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e,YG=(e,t)=>Tm(e).$instanceValues$.get(t),ZG=(e,t,i,n)=>{const r=Tm(e),a=e,o=r.$instanceValues$.get(t),s=r.$flags$,l=a;i=KG(i,n.$members$[t][0]);const u=Number.isNaN(o)&&Number.isNaN(i);if(i!==o&&!u){r.$instanceValues$.set(t,i);{if(n.$watchers$&&s&128){const m=n.$watchers$[t];m&&m.map(f=>{try{l[f](i,o,t)}catch(g){py(g,a)}})}if((s&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(i,o,t)===!1)return;bC(r,!1)}}}},XG=(e,t,i)=>{if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);const n=Object.entries(t.$members$),r=e.prototype;n.map(([a,[o]])=>{(o&31||o&32)&&Object.defineProperty(r,a,{get(){return YG(this,a)},set(s){ZG(this,a,s,t)},configurable:!0,enumerable:!0})});{const a=new Map;r.attributeChangedCallback=function(o,s,l){tn.jmp(()=>{const u=a.get(o);if(this.hasOwnProperty(u))l=this[u],delete this[u];else if(r.hasOwnProperty(u)&&typeof this[u]=="number"&&this[u]==l)return;this[u]=l===null&&typeof this[u]=="boolean"?!1:l})},e.observedAttributes=n.filter(([o,s])=>s[0]&15).map(([o,s])=>{const l=s[1]||o;return a.set(l,o),s[0]&512&&t.$attrsToReflect$.push([o,l]),l})}}return e},QG=async(e,t,i,n,r)=>{if((t.$flags$&32)===0&&(r=e.constructor,t.$flags$|=32,customElements.whenDefined(i.$tagName$).then(()=>t.$flags$|=128),r.style)){let o=r.style;typeof o!="string"&&(o=o[t.$modeName$=AG(e)]);const s=VF(i,t.$modeName$);if(!hw.has(s)){const l=Md("registerStyles",i.$tagName$);EG(s,o,!!(i.$flags$&1)),l()}}t.$ancestorComponent$,(()=>bC(t,!0))()},eW=e=>{},tW=e=>{if((tn.$flags$&1)===0){const t=Tm(e),i=t.$cmpMeta$,n=Md("connectedCallback",i.$tagName$);t.$flags$&1?(jF(e,t,i.$listeners$),eW(t.$lazyInstance$)):(t.$flags$|=1,i.$flags$&12&&iW(e),i.$members$&&Object.entries(i.$members$).map(([r,[a]])=>{if(a&31&&e.hasOwnProperty(r)){const o=e[r];delete e[r],e[r]=o}}),QG(e,t,i)),n()}},iW=e=>{const t=e["s-cr"]=Qa.createComment("");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},nW=e=>{if((tn.$flags$&1)===0){const t=Tm(e);t.$rmListeners$&&(t.$rmListeners$.map(i=>i()),t.$rmListeners$=void 0)}},ie=(e,t)=>{const i={$flags$:t[0],$tagName$:t[1]};i.$members$=t[2],i.$listeners$=t[3],i.$watchers$=e.$watchers$,i.$attrsToReflect$=[],!cw&&i.$flags$&1&&(i.$flags$|=8);const n=e.prototype.connectedCallback,r=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){aW(this,i)},connectedCallback(){tW(this),n&&n.call(this)},disconnectedCallback(){nW(this),r&&r.call(this)},__attachShadow(){cw?this.attachShadow({mode:"open",delegatesFocus:!!(i.$flags$&16)}):this.shadowRoot=this}}),e.is=i.$tagName$,XG(e,i)},YF=e=>{const t=new URL(e,tn.$resourcesUrl$);return t.origin!==Im.location.origin?t.href:t.pathname},rW=e=>tn.$resourcesUrl$=e,mn=(e,t)=>t,ZF=new WeakMap,Tm=e=>ZF.get(e),aW=(e,t)=>{const i={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return jF(e,i,t.$listeners$),ZF.set(e,i)},ZT=(e,t)=>t in e,py=(e,t)=>(0,console.error)(e,t),XF=bt.isTesting?["STENCIL:"]:["%cstencil","color: white;background:#4c47ff;font-weight: bold; font-size:10px; padding:2px 6px; border-radius: 5px"],oW=(...e)=>console.error(...XF,...e),QF=(...e)=>console.warn(...XF,...e),hw=new Map,sW=[],XT=[],e9=[],lW=(e,t)=>i=>{e.push(i),R3||(R3=!0,t&&tn.$flags$&4?cW(F3):tn.raf(F3))},QT=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(i){py(i)}e.length=0},F3=()=>{QT(XT),QT(e9),(R3=XT.length>0)&&tn.raf(F3)},cW=e=>SG().then(e),uW=lW(e9,!0),qc={isDev:!!bt.isDev,isBrowser:!0,isServer:!1,isTesting:!!bt.isTesting};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 */const dW="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host([scale=s]){--calcite-accordion-item-spacing-unit:0.25rem;--calcite-accordion-icon-margin:0.5rem;--calcite-accordion-item-padding:var(--calcite-accordion-item-spacing-unit) 0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=m]){--calcite-accordion-item-spacing-unit:0.5rem;--calcite-accordion-icon-margin:0.75rem;--calcite-accordion-item-padding:var(--calcite-accordion-item-spacing-unit) 0.75rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]){--calcite-accordion-item-spacing-unit:0.75rem;--calcite-accordion-icon-margin:1rem;--calcite-accordion-item-padding:var(--calcite-accordion-item-spacing-unit) 1rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host{position:relative;display:block;max-width:100%;line-height:1.5rem;--calcite-accordion-item-border:var(--calcite-ui-border-2);--calcite-accordion-item-background:var(--calcite-ui-foreground-1)}.accordion--transparent{--calcite-accordion-item-border:transparent;--calcite-accordion-item-background:transparent}.accordion--minimal{--calcite-accordion-item-padding:var(--calcite-accordion-item-spacing-unit) 0}.accordion{border-width:1px;border-bottom-width:0px;border-style:solid;border-color:var(--calcite-ui-border-2)}",hW=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteAccordionChange=W(this,"calciteAccordionChange",7),this.appearance="default",this.iconPosition="end",this.iconType="chevron",this.scale="m",this.selectionMode="multi",this.items=[],this.sorted=!1,this.sortItems=e=>e.sort((t,i)=>t.position-i.position).map(t=>t.item)}componentDidLoad(){this.sorted||(this.items=this.sortItems(this.items),this.sorted=!0)}render(){return y("div",{class:{"accordion--transparent":this.appearance==="transparent","accordion--minimal":this.appearance==="minimal",accordion:this.appearance==="default"}},y("slot",null))}calciteAccordionItemKeyEvent(e){const t=e.detail.item,i=e.detail.parent;if(this.el===i){const n=t.key,r=e.target,a=this.itemIndex(r)===0,o=this.itemIndex(r)===this.items.length-1;switch(n){case"ArrowDown":o?this.focusFirstItem():this.focusNextItem(r);break;case"ArrowUp":a?this.focusLastItem():this.focusPrevItem(r);break;case"Home":this.focusFirstItem();break;case"End":this.focusLastItem();break}}}registerCalciteAccordionItem(e){const t={item:e.target,parent:e.detail.parent,position:e.detail.position};this.el===t.parent&&this.items.push(t)}updateActiveItemOnChange(e){this.requestedAccordionItem=e.detail.requestedAccordionItem,this.calciteAccordionChange.emit({requestedAccordionItem:this.requestedAccordionItem})}focusFirstItem(){const e=this.items[0];this.focusElement(e)}focusLastItem(){const e=this.items[this.items.length-1];this.focusElement(e)}focusNextItem(e){const t=this.itemIndex(e),i=this.items[t+1]||this.items[0];this.focusElement(i)}focusPrevItem(e){const t=this.itemIndex(e),i=this.items[t-1]||this.items[this.items.length-1];this.focusElement(i)}itemIndex(e){return this.items.indexOf(e)}focusElement(e){e.focus()}get el(){return this}static get style(){return dW}},pW="calcite-theme-auto",mW="calcite-theme-dark",fW="calcite-theme-light",Bo={autoTheme:pW,darkTheme:mW,lightTheme:fW,rtl:"calcite--rtl"},gW={loading:"Loading"};function yW(e){return e.map(t=>{let i="";for(let n=0;n<t;n++)i+=((1+Math.random())*65536|0).toString(16).substring(1);return i}).join("-")}const li=()=>yW([2,1,1,1,3]);function eM(e){return e?e.id=e.id||`${e.tagName.toLowerCase()}-${li()}`:""}function Ka(e){return Array.isArray(e)?e:Array.from(e)}function t9(e){const t=fy(e,`.${Bo.darkTheme}, .${Bo.lightTheme}`);return t!=null&&t.classList.contains("calcite-theme-dark")?"dark":"light"}function Fi(e){const t="dir",i=`[${t}]`,n=fy(e,i);return n?n.getAttribute(t):"ltr"}function Kt(e,t,i){const n=`[${t}]`,r=e.closest(n);return r?r.getAttribute(t):i}function vC(e){return e.getRootNode()}function wC(e){return e.host||null}function bW(e,t){function i(n,r){if(!n)return r;n.assignedSlot&&(n=n.assignedSlot);const a=vC(n),s=Array.from(a.querySelectorAll(t)).filter(u=>!r.includes(u));r=[...r,...s];const l=wC(a);return l?i(l,r):r}return i(e,[])}function my(e,{selector:t,id:i}){function n(r){if(!r)return null;r.assignedSlot&&(r=r.assignedSlot);const a=vC(r),o=i?a.getElementById(i):t?a.querySelector(t):null,s=wC(a);return o||(s?n(s):null)}return n(e)}function fy(e,t){function i(n){return n?n.closest(t)||i(wC(vC(n))):null}return i(e)}function i9(e){return typeof(e==null?void 0:e.setFocus)=="function"}async function ai(e){if(!!e)return i9(e)?e.setFocus():e.focus()}const Ig=":not([slot])";function $e(e,t,i){t&&!Array.isArray(t)&&typeof t!="string"&&(i=t,t=null);const n=t?Array.isArray(t)?t.map(r=>`[slot="${r}"]`).join(","):`[slot="${t}"]`:Ig;return i!=null&&i.all?vW(e,n,i):wW(e,n,i)}function n9(e,t){return e?Array.from(e.children||[]).filter(i=>i==null?void 0:i.matches(t)):[]}function vW(e,t,i){let n=t===Ig?n9(e,Ig):Array.from(e.querySelectorAll(t));n=i&&i.direct===!1?n:n.filter(a=>a.parentElement===e),n=i!=null&&i.matches?n.filter(a=>a==null?void 0:a.matches(i.matches)):n;const r=i==null?void 0:i.selector;return r?n.map(a=>Array.from(a.querySelectorAll(r))).reduce((a,o)=>[...a,...o],[]).filter(a=>!!a):n}function wW(e,t,i){let n=t===Ig?n9(e,Ig)[0]||null:e.querySelector(t);n=i&&i.direct===!1||(n==null?void 0:n.parentElement)===e?n:null,n=i!=null&&i.matches?n!=null&&n.matches(i.matches)?n:null:n;const r=i==null?void 0:i.selector;return r?n==null?void 0:n.querySelector(r):n}function N3(e,t){return Array.from(e.children).filter(i=>i.matches(t))}function Pc(e,t,i){if(typeof t=="string"&&t!=="")return t;if(t==="")return e[i]}function tM(e,t){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)}const xW="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}.icon-position--end,.icon-position--start{--calcite-accordion-item-icon-rotation:calc(90deg * -1);--calcite-accordion-item-active-icon-rotation:0deg;--calcite-accordion-item-icon-rotation-rtl:90deg;--calcite-accordion-item-active-icon-rotation-rtl:0deg}.icon-position--start{--calcite-accordion-item-flex-direction:row-reverse;--calcite-accordion-item-icon-spacing-start:0;--calcite-accordion-item-icon-spacing-end:var(--calcite-accordion-icon-margin)}.icon-position--end{--calcite-accordion-item-flex-direction:row;--calcite-accordion-item-icon-spacing-start:var(--calcite-accordion-icon-margin);--calcite-accordion-item-icon-spacing-end:0}.icon-position--end:not(.icon-type--plus-minus){--calcite-accordion-item-icon-rotation:0deg;--calcite-accordion-item-active-icon-rotation:180deg;--calcite-accordion-item-icon-rotation-rtl:0deg;--calcite-accordion-item-active-icon-rotation-rtl:calc(180deg * -1)}:host{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;color:var(--calcite-ui-text-3);-webkit-text-decoration-line:none;text-decoration-line:none;outline:2px solid transparent;outline-offset:2px;background-color:var(--calcite-accordion-item-background, var(--calcite-ui-foreground-1))}:host .accordion-item-header{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}:host(:focus) .accordion-item-header{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}:host([active]){color:var(--calcite-ui-text-1)}:host([active]) .accordion-item-content{display:block;color:var(--calcite-ui-text-1)}:host([active]) .accordion-item-header{border-bottom-color:transparent}:host .accordion-item-header{display:-ms-flexbox;display:flex;cursor:pointer;-ms-flex-align:center;align-items:center;-ms-flex-direction:var(--calcite-accordion-item-flex-direction);flex-direction:var(--calcite-accordion-item-flex-direction)}:host .accordion-item-icon{position:relative;margin:0px;display:-ms-inline-flexbox;display:inline-flex;color:var(--calcite-ui-text-3);-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-margin-end:var(--calcite-accordion-item-icon-spacing-start);margin-inline-end:var(--calcite-accordion-item-icon-spacing-start);-webkit-margin-start:var(--calcite-accordion-item-icon-spacing-end);margin-inline-start:var(--calcite-accordion-item-icon-spacing-end)}:host .accordion-item-content,:host .accordion-item-header{padding:var(--calcite-accordion-item-padding);border-bottom:1px solid var(--calcite-accordion-item-border, var(--calcite-ui-border-2))}:host .accordion-item-header *{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host .accordion-item-content{display:none;padding-top:0px;color:var(--calcite-ui-text-3);text-align:initial}:host .accordion-item-expand-icon{color:var(--calcite-ui-text-3);-webkit-margin-start:var(--calcite-accordion-item-icon-spacing-start);margin-inline-start:var(--calcite-accordion-item-icon-spacing-start);-webkit-margin-end:var(--calcite-accordion-item-icon-spacing-end);margin-inline-end:var(--calcite-accordion-item-icon-spacing-end);-webkit-transform:rotate(var(--calcite-accordion-item-icon-rotation));transform:rotate(var(--calcite-accordion-item-icon-rotation))}.calcite--rtl .accordion-item-expand-icon{-webkit-transform:rotate(var(--calcite-accordion-item-icon-rotation-rtl));transform:rotate(var(--calcite-accordion-item-icon-rotation-rtl))}:host([active]) .accordion-item-expand-icon{color:var(--calcite-ui-text-1);-webkit-transform:rotate(var(--calcite-accordion-item-active-icon-rotation));transform:rotate(var(--calcite-accordion-item-active-icon-rotation))}:host([active]) .calcite--rtl .accordion-item-expand-icon{-webkit-transform:rotate(var(--calcite-accordion-item-active-icon-rotation-rtl));transform:rotate(var(--calcite-accordion-item-active-icon-rotation-rtl))}:host .accordion-item-header-text{margin-top:0px;margin-bottom:0px;-ms-flex-positive:1;flex-grow:1;-ms-flex-direction:column;flex-direction:column;padding-top:0px;padding-bottom:0px;text-align:initial;-webkit-margin-end:auto;margin-inline-end:auto}:host .accordion-item-title,:host .accordion-item-subtitle{display:-ms-flexbox;display:flex;width:100%}:host .accordion-item-title{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-2)}:host .accordion-item-subtitle{margin-top:0.25rem;color:var(--calcite-ui-text-3)}:host(:focus) .accordion-item-title,:host(:hover) .accordion-item-title{color:var(--calcite-ui-text-1)}:host(:focus) .accordion-item-icon,:host(:hover) .accordion-item-icon{color:var(--calcite-ui-text-1)}:host(:focus) .accordion-item-expand-icon,:host(:hover) .accordion-item-expand-icon{color:var(--calcite-ui-text-1)}:host(:focus) .accordion-item-subtitle,:host(:hover) .accordion-item-subtitle{color:var(--calcite-ui-text-2)}:host(:focus) .accordion-item-title,:host(:active) .accordion-item-title,:host([active]) .accordion-item-title{color:var(--calcite-ui-text-1)}:host(:focus) .accordion-item-icon,:host(:active) .accordion-item-icon,:host([active]) .accordion-item-icon{color:var(--calcite-ui-text-1)}:host(:focus) .accordion-item-expand-icon,:host(:active) .accordion-item-expand-icon,:host([active]) .accordion-item-expand-icon{color:var(--calcite-ui-text-1)}:host(:focus) .accordion-item-subtitle,:host(:active) .accordion-item-subtitle,:host([active]) .accordion-item-subtitle{color:var(--calcite-ui-text-2)}",kW=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteAccordionItemKeyEvent=W(this,"calciteAccordionItemKeyEvent",7),this.calciteAccordionItemSelect=W(this,"calciteAccordionItemSelect",7),this.calciteAccordionItemClose=W(this,"calciteAccordionItemClose",7),this.calciteAccordionItemRegister=W(this,"calciteAccordionItemRegister",7),this.active=!1,this.guid=li(),this.iconPosition="end",this.itemHeaderClickHandler=()=>this.emitRequestedItem()}connectedCallback(){this.parent=this.el.parentElement,this.selectionMode=Kt(this.el,"selection-mode","multi"),this.iconType=Kt(this.el,"icon-type","chevron"),this.iconPosition=Kt(this.el,"icon-position",this.iconPosition)}componentDidLoad(){this.itemPosition=this.getItemPosition(),this.calciteAccordionItemRegister.emit({parent:this.parent,position:this.itemPosition})}render(){const e=Fi(this.el),t=y("calcite-icon",{class:"accordion-item-icon",icon:this.icon,scale:"s"}),{guid:i}=this,n=`${i}-region`,r=`${i}-button`;return y(ze,{tabindex:"0"},y("div",{class:{[`icon-position--${this.iconPosition}`]:!0,[`icon-type--${this.iconType}`]:!0}},y("div",{"aria-controls":n,class:{"accordion-item-header":!0,[Bo.rtl]:e==="rtl"},id:r,onClick:this.itemHeaderClickHandler,role:"button"},this.icon?t:null,y("div",{class:"accordion-item-header-text"},y("span",{class:"accordion-item-title"},this.itemTitle),this.itemSubtitle?y("span",{class:"accordion-item-subtitle"},this.itemSubtitle):null),y("calcite-icon",{class:"accordion-item-expand-icon",icon:this.iconType==="chevron"?"chevronDown":this.iconType==="caret"?"caretDown":this.active?"minus":"plus",scale:"s"})),y("div",{"aria-expanded":this.active.toString(),"aria-labelledby":r,class:"accordion-item-content",id:n,role:"region"},y("slot",null))))}keyDownHandler(e){if(e.target===this.el)switch(e.key){case" ":case"Enter":this.emitRequestedItem(),e.preventDefault();break;case"ArrowUp":case"ArrowDown":case"Home":case"End":this.calciteAccordionItemKeyEvent.emit({parent:this.parent,item:e}),e.preventDefault();break}}updateActiveItemOnChange(e){this.requestedAccordionItem=e.detail.requestedAccordionItem,this.el.parentNode===this.requestedAccordionItem.parentNode&&this.determineActiveItem()}determineActiveItem(){switch(this.selectionMode){case"multi":this.el===this.requestedAccordionItem&&(this.active=!this.active);break;case"single":this.active=this.el===this.requestedAccordionItem?!this.active:!1;break;case"single-persist":this.active=this.el===this.requestedAccordionItem;break}}emitRequestedItem(){this.calciteAccordionItemSelect.emit({requestedAccordionItem:this.el})}getItemPosition(){return Array.prototype.indexOf.call(this.parent.querySelectorAll("calcite-accordion-item"),this.el)}get el(){return this}static get style(){return xW}},yl={button:"button",buttonTextVisible:"button--text-visible",buttonCompact:"button--compact",iconContainer:"icon-container",slotContainer:"slot-container",slotContainerHidden:"slot-container--hidden",textContainer:"text-container",textContainerVisible:"text-container--visible"},_W={loading:"Loading"};function Vt(e,t,i){const n=SW(e);return qc.isBrowser?new n(t,i):void 0}function SW(e){return e==="intersection"?window.IntersectionObserver:e==="mutation"?window.MutationObserver:window.ResizeObserver}function DW(){}function it(e,t=!1){if(e.disabled){e.el.setAttribute("tabindex","-1"),e.el.setAttribute("aria-disabled","true"),e.el.contains(document.activeElement)&&document.activeElement.blur(),e.el.click=DW;return}e.el.click=HTMLElement.prototype.click,typeof t=="function"?e.el.setAttribute("tabindex",t.call(e)?"0":"-1"):t===!0?e.el.setAttribute("tabindex","0"):t===!1&&e.el.removeAttribute("tabindex"),e.el.removeAttribute("aria-disabled")}const $W='@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:host{-webkit-box-sizing:border-box;box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;background-color:transparent}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.button{position:relative;margin:0px;display:-ms-flexbox;display:flex;width:auto;cursor:pointer;-ms-flex-align:center;align-items:center;-ms-flex-pack:start;justify-content:flex-start;border-style:none;background-color:var(--calcite-ui-foreground-1);fill:var(--calcite-ui-text-3);font-family:var(--calcite-sans-family);font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-3);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;text-align:unset;-ms-flex:1 0 auto;flex:1 0 auto}.button:hover{background-color:var(--calcite-ui-foreground-2);fill:var(--calcite-ui-text-1);color:var(--calcite-ui-text-1)}.button:focus{background-color:var(--calcite-ui-foreground-2);fill:var(--calcite-ui-text-1);color:var(--calcite-ui-text-1);outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.button:active{background-color:var(--calcite-ui-foreground-3)}.button .icon-container{pointer-events:none;margin:0px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;min-width:1rem;min-height:1rem}.button .text-container{margin:0px;width:0px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1rem;opacity:0;-webkit-transition-property:opacity;transition-property:opacity;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transition-property:margin;transition-property:margin;-webkit-transition-property:width;transition-property:width}.button .text-container--visible{width:auto;-ms-flex:1 1 auto;flex:1 1 auto;opacity:1}:host([scale=s]) .button{padding:0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal)}:host([scale=s]) .button--text-visible .icon-container{-webkit-margin-end:0.5rem;margin-inline-end:0.5rem}:host([scale=m]) .button{padding:1rem;font-size:var(--calcite-font-size--1);line-height:1rem;font-weight:var(--calcite-font-weight-normal)}:host([scale=m]) .button--text-visible .icon-container{-webkit-margin-end:0.75rem;margin-inline-end:0.75rem}:host([scale=l]) .button{padding:1.25rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;font-weight:var(--calcite-font-weight-normal)}:host([scale=l]) .button--text-visible .icon-container{-webkit-margin-end:1rem;margin-inline-end:1rem}:host([alignment=center]) .button{-ms-flex-pack:center;justify-content:center}:host([alignment=end]) .button{-ms-flex-pack:end;justify-content:flex-end}:host([alignment=center]) .button .text-container--visible,:host([alignment=end]) .button .text-container--visible{-ms-flex:0 1 auto;flex:0 1 auto}:host([scale=s][compact]) .button,:host([scale=m][compact]) .button,:host([scale=l][compact]) .button{padding-left:0px;padding-right:0px}.slot-container{display:-ms-flexbox;display:flex}.slot-container--hidden{display:none}.button--text-visible{width:100%}:host([active]) .button,:host([active]) .button:hover,:host([active]) .button:focus,:host([active][loading]) .button{background-color:var(--calcite-ui-foreground-3);fill:var(--calcite-ui-text-1);color:var(--calcite-ui-text-1)}:host([active]) .button:active{background-color:var(--calcite-ui-foreground-1)}:host([appearance=clear]) .button{background-color:transparent;-webkit-transition-property:-webkit-box-shadow;transition-property:-webkit-box-shadow;transition-property:box-shadow;transition-property:box-shadow, -webkit-box-shadow;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host([appearance=clear]) .button:hover,:host([appearance=clear]) .button:focus{background-color:transparent;-webkit-box-shadow:0 0 0 2px var(--calcite-ui-border-1) inset;box-shadow:0 0 0 2px var(--calcite-ui-border-1) inset}:host([active][appearance=clear]) .button,:host([active][appearance=clear]) .button:hover,:host([active][appearance=clear]) .button:focus{background-color:var(--calcite-ui-foreground-3);fill:var(--calcite-ui-text-1);color:var(--calcite-ui-text-1)}:host([appearance=clear][loading]) .button,:host([appearance=clear][disabled]) .button{background-color:transparent}:host([loading]) .button,:host([loading]) .button:hover,:host([loading]) .button:focus{background-color:var(--calcite-ui-foreground-1)}:host([loading]) .button .text-container,:host([loading]) .button:hover .text-container,:host([loading]) .button:focus .text-container{opacity:var(--calcite-ui-opacity-disabled)}:host([loading]) calcite-loader[inline]{margin-right:0px;color:var(--calcite-ui-text-3)}:host([disabled]) .button,:host([disabled]) .button:hover,:host([disabled]) .button:focus{cursor:default;background-color:var(--calcite-ui-foreground-1);opacity:var(--calcite-ui-opacity-disabled)}:host([disabled][active]) .button,:host([disabled][active]) .button:hover,:host([disabled][active]) .button:focus{background-color:var(--calcite-ui-foreground-3);opacity:var(--calcite-ui-opacity-disabled)}:host([indicator]) .button::after{content:"";position:absolute;z-index:10;height:0.5rem;width:0.5rem;border-radius:9999px;border-width:2px;background-color:var(--calcite-ui-brand);border-color:var(--calcite-ui-foreground-1);inset-block-end:0.75rem;inset-inline-end:0.75rem}:host([indicator]) .button--text-visible::after{inset-block-end:auto}:host([indicator]) .button--text-visible .text-container--visible{-webkit-margin-end:1rem;margin-inline-end:1rem}:host([indicator]) .button:hover::after,:host([indicator]) .button:focus::after{border-color:var(--calcite-ui-foreground-1)}:host([indicator][scale=s]) .button::after{inset-block-end:0.25rem;inset-inline-end:0.25rem}:host([indicator][scale=s]) .button--text-visible::after{inset-block-end:auto;inset-inline-end:0.5rem}:host([indicator][active]) .button::after{border-color:var(--calcite-ui-foreground-3)}',CW=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteActionClick=W(this,"calciteActionClick",7),this.active=!1,this.appearance="solid",this.compact=!1,this.disabled=!1,this.indicator=!1,this.intlLoading=_W.loading,this.loading=!1,this.scale="m",this.textEnabled=!1,this.mutationObserver=Vt("mutation",()=>Em(this)),this.calciteActionClickHandler=()=>{this.disabled||this.calciteActionClick.emit()}}connectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0,subtree:!0})}disconnectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect()}componentDidRender(){it(this)}async setFocus(){this.buttonEl.focus()}renderTextContainer(){const{text:e,textEnabled:t}=this,i={[yl.textContainer]:!0,[yl.textContainerVisible]:t};return e?y("div",{class:i,key:"text-container"},e):null}renderIconContainer(){var e;const{loading:t,icon:i,scale:n,el:r,intlLoading:a}=this,o=n==="l"?"m":"s",l=t?y("calcite-loader",{active:!0,inline:!0,label:a,scale:n==="l"?"l":"m"}):null,u=i?y("calcite-icon",{icon:i,scale:o}):null,h=l||u,m=h||((e=r.children)===null||e===void 0?void 0:e.length),f=y("div",{class:{[yl.slotContainer]:!0,[yl.slotContainerHidden]:t}},y("slot",null));return m?y("div",{"aria-hidden":"true",class:yl.iconContainer,key:"icon-container"},h,f):null}render(){const{compact:e,disabled:t,loading:i,textEnabled:n,label:r,text:a}=this,o=r||a,s={[yl.button]:!0,[yl.buttonTextVisible]:n,[yl.buttonCompact]:e};return y(ze,{onClick:this.calciteActionClickHandler},y("button",{"aria-busy":i.toString(),"aria-disabled":t.toString(),"aria-label":o,class:s,disabled:t,ref:l=>this.buttonEl=l},this.renderIconContainer(),this.renderTextContainer()))}get el(){return this}static get style(){return $W}},iM={menu:"menu",defaultTrigger:"default-trigger"},Xs={tooltip:"tooltip",trigger:"trigger"},IW={menu:"ellipsis"},od={menuActions:"menu-actions",menuTooltip:"menu-tooltip"},nM={more:"More"},EW={menu:"ellipsis"},TW=150,MW=2,AW=({height:e,actionHeight:t,groupCount:i})=>Math.floor((e-i*MW)/t),OW=({actionCount:e,actionHeight:t,height:i,groupCount:n})=>Math.max(e-AW({height:i,actionHeight:t,groupCount:n}),0),xC=e=>Array.from(e.querySelectorAll("calcite-action")).filter(t=>t.closest("calcite-action-menu")?t.slot===Xs.trigger:!0),PW=({actionGroups:e,expanded:t,overflowCount:i})=>{let n=i;e.reverse().forEach(r=>{let a=0;const o=xC(r).reverse();o.forEach(s=>{s.slot===od.menuActions&&(s.removeAttribute("slot"),s.textEnabled=t)}),n>0&&o.some(s=>(o.filter(u=>!u.slot).length>1&&o.length>2&&!s.closest("calcite-action-menu")&&(s.textEnabled=!0,s.setAttribute("slot",od.menuActions),a++,a>1&&n--),n<1)),Em(r)})},rM={chevronsLeft:"chevrons-left",chevronsRight:"chevrons-right"};function LW(e,t){var i;return e||((i=t.closest("calcite-shell-panel"))===null||i===void 0?void 0:i.position)||"start"}function U0({parent:e,expanded:t}){xC(e).filter(i=>i.slot!==od.menuActions).forEach(i=>i.textEnabled=t),e.querySelectorAll("calcite-action-group").forEach(i=>i.expanded=t)}const RW=({tooltip:e,referenceElement:t,expanded:i,ref:n})=>(e&&(e.referenceElement=!i&&t?t:null),n&&n(t),t),r9=({expanded:e,intlExpand:t,intlCollapse:i,toggle:n,el:r,position:a,tooltip:o,ref:s,scale:l})=>{const u=Fi(r)==="rtl",h=e?i:t,m=[rM.chevronsLeft,rM.chevronsRight];u&&m.reverse();const f=LW(a,r)==="end",g=f?m[1]:m[0],b=f?m[0]:m[1],v=y("calcite-action",{icon:e?g:b,onClick:n,ref:w=>RW({tooltip:o,referenceElement:w,expanded:e,ref:s}),scale:l,text:h,textEnabled:e});return o?y("calcite-tooltip-manager",null,v):v},FW={actionGroupBottom:"action-group--bottom"},lf={bottomActions:"bottom-actions",expandTooltip:"expand-tooltip"},aM={expand:"Expand",collapse:"Collapse"};var a9=typeof global=="object"&&global&&global.Object===Object&&global,NW=typeof self=="object"&&self&&self.Object===Object&&self,kC=a9||NW||Function("return this")(),Xp=kC.Symbol,o9=Object.prototype,zW=o9.hasOwnProperty,jW=o9.toString,cf=Xp?Xp.toStringTag:void 0;function VW(e){var t=zW.call(e,cf),i=e[cf];try{e[cf]=void 0;var n=!0}catch{}var r=jW.call(e);return n&&(t?e[cf]=i:delete e[cf]),r}var HW=Object.prototype,qW=HW.toString;function BW(e){return qW.call(e)}var UW="[object Null]",GW="[object Undefined]",oM=Xp?Xp.toStringTag:void 0;function qx(e){return e==null?e===void 0?GW:UW:oM&&oM in Object(e)?VW(e):BW(e)}function Bx(e){return e!=null&&typeof e=="object"}var WW="[object Symbol]";function s9(e){return typeof e=="symbol"||Bx(e)&&qx(e)==WW}function JW(e,t){for(var i=-1,n=e==null?0:e.length,r=Array(n);++i<n;)r[i]=t(e[i],i,e);return r}var l9=Array.isArray,KW=1/0,sM=Xp?Xp.prototype:void 0,lM=sM?sM.toString:void 0;function c9(e){if(typeof e=="string")return e;if(l9(e))return JW(e,c9)+"";if(s9(e))return lM?lM.call(e):"";var t=e+"";return t=="0"&&1/e==-KW?"-0":t}var YW=/\s/;function ZW(e){for(var t=e.length;t--&&YW.test(e.charAt(t)););return t}var XW=/^\s+/;function QW(e){return e&&e.slice(0,ZW(e)+1).replace(XW,"")}function Qp(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var cM=0/0,eJ=/^[-+]0x[0-9a-f]+$/i,tJ=/^0b[01]+$/i,iJ=/^0o[0-7]+$/i,nJ=parseInt;function uM(e){if(typeof e=="number")return e;if(s9(e))return cM;if(Qp(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Qp(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=QW(e);var i=tJ.test(e);return i||iJ.test(e)?nJ(e.slice(2),i?2:8):eJ.test(e)?cM:+e}function rJ(e){return e}var aJ="[object AsyncFunction]",oJ="[object Function]",sJ="[object GeneratorFunction]",lJ="[object Proxy]";function cJ(e){if(!Qp(e))return!1;var t=qx(e);return t==oJ||t==sJ||t==aJ||t==lJ}var uJ=9007199254740991,dJ=/^(?:0|[1-9]\d*)$/;function hJ(e,t){var i=typeof e;return t=t==null?uJ:t,!!t&&(i=="number"||i!="symbol"&&dJ.test(e))&&e>-1&&e%1==0&&e<t}var pJ=9007199254740991;function u9(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=pJ}function mJ(e){return e!=null&&u9(e.length)&&!cJ(e)}var fJ=Object.prototype;function gJ(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||fJ;return e===i}function yJ(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}var bJ="[object Arguments]";function dM(e){return Bx(e)&&qx(e)==bJ}var d9=Object.prototype,vJ=d9.hasOwnProperty,wJ=d9.propertyIsEnumerable,xJ=dM(function(){return arguments}())?dM:function(e){return Bx(e)&&vJ.call(e,"callee")&&!wJ.call(e,"callee")};function kJ(){return!1}var h9=typeof exports=="object"&&exports&&!exports.nodeType&&exports,hM=h9&&typeof module=="object"&&module&&!module.nodeType&&module,_J=hM&&hM.exports===h9,pM=_J?kC.Buffer:void 0,SJ=pM?pM.isBuffer:void 0,DJ=SJ||kJ,$J="[object Arguments]",CJ="[object Array]",IJ="[object Boolean]",EJ="[object Date]",TJ="[object Error]",MJ="[object Function]",AJ="[object Map]",OJ="[object Number]",PJ="[object Object]",LJ="[object RegExp]",RJ="[object Set]",FJ="[object String]",NJ="[object WeakMap]",zJ="[object ArrayBuffer]",jJ="[object DataView]",VJ="[object Float32Array]",HJ="[object Float64Array]",qJ="[object Int8Array]",BJ="[object Int16Array]",UJ="[object Int32Array]",GJ="[object Uint8Array]",WJ="[object Uint8ClampedArray]",JJ="[object Uint16Array]",KJ="[object Uint32Array]",At={};At[VJ]=At[HJ]=At[qJ]=At[BJ]=At[UJ]=At[GJ]=At[WJ]=At[JJ]=At[KJ]=!0;At[$J]=At[CJ]=At[zJ]=At[IJ]=At[jJ]=At[EJ]=At[TJ]=At[MJ]=At[AJ]=At[OJ]=At[PJ]=At[LJ]=At[RJ]=At[FJ]=At[NJ]=!1;function YJ(e){return Bx(e)&&u9(e.length)&&!!At[qx(e)]}function ZJ(e){return function(t){return e(t)}}var p9=typeof exports=="object"&&exports&&!exports.nodeType&&exports,G0=p9&&typeof module=="object"&&module&&!module.nodeType&&module,XJ=G0&&G0.exports===p9,b_=XJ&&a9.process,mM=function(){try{var e=G0&&G0.require&&G0.require("util").types;return e||b_&&b_.binding&&b_.binding("util")}catch{}}(),fM=mM&&mM.isTypedArray,QJ=fM?ZJ(fM):YJ,eK=Object.prototype,tK=eK.hasOwnProperty;function iK(e,t){var i=l9(e),n=!i&&xJ(e),r=!i&&!n&&DJ(e),a=!i&&!n&&!r&&QJ(e),o=i||n||r||a,s=o?yJ(e.length,String):[],l=s.length;for(var u in e)(t||tK.call(e,u))&&!(o&&(u=="length"||r&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||hJ(u,l)))&&s.push(u);return s}function nK(e){var t=[];if(e!=null)for(var i in Object(e))t.push(i);return t}var rK=Object.prototype,aK=rK.hasOwnProperty;function oK(e){if(!Qp(e))return nK(e);var t=gJ(e),i=[];for(var n in e)n=="constructor"&&(t||!aK.call(e,n))||i.push(n);return i}function sK(e){return mJ(e)?iK(e,!0):oK(e)}function lK(e){return e==null?"":c9(e)}function cK(e){return function(t,i,n){for(var r=-1,a=Object(t),o=n(t),s=o.length;s--;){var l=o[e?s:++r];if(i(a[l],l,a)===!1)break}return t}}var uK=cK(),v_=function(){return kC.Date.now()},dK="Expected a function",hK=Math.max,pK=Math.min;function wd(e,t,i){var n,r,a,o,s,l,u=0,h=!1,m=!1,f=!0;if(typeof e!="function")throw new TypeError(dK);t=uM(t)||0,Qp(i)&&(h=!!i.leading,m="maxWait"in i,a=m?hK(uM(i.maxWait)||0,t):a,f="trailing"in i?!!i.trailing:f);function g(I){var O=n,R=r;return n=r=void 0,u=I,o=e.apply(R,O),o}function b(I){return u=I,s=setTimeout(x,t),h?g(I):o}function v(I){var O=I-l,R=I-u,H=t-O;return m?pK(H,a-R):H}function w(I){var O=I-l,R=I-u;return l===void 0||O>=t||O<0||m&&R>=a}function x(){var I=v_();if(w(I))return S(I);s=setTimeout(x,v(I))}function S(I){return s=void 0,f&&n?g(I):(n=r=void 0,o)}function E(){s!==void 0&&clearTimeout(s),u=0,n=l=r=s=void 0}function C(){return s===void 0?o:S(v_())}function _(){var I=v_(),O=w(I);if(n=arguments,r=this,l=I,O){if(s===void 0)return b(l);if(m)return clearTimeout(s),s=setTimeout(x,t),g(l)}return s===void 0&&(s=setTimeout(x,t)),o}return _.cancel=E,_.flush=C,_}function mK(e){return typeof e=="function"?e:rJ}var m9=/[\\^$.*+?()[\]{}|]/g,fK=RegExp(m9.source);function gK(e){return e=lK(e),e&&fK.test(e)?e.replace(m9,"\\$&"):e}function f9(e,t){return e==null?e:uK(e,mK(t),sK)}var yK="Expected a function";function bK(e,t,i){var n=!0,r=!0;if(typeof e!="function")throw new TypeError(yK);return Qp(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),wd(e,t,{leading:n,maxWait:t,trailing:r})}const gM=new Set;let Ap;const g9={childList:!0};function gi(e){Ap||(Ap=Vt("mutation",y9)),Ap.observe(e.el,g9)}function yi(e){gM.delete(e.el),y9(Ap.takeRecords()),Ap.disconnect();for(const[t]of gM.entries())Ap.observe(t,g9)}function y9(e){e.forEach(({target:t})=>{Em(t)})}const vK="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:host{-webkit-box-sizing:border-box;box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{pointer-events:auto;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-item-align:stretch;align-self:stretch;max-width:15vw}:host([overflow-actions-disabled]){overflow-y:auto}:host([expanded]){max-width:20vw}::slotted(calcite-action-group){border-width:0px;border-bottom-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3)}::slotted(calcite-action-group:last-child){border-bottom-width:0px}.action-group--bottom{-ms-flex-positive:1;flex-grow:1;-ms-flex-pack:end;justify-content:flex-end;padding-bottom:0px}",wK=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteActionBarToggle=W(this,"calciteActionBarToggle",7),this.expandDisabled=!1,this.expanded=!1,this.overflowActionsDisabled=!1,this.mutationObserver=Vt("mutation",()=>{const{el:e,expanded:t}=this;U0({parent:e,expanded:t}),this.conditionallyOverflowActions()}),this.resizeObserver=Vt("resize",e=>this.resizeHandlerEntries(e)),this.actionMenuOpenChangeHandler=e=>{if(e.detail){const t=e.composedPath();Array.from(this.el.querySelectorAll("calcite-action-group")).forEach(i=>{t.includes(i)||(i.menuOpen=!1)})}},this.resizeHandlerEntries=e=>{e.forEach(this.resizeHandler)},this.resizeHandler=e=>{const{height:t}=e.contentRect;this.resize(t)},this.resize=wd(e=>{var t;const{el:i,expanded:n,expandDisabled:r}=this;if(!e)return;const a=xC(i),o=r?a.length:a.length+1,s=Array.from(i.querySelectorAll("calcite-action-group")),l=$e(i,lf.bottomActions)||!r?s.length+1:s.length,u=OW({actionCount:o,actionHeight:(t=a[0])===null||t===void 0?void 0:t.clientHeight,height:e,groupCount:l});PW({actionGroups:s,expanded:n,overflowCount:u})},TW),this.conditionallyOverflowActions=()=>{this.overflowActionsDisabled||this.overflowActions()},this.toggleExpand=()=>{this.expanded=!this.expanded},this.setExpandToggleRef=e=>{this.expandToggleEl=e}}expandHandler(){this.conditionallyOverflowActions()}expandedHandler(e){U0({parent:this.el,expanded:e}),this.calciteActionBarToggle.emit()}overflowDisabledHandler(e){e?this.resizeObserver.disconnect():this.resizeObserver.observe(this.el)}componentDidLoad(){this.conditionallyOverflowActions()}connectedCallback(){var e,t;const{el:i,expanded:n}=this;U0({parent:i,expanded:n}),(e=this.mutationObserver)===null||e===void 0||e.observe(i,{childList:!0,subtree:!0}),this.overflowActionsDisabled||(t=this.resizeObserver)===null||t===void 0||t.observe(i),this.conditionallyOverflowActions(),gi(this)}disconnectedCallback(){var e,t;(e=this.mutationObserver)===null||e===void 0||e.disconnect(),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),yi(this)}async overflowActions(){this.resize(this.el.clientHeight)}async setFocus(e){if(e==="expand-toggle"){await ai(this.expandToggleEl);return}this.el.focus()}renderBottomActionGroup(){const{expanded:e,expandDisabled:t,intlExpand:i,intlCollapse:n,el:r,position:a,toggleExpand:o,scale:s}=this,l=$e(r,lf.expandTooltip),u=i||aM.expand,h=n||aM.collapse,m=t?null:y(r9,{el:r,expanded:e,intlCollapse:h,intlExpand:u,position:a,ref:this.setExpandToggleRef,scale:s,toggle:o,tooltip:l});return $e(r,lf.bottomActions)||m?y("calcite-action-group",{class:FW.actionGroupBottom,scale:s},y("slot",{name:lf.bottomActions}),y("slot",{name:lf.expandTooltip}),m):null}render(){return y(ze,{onCalciteActionMenuOpenChange:this.actionMenuOpenChangeHandler},y("slot",null),this.renderBottomActionGroup())}get el(){return this}static get watchers(){return{expandDisabled:["expandHandler"],expanded:["expandedHandler"],overflowActionsDisabled:["overflowDisabledHandler"]}}static get style(){return vK}},xK='@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:host{-webkit-box-sizing:border-box;box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding:0px;--calcite-action-group-columns:3}:host([columns="1"]){--calcite-action-group-columns:1}:host([columns="2"]){--calcite-action-group-columns:2}:host([columns="3"]){--calcite-action-group-columns:3}:host([columns="4"]){--calcite-action-group-columns:4}:host([columns="5"]){--calcite-action-group-columns:5}:host([columns="6"]){--calcite-action-group-columns:6}:host(:first-child){padding-top:0px}:host([layout=horizontal]){-ms-flex-direction:row;flex-direction:row}:host([layout=grid]){display:grid;place-content:stretch;gap:1px;background-color:var(--calcite-ui-background);padding:1px;grid-template-columns:repeat(var(--calcite-action-group-columns), auto)}',kK=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.expanded=!1,this.layout="vertical",this.menuOpen=!1,this.setMenuOpen=e=>{this.menuOpen=!!e.detail}}expandedHandler(){this.menuOpen=!1}connectedCallback(){gi(this)}disconnectedCallback(){yi(this)}renderTooltip(){const{el:e}=this;return $e(e,od.menuTooltip)?y("slot",{name:od.menuTooltip,slot:Xs.tooltip}):null}renderMenu(){const{el:e,expanded:t,intlMore:i,menuOpen:n,scale:r}=this;return $e(e,od.menuActions)?y("calcite-action-menu",{expanded:t,flipPlacements:["left","right"],label:i||nM.more,onCalciteActionMenuOpenChange:this.setMenuOpen,open:n,placement:"leading-start",scale:r},y("calcite-action",{icon:EW.menu,scale:r,slot:Xs.trigger,text:i||nM.more,textEnabled:t}),y("slot",{name:od.menuActions}),this.renderTooltip()):null}render(){return y(mn,null,y("slot",null),this.renderMenu())}get el(){return this}static get watchers(){return{expanded:["expandedHandler"]}}static get style(){return xK}};function em(e,t){return(e+t)%t}const _K="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;background-color:var(--calcite-ui-foreground-1);font-size:var(--calcite-font-size-1);color:var(--calcite-ui-text-2)}.menu ::slotted(calcite-action){margin:0.125rem;display:-ms-flexbox;display:flex;outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}::slotted(calcite-action[active]){outline:2px solid var(--calcite-ui-brand);outline-offset:0px}.default-trigger{position:relative;height:100%;-ms-flex:0 1 auto;flex:0 1 auto;-ms-flex-item-align:stretch;align-self:stretch}slot[name=trigger]::slotted(calcite-action),calcite-action::slotted([slot=trigger]){position:relative;height:100%;-ms-flex:0 1 auto;flex:0 1 auto;-ms-flex-item-align:stretch;align-self:stretch}.menu{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap;outline:2px solid transparent;outline-offset:2px}",yM=["ArrowUp","ArrowDown"],bM=["ArrowUp","ArrowDown","End","Home"],SK=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteActionMenuOpenChange=W(this,"calciteActionMenuOpenChange",7),this.expanded=!1,this.open=!1,this.overlayPositioning="absolute",this.placement="auto",this.actionElements=[],this.mutationObserver=Vt("mutation",()=>this.getActions()),this.guid=`calcite-action-menu-${li()}`,this.menuId=`${this.guid}-menu`,this.menuButtonId=`${this.guid}-menu-button`,this.activeMenuItemIndex=-1,this.connectMenuButtonEl=()=>{const{el:e,menuButtonId:t,menuId:i,open:n,label:r}=this,a=$e(e,Xs.trigger)||this.defaultMenuButtonEl;this.menuButtonEl!==a&&(this.disconnectMenuButtonEl(),this.menuButtonEl=a,this.setTooltipReferenceElement(),a&&(a.active=n,a.setAttribute("aria-controls",i),a.setAttribute("aria-expanded",n.toString()),a.setAttribute("aria-haspopup","true"),a.id||(a.id=t),a.label||(a.label=r),a.text||(a.text=r),a.addEventListener("click",this.menuButtonClick),a.addEventListener("keydown",this.menuButtonKeyDown),a.addEventListener("keyup",this.menuButtonKeyUp)))},this.disconnectMenuButtonEl=()=>{const{menuButtonEl:e}=this;!e||(e.removeEventListener("click",this.menuButtonClick),e.removeEventListener("keydown",this.menuButtonKeyDown),e.removeEventListener("keyup",this.menuButtonKeyUp))},this.setDefaultMenuButtonEl=e=>{this.defaultMenuButtonEl=e,this.connectMenuButtonEl()},this.handleCalciteActionClick=()=>{this.open=!1,this.setFocus()},this.menuButtonClick=()=>{this.toggleOpen()},this.setTooltipReferenceElement=()=>{const{el:e,expanded:t,menuButtonEl:i}=this,n=$e(e,Xs.tooltip),r=(n==null?void 0:n.tagName)==="SLOT"?n.assignedElements()[0]:n;(r==null?void 0:r.tagName)==="CALCITE-TOOLTIP"&&(r.referenceElement=t?null:i)},this.updateAction=(e,t)=>{const{guid:i,activeMenuItemIndex:n}=this,r=`${i}-action-${t}`;e.tabIndex=-1,e.setAttribute("role","menuitem"),e.id||(e.id=r),e.active=t===n},this.updateActions=e=>{e==null||e.forEach(this.updateAction)},this.getActions=()=>{const{el:e}=this,t=$e(e,{all:!0,matches:"calcite-action"});this.updateActions(t),this.actionElements=t,this.connectMenuButtonEl()},this.menuButtonKeyUp=e=>{const{key:t}=e,{actionElements:i}=this;!this.isValidKey(t,yM)||(e.preventDefault(),i.length&&(this.toggleOpen(!0),this.handleActionNavigation(t,i)))},this.menuButtonKeyDown=e=>{const{key:t}=e;!this.isValidKey(t,yM)||e.preventDefault()},this.menuActionsContainerKeyDown=e=>{const{key:t}=e,{actionElements:i,activeMenuItemIndex:n}=this;if(t==="Tab"){this.open=!1;return}if(t===" "||t==="Enter"){e.preventDefault();const r=i[n];r?r.click():this.toggleOpen(!1);return}this.isValidKey(t,bM)&&e.preventDefault()},this.menuActionsContainerKeyUp=e=>{const{key:t}=e,{actionElements:i}=this;if(t==="Escape"){this.toggleOpen(!1);return}!this.isValidKey(t,bM)||(e.preventDefault(),i.length&&this.handleActionNavigation(t,i))},this.handleActionNavigation=(e,t)=>{const i=this.activeMenuItemIndex;e==="Home"&&(this.activeMenuItemIndex=0),e==="End"&&(this.activeMenuItemIndex=t.length-1),e==="ArrowUp"&&(this.activeMenuItemIndex=em(Math.max(i-1,-1),t.length)),e==="ArrowDown"&&(this.activeMenuItemIndex=em(i+1,t.length))},this.toggleOpenEnd=()=>{this.setFocus(),this.el.removeEventListener("calcitePopoverOpen",this.toggleOpenEnd)},this.toggleOpen=(e=!this.open)=>{this.el.addEventListener("calcitePopoverOpen",this.toggleOpenEnd),this.open=e}}connectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0,subtree:!0}),this.getActions(),gi(this)}disconnectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect(),this.disconnectMenuButtonEl(),yi(this)}expandedHandler(){this.open=!1,this.setTooltipReferenceElement()}openHandler(e){this.activeMenuItemIndex=this.open?0:-1,this.menuButtonEl&&(this.menuButtonEl.active=e),this.calciteActionMenuOpenChange.emit(e)}closeCalciteActionMenuOnClick(e){e.composedPath().includes(this.el)||(this.open=!1)}activeMenuItemIndexHandler(){this.updateActions(this.actionElements)}async setFocus(){ai(this.open?this.menuEl:this.menuButtonEl)}renderMenuButton(){const{el:e,label:t,scale:i}=this,n=y("slot",{name:Xs.trigger},y("calcite-action",{class:iM.defaultTrigger,icon:IW.menu,ref:this.setDefaultMenuButtonEl,scale:i,text:t}));return $e(e,Xs.tooltip)?y("calcite-tooltip-manager",null,n):n}renderMenuItems(){const{actionElements:e,activeMenuItemIndex:t,open:i,menuId:n,menuButtonEl:r,label:a,placement:o,overlayPositioning:s,flipPlacements:l}=this,u=e[t],h=(u==null?void 0:u.id)||null;return y("calcite-popover",{disablePointer:!0,flipPlacements:l,label:a,offsetDistance:0,open:i,overlayPositioning:s,placement:o,referenceElement:r},y("div",{"aria-activedescendant":h,"aria-labelledby":r==null?void 0:r.id,class:iM.menu,id:n,onClick:this.handleCalciteActionClick,onKeyDown:this.menuActionsContainerKeyDown,onKeyUp:this.menuActionsContainerKeyUp,ref:m=>this.menuEl=m,role:"menu",tabIndex:-1},y("slot",null)))}render(){return y(mn,null,this.renderMenuButton(),this.renderMenuItems(),y("slot",{name:Xs.tooltip}))}getAssignedElements(){return Array.from(this.el.querySelectorAll("slot")).map(e=>e.assignedElements({flatten:!0})).reduce((e,t)=>e.concat(t),[])}isValidKey(e,t){return!!t.find(i=>i===e)}get el(){return this}static get watchers(){return{expanded:["expandedHandler"],open:["openHandler"],activeMenuItemIndex:["activeMenuItemIndexHandler"]}}static get style(){return _K}},vM={actionGroupBottom:"action-group--bottom",container:"container"},wM={expand:"Expand",collapse:"Collapse"},xM={expandTooltip:"expand-tooltip"},DK="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:host{-webkit-box-sizing:border-box;box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block}@keyframes in{0%{opacity:0}100%{opacity:1}}:host{-webkit-animation:in var(--calcite-internal-animation-timing-slow) ease-in-out;animation:in var(--calcite-internal-animation-timing-slow) ease-in-out;border-radius:0.125rem}:host([expanded]){max-width:20vw}::slotted(calcite-action-group){border-width:0px;border-bottom-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);padding-bottom:0px;padding-top:0px}.container{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-direction:column;flex-direction:column;overflow-y:auto;border-radius:0.25rem;background-color:var(--calcite-ui-background);--tw-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);max-width:15vw}.action-group--bottom{-ms-flex-positive:1;flex-grow:1;-ms-flex-pack:end;justify-content:flex-end;padding-bottom:0px}:host([layout=horizontal]) .container{-ms-flex-direction:row;flex-direction:row;max-width:unset}:host([layout=horizontal]) .container .action-group--bottom{padding:0px}:host([layout=horizontal]) .container ::slotted(calcite-action-group){border-width:0px;padding:0px;border-inline-end-width:1px}::slotted(calcite-action-group:last-child){border-bottom-width:0px}",$K=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteActionPadToggle=W(this,"calciteActionPadToggle",7),this.expandDisabled=!1,this.expanded=!1,this.layout="vertical",this.actionMenuOpenChangeHandler=e=>{if(e.detail){const t=e.composedPath();Array.from(this.el.querySelectorAll("calcite-action-group")).forEach(i=>{t.includes(i)||(i.menuOpen=!1)})}},this.toggleExpand=()=>{this.expanded=!this.expanded},this.setExpandToggleRef=e=>{this.expandToggleEl=e}}expandedHandler(e){U0({parent:this.el,expanded:e}),this.calciteActionPadToggle.emit()}connectedCallback(){gi(this)}disconnectedCallback(){yi(this)}componentWillLoad(){const{el:e,expanded:t}=this;U0({parent:e,expanded:t})}async setFocus(e){if(e==="expand-toggle"){await ai(this.expandToggleEl);return}this.el.focus()}renderBottomActionGroup(){const{expanded:e,expandDisabled:t,intlExpand:i,intlCollapse:n,el:r,position:a,toggleExpand:o,scale:s}=this,l=$e(r,xM.expandTooltip),u=i||wM.expand,h=n||wM.collapse,m=t?null:y(r9,{el:r,expanded:e,intlCollapse:h,intlExpand:u,position:a,ref:this.setExpandToggleRef,scale:s,toggle:o,tooltip:l});return m?y("calcite-action-group",{class:vM.actionGroupBottom,scale:s},y("slot",{name:xM.expandTooltip}),m):null}render(){return y(ze,{onCalciteActionMenuOpenChange:this.actionMenuOpenChangeHandler},y("div",{class:vM.container},y("slot",null),this.renderBottomActionGroup()))}get el(){return this}static get watchers(){return{expanded:["expandedHandler"]}}static get style(){return DK}},CK={intlClose:"Close"},kM={slow:14e3,medium:1e4,fast:6e3},w_={title:"title",message:"message",link:"link"};var tm;(function(e){e.green="checkCircle",e.yellow="exclamationMarkTriangle",e.red="exclamationMarkTriangle",e.blue="lightbulb"})(tm||(tm={}));const IK='@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host([scale=s]){--calcite-alert-width:40em;--calcite-alert-spacing-token-small:0.5rem;--calcite-alert-spacing-token-large:0.75rem}:host([scale=s]) slot[name=title]::slotted(*),:host([scale=s]) *::slotted([slot=title]){font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=s]) slot[name=message]::slotted(*),:host([scale=s]) *::slotted([slot=message]){font-size:var(--calcite-font-size--2);line-height:1.375}:host([scale=s]) slot[name=link]::slotted(*),:host([scale=s]) *::slotted([slot=link]){font-size:var(--calcite-font-size--2);line-height:1.375}:host([scale=s]) .alert-queue-count{margin-left:0.5rem;margin-right:0.5rem}:host([scale=s]) .container{--calcite-alert-min-height:3.5rem}:host([scale=s]) .alert-close{padding:0.5rem}:host([scale=m]){--calcite-alert-width:50em;--calcite-alert-spacing-token-small:0.75rem;--calcite-alert-spacing-token-large:1rem}:host([scale=m]) slot[name=title]::slotted(*),:host([scale=m]) *::slotted([slot=title]){font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=m]) slot[name=message]::slotted(*),:host([scale=m]) *::slotted([slot=message]){font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) slot[name=link]::slotted(*),:host([scale=m]) *::slotted([slot=link]){font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) .alert-queue-count{margin-left:0.75rem;margin-right:0.75rem}:host([scale=m]) .container{--calcite-alert-min-height:4.1875rem}:host([scale=l]){--calcite-alert-width:60em;--calcite-alert-spacing-token-small:1rem;--calcite-alert-spacing-token-large:1.25rem}:host([scale=l]) slot[name=title]::slotted(*),:host([scale=l]) *::slotted([slot=title]){margin-bottom:0.25rem;font-size:var(--calcite-font-size-1);line-height:1.375}:host([scale=l]) slot[name=message]::slotted(*),:host([scale=l]) *::slotted([slot=message]){font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) slot[name=link]::slotted(*),:host([scale=l]) *::slotted([slot=link]){font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) .alert-queue-count{margin-left:1rem;margin-right:1rem}:host([scale=l]) .container{--calcite-alert-min-height:5.625rem}:host{--calcite-alert-edge-distance:2rem;display:block}:host .container{pointer-events:none;position:fixed;margin-top:0px;margin-bottom:0px;margin-left:auto;margin-right:auto;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;background-color:var(--calcite-ui-foreground-1);opacity:0;--tw-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);border-radius:var(--calcite-border-radius);border-top:0px solid transparent;border-left:1px solid var(--calcite-ui-border-3);border-right:1px solid var(--calcite-ui-border-3);border-bottom:1px solid var(--calcite-ui-border-3);min-height:var(--calcite-alert-min-height);width:var(--calcite-alert-width);max-width:calc(100% - (var(--calcite-alert-edge-distance) * 2 + 2px));max-height:0;z-index:101;-webkit-transition:var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), all var(--calcite-animation-timing) ease-in-out;transition:var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), all var(--calcite-animation-timing) ease-in-out}:host .container.bottom,:host .container.top{inset-inline-end:0;inset-inline-start:0}:host .container[class*=bottom]{-webkit-transform:translate3d(0, var(--calcite-alert-edge-distance), 0);transform:translate3d(0, var(--calcite-alert-edge-distance), 0);inset-block-end:var(--calcite-alert-edge-distance)}:host .container[class*=top]{-webkit-transform:translate3d(0, calc(-1 * var(--calcite-alert-edge-distance)), 0);transform:translate3d(0, calc(-1 * var(--calcite-alert-edge-distance)), 0);inset-block-start:var(--calcite-alert-edge-distance)}:host .container[class*=-start]{inset-inline-start:var(--calcite-alert-edge-distance);inset-inline-end:auto}:host .container[class*=-end]{inset-inline-end:var(--calcite-alert-edge-distance);inset-inline-start:auto}.container{display:-ms-flexbox;display:flex;width:100%;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.alert-close{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}.alert-close:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}:host([active]) .container:not(.queued){max-height:100%;border-top-width:2px;opacity:1;pointer-events:initial}:host([active]) .container:not(.queued)[class*=bottom]{-webkit-transform:translate3d(0, calc(-1 * var(--calcite-alert-edge-distance)), inherit);transform:translate3d(0, calc(-1 * var(--calcite-alert-edge-distance)), inherit)}:host([active]) .container:not(.queued)[class*=top]{-webkit-transform:translate3d(0, var(--calcite-alert-edge-distance), inherit);transform:translate3d(0, var(--calcite-alert-edge-distance), inherit)}slot[name=title]::slotted(*),*::slotted([slot=title]){font-size:var(--calcite-font-size-0);line-height:1.375;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}slot[name=message]::slotted(*),*::slotted([slot=message]){margin:0px;display:inline;font-size:var(--calcite-font-size--1);line-height:1.375;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-2);-webkit-margin-end:0.5rem;margin-inline-end:0.5rem}slot[name=link]::slotted(*),*::slotted([slot=link]){display:-ms-inline-flexbox;display:inline-flex;color:var(--calcite-ui-text-link)}.alert-content{-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;padding:var(--calcite-alert-spacing-token-small) var(--calcite-alert-spacing-token-large);-ms-flex:0 0 auto;flex:0 0 auto;overflow-wrap:break-word;background-color:var(--calcite-ui-foreground-1);-ms-flex:1 1 auto;flex:1 1 auto;min-width:0;padding-block:var(--calcite-alert-spacing-token-small);padding-inline:0 var(--calcite-alert-spacing-token-small);border-bottom-left-radius:var(--calcite-border-radius);border-bottom-right-radius:var(--calcite-border-radius)}.alert-content:first-of-type:not(:only-child){-webkit-padding-start:var(--calcite-alert-spacing-token-large);padding-inline-start:var(--calcite-alert-spacing-token-large)}.alert-content:only-child{padding:var(--calcite-alert-spacing-token-small)}.alert-icon{-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;padding:var(--calcite-alert-spacing-token-small) var(--calcite-alert-spacing-token-large);-ms-flex:0 0 auto;flex:0 0 auto;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-item-align:stretch;align-self:stretch;background-color:var(--calcite-ui-foreground-1);padding-top:0px;padding-bottom:0px}.alert-close{-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;padding:var(--calcite-alert-spacing-token-small) var(--calcite-alert-spacing-token-large);-ms-flex:0 0 auto;flex:0 0 auto;cursor:pointer;-ms-flex-item-align:stretch;align-self:stretch;border-style:none;background-color:var(--calcite-ui-foreground-1);padding-top:0px;padding-bottom:0px;color:var(--calcite-ui-text-3);outline:2px solid transparent;outline-offset:2px;overflow:hidden;border-end-end-radius:var(--calcite-border-radius)}.alert-close:hover,.alert-close:focus{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}.alert-close:active{background-color:var(--calcite-ui-foreground-3)}.alert-queue-count{visibility:hidden;display:-ms-flexbox;display:flex;cursor:default;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around;-ms-flex-item-align:stretch;align-self:stretch;background-color:var(--calcite-ui-foreground-1);text-align:center;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-2);opacity:0;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;overflow:hidden;border-left:0px solid transparent;border-right:0px solid transparent;border-top-right-radius:0}.alert-queue-count.active{visibility:visible;opacity:1}:host([auto-dismiss])>.alert-queue-count{-webkit-border-end:0px solid transparent;border-inline-end:0px solid transparent}.alert-dismiss-progress{position:absolute;left:0px;right:0px;display:block;width:100%;overflow:hidden;top:-2px;height:2px;z-index:103;border-radius:var(--calcite-border-radius) var(--calcite-border-radius) 0 0}.alert-dismiss-progress:after{position:absolute;top:0px;display:block;height:2px;content:"";background-color:var(--calcite-alert-dismiss-progress-background);z-index:104;inset-inline-end:0}:host([color=blue]) .container{border-top-color:var(--calcite-ui-info)}:host([color=blue]) .container .alert-icon{color:var(--calcite-ui-info)}:host([color=red]) .container{border-top-color:var(--calcite-ui-danger)}:host([color=red]) .container .alert-icon{color:var(--calcite-ui-danger)}:host([color=yellow]) .container{border-top-color:var(--calcite-ui-warning)}:host([color=yellow]) .container .alert-icon{color:var(--calcite-ui-warning)}:host([color=green]) .container{border-top-color:var(--calcite-ui-success)}:host([color=green]) .container .alert-icon{color:var(--calcite-ui-success)}:host([auto-dismiss-duration=fast]) .alert-dismiss-progress:after{-webkit-animation:dismissProgress 6000ms ease-out;animation:dismissProgress 6000ms ease-out}:host([auto-dismiss-duration=medium]) .alert-dismiss-progress:after{-webkit-animation:dismissProgress 10000ms ease-out;animation:dismissProgress 10000ms ease-out}:host([auto-dismiss-duration=slow]) .alert-dismiss-progress:after{-webkit-animation:dismissProgress 14000ms ease-out;animation:dismissProgress 14000ms ease-out}@-webkit-keyframes dismissProgress{0%{width:0px}0%{opacity:0.75}100%{width:100%}100%{opacity:1}}@keyframes dismissProgress{0%{width:0px}0%{opacity:0.75}100%{width:100%}100%{opacity:1}}',EK=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteAlertClose=W(this,"calciteAlertClose",7),this.calciteAlertOpen=W(this,"calciteAlertOpen",7),this.calciteAlertSync=W(this,"calciteAlertSync",7),this.calciteAlertRegister=W(this,"calciteAlertRegister",7),this.active=!1,this.autoDismiss=!1,this.autoDismissDuration=this.autoDismiss?"medium":null,this.color="blue",this.intlClose=CK.intlClose,this.placement="bottom",this.scale="m",this.queue=[],this.queueLength=0,this.queued=!1,this.autoDismissTimeoutId=null,this.trackTimer=Date.now(),this.activeTransitionProp="opacity",this.closeAlert=()=>{this.autoDismissTimeoutId=null,this.queued=!1,this.active=!1,this.queue=this.queue.filter(e=>e!==this.el),this.determineActiveAlert(),this.calciteAlertSync.emit({queue:this.queue})},this.transitionEnd=e=>{e.propertyName===this.activeTransitionProp&&(this.active?this.calciteAlertOpen.emit({el:this.el,queue:this.queue}):this.calciteAlertClose.emit({el:this.el,queue:this.queue}))}}watchActive(){this.active&&!this.queued&&this.calciteAlertRegister.emit(),this.active||(this.queue=this.queue.filter(e=>e!==this.el),this.calciteAlertSync.emit({queue:this.queue}))}updateRequestedIcon(){this.requestedIcon=Pc(tm,this.icon,this.color)}updateDuration(){this.autoDismiss&&this.autoDismissTimeoutId&&(window.clearTimeout(this.autoDismissTimeoutId),this.autoDismissTimeoutId=window.setTimeout(()=>this.closeAlert(),kM[this.autoDismissDuration]-(Date.now()-this.trackTimer)))}connectedCallback(){this.active&&!this.queued&&this.calciteAlertRegister.emit()}componentWillLoad(){this.requestedIcon=Pc(tm,this.icon,this.color)}disconnectedCallback(){window.clearTimeout(this.autoDismissTimeoutId)}render(){const e=y("button",{"aria-label":this.intlClose,class:"alert-close",onClick:this.closeAlert,ref:m=>this.closeButton=m,type:"button"},y("calcite-icon",{icon:"x",scale:this.scale==="l"?"m":"s"})),t=`+${this.queueLength>2?this.queueLength-1:1}`,i=y("div",{class:`${this.queueLength>1?"active ":""}alert-queue-count`},y("calcite-chip",{scale:this.scale,value:t},t)),{active:n,autoDismiss:r,label:a,placement:o,queued:s,requestedIcon:l}=this,u=r?"alert":"alertdialog",h=!n;return y(ze,{"aria-hidden":h.toString(),"aria-label":a,"calcite-hydrated-hidden":h,role:u},y("div",{class:{container:!0,queued:s,[o]:!0},onTransitionEnd:this.transitionEnd},l?y("div",{class:"alert-icon"},y("calcite-icon",{icon:l,scale:this.scale==="l"?"m":"s"})):null,y("div",{class:"alert-content"},y("slot",{name:w_.title}),y("slot",{name:w_.message}),y("slot",{name:w_.link})),i,r?null:e,n&&!s&&r?y("div",{class:"alert-dismiss-progress"}):null))}alertSync(e){this.queue!==e.detail.queue&&(this.queue=e.detail.queue),this.queueLength=this.queue.length,this.determineActiveAlert()}alertRegister(){this.active&&!this.queue.includes(this.el)&&(this.queued=!0,this.queue.push(this.el)),this.calciteAlertSync.emit({queue:this.queue}),this.determineActiveAlert()}async setFocus(){const e=$e(this.el,{selector:"calcite-link"});!this.closeButton&&!e||(e?e.setFocus():this.closeButton&&this.closeButton.focus())}determineActiveAlert(){var e;if(((e=this.queue)===null||e===void 0?void 0:e[0])===this.el)this.openAlert(),this.autoDismiss&&!this.autoDismissTimeoutId&&(this.trackTimer=Date.now(),this.autoDismissTimeoutId=window.setTimeout(()=>this.closeAlert(),kM[this.autoDismissDuration]));else return}openAlert(){window.clearTimeout(this.queueTimeout),this.queueTimeout=window.setTimeout(()=>this.queued=!1,300)}get el(){return this}static get watchers(){return{active:["watchActive"],icon:["updateRequestedIcon"],color:["updateRequestedIcon"],autoDismissDuration:["updateDuration"]}}static get style(){return IK}};function b9(e){const{r:t,g:i,b:n}=e;return`#${t.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}${n.toString(16).padStart(2,"0")}`.toLowerCase()}const TK=/^[0-9A-F]$/i,MK=/^#[0-9A-F]{3}$/i,AK=/^#[0-9A-F]{6}$/i;function Op(e){return v9(e)||w9(e)}function v9(e){return e&&e.length===4&&MK.test(e)}function w9(e){return e&&e.length===7&&AK.test(e)}function Js(e){return e=e.toLowerCase(),e.startsWith("#")||(e=`#${e}`),v9(e)?b9(_C(e)):e}function _C(e){if(!Op(e))return null;if(e=e.replace("#",""),e.length===3){const[r,a,o]=e.split(""),s=parseInt(`${r}${r}`,16),l=parseInt(`${a}${a}`,16),u=parseInt(`${o}${o}`,16);return{r:s,g:l,b:u}}const t=parseInt(e.slice(0,2),16),i=parseInt(e.slice(2,4),16),n=parseInt(e.slice(4,6),16);return{r:t,g:i,b:n}}const x9=e=>e,fu=x9({HEX:"hex",HEXA:"hexa",RGB_CSS:"rgb-css",RGBA_CSS:"rgba-css",HSL_CSS:"hsl-css",HSLA_CSS:"hsla-css"}),hh=x9({RGB:"rgb",RGBA:"rgba",HSL:"hsl",HSLA:"hsla",HSV:"hsv",HSVA:"hsva"});function _M(e){if(typeof e=="string"){if(e.startsWith("#")){const{length:t}=e;if(t===4||t===7)return fu.HEX;if(t===5||t===9)return fu.HEXA}if(e.startsWith("rgba("))return fu.RGBA_CSS;if(e.startsWith("rgb("))return fu.RGB_CSS;if(e.startsWith("hsl("))return fu.HSL_CSS;if(e.startsWith("hsla("))return fu.HSLA_CSS}if(typeof e=="object"){if(ph(e,"r","g","b"))return ph(e,"a")?hh.RGBA:hh.RGB;if(ph(e,"h","s","l"))return ph(e,"a")?hh.HSLA:hh.HSL;if(ph(e,"h","s","v"))return ph(e,"a")?hh.HSVA:hh.HSV}return null}function ph(e,...t){return t.every(i=>i&&e&&`${i}`in e)}function SM(e,t){return(e==null?void 0:e.rgbNumber())===(t==null?void 0:t.rgbNumber())}function OK(e){let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);let i="#";for(let n=0;n<3;n++){const r=t>>n*8&255;i+=("00"+r.toString(16)).substr(-2)}return i}function PK(e){let{r:t,g:i,b:n}=e;t/=255,i/=255,n/=255;const r=Math.max(t,i,n),a=Math.min(t,i,n),o=r-a;if(r===a)return 0;let s=(r+a)/2;switch(r){case t:s=(i-n)/o+(i<n?6:0);break;case i:s=(n-t)/o+2;break;case n:s=(t-i)/o+4;break}return Math.round(s*60)}function LK(e){return PK(_C(e))}const RK="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:inline-block;border-radius:50%;overflow:hidden}:host([scale=s]){height:1.5rem;width:1.5rem;font-size:var(--calcite-font-size--3)}:host([scale=m]){height:2rem;width:2rem;font-size:var(--calcite-font-size--2)}:host([scale=l]){height:2.75rem;width:2.75rem;font-size:var(--calcite-font-size-0)}.icon{display:-ms-flexbox;display:flex}.background{display:-ms-flexbox;display:flex;height:100%;width:100%;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;border-radius:50%}.initials{font-weight:var(--calcite-font-weight-bold);text-transform:uppercase;color:var(--calcite-ui-text-3)}.thumbnail{height:100%;width:100%;border-radius:50%}",FK=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.scale="m",this.error=!1}render(){return this.determineContent()}determineContent(){if(this.thumbnail&&!this.error)return y("img",{alt:"",class:"thumbnail",onError:()=>this.error=!0,src:this.thumbnail});const e=this.generateInitials(),t=this.generateFillColor();return y("span",{class:"background",style:{backgroundColor:t}},e?y("span",{"aria-hidden":"true",class:"initials"},e):y("calcite-icon",{class:"icon",icon:"user",scale:this.scale}))}generateFillColor(){const{userId:e,username:t,fullName:i,el:n}=this,r=t9(n),a=e&&`#${e.substr(e.length-6)}`,o=t||i||"",s=a&&Op(a)?a:OK(o);return!e&&!o||!Op(s)?"var(--calcite-ui-foreground-2)":`hsl(${LK(s)}, 60%, ${r==="dark"?20:90}%)`}generateInitials(){const{fullName:e,username:t}=this;return e?e.trim().split(" ").map(i=>i.substring(0,1)).join(""):t?t.substring(0,2):!1}get el(){return this}static get style(){return RK}},fn={article:"article",content:"content",headerContainer:"header-container",icon:"icon",statusIcon:"status-icon",toggle:"toggle",toggleIcon:"toggle-icon",title:"title",heading:"heading",header:"header",button:"button",summary:"summary",controlContainer:"control-container",valid:"valid",invalid:"invalid",loading:"loading"},uf={collapse:"Collapse",expand:"Expand",loading:"Loading",options:"Options"},mh={icon:"icon",control:"control",headerMenuActions:"header-menu-actions"},yb={opened:"chevron-up",closed:"chevron-down",valid:"check-circle",invalid:"exclamation-mark-triangle",refresh:"refresh"},NK=4;function SC(e){return Math.min(Math.max(Math.ceil(e),1),6)}const Bc=(e,t)=>{const i=`h${e.level}`;return delete e.level,y(i,Object.assign({},e),t)},zK='@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:host{-webkit-box-sizing:border-box;box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:host{--calcite-icon-size:1rem;--calcite-spacing-eighth:0.125rem;--calcite-spacing-quarter:0.25rem;--calcite-spacing-half:0.5rem;--calcite-spacing-three-quarters:0.75rem;--calcite-spacing:1rem;--calcite-spacing-plus-quarter:1.25rem;--calcite-spacing-plus-half:1.5rem;--calcite-spacing-double:2rem;--calcite-menu-min-width:10rem;--calcite-header-min-height:3rem;--calcite-footer-min-height:3rem}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-direction:column;flex-direction:column;border-width:0px;border-bottom-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);padding:0px;-webkit-transition-property:margin;transition-property:margin;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.215, 0.440, 0.420, 0.880);transition-timing-function:cubic-bezier(0.215, 0.440, 0.420, 0.880);-ms-flex-preferred-size:auto;flex-basis:auto}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.header{margin:0px;display:-ms-flexbox;display:flex;-ms-flex-line-pack:justify;align-content:space-between;-ms-flex-align:center;align-items:center;fill:var(--calcite-ui-text-2);color:var(--calcite-ui-text-2)}.heading{margin:0px;padding:0px;font-weight:var(--calcite-font-weight-medium)}.header .heading{-ms-flex:1 1 auto;flex:1 1 auto;padding:0.5rem}h1.heading{font-size:var(--calcite-font-size-2);line-height:1.5rem}h2.heading{font-size:var(--calcite-font-size-1);line-height:1.5rem}h3.heading{font-size:var(--calcite-font-size-0);line-height:1.25rem}h4.heading,h5.heading{font-size:var(--calcite-font-size--1);line-height:1rem}.header{-ms-flex-pack:start;justify-content:flex-start;padding:0px}.header,.toggle{grid-area:header}.header-container{display:grid;-ms-flex-align:stretch;align-items:stretch;grid-template:auto/auto 1fr auto auto;grid-template-areas:"handle header control menu";grid-column:header-start/menu-end;grid-row:1/2}.toggle{margin:0px;display:-ms-flexbox;display:flex;cursor:pointer;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;border-style:none;padding:0px;font-family:inherit;outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;text-align:initial;background-color:transparent}.toggle:hover{background-color:var(--calcite-ui-foreground-2)}.toggle:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}calcite-loader[inline]{grid-area:control;align-self:center}calcite-handle{grid-area:handle}.title{margin:0px;padding:0.75rem}.header .title .heading{padding:0px;font-size:var(--calcite-font-size--1);font-weight:var(--calcite-font-weight-medium);line-height:1.25;color:var(--calcite-ui-text-2);-webkit-transition-property:color;transition-property:color;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);word-wrap:break-word;word-break:break-word}.summary{margin-top:0.125rem;padding:0px;font-size:var(--calcite-font-size--2);color:var(--calcite-ui-text-3);word-wrap:break-word;word-break:break-word}.icon{-webkit-margin-start:0.75rem;margin-inline-start:0.75rem;-webkit-margin-end:0px;margin-inline-end:0px;margin-block:0.75rem}.status-icon.valid{color:var(--calcite-ui-success)}.status-icon.invalid{color:var(--calcite-ui-danger)}.status-icon.loading{-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.toggle-icon{margin-top:0.75rem;margin-bottom:0.75rem;-ms-flex-item-align:center;align-self:center;justify-self:end;color:var(--calcite-ui-text-3);-webkit-transition-property:color;transition-property:color;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-margin-end:1rem;margin-inline-end:1rem;-webkit-margin-start:auto;margin-inline-start:auto}.toggle:hover .toggle-icon{color:var(--calcite-ui-text-1)}.content{position:relative}@keyframes in{0%{opacity:0}100%{opacity:1}}.content{-webkit-animation:in var(--calcite-internal-animation-timing-slow) ease-in-out;animation:in var(--calcite-internal-animation-timing-slow) ease-in-out;padding-left:0.75rem;padding-right:0.75rem;padding-top:0.5rem;padding-bottom:0.5rem}.control-container{margin:0px;display:-ms-flexbox;display:flex;grid-area:control}calcite-action-menu{grid-area:menu}:host([open]){margin-top:0.5rem;margin-bottom:0.5rem}:host([open]) .header .title .heading{color:var(--calcite-ui-text-1)}',jK=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteBlockToggle=W(this,"calciteBlockToggle",7),this.collapsible=!1,this.disabled=!1,this.dragHandle=!1,this.intlLoading=uf.loading,this.intlOptions=uf.options,this.loading=!1,this.open=!1,this.guid=li(),this.onHeaderClick=()=>{this.open=!this.open,this.calciteBlockToggle.emit()}}componentDidRender(){it(this)}connectedCallback(){gi(this)}disconnectedCallback(){yi(this)}renderScrim(){const{loading:e}=this,t=y("slot",null);return[e?y("calcite-scrim",{loading:e}):null,t]}renderIcon(){const{el:e,status:t}=this,i=this.loading&&!this.open,n=i?yb.refresh:yb[t],r=$e(e,mh.icon)||n,a=n?y("calcite-icon",{class:{[fn.statusIcon]:!0,[fn.valid]:t=="valid",[fn.invalid]:t=="invalid",[fn.loading]:i},icon:n,scale:"m"}):y("slot",{key:"icon-slot",name:mh.icon});return r?y("div",{class:fn.icon},a):null}renderTitle(){const{heading:e,headingLevel:t,summary:i}=this;return e||i?y("div",{class:fn.title},y(Bc,{class:fn.heading,level:t||NK},e),i?y("div",{class:fn.summary},i):null):null}render(){const{collapsible:e,el:t,intlCollapse:i,intlExpand:n,loading:r,open:a,intlLoading:o}=this,s=a?i||uf.collapse:n||uf.expand,l=y("header",{class:fn.header},this.renderIcon(),this.renderTitle()),u=!!$e(t,mh.control),h=!!$e(t,mh.headerMenuActions),m=a?yb.opened:yb.closed,{guid:f}=this,g=`${f}-region`,b=`${f}-button`,v=y("div",{class:fn.headerContainer},this.dragHandle?y("calcite-handle",null):null,e?y("button",{"aria-controls":g,"aria-expanded":e?a.toString():null,"aria-label":s,class:fn.toggle,id:b,onClick:this.onHeaderClick,title:s},l,!u&&!h?y("calcite-icon",{"aria-hidden":"true",class:fn.toggleIcon,icon:m,scale:"s"}):null):l,r?y("calcite-loader",{inline:!0,"is-active":!0,label:o}):u?y("div",{class:fn.controlContainer},y("slot",{name:mh.control})):null,h?y("calcite-action-menu",{label:this.intlOptions||uf.options},y("slot",{name:mh.headerMenuActions})):null);return y(ze,null,y("article",{"aria-busy":r.toString(),class:{[fn.article]:!0}},v,y("section",{"aria-expanded":this.open.toString(),"aria-labelledby":b,class:fn.content,hidden:!a,id:g},this.renderScrim())))}get el(){return this}static get style(){return zK}},ya={content:"content",invalid:"invalid",toggle:"toggle",toggleSwitch:"toggle--switch",toggleSwitchContent:"toggle--switch__content",toggleSwitchText:"toggle--switch__text",sectionHeader:"section-header",sectionHeaderText:"section-header__text",statusIcon:"status-icon",valid:"valid"},DM={collapse:"Collapse",expand:"Expand"},bb={menuOpen:"chevron-down",menuClosedLeft:"chevron-left",menuClosedRight:"chevron-right",valid:"check-circle",invalid:"exclamation-mark-triangle"},VK="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{-webkit-box-sizing:border-box;box-sizing:border-box;display:block;background-color:var(--calcite-ui-foreground-1);font-size:var(--calcite-font-size--1);color:var(--calcite-ui-text-2)}:host([open]){border-width:0px;border-bottom-width:1px;border-style:solid;border-bottom-color:var(--calcite-ui-border-3)}:host(:last-child){border-bottom-width:0px}.toggle{width:100%;border-width:0px;background-color:transparent;font-family:var(--calcite-sans-family);font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-2)}.toggle--switch,.section-header{margin-left:0px;margin-right:0px;margin-top:0.25rem;margin-bottom:0.25rem;display:-ms-flexbox;display:flex;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-align:center;align-items:center;padding-left:0px;padding-right:0px;padding-top:0.5rem;padding-bottom:0.5rem;font-size:var(--calcite-font-size--1);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}.toggle--switch:focus,.section-header:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.toggle--switch:hover,.section-header:hover{color:var(--calcite-ui-text-1)}.section-header .status-icon{-ms-flex-item-align:end;align-self:flex-end}.section-header__text{margin-left:0.75rem;margin-right:0.75rem;margin-top:0px;margin-bottom:0px;-ms-flex:1 1 auto;flex:1 1 auto;text-align:initial;word-wrap:anywhere}.toggle--switch calcite-switch{pointer-events:none;-webkit-margin-start:0.25rem;margin-inline-start:0.25rem}.toggle--switch .status-icon{-webkit-margin-start:0.5rem;margin-inline-start:0.5rem}.toggle--switch__content{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-align:center;align-items:center}.status-icon.valid{color:var(--calcite-ui-success)}.status-icon.invalid{color:var(--calcite-ui-danger)}",HK=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteBlockSectionToggle=W(this,"calciteBlockSectionToggle",7),this.open=!1,this.toggleDisplay="button",this.guid=li(),this.handleHeaderKeyDown=e=>{(e.key===" "||e.key==="Enter")&&(this.toggleSection(),e.preventDefault(),e.stopPropagation())},this.toggleSection=()=>{this.open=!this.open,this.calciteBlockSectionToggle.emit()}}renderStatusIcon(){var e;const{status:t}=this,i=(e=bb[t])!==null&&e!==void 0?e:!1,n={[ya.statusIcon]:!0,[ya.valid]:t=="valid",[ya.invalid]:t=="invalid"};return i?y("calcite-icon",{class:n,icon:i,scale:"s"}):null}render(){const{el:e,intlCollapse:t,intlExpand:i,open:n,text:r,toggleDisplay:a}=this,o=Fi(e),s=n?bb.menuOpen:o==="rtl"?bb.menuClosedLeft:bb.menuClosedRight,l=n?t||DM.collapse:i||DM.expand,{guid:u}=this,h=`${u}-region`,m=`${u}-button`,f=a==="switch"?y("div",{"aria-controls":h,"aria-label":l,class:{[ya.toggle]:!0,[ya.toggleSwitch]:!0},id:m,onClick:this.toggleSection,onKeyDown:this.handleHeaderKeyDown,tabIndex:0,title:l},y("div",{class:ya.toggleSwitchContent},y("span",{class:ya.toggleSwitchText},r)),y("calcite-switch",{checked:n,label:l,scale:"s",tabIndex:-1}),this.renderStatusIcon()):y("button",{"aria-controls":h,"aria-label":l,class:{[ya.sectionHeader]:!0,[ya.toggle]:!0},id:m,name:l,onClick:this.toggleSection},y("calcite-icon",{icon:s,scale:"s"}),y("span",{class:ya.sectionHeaderText},r),this.renderStatusIcon());return y(ze,null,f,y("section",{"aria-expanded":n.toString(),"aria-labelledby":m,class:ya.content,hidden:!n,id:h},y("slot",null)))}get el(){return this}static get style(){return VK}};(function(e){if(typeof e.requestSubmit=="function")return;e.requestSubmit=function(n){n?(t(n,this),n.click()):(n=document.createElement("input"),n.type="submit",n.hidden=!0,this.appendChild(n),n.click(),this.removeChild(n))};function t(n,r){n instanceof HTMLElement||i(TypeError,"parameter 1 is not of type 'HTMLElement'"),n.type=="submit"||i(TypeError,"The specified element is not a submit button"),n.form==r||i(DOMException,"The specified element is not owned by this form element","NotFoundError")}function i(n,r,a){throw new n("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+r+".",a)}})(HTMLFormElement.prototype);const ba={buttonLoader:"calcite-button--loader",content:"content",contentSlotted:"content--slotted",icon:"icon",iconStart:"icon--start",iconEnd:"icon--end",loadingIn:"loading-in",loadingOut:"loading-out",iconStartEmpty:"icon-start-empty",iconEndEmpty:"icon-end-empty"},qK={loading:"Loading"},k9="calciteInternalLabelClick",Ux="calciteInternalLabelConnected",pw="calciteInternaLabelDisconnected",$M="calcite-label",mw=new WeakMap,Eg=new Set,BK=e=>{const{id:t}=e,i=t&&my(e,{selector:`${$M}[for="${t}"]`});if(i)return i;const n=fy(e,$M);return!n||UK(n,e)?null:n};function UK(e,t){let i;const n="custom-element-ancestor-check",r=o=>{o.stopImmediatePropagation();const s=o.composedPath();i=s.slice(s.indexOf(t),s.indexOf(e))};return e.addEventListener(n,r,{once:!0}),t.dispatchEvent(new CustomEvent(n,{composed:!0,bubbles:!0})),e.removeEventListener(n,r),i.filter(o=>o!==t&&o!==e).filter(o=>{var s;return(s=o.tagName)===null||s===void 0?void 0:s.includes("-")}).length>0}function tr(e){const t=BK(e.el);if(mw.has(t))return;const i=DC.bind(e),n=_9.bind(e);t?((()=>{e.labelEl=t;const a=GK.bind(e);mw.set(e.labelEl,a),e.labelEl.addEventListener(k9,a)})(),Eg.delete(e),document.removeEventListener(Ux,i),document.addEventListener(pw,n)):!t&&!Eg.has(e)&&(n(),document.removeEventListener(pw,n))}function Ar(e){const t=DC.bind(e),i=_9.bind(e);if(Eg.delete(e),document.removeEventListener(Ux,t),document.removeEventListener(pw,i),!e.labelEl)return;const n=mw.get(e.labelEl);e.labelEl.removeEventListener(k9,n),mw.delete(e.labelEl)}function Zo(e){var t,i;return e.label||((i=(t=e.labelEl)===null||t===void 0?void 0:t.textContent)===null||i===void 0?void 0:i.trim())||""}function GK(e){this.disabled||this.el.contains(e.detail.sourceEvent.target)||this.onLabelClick(e)}function DC(){Eg.has(this)&&tr(this)}function _9(){Eg.add(this);const e=DC.bind(this);document.addEventListener(Ux,e)}const WK="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:inline-block;width:auto;vertical-align:middle}:host([round]){border-radius:50px}:host([round]) a,:host([round]) button{border-radius:50px}:host button,:host a{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}:host button:focus,:host a:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}:host button,:host a{--calcite-button-content-margin:0.5rem;--calcite-button-padding-x:7px;--calcite-button-padding-y:3px;padding:var(--calcite-button-padding-y) var(--calcite-button-padding-x) var(--calcite-button-padding-y) var(--calcite-button-padding-x);position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;height:100%;width:100%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;border-radius:0px;border-style:none;text-align:center;font-family:inherit;font-weight:var(--calcite-font-weight-normal);-webkit-text-decoration-line:none;text-decoration-line:none;-webkit-transition:color var(--calcite-animation-timing) ease-in-out, background-color var(--calcite-animation-timing) ease-in-out, outline-offset var(--calcite-internal-animation-timing-fast) ease-in-out, outline-color var(--calcite-internal-animation-timing-fast) ease-in-out, -webkit-box-shadow var(--calcite-animation-timing) ease-in-out;transition:color var(--calcite-animation-timing) ease-in-out, background-color var(--calcite-animation-timing) ease-in-out, outline-offset var(--calcite-internal-animation-timing-fast) ease-in-out, outline-color var(--calcite-internal-animation-timing-fast) ease-in-out, -webkit-box-shadow var(--calcite-animation-timing) ease-in-out;transition:color var(--calcite-animation-timing) ease-in-out, background-color var(--calcite-animation-timing) ease-in-out, box-shadow var(--calcite-animation-timing) ease-in-out, outline-offset var(--calcite-internal-animation-timing-fast) ease-in-out, outline-color var(--calcite-internal-animation-timing-fast) ease-in-out;transition:color var(--calcite-animation-timing) ease-in-out, background-color var(--calcite-animation-timing) ease-in-out, box-shadow var(--calcite-animation-timing) ease-in-out, outline-offset var(--calcite-internal-animation-timing-fast) ease-in-out, outline-color var(--calcite-internal-animation-timing-fast) ease-in-out, -webkit-box-shadow var(--calcite-animation-timing) ease-in-out}:host button:hover,:host a:hover{-webkit-text-decoration-line:none;text-decoration-line:none}.content{display:-ms-flexbox;display:flex;-ms-flex-preferred-size:auto;flex-basis:auto;-webkit-margin-start:var(--calcite-button-content-margin);margin-inline-start:var(--calcite-button-content-margin);-webkit-margin-end:var(--calcite-button-content-margin);margin-inline-end:var(--calcite-button-content-margin)}.icon-start-empty .content{-webkit-margin-start:unset;margin-inline-start:unset}.icon-end-empty .content{-webkit-margin-end:unset;margin-inline-end:unset}:host([scale=m]) button,:host([scale=m]) a{--calcite-button-content-margin:0.75rem}:host([scale=l]) button,:host([scale=l]) a{--calcite-button-content-margin:1rem}:host([width=auto]){width:auto}:host([width=half]){width:50%}:host([width=full]){width:100%}:host([alignment=center]:not([width=auto])) a,:host([alignment=center]:not([width=auto])) button{-ms-flex-pack:center;justify-content:center}:host([alignment=start]:not([width=auto])) a,:host([alignment=start]:not([width=auto])) button{-ms-flex-pack:start;justify-content:flex-start}:host([alignment=end]:not([width=auto])) a,:host([alignment=end]:not([width=auto])) button{-ms-flex-pack:end;justify-content:flex-end}:host([alignment*=space-between]:not([width=auto])) a,:host([alignment*=space-between]:not([width=auto])) button{-ms-flex-pack:justify;justify-content:space-between}:host([alignment=icon-start-space-between]:not([width=auto])) .icon--start{-webkit-margin-end:auto;margin-inline-end:auto}:host([alignment=icon-start-space-between]:not([width=auto])) a,:host([alignment=icon-start-space-between]:not([width=auto])) button{text-align:unset}:host([alignment=icon-end-space-between]:not([width=auto])) .icon--end{-webkit-margin-start:auto;margin-inline-start:auto}:host([alignment=icon-end-space-between]:not([width=auto])) a,:host([alignment=icon-end-space-between]:not([width=auto])) button{text-align:unset}:host([alignment=center]) a:not(.content--slotted) .icon--start+.icon--end,:host([alignment=center]) button:not(.content--slotted) .icon--start+.icon--end{-webkit-margin-start:var(--calcite-button-content-margin);margin-inline-start:var(--calcite-button-content-margin)}.icon{position:relative;margin:0px;display:-ms-inline-flexbox;display:inline-flex;font-weight:var(--calcite-font-weight-normal);line-height:inherit}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([loading]){pointer-events:none}:host([loading]) button,:host([loading]) a{pointer-events:none;opacity:var(--calcite-ui-opacity-disabled)}@-webkit-keyframes loader-in{0%{width:0;opacity:0;-webkit-transform:scale(0.5);transform:scale(0.5)}100%{width:1em;opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes loader-in{0%{width:0;opacity:0;-webkit-transform:scale(0.5);transform:scale(0.5)}100%{width:1em;opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes loader-out{0%{width:1em;opacity:1;-webkit-transform:scale(1);transform:scale(1)}100%{width:0;opacity:0;-webkit-transform:scale(0.5);transform:scale(0.5)}}@keyframes loader-out{0%{width:1em;opacity:1;-webkit-transform:scale(1);transform:scale(1)}100%{width:0;opacity:0;-webkit-transform:scale(0.5);transform:scale(0.5)}}.calcite-button--loader{display:-ms-flexbox;display:flex}.calcite-button--loader calcite-loader{margin:0px;-webkit-transition:width var(--calcite-internal-animation-timing-slow) ease-in-out, opacity var(--calcite-internal-animation-timing-slow) ease-in-out, -webkit-transform var(--calcite-internal-animation-timing-slow) ease-in-out;transition:width var(--calcite-internal-animation-timing-slow) ease-in-out, opacity var(--calcite-internal-animation-timing-slow) ease-in-out, -webkit-transform var(--calcite-internal-animation-timing-slow) ease-in-out;transition:width var(--calcite-internal-animation-timing-slow) ease-in-out, opacity var(--calcite-internal-animation-timing-slow) ease-in-out, transform var(--calcite-internal-animation-timing-slow) ease-in-out;transition:width var(--calcite-internal-animation-timing-slow) ease-in-out, opacity var(--calcite-internal-animation-timing-slow) ease-in-out, transform var(--calcite-internal-animation-timing-slow) ease-in-out, -webkit-transform var(--calcite-internal-animation-timing-slow) ease-in-out}.calcite-button--loader calcite-loader.loading-in{-webkit-animation-name:loader-in;animation-name:loader-in;-webkit-animation-duration:310ms;animation-duration:310ms}.calcite-button--loader calcite-loader.loading-out{-webkit-animation-name:loader-out;animation-name:loader-out;-webkit-animation-duration:310ms;animation-duration:310ms}:host([loading]) button.content--slotted .calcite-button--loader calcite-loader,:host([loading]) a.content--slotted .calcite-button--loader calcite-loader{-webkit-margin-end:var(--calcite-button-content-margin);margin-inline-end:var(--calcite-button-content-margin)}:host([loading]) button:not(.content--slotted) .icon--start,:host([loading]) button:not(.content--slotted) .icon--end,:host([loading]) a:not(.content--slotted) .icon--start,:host([loading]) a:not(.content--slotted) .icon--end{display:none}:host([appearance=solid]) button,:host([appearance=solid]) a{border-width:1px;border-style:solid;border-color:transparent}:host([appearance=solid][color=blue]) button,:host([appearance=solid][color=blue]) a{background-color:var(--calcite-ui-brand);color:var(--calcite-ui-text-inverse)}:host([appearance=solid][color=blue]) button:hover,:host([appearance=solid][color=blue]) button:focus,:host([appearance=solid][color=blue]) a:hover,:host([appearance=solid][color=blue]) a:focus{background-color:var(--calcite-ui-brand-hover)}:host([appearance=solid][color=blue]) button:active,:host([appearance=solid][color=blue]) a:active{background-color:var(--calcite-ui-brand-press)}:host([appearance=solid][color=blue]) button calcite-loader,:host([appearance=solid][color=blue]) a calcite-loader{color:var(--calcite-ui-text-inverse)}:host([appearance=solid][color=red]) button,:host([appearance=solid][color=red]) a{background-color:var(--calcite-ui-danger);color:var(--calcite-ui-text-inverse)}:host([appearance=solid][color=red]) button:hover,:host([appearance=solid][color=red]) button:focus,:host([appearance=solid][color=red]) a:hover,:host([appearance=solid][color=red]) a:focus{background-color:var(--calcite-ui-danger-hover)}:host([appearance=solid][color=red]) button:active,:host([appearance=solid][color=red]) a:active{background-color:var(--calcite-ui-danger-press)}:host([appearance=solid][color=red]) button calcite-loader,:host([appearance=solid][color=red]) a calcite-loader{color:var(--calcite-ui-text-inverse)}:host([appearance=solid][color=neutral]) button,:host([appearance=solid][color=neutral]) a{background-color:var(--calcite-ui-foreground-3);color:var(--calcite-ui-text-1)}:host([appearance=solid][color=neutral]) button:hover,:host([appearance=solid][color=neutral]) button:focus,:host([appearance=solid][color=neutral]) a:hover,:host([appearance=solid][color=neutral]) a:focus{background-color:var(--calcite-ui-foreground-2)}:host([appearance=solid][color=neutral]) button:active,:host([appearance=solid][color=neutral]) a:active{background-color:var(--calcite-ui-foreground-1)}:host([appearance=solid][color=neutral]) button calcite-loader,:host([appearance=solid][color=neutral]) a calcite-loader{color:var(--calcite-ui-text-1)}:host([appearance=solid][color=inverse]) button,:host([appearance=solid][color=inverse]) a{color:var(--calcite-ui-text-inverse);background-color:var(--calcite-ui-inverse)}:host([appearance=solid][color=inverse]) button:hover,:host([appearance=solid][color=inverse]) button:focus,:host([appearance=solid][color=inverse]) a:hover,:host([appearance=solid][color=inverse]) a:focus{background-color:var(--calcite-ui-inverse-hover)}:host([appearance=solid][color=inverse]) button:active,:host([appearance=solid][color=inverse]) a:active{background-color:var(--calcite-ui-inverse-press)}:host([appearance=solid][color=inverse]) button calcite-loader,:host([appearance=solid][color=inverse]) a calcite-loader{color:var(--calcite-ui-text-inverse)}:host([appearance=outline]) button,:host([appearance=outline]) a{border-width:1px;border-style:solid;background-color:var(--calcite-ui-foreground-1);-webkit-box-shadow:inset 0 0 0 1px transparent;box-shadow:inset 0 0 0 1px transparent}:host([appearance=outline][color=blue]) button,:host([appearance=outline][color=blue]) a{border-color:var(--calcite-ui-brand);color:var(--calcite-ui-brand)}:host([appearance=outline][color=blue]) button:hover,:host([appearance=outline][color=blue]) a:hover{border-color:var(--calcite-ui-brand-hover);color:var(--calcite-ui-brand-hover);-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-brand-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-brand-hover)}:host([appearance=outline][color=blue]) button:focus,:host([appearance=outline][color=blue]) a:focus{border-color:var(--calcite-ui-brand);color:var(--calcite-ui-brand);-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-brand);box-shadow:inset 0 0 0 2px var(--calcite-ui-brand)}:host([appearance=outline][color=blue]) button:active,:host([appearance=outline][color=blue]) a:active{border-color:var(--calcite-ui-brand-press);color:var(--calcite-ui-brand-press);-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-brand-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-brand-press)}:host([appearance=outline][color=blue]) button calcite-loader,:host([appearance=outline][color=blue]) a calcite-loader{color:var(--calcite-ui-brand)}:host([appearance=outline][color=red]) button,:host([appearance=outline][color=red]) a{border-color:var(--calcite-ui-danger);color:var(--calcite-ui-danger)}:host([appearance=outline][color=red]) button:hover,:host([appearance=outline][color=red]) a:hover{border-color:var(--calcite-ui-danger-hover);color:var(--calcite-ui-danger-hover);-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-danger-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-danger-hover)}:host([appearance=outline][color=red]) button:focus,:host([appearance=outline][color=red]) a:focus{border-color:var(--calcite-ui-danger);color:var(--calcite-ui-danger);-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-danger);box-shadow:inset 0 0 0 2px var(--calcite-ui-danger)}:host([appearance=outline][color=red]) button:active,:host([appearance=outline][color=red]) a:active{border-color:var(--calcite-ui-danger-press);color:var(--calcite-ui-danger-press);-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-danger-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-danger-press)}:host([appearance=outline][color=red]) button calcite-loader,:host([appearance=outline][color=red]) a calcite-loader{color:var(--calcite-ui-danger)}:host([appearance=outline][color=neutral]) button,:host([appearance=outline][color=neutral]) a{color:var(--calcite-ui-text-1);border-color:var(--calcite-ui-foreground-3)}:host([appearance=outline][color=neutral]) button:hover,:host([appearance=outline][color=neutral]) a:hover{-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-foreground-3);box-shadow:inset 0 0 0 1px var(--calcite-ui-foreground-3)}:host([appearance=outline][color=neutral]) button:focus,:host([appearance=outline][color=neutral]) a:focus{-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3);box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3)}:host([appearance=outline][color=neutral]) button:active,:host([appearance=outline][color=neutral]) a:active{-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3);box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3)}:host([appearance=outline][color=neutral]) button calcite-loader,:host([appearance=outline][color=neutral]) a calcite-loader{color:var(--calcite-ui-text-1)}:host([appearance=outline][color=inverse]) button,:host([appearance=outline][color=inverse]) a{color:var(--calcite-ui-text-1);border-color:var(--calcite-ui-inverse)}:host([appearance=outline][color=inverse]) button:hover,:host([appearance=outline][color=inverse]) a:hover{border-color:var(--calcite-ui-inverse-hover);-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-inverse-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-inverse-hover)}:host([appearance=outline][color=inverse]) button:focus,:host([appearance=outline][color=inverse]) a:focus{border-color:var(--calcite-ui-inverse);-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse);box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse)}:host([appearance=outline][color=inverse]) button:active,:host([appearance=outline][color=inverse]) a:active{border-color:var(--calcite-ui-inverse-press);-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse-press)}:host([appearance=outline][color=inverse]) button calcite-loader,:host([appearance=outline][color=inverse]) a calcite-loader{color:var(--calcite-ui-text-1)}:host([appearance=clear]) button,:host([appearance=clear]) a{border-width:1px;border-style:solid;background-color:transparent;-webkit-box-shadow:inset 0 0 0 1px transparent;box-shadow:inset 0 0 0 1px transparent}:host([appearance=clear][color=blue]) button,:host([appearance=clear][color=blue]) a{border-color:var(--calcite-ui-brand);color:var(--calcite-ui-brand)}:host([appearance=clear][color=blue]) button:hover,:host([appearance=clear][color=blue]) a:hover{border-color:var(--calcite-ui-brand-hover);color:var(--calcite-ui-brand-hover);-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-brand-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-brand-hover)}:host([appearance=clear][color=blue]) button:focus,:host([appearance=clear][color=blue]) a:focus{border-color:var(--calcite-ui-brand);color:var(--calcite-ui-brand);-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-brand);box-shadow:inset 0 0 0 2px var(--calcite-ui-brand)}:host([appearance=clear][color=blue]) button:active,:host([appearance=clear][color=blue]) a:active{border-color:var(--calcite-ui-brand-press);color:var(--calcite-ui-brand-press);-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-brand-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-brand-press)}:host([appearance=clear][color=blue]) button calcite-loader,:host([appearance=clear][color=blue]) a calcite-loader{color:var(--calcite-ui-brand)}:host([appearance=clear][color=red]) button,:host([appearance=clear][color=red]) a{border-color:var(--calcite-ui-danger);color:var(--calcite-ui-danger)}:host([appearance=clear][color=red]) button:hover,:host([appearance=clear][color=red]) a:hover{border-color:var(--calcite-ui-danger-hover);color:var(--calcite-ui-danger-hover);-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-danger-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-danger-hover)}:host([appearance=clear][color=red]) button:focus,:host([appearance=clear][color=red]) a:focus{border-color:var(--calcite-ui-danger);color:var(--calcite-ui-danger);-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-danger);box-shadow:inset 0 0 0 2px var(--calcite-ui-danger)}:host([appearance=clear][color=red]) button:active,:host([appearance=clear][color=red]) a:active{border-color:var(--calcite-ui-danger-press);color:var(--calcite-ui-danger-press);-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-danger-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-danger-press)}:host([appearance=clear][color=red]) button calcite-loader,:host([appearance=clear][color=red]) a calcite-loader{color:var(--calcite-ui-danger)}:host([appearance=clear][color=neutral]) button,:host([appearance=clear][color=neutral]) a{color:var(--calcite-ui-text-1);border-color:var(--calcite-ui-foreground-3)}:host([appearance=clear][color=neutral]) button:hover,:host([appearance=clear][color=neutral]) a:hover{-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-foreground-3);box-shadow:inset 0 0 0 1px var(--calcite-ui-foreground-3)}:host([appearance=clear][color=neutral]) button:focus,:host([appearance=clear][color=neutral]) a:focus{-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3);box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3)}:host([appearance=clear][color=neutral]) button:active,:host([appearance=clear][color=neutral]) a:active{-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3);box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3)}:host([appearance=clear][color=neutral]) button calcite-loader,:host([appearance=clear][color=neutral]) a calcite-loader{color:var(--calcite-ui-text-1)}:host([appearance=clear][color=inverse]) button,:host([appearance=clear][color=inverse]) a{color:var(--calcite-ui-text-1);border-color:var(--calcite-ui-inverse)}:host([appearance=clear][color=inverse]) button:hover,:host([appearance=clear][color=inverse]) a:hover{border-color:var(--calcite-ui-inverse-hover);-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-inverse-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-inverse-hover)}:host([appearance=clear][color=inverse]) button:focus,:host([appearance=clear][color=inverse]) a:focus{border-color:var(--calcite-ui-inverse);-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse);box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse)}:host([appearance=clear][color=inverse]) button:active,:host([appearance=clear][color=inverse]) a:active{border-color:var(--calcite-ui-inverse-press);-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse-press)}:host([appearance=clear][color=inverse]) button calcite-loader,:host([appearance=clear][color=inverse]) a calcite-loader{color:var(--calcite-ui-text-1)}:host([appearance=outline][split-child=primary]) button,:host([appearance=clear][split-child=primary]) button{border-inline-end-width:0;border-inline-start-width:1px}:host([appearance=outline][split-child=secondary]) button,:host([appearance=clear][split-child=secondary]) button{border-inline-start-width:0;border-inline-end-width:1px}:host([appearance=transparent]:not(.enable-editing-button)) button,:host([appearance=transparent]:not(.enable-editing-button)) a{background-color:transparent}:host([appearance=transparent]:not(.enable-editing-button)) button:hover,:host([appearance=transparent]:not(.enable-editing-button)) button:focus,:host([appearance=transparent]:not(.enable-editing-button)) a:hover,:host([appearance=transparent]:not(.enable-editing-button)) a:focus{background-color:var(--calcite-button-transparent-hover)}:host([appearance=transparent]:not(.enable-editing-button)) button:active,:host([appearance=transparent]:not(.enable-editing-button)) a:active{background-color:var(--calcite-button-transparent-press)}:host([appearance=transparent][color=blue]) button,:host([appearance=transparent][color=blue]) a{color:var(--calcite-ui-brand)}:host([appearance=transparent][color=blue]) button:hover,:host([appearance=transparent][color=blue]) a:hover{color:var(--calcite-ui-brand-hover)}:host([appearance=transparent][color=blue]) button:focus,:host([appearance=transparent][color=blue]) a:focus{color:var(--calcite-ui-brand)}:host([appearance=transparent][color=blue]) button:active,:host([appearance=transparent][color=blue]) a:active{color:var(--calcite-ui-brand-press)}:host([appearance=transparent][color=blue]) button calcite-loader,:host([appearance=transparent][color=blue]) a calcite-loader{color:var(--calcite-ui-brand)}:host([appearance=transparent][color=red]) button,:host([appearance=transparent][color=red]) a{color:var(--calcite-ui-danger)}:host([appearance=transparent][color=red]) button:hover,:host([appearance=transparent][color=red]) a:hover{color:var(--calcite-ui-danger-hover)}:host([appearance=transparent][color=red]) button:focus,:host([appearance=transparent][color=red]) a:focus{color:var(--calcite-ui-danger)}:host([appearance=transparent][color=red]) button:active,:host([appearance=transparent][color=red]) a:active{color:var(--calcite-ui-danger-press)}:host([appearance=transparent][color=red]) button calcite-loader,:host([appearance=transparent][color=red]) a calcite-loader{color:var(--calcite-ui-danger)}:host([appearance=transparent][color=neutral]:not(.cancel-editing-button)) button,:host([appearance=transparent][color=neutral]:not(.cancel-editing-button)) a,:host([appearance=transparent][color=neutral]:not(.cancel-editing-button)) calcite-loader{color:var(--calcite-ui-text-1)}:host([appearance=transparent][color=neutral].cancel-editing-button) button{border-top-width:1px;border-bottom-width:1px;color:var(--calcite-ui-text-3);border-top-color:var(--calcite-ui-border-input);border-bottom-color:var(--calcite-ui-border-input);border-bottom-style:solid;border-top-style:solid}:host([appearance=transparent][color=neutral].cancel-editing-button) button:not(.content--slotted){--calcite-button-padding-y:0}:host([appearance=transparent][color=neutral].cancel-editing-button) button:hover{color:var(--calcite-ui-text-1)}:host([appearance=transparent][color=neutral].enable-editing-button) button{background-color:transparent}:host(.confirm-changes-button) button:focus,:host(.cancel-editing-button) button:focus,:host(.enable-editing-button) button:focus{outline-offset:-2px}:host([appearance=transparent][color=inverse]) button,:host([appearance=transparent][color=inverse]) a,:host([appearance=transparent][color=inverse]) calcite-loader{color:var(--calcite-ui-text-inverse)}:host([scale=s]) button.content--slotted,:host([scale=s]) a.content--slotted{font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s][appearance=transparent]) button.content--slotted,:host([scale=s][appearance=transparent]) a.content--slotted{--calcite-button-padding-x:0.5rem;--calcite-button-padding-y:0.25rem}:host([scale=m]) button.content--slotted,:host([scale=m]) a.content--slotted{--calcite-button-padding-x:11px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]:not([appearance=transparent])) button.content--slotted,:host([scale=m]:not([appearance=transparent])) a.content--slotted{--calcite-button-padding-y:7px}:host([scale=m][appearance=transparent]) button.content--slotted,:host([scale=m][appearance=transparent]) a.content--slotted{--calcite-button-padding-x:0.75rem;--calcite-button-padding-y:0.5rem}:host([scale=l]) button.content--slotted,:host([scale=l]) a.content--slotted{--calcite-button-padding-x:15px;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]:not([appearance=transparent])) button.content--slotted,:host([scale=l]:not([appearance=transparent])) a.content--slotted{--calcite-button-padding-y:11px}:host([scale=l][appearance=transparent]) button.content--slotted,:host([scale=l][appearance=transparent]) a.content--slotted{--calcite-button-padding-x:1rem;--calcite-button-padding-y:0.75rem}:host([scale=s]) button:not(.content--slotted),:host([scale=s]) a:not(.content--slotted){--calcite-button-padding-x:0.125rem;--calcite-button-padding-y:3px;width:1.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-height:1.5rem}:host([scale=s][appearance=transparent]) button:not(.content--slotted),:host([scale=s][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-y:0.25rem}:host([scale=m]) button:not(.content--slotted),:host([scale=m]) a:not(.content--slotted){--calcite-button-padding-x:0.125rem;--calcite-button-padding-y:7px;width:2rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-height:2rem}:host([scale=m][appearance=transparent]) button:not(.content--slotted),:host([scale=m][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-y:0.5rem}:host([scale=l]) button:not(.content--slotted),:host([scale=l]) a:not(.content--slotted){--calcite-button-padding-x:0.125rem;--calcite-button-padding-y:9px;width:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-height:2.75rem}:host([scale=l][appearance=transparent]) button:not(.content--slotted),:host([scale=l][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-y:0.625rem}:host([scale=s][icon-start][icon-end]) button:not(.content--slotted),:host([scale=s][icon-start][icon-end]) a:not(.content--slotted){--calcite-button-padding-x:23px;height:1.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=s][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=s][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-x:1.5rem}:host([scale=m][icon-start][icon-end]) button:not(.content--slotted),:host([scale=m][icon-start][icon-end]) a:not(.content--slotted){--calcite-button-padding-x:2rem;height:2rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=m][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=m][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-x:33px}:host([scale=l][icon-start][icon-end]) button:not(.content--slotted),:host([scale=l][icon-start][icon-end]) a:not(.content--slotted){--calcite-button-padding-x:43px;height:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l][icon-start][icon-end]) button:not(.content--slotted) .icon--start+.icon--end,:host([scale=l][icon-start][icon-end]) a:not(.content--slotted) .icon--start+.icon--end{-webkit-margin-start:1rem;margin-inline-start:1rem}:host([scale=l][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=l][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-x:2.75rem}",JK=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.alignment="center",this.appearance="solid",this.color="blue",this.disabled=!1,this.intlLoading=qK.loading,this.loading=!1,this.round=!1,this.scale="m",this.splitChild=!1,this.width="auto",this.mutationObserver=Vt("mutation",()=>this.updateHasContent()),this.hasContent=!1,this.hasLoader=!1,this.handleClick=()=>{const{formEl:e,type:t}=this;!this.href&&t!=="button"&&(t==="submit"?e==null||e.requestSubmit():t==="reset"&&(e==null||e.reset()))}}loadingChanged(e,t){!!e&&!t&&(this.hasLoader=!0),!e&&!!t&&window.setTimeout(()=>{this.hasLoader=!1},300)}connectedCallback(){this.hasLoader=this.loading,this.setupTextContentObserver(),tr(this),this.formEl=fy(this.el,this.form?`#${this.form}`:"form")}disconnectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect(),Ar(this),this.formEl=null}componentWillLoad(){qc.isBrowser&&(this.updateHasContent(),!this.href&&!this.type&&(this.type="submit"))}componentDidRender(){it(this)}render(){const e=this.href?"a":"button",t=e,i=this.hasLoader?y("div",{class:ba.buttonLoader},y("calcite-loader",{active:!0,class:this.loading?ba.loadingIn:ba.loadingOut,inline:!0,label:this.intlLoading,scale:"m"})):null,n=y("calcite-icon",{class:{[ba.icon]:!0,[ba.iconStart]:!0},flipRtl:this.iconFlipRtl==="start"||this.iconFlipRtl==="both",icon:this.iconStart,scale:"s"}),r=y("calcite-icon",{class:{[ba.icon]:!0,[ba.iconEnd]:!0},flipRtl:this.iconFlipRtl==="end"||this.iconFlipRtl==="both",icon:this.iconEnd,scale:"s"}),a=y("span",{class:ba.content},y("slot",null));return y(t,{"aria-label":Zo(this),class:{[ba.contentSlotted]:this.hasContent,[ba.iconStartEmpty]:!this.iconStart,[ba.iconEndEmpty]:!this.iconEnd},disabled:this.disabled||this.loading,href:e==="a"&&this.href,name:e==="button"&&this.name,onClick:this.handleClick,ref:o=>this.childEl=o,rel:e==="a"&&this.rel,tabIndex:this.disabled||this.loading?-1:null,target:e==="a"&&this.target,type:e==="button"&&this.type},i,this.iconStart?n:null,this.hasContent?a:null,this.iconEnd?r:null)}async setFocus(){this.childEl.focus()}updateHasContent(){var e,t;const i=this.el.textContent.trim().length>0||this.el.childNodes.length>0;this.hasContent=this.el.childNodes.length===1&&((e=this.el.childNodes[0])===null||e===void 0?void 0:e.nodeName)==="#text"?((t=this.el.textContent)===null||t===void 0?void 0:t.trim().length)>0:i}setupTextContentObserver(){var e;(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0,subtree:!0})}onLabelClick(){this.handleClick(),this.setFocus()}get el(){return this}static get watchers(){return{loading:["loadingChanged"]}}static get style(){return WK}},df={container:"container",header:"header",footer:"footer",title:"title",subtitle:"subtitle",thumbnailWrapper:"thumbnail-wrapper",checkboxWrapper:"checkbox-wrapper"},yo={thumbnail:"thumbnail",title:"title",subtitle:"subtitle",footerLeading:"footer-leading",footerTrailing:"footer-trailing"},x_={select:"Select",deselect:"Deselect",loading:"Loading"},KK="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block;max-width:100%}:host .calcite-card-container{position:relative;display:-ms-flexbox;display:flex;height:100%;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-2);background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-3);--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);border-radius:var(--calcite-border-radius-base)}:host .calcite-card-container:hover{--tw-shadow:0 4px 16px 0 rgba(0, 0, 0, 0.08), 0 2px 8px 0 rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 4px 16px 0 var(--tw-shadow-color), 0 2px 8px 0 var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);z-index:1}:host .calcite-card-container:active{--tw-shadow:0 1px 6px -1px rgba(0, 0, 0, 0.16), 0 1px 2px -1px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 1px 6px -1px var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);-webkit-transition-duration:75ms;transition-duration:75ms;z-index:1}.container{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-direction:column;flex-direction:column}:host([loading]) .calcite-card-container *:not(calcite-loader):not(.calcite-card-loader-container){pointer-events:none;opacity:0}:host([loading]) .calcite-card-loader-container{position:absolute;top:0px;right:0px;bottom:0px;left:0px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.header,.footer{display:-ms-flexbox;display:flex;padding-left:0.75rem;padding-right:0.75rem;padding-top:0.75rem;padding-bottom:0.25rem}.header{-ms-flex-direction:column;flex-direction:column}.footer{margin-top:auto;-ms-flex-direction:row;flex-direction:row;-ms-flex-line-pack:justify;align-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding-left:0.75rem;padding-right:0.75rem;padding-top:0.25rem;padding-bottom:0.75rem}.card-content{padding:0.75rem;font-size:var(--calcite-font-size--2);line-height:1.375;color:var(--calcite-ui-text-3)}:host([selectable]) .calcite-card-container:active{--tw-shadow:0 1px 6px -1px rgba(0, 0, 0, 0.16), 0 1px 2px -1px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 1px 6px -1px var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([selected]) .calcite-card-container{border-color:var(--calcite-ui-brand)}slot[name=title]::slotted(*),*::slotted([slot=title]){margin:0px;font-size:var(--calcite-font-size--1);line-height:1.375;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}slot[name=subtitle]::slotted(*),*::slotted([slot=subtitle]){margin:0px;margin-top:0.5rem;font-size:var(--calcite-font-size--2);line-height:1.375;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-2)}slot[name=thumbnail]::slotted(img),img::slotted([slot=thumbnail]){min-width:100%;max-width:100%}slot[name=footer-leading]::slotted(*),*::slotted([slot=footer-leading]){-ms-flex-item-align:center;align-self:center;font-size:var(--calcite-font-size--2);line-height:1.375;-webkit-margin-end:auto;margin-inline-end:auto}slot[name=footer-trailing]::slotted(*),*::slotted([slot=footer-trailing]){-ms-flex-item-align:center;align-self:center;font-size:var(--calcite-font-size--2);line-height:1.375}.thumbnail-wrapper{font-size:var(--calcite-font-size-0);line-height:1.375}.checkbox-wrapper{position:absolute;margin:0px;padding:0px;top:0.5rem;inset-inline-end:0.5rem}",YK=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteCardSelect=W(this,"calciteCardSelect",7),this.loading=!1,this.selected=!1,this.selectable=!1,this.intlLoading=x_.loading,this.intlSelect=x_.select,this.intlDeselect=x_.deselect,this.cardSelectClick=()=>{this.selectCard()},this.cardSelectKeyDown=e=>{switch(e.key){case" ":case"Enter":this.selectCard(),e.preventDefault();break}}}connectedCallback(){gi(this)}disonnectedCallback(){yi(this)}render(){return y("div",{class:"calcite-card-container"},this.loading?y("div",{class:"calcite-card-loader-container"},y("calcite-loader",{active:!0,label:this.intlLoading})):null,y("section",{"aria-busy":this.loading.toString(),class:{[df.container]:!0}},this.selectable?this.renderCheckbox():null,this.renderThumbnail(),this.renderHeader(),y("div",{class:"card-content"},y("slot",null)),this.renderFooter()))}selectCard(){this.selected=!this.selected,this.calciteCardSelect.emit()}renderThumbnail(){return $e(this.el,yo.thumbnail)?y("div",{class:df.thumbnailWrapper,key:"thumbnail-wrapper"},y("slot",{name:yo.thumbnail})):null}renderCheckbox(){const e=this.selected?this.intlDeselect:this.intlSelect;return y("calcite-label",{class:df.checkboxWrapper,onClick:this.cardSelectClick,onKeyDown:this.cardSelectKeyDown},y("calcite-checkbox",{checked:this.selected,label:e}))}renderHeader(){const{el:e}=this,t=$e(e,yo.title),i=$e(e,yo.subtitle);return t||i?y("header",{class:df.header},y("slot",{name:yo.title}),y("slot",{name:yo.subtitle})):null}renderFooter(){const{el:e}=this,t=$e(e,yo.footerLeading),i=$e(e,yo.footerTrailing);return t||i?y("footer",{class:df.footer},y("slot",{name:yo.footerLeading}),y("slot",{name:yo.footerTrailing})):null}get el(){return this}static get style(){return KK}},z3="hidden-form-input";function $C(e){return"checked"in e}const CM=new WeakMap,CC=new WeakSet;function ZK(e,t){const i="calciteInternalFormComponentRegister";let n=!1;return e.addEventListener(i,r=>{n=r.composedPath().some(a=>CC.has(a)),r.stopPropagation()},{once:!0}),t.dispatchEvent(new CustomEvent(i,{bubbles:!0,composed:!0})),n}function so(e){const{el:t,value:i}=e,n=fy(t,"form");if(!n||ZK(n,t))return;e.formEl=n,e.defaultValue=i,$C(e)&&(e.defaultChecked=e.checked);const r=(e.onFormReset||XK).bind(e);n.addEventListener("reset",r),CC.add(t)}function XK(){if($C(this)){this.checked=this.defaultChecked;return}this.value=this.defaultValue}function lo(e){const{el:t,formEl:i}=e;if(!i)return;const n=CM.get(t);i.removeEventListener("reset",n),CM.delete(t),e.formEl=null,CC.delete(t)}function IC(e,t){e.defaultValue=t}function QK(e){const{el:t,formEl:i,name:n,value:r}=e,{ownerDocument:a}=t,o=t.querySelectorAll(`input[slot="${z3}"]`);if(!i||!n){o.forEach(m=>m.remove());return}const s=Array.isArray(r)?r:[r],l=[],u=new Set;o.forEach(m=>{const f=s.find(g=>g==m.value);f!=null?(u.add(f),IM(e,m,f)):l.push(m)});let h;s.forEach(m=>{if(u.has(m))return;let f=l.pop();f||(f=a.createElement("input"),f.slot=z3),h||(h=a.createDocumentFragment()),h.append(f),IM(e,f,m)}),h&&t.append(h),l.forEach(m=>m.remove())}function IM(e,t,i){var n;const{defaultValue:r,disabled:a,name:o,required:s}=e;t.defaultValue=r,t.disabled=a,t.name=o,t.required=s,t.tabIndex=-1,$C(e)?(t.defaultChecked=e.defaultChecked,t.value=e.checked?i||"on":"",!a&&!e.checked&&(t.disabled=!0)):t.value=i||"",(n=e.syncHiddenFormInput)===null||n===void 0||n.call(e,t)}const co=({component:e})=>(QK(e),y("slot",{name:z3})),eY="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host([scale=s]){--calcite-checkbox-size:0.75rem}:host([scale=m]){--calcite-checkbox-size:var(--calcite-font-size--1)}:host([scale=l]){--calcite-checkbox-size:1rem}:host{position:relative;display:-ms-inline-flexbox;display:inline-flex;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}:host .check-svg{pointer-events:none;-webkit-box-sizing:border-box;box-sizing:border-box;display:block;background-color:var(--calcite-ui-foreground-1);fill:currentColor;stroke:currentColor;stroke-width:1;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);overflow:hidden;width:var(--calcite-checkbox-size);height:var(--calcite-checkbox-size);-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-border-input);box-shadow:inset 0 0 0 1px var(--calcite-ui-border-input);color:var(--calcite-ui-background)}:host([checked]) .check-svg,:host([indeterminate]) .check-svg{background-color:var(--calcite-ui-brand);-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-brand);box-shadow:inset 0 0 0 1px var(--calcite-ui-brand)}:host([hovered]) .toggle .check-svg,:host .toggle:hover .check-svg{-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-brand);box-shadow:inset 0 0 0 2px var(--calcite-ui-brand)}:host .toggle:focus .check-svg,:host .toggle:active .check-svg{-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-brand), 0 0 0 2px var(--calcite-ui-foreground-1), 0 0 0 4px var(--calcite-ui-brand);box-shadow:inset 0 0 0 1px var(--calcite-ui-brand), 0 0 0 2px var(--calcite-ui-foreground-1), 0 0 0 4px var(--calcite-ui-brand);-webkit-transition:var(--calcite-animation-timing);transition:var(--calcite-animation-timing)}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}::slotted(input[slot=hidden-form-input]){bottom:0 !important;left:0 !important;margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;right:0 !important;top:0 !important;-webkit-transform:none !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",tY=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteInternalCheckboxBlur=W(this,"calciteInternalCheckboxBlur",7),this.calciteCheckboxChange=W(this,"calciteCheckboxChange",7),this.calciteInternalCheckboxFocus=W(this,"calciteInternalCheckboxFocus",7),this.checked=!1,this.disabled=!1,this.hovered=!1,this.indeterminate=!1,this.required=!1,this.scale="m",this.checkedPath="M5.5 12L2 8.689l.637-.636L5.5 10.727l8.022-7.87.637.637z",this.indeterminatePath="M13 8v1H3V8z",this.getPath=()=>this.indeterminate?this.indeterminatePath:this.checked?this.checkedPath:"",this.toggle=()=>{this.disabled||(this.checked=!this.checked,this.setFocus(),this.indeterminate=!1,this.calciteCheckboxChange.emit())},this.keyDownHandler=e=>{(e.key===" "||e.key==="Enter")&&(this.toggle(),e.preventDefault())},this.clickHandler=()=>{this.toggle()},this.onToggleBlur=()=>{this.calciteInternalCheckboxBlur.emit(!1)},this.onToggleFocus=()=>{this.calciteInternalCheckboxFocus.emit(!0)},this.onLabelClick=()=>{this.toggle()}}async setFocus(){var e;(e=this.toggleEl)===null||e===void 0||e.focus()}connectedCallback(){this.guid=this.el.id||`calcite-checkbox-${li()}`,tr(this),so(this)}disconnectedCallback(){Ar(this),lo(this)}componentDidRender(){it(this)}render(){return y(ze,{onClick:this.clickHandler,onKeyDown:this.keyDownHandler},y("div",{"aria-checked":this.checked.toString(),"aria-label":Zo(this),class:"toggle",onBlur:this.onToggleBlur,onFocus:this.onToggleFocus,ref:e=>this.toggleEl=e,role:"checkbox",tabIndex:this.disabled?void 0:0},y("svg",{class:"check-svg",viewBox:"0 0 16 16"},y("path",{d:this.getPath()})),y("slot",null)),y(co,{component:this}))}get el(){return this}static get style(){return eY}},vb={title:"title",close:"close",chipImageContainer:"chip-image-container",calciteChipIcon:"calcite-chip--icon"},iY={close:"Close"},EM={image:"image"},nY={close:"x"},rY="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host([scale=s]){height:1.5rem;font-size:var(--calcite-font-size--2);--calcite-chip-spacing-unit-l:0.5rem;--calcite-chip-spacing-unit-s:0.25rem}:host([scale=s]) .chip-image-container{height:1.25rem;width:1.25rem}:host([scale=m]){height:2rem;font-size:var(--calcite-font-size--1);--calcite-chip-spacing-unit-l:0.75rem;--calcite-chip-spacing-unit-s:6px}:host([scale=m]) .chip-image-container{height:1.5rem;width:1.5rem;-webkit-padding-start:0.25rem;padding-inline-start:0.25rem}:host([scale=l]){height:2.75rem;font-size:var(--calcite-font-size-0);--calcite-chip-spacing-unit-l:1rem;--calcite-chip-spacing-unit-s:0.5rem}:host([scale=l]) .chip-image-container{height:2rem;width:2rem;padding-left:0.25rem}:host{-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-inline-flexbox;display:inline-flex;cursor:default;-ms-flex-align:center;align-items:center;border-radius:9999px;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-1);font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}.container{display:-ms-inline-flexbox;display:inline-flex;height:100%;max-width:100%;-ms-flex-align:center;align-items:center}.title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host span{padding:0 var(--calcite-chip-spacing-unit-l)}:host([dismissible]) span{padding-inline:var(--calcite-chip-spacing-unit-l) var(--calcite-chip-spacing-unit-s)}:host([icon]:not([dismissible])) span{padding:0 var(--calcite-chip-spacing-unit-l)}:host button{margin:0px;display:-ms-inline-flexbox;display:inline-flex;max-height:100%;min-height:100%;cursor:pointer;-ms-flex-align:center;align-items:center;-ms-flex-item-align:stretch;align-self:stretch;border-style:none;background-color:transparent;color:var(--calcite-ui-text-1);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;-webkit-appearance:none;border-start-start-radius:0;border-start-end-radius:50px;border-end-end-radius:50px;border-end-start-radius:0;padding:0 var(--calcite-chip-spacing-unit-s);color:inherit;--calcite-chip-transparent-hover:var(--calcite-button-transparent-hover);--calcite-chip-transparent-press:var(--calcite-button-transparent-press)}:host button:hover{background-color:var(--calcite-chip-transparent-hover)}:host button:focus{background-color:var(--calcite-chip-transparent-hover);outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}:host button:active{background-color:var(--calcite-chip-transparent-press)}.chip-image-container{display:-ms-inline-flexbox;display:inline-flex;border-radius:50%;overflow:hidden}:host slot[name=image]::slotted(*){display:-ms-flexbox;display:flex;height:100%;width:100%;border-radius:50%;overflow:hidden}.calcite-chip--icon{position:relative;margin-top:0px;margin-bottom:0px;display:-ms-inline-flexbox;display:inline-flex;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-margin-end:0;margin-inline-end:0;-webkit-margin-start:var(--calcite-chip-spacing-unit-l);margin-inline-start:var(--calcite-chip-spacing-unit-l);border-start-start-radius:0;border-start-end-radius:50px;border-end-end-radius:50px;border-end-start-radius:0}:host([color=blue][appearance=solid]){border-color:transparent;background-color:var(--calcite-ui-info);color:var(--calcite-ui-text-inverse)}:host([color=red][appearance=solid]){border-color:transparent;background-color:var(--calcite-ui-danger);color:var(--calcite-ui-text-inverse)}:host([color=yellow][appearance=solid]){border-color:transparent;background-color:var(--calcite-ui-warning);color:#151515}:host([color=green][appearance=solid]){border-color:transparent;background-color:var(--calcite-ui-success);color:#151515}:host([color=grey][appearance=solid]){border-color:transparent;background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}:host([color=grey][appearance=solid]) button,:host([color=grey][appearance=solid]) calcite-icon{color:var(--calcite-ui-text-3)}:host([color=blue][appearance=clear]){border-color:var(--calcite-ui-info)}:host([color=blue][appearance=clear]) .calcite-chip--icon{color:var(--calcite-ui-info)}:host([color=red][appearance=clear]){border-color:var(--calcite-ui-danger)}:host([color=red][appearance=clear]) .calcite-chip--icon{color:var(--calcite-ui-danger)}:host([color=yellow][appearance=clear]){border-color:var(--calcite-ui-warning)}:host([color=yellow][appearance=clear]) .calcite-chip--icon{color:var(--calcite-ui-warning)}:host([color=green][appearance=clear]){border-color:var(--calcite-ui-success)}:host([color=green][appearance=clear]) .calcite-chip--icon{color:var(--calcite-ui-success)}:host([color=grey][appearance=clear]){border-color:var(--calcite-ui-border-1)}:host([color=grey][appearance=clear]) .calcite-chip--icon{color:var(--calcite-ui-text-3)}",aY=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteChipDismiss=W(this,"calciteChipDismiss",7),this.appearance="solid",this.color="grey",this.dismissible=!1,this.dismissLabel=iY.close,this.iconFlipRtl=!1,this.scale="m",this.closeClickHandler=e=>{e.preventDefault(),this.calciteChipDismiss.emit(this.el)},this.guid=li()}connectedCallback(){gi(this)}disconnectedCallback(){yi(this)}async setFocus(){var e;(e=this.closeButton)===null||e===void 0||e.focus()}renderChipImage(){const{el:e}=this;return $e(e,EM.image)?y("div",{class:vb.chipImageContainer,key:"image"},y("slot",{name:EM.image})):null}render(){const e=y("calcite-icon",{class:vb.calciteChipIcon,flipRtl:this.iconFlipRtl,icon:this.icon,scale:"s"}),t=y("button",{"aria-describedby":this.guid,"aria-label":this.dismissLabel,class:vb.close,onClick:this.closeClickHandler,ref:i=>this.closeButton=i},y("calcite-icon",{icon:nY.close,scale:"s"}));return y("div",{class:"container"},this.renderChipImage(),this.icon?e:null,y("span",{class:vb.title,id:this.guid},y("slot",null)),this.dismissible?t:null)}get el(){return this}static get style(){return rY}};function S9(e,t,i){return i={path:t,exports:{},require:function(n,r){return oY()}},e(i,i.exports),i.exports}function oY(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var hf={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},sY=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")},pf=S9(function(e){var t=Array.prototype.concat,i=Array.prototype.slice,n=e.exports=function(a){for(var o=[],s=0,l=a.length;s<l;s++){var u=a[s];sY(u)?o=t.call(o,i.call(u)):o.push(u)}return o};n.wrap=function(r){return function(){return r(n(arguments))}}}),Oh=S9(function(e){var t=Object.hasOwnProperty,i={};for(var n in hf)t.call(hf,n)&&(i[hf[n]]=n);var r=e.exports={to:{},get:{}};r.get=function(s){var l=s.substring(0,3).toLowerCase(),u,h;switch(l){case"hsl":u=r.get.hsl(s),h="hsl";break;case"hwb":u=r.get.hwb(s),h="hwb";break;default:u=r.get.rgb(s),h="rgb";break}return u?{model:h,value:u}:null},r.get.rgb=function(s){if(!s)return null;var l=/^#([a-f0-9]{3,4})$/i,u=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,h=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,m=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,f=/^(\w+)$/,g=[0,0,0,1],b,v,w;if(b=s.match(u)){for(w=b[2],b=b[1],v=0;v<3;v++){var x=v*2;g[v]=parseInt(b.slice(x,x+2),16)}w&&(g[3]=parseInt(w,16)/255)}else if(b=s.match(l)){for(b=b[1],w=b[3],v=0;v<3;v++)g[v]=parseInt(b[v]+b[v],16);w&&(g[3]=parseInt(w+w,16)/255)}else if(b=s.match(h)){for(v=0;v<3;v++)g[v]=parseInt(b[v+1],0);b[4]&&(b[5]?g[3]=parseFloat(b[4])*.01:g[3]=parseFloat(b[4]))}else if(b=s.match(m)){for(v=0;v<3;v++)g[v]=Math.round(parseFloat(b[v+1])*2.55);b[4]&&(b[5]?g[3]=parseFloat(b[4])*.01:g[3]=parseFloat(b[4]))}else return(b=s.match(f))?b[1]==="transparent"?[0,0,0,0]:t.call(hf,b[1])?(g=hf[b[1]],g[3]=1,g):null:null;for(v=0;v<3;v++)g[v]=a(g[v],0,255);return g[3]=a(g[3],0,1),g},r.get.hsl=function(s){if(!s)return null;var l=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,u=s.match(l);if(u){var h=parseFloat(u[4]),m=(parseFloat(u[1])%360+360)%360,f=a(parseFloat(u[2]),0,100),g=a(parseFloat(u[3]),0,100),b=a(isNaN(h)?1:h,0,1);return[m,f,g,b]}return null},r.get.hwb=function(s){if(!s)return null;var l=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,u=s.match(l);if(u){var h=parseFloat(u[4]),m=(parseFloat(u[1])%360+360)%360,f=a(parseFloat(u[2]),0,100),g=a(parseFloat(u[3]),0,100),b=a(isNaN(h)?1:h,0,1);return[m,f,g,b]}return null},r.to.hex=function(){var s=pf(arguments);return"#"+o(s[0])+o(s[1])+o(s[2])+(s[3]<1?o(Math.round(s[3]*255)):"")},r.to.rgb=function(){var s=pf(arguments);return s.length<4||s[3]===1?"rgb("+Math.round(s[0])+", "+Math.round(s[1])+", "+Math.round(s[2])+")":"rgba("+Math.round(s[0])+", "+Math.round(s[1])+", "+Math.round(s[2])+", "+s[3]+")"},r.to.rgb.percent=function(){var s=pf(arguments),l=Math.round(s[0]/255*100),u=Math.round(s[1]/255*100),h=Math.round(s[2]/255*100);return s.length<4||s[3]===1?"rgb("+l+"%, "+u+"%, "+h+"%)":"rgba("+l+"%, "+u+"%, "+h+"%, "+s[3]+")"},r.to.hsl=function(){var s=pf(arguments);return s.length<4||s[3]===1?"hsl("+s[0]+", "+s[1]+"%, "+s[2]+"%)":"hsla("+s[0]+", "+s[1]+"%, "+s[2]+"%, "+s[3]+")"},r.to.hwb=function(){var s=pf(arguments),l="";return s.length>=4&&s[3]!==1&&(l=", "+s[3]),"hwb("+s[0]+", "+s[1]+"%, "+s[2]+"%"+l+")"},r.to.keyword=function(s){return i[s.slice(0,3)]};function a(s,l,u){return Math.min(Math.max(l,s),u)}function o(s){var l=Math.round(s).toString(16).toUpperCase();return l.length<2?"0"+l:l}}),Tg={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const D9={};for(const e of Object.keys(Tg))D9[Tg[e]]=e;const we={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var Ad=we;for(const e of Object.keys(we)){if(!("channels"in we[e]))throw new Error("missing channels property: "+e);if(!("labels"in we[e]))throw new Error("missing channel labels property: "+e);if(we[e].labels.length!==we[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:i}=we[e];delete we[e].channels,delete we[e].labels,Object.defineProperty(we[e],"channels",{value:t}),Object.defineProperty(we[e],"labels",{value:i})}we.rgb.hsl=function(e){const t=e[0]/255,i=e[1]/255,n=e[2]/255,r=Math.min(t,i,n),a=Math.max(t,i,n),o=a-r;let s,l;a===r?s=0:t===a?s=(i-n)/o:i===a?s=2+(n-t)/o:n===a&&(s=4+(t-i)/o),s=Math.min(s*60,360),s<0&&(s+=360);const u=(r+a)/2;return a===r?l=0:u<=.5?l=o/(a+r):l=o/(2-a-r),[s,l*100,u*100]};we.rgb.hsv=function(e){let t,i,n,r,a;const o=e[0]/255,s=e[1]/255,l=e[2]/255,u=Math.max(o,s,l),h=u-Math.min(o,s,l),m=function(f){return(u-f)/6/h+1/2};return h===0?(r=0,a=0):(a=h/u,t=m(o),i=m(s),n=m(l),o===u?r=n-i:s===u?r=1/3+t-n:l===u&&(r=2/3+i-t),r<0?r+=1:r>1&&(r-=1)),[r*360,a*100,u*100]};we.rgb.hwb=function(e){const t=e[0],i=e[1];let n=e[2];const r=we.rgb.hsl(e)[0],a=1/255*Math.min(t,Math.min(i,n));return n=1-1/255*Math.max(t,Math.max(i,n)),[r,a*100,n*100]};we.rgb.cmyk=function(e){const t=e[0]/255,i=e[1]/255,n=e[2]/255,r=Math.min(1-t,1-i,1-n),a=(1-t-r)/(1-r)||0,o=(1-i-r)/(1-r)||0,s=(1-n-r)/(1-r)||0;return[a*100,o*100,s*100,r*100]};function lY(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}we.rgb.keyword=function(e){const t=D9[e];if(t)return t;let i=1/0,n;for(const r of Object.keys(Tg)){const a=Tg[r],o=lY(e,a);o<i&&(i=o,n=r)}return n};we.keyword.rgb=function(e){return Tg[e]};we.rgb.xyz=function(e){let t=e[0]/255,i=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;const r=t*.4124+i*.3576+n*.1805,a=t*.2126+i*.7152+n*.0722,o=t*.0193+i*.1192+n*.9505;return[r*100,a*100,o*100]};we.rgb.lab=function(e){const t=we.rgb.xyz(e);let i=t[0],n=t[1],r=t[2];i/=95.047,n/=100,r/=108.883,i=i>.008856?i**(1/3):7.787*i+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;const a=116*n-16,o=500*(i-n),s=200*(n-r);return[a,o,s]};we.hsl.rgb=function(e){const t=e[0]/360,i=e[1]/100,n=e[2]/100;let r,a,o;if(i===0)return o=n*255,[o,o,o];n<.5?r=n*(1+i):r=n+i-n*i;const s=2*n-r,l=[0,0,0];for(let u=0;u<3;u++)a=t+1/3*-(u-1),a<0&&a++,a>1&&a--,6*a<1?o=s+(r-s)*6*a:2*a<1?o=r:3*a<2?o=s+(r-s)*(2/3-a)*6:o=s,l[u]=o*255;return l};we.hsl.hsv=function(e){const t=e[0];let i=e[1]/100,n=e[2]/100,r=i;const a=Math.max(n,.01);n*=2,i*=n<=1?n:2-n,r*=a<=1?a:2-a;const o=(n+i)/2,s=n===0?2*r/(a+r):2*i/(n+i);return[t,s*100,o*100]};we.hsv.rgb=function(e){const t=e[0]/60,i=e[1]/100;let n=e[2]/100;const r=Math.floor(t)%6,a=t-Math.floor(t),o=255*n*(1-i),s=255*n*(1-i*a),l=255*n*(1-i*(1-a));switch(n*=255,r){case 0:return[n,l,o];case 1:return[s,n,o];case 2:return[o,n,l];case 3:return[o,s,n];case 4:return[l,o,n];case 5:return[n,o,s]}};we.hsv.hsl=function(e){const t=e[0],i=e[1]/100,n=e[2]/100,r=Math.max(n,.01);let a,o;o=(2-i)*n;const s=(2-i)*r;return a=i*r,a/=s<=1?s:2-s,a=a||0,o/=2,[t,a*100,o*100]};we.hwb.rgb=function(e){const t=e[0]/360;let i=e[1]/100,n=e[2]/100;const r=i+n;let a;r>1&&(i/=r,n/=r);const o=Math.floor(6*t),s=1-n;a=6*t-o,(o&1)!==0&&(a=1-a);const l=i+a*(s-i);let u,h,m;switch(o){default:case 6:case 0:u=s,h=l,m=i;break;case 1:u=l,h=s,m=i;break;case 2:u=i,h=s,m=l;break;case 3:u=i,h=l,m=s;break;case 4:u=l,h=i,m=s;break;case 5:u=s,h=i,m=l;break}return[u*255,h*255,m*255]};we.cmyk.rgb=function(e){const t=e[0]/100,i=e[1]/100,n=e[2]/100,r=e[3]/100,a=1-Math.min(1,t*(1-r)+r),o=1-Math.min(1,i*(1-r)+r),s=1-Math.min(1,n*(1-r)+r);return[a*255,o*255,s*255]};we.xyz.rgb=function(e){const t=e[0]/100,i=e[1]/100,n=e[2]/100;let r,a,o;return r=t*3.2406+i*-1.5372+n*-.4986,a=t*-.9689+i*1.8758+n*.0415,o=t*.0557+i*-.204+n*1.057,r=r>.0031308?1.055*r**(1/2.4)-.055:r*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,r=Math.min(Math.max(0,r),1),a=Math.min(Math.max(0,a),1),o=Math.min(Math.max(0,o),1),[r*255,a*255,o*255]};we.xyz.lab=function(e){let t=e[0],i=e[1],n=e[2];t/=95.047,i/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;const r=116*i-16,a=500*(t-i),o=200*(i-n);return[r,a,o]};we.lab.xyz=function(e){const t=e[0],i=e[1],n=e[2];let r,a,o;a=(t+16)/116,r=i/500+a,o=a-n/200;const s=a**3,l=r**3,u=o**3;return a=s>.008856?s:(a-16/116)/7.787,r=l>.008856?l:(r-16/116)/7.787,o=u>.008856?u:(o-16/116)/7.787,r*=95.047,a*=100,o*=108.883,[r,a,o]};we.lab.lch=function(e){const t=e[0],i=e[1],n=e[2];let r;r=Math.atan2(n,i)*360/2/Math.PI,r<0&&(r+=360);const o=Math.sqrt(i*i+n*n);return[t,o,r]};we.lch.lab=function(e){const t=e[0],i=e[1],r=e[2]/360*2*Math.PI,a=i*Math.cos(r),o=i*Math.sin(r);return[t,a,o]};we.rgb.ansi16=function(e,t=null){const[i,n,r]=e;let a=t===null?we.rgb.hsv(e)[2]:t;if(a=Math.round(a/50),a===0)return 30;let o=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(i/255));return a===2&&(o+=60),o};we.hsv.ansi16=function(e){return we.rgb.ansi16(we.hsv.rgb(e),e[2])};we.rgb.ansi256=function(e){const t=e[0],i=e[1],n=e[2];return t===i&&i===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(i/255*5)+Math.round(n/255*5)};we.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const i=(~~(e>50)+1)*.5,n=(t&1)*i*255,r=(t>>1&1)*i*255,a=(t>>2&1)*i*255;return[n,r,a]};we.ansi256.rgb=function(e){if(e>=232){const a=(e-232)*10+8;return[a,a,a]}e-=16;let t;const i=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,r=t%6/5*255;return[i,n,r]};we.rgb.hex=function(e){const i=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(i.length)+i};we.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let i=t[0];t[0].length===3&&(i=i.split("").map(s=>s+s).join(""));const n=parseInt(i,16),r=n>>16&255,a=n>>8&255,o=n&255;return[r,a,o]};we.rgb.hcg=function(e){const t=e[0]/255,i=e[1]/255,n=e[2]/255,r=Math.max(Math.max(t,i),n),a=Math.min(Math.min(t,i),n),o=r-a;let s,l;return o<1?s=a/(1-o):s=0,o<=0?l=0:r===t?l=(i-n)/o%6:r===i?l=2+(n-t)/o:l=4+(t-i)/o,l/=6,l%=1,[l*360,o*100,s*100]};we.hsl.hcg=function(e){const t=e[1]/100,i=e[2]/100,n=i<.5?2*t*i:2*t*(1-i);let r=0;return n<1&&(r=(i-.5*n)/(1-n)),[e[0],n*100,r*100]};we.hsv.hcg=function(e){const t=e[1]/100,i=e[2]/100,n=t*i;let r=0;return n<1&&(r=(i-n)/(1-n)),[e[0],n*100,r*100]};we.hcg.rgb=function(e){const t=e[0]/360,i=e[1]/100,n=e[2]/100;if(i===0)return[n*255,n*255,n*255];const r=[0,0,0],a=t%1*6,o=a%1,s=1-o;let l=0;switch(Math.floor(a)){case 0:r[0]=1,r[1]=o,r[2]=0;break;case 1:r[0]=s,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=o;break;case 3:r[0]=0,r[1]=s,r[2]=1;break;case 4:r[0]=o,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=s}return l=(1-i)*n,[(i*r[0]+l)*255,(i*r[1]+l)*255,(i*r[2]+l)*255]};we.hcg.hsv=function(e){const t=e[1]/100,i=e[2]/100,n=t+i*(1-t);let r=0;return n>0&&(r=t/n),[e[0],r*100,n*100]};we.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],r*100,n*100]};we.hcg.hwb=function(e){const t=e[1]/100,i=e[2]/100,n=t+i*(1-t);return[e[0],(n-t)*100,(1-n)*100]};we.hwb.hcg=function(e){const t=e[1]/100,i=e[2]/100,n=1-i,r=n-t;let a=0;return r<1&&(a=(n-r)/(1-r)),[e[0],r*100,a*100]};we.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};we.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};we.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};we.gray.hsl=function(e){return[0,0,e[0]]};we.gray.hsv=we.gray.hsl;we.gray.hwb=function(e){return[0,100,e[0]]};we.gray.cmyk=function(e){return[0,0,0,e[0]]};we.gray.lab=function(e){return[e[0],0,0]};we.gray.hex=function(e){const t=Math.round(e[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n};we.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};function cY(){const e={},t=Object.keys(Ad);for(let i=t.length,n=0;n<i;n++)e[t[n]]={distance:-1,parent:null};return e}function uY(e){const t=cY(),i=[e];for(t[e].distance=0;i.length;){const n=i.pop(),r=Object.keys(Ad[n]);for(let a=r.length,o=0;o<a;o++){const s=r[o],l=t[s];l.distance===-1&&(l.distance=t[n].distance+1,l.parent=n,i.unshift(s))}}return t}function dY(e,t){return function(i){return t(e(i))}}function hY(e,t){const i=[t[e].parent,e];let n=Ad[t[e].parent][e],r=t[e].parent;for(;t[r].parent;)i.unshift(t[r].parent),n=dY(Ad[t[r].parent][r],n),r=t[r].parent;return n.conversion=i,n}var pY=function(e){const t=uY(e),i={},n=Object.keys(t);for(let r=n.length,a=0;a<r;a++){const o=n[a];t[o].parent!==null&&(i[o]=hY(o,t))}return i};const Ph={},mY=Object.keys(Ad);function fY(e){const t=function(...i){const n=i[0];return n==null?n:(n.length>1&&(i=n),e(i))};return"conversion"in e&&(t.conversion=e.conversion),t}function gY(e){const t=function(...i){const n=i[0];if(n==null)return n;n.length>1&&(i=n);const r=e(i);if(typeof r=="object")for(let a=r.length,o=0;o<a;o++)r[o]=Math.round(r[o]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}mY.forEach(e=>{Ph[e]={},Object.defineProperty(Ph[e],"channels",{value:Ad[e].channels}),Object.defineProperty(Ph[e],"labels",{value:Ad[e].labels});const t=pY(e);Object.keys(t).forEach(n=>{const r=t[n];Ph[e][n]=gY(r),Ph[e][n].raw=fY(r)})});var xr=Ph;const EC=[].slice,$9=["keyword","gray","hex"],j3={};for(const e of Object.keys(xr))j3[EC.call(xr[e].labels).sort().join("")]=e;const fw={};function Bi(e,t){if(!(this instanceof Bi))return new Bi(e,t);if(t&&t in $9&&(t=null),t&&!(t in xr))throw new Error("Unknown model: "+t);let i,n;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof Bi)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if(typeof e=="string"){const r=Oh.get(e);if(r===null)throw new Error("Unable to parse color from string: "+e);this.model=r.model,n=xr[this.model].channels,this.color=r.value.slice(0,n),this.valpha=typeof r.value[n]=="number"?r.value[n]:1}else if(e.length>0){this.model=t||"rgb",n=xr[this.model].channels;const r=EC.call(e,0,n);this.color=V3(r,n),this.valpha=typeof e[n]=="number"?e[n]:1}else if(typeof e=="number")this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;const r=Object.keys(e);"alpha"in e&&(r.splice(r.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);const a=r.sort().join("");if(!(a in j3))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=j3[a];const o=xr[this.model].labels,s=[];for(i=0;i<o.length;i++)s.push(e[o[i]]);this.color=V3(s)}if(fw[this.model])for(n=xr[this.model].channels,i=0;i<n;i++){const r=fw[this.model][i];r&&(this.color[i]=r(this.color[i]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Bi.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in Oh.to?this:this.rgb();t=t.round(typeof e=="number"?e:1);const i=t.valpha===1?t.color:t.color.concat(this.valpha);return Oh.to[t.model](i)},percentString(e){const t=this.rgb().round(typeof e=="number"?e:1),i=t.valpha===1?t.color:t.color.concat(this.valpha);return Oh.to.rgb.percent(i)},array(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object(){const e={},t=xr[this.model].channels,i=xr[this.model].labels;for(let n=0;n<t;n++)e[i[n]]=this.color[n];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new Bi(this.color.map(bY(e)).concat(this.valpha),this.model)},alpha(e){return arguments.length>0?new Bi(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:Xt("rgb",0,$i(255)),green:Xt("rgb",1,$i(255)),blue:Xt("rgb",2,$i(255)),hue:Xt(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:Xt("hsl",1,$i(100)),lightness:Xt("hsl",2,$i(100)),saturationv:Xt("hsv",1,$i(100)),value:Xt("hsv",2,$i(100)),chroma:Xt("hcg",1,$i(100)),gray:Xt("hcg",2,$i(100)),white:Xt("hwb",1,$i(100)),wblack:Xt("hwb",2,$i(100)),cyan:Xt("cmyk",0,$i(100)),magenta:Xt("cmyk",1,$i(100)),yellow:Xt("cmyk",2,$i(100)),black:Xt("cmyk",3,$i(100)),x:Xt("xyz",0,$i(100)),y:Xt("xyz",1,$i(100)),z:Xt("xyz",2,$i(100)),l:Xt("lab",0,$i(100)),a:Xt("lab",1),b:Xt("lab",2),keyword(e){return arguments.length>0?new Bi(e):xr[this.model].keyword(this.color)},hex(e){return arguments.length>0?new Bi(e):Oh.to.hex(this.rgb().round().color)},hexa(e){if(arguments.length>0)return new Bi(e);const t=this.rgb().round().color;let i=Math.round(this.valpha*255).toString(16).toUpperCase();return i.length===1&&(i="0"+i),Oh.to.hex(t)+i},rgbNumber(){const e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity(){const e=this.rgb().color,t=[];for(const[i,n]of e.entries()){const r=n/255;t[i]=r<=.03928?r/12.92:((r+.055)/1.055)**2.4}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),i=e.luminosity();return t>i?(t+.05)/(i+.05):(i+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(e[0]*299+e[1]*587+e[2]*114)/1e3<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=e[0]*.3+e[1]*.59+e[2]*.11;return Bi.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let i=t.color[0];return i=(i+e)%360,i=i<0?360+i:i,t.color[0]=i,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const i=e.rgb(),n=this.rgb(),r=t===void 0?.5:t,a=2*r-1,o=i.alpha()-n.alpha(),s=((a*o===-1?a:(a+o)/(1+a*o))+1)/2,l=1-s;return Bi.rgb(s*i.red()+l*n.red(),s*i.green()+l*n.green(),s*i.blue()+l*n.blue(),i.alpha()*r+n.alpha()*(1-r))}};for(const e of Object.keys(xr)){if($9.includes(e))continue;const t=xr[e].channels;Bi.prototype[e]=function(){if(this.model===e)return new Bi(this);if(arguments.length>0)return new Bi(arguments,e);const i=typeof arguments[t]=="number"?t:this.valpha;return new Bi(vY(xr[this.model][e].raw(this.color)).concat(i),e)},Bi[e]=function(i){return typeof i=="number"&&(i=V3(EC.call(arguments),t)),new Bi(i,e)}}function yY(e,t){return Number(e.toFixed(t))}function bY(e){return function(t){return yY(t,e)}}function Xt(e,t,i){e=Array.isArray(e)?e:[e];for(const n of e)(fw[n]||(fw[n]=[]))[t]=i;return e=e[0],function(n){let r;return arguments.length>0?(i&&(n=i(n)),r=this[e](),r.color[t]=n,r):(r=this[e]().color[t],i&&(r=i(r)),r)}}function $i(e){return function(t){return Math.max(0,Math.min(e,t))}}function vY(e){return Array.isArray(e)?e:[e]}function V3(e,t){for(let i=0;i<t;i++)typeof e[i]!="number"&&(e[i]=0);return e}var ta=Bi;const wt={container:"container",controlSection:"control-section",hexOptions:"color-hex-options",section:"section",header:"header",control:"control",splitSection:"section--split",colorModeContainer:"color-mode-container",colorMode:"color-mode",channels:"channels",channel:"channel",savedColors:"saved-colors",savedColorsSection:"saved-colors-section",saveColor:"save-color",deleteColor:"delete-color",savedColorsButtons:"saved-colors-buttons",headerHex:"header--hex",colorFieldAndSlider:"color-field-and-slider",colorFieldAndSliderInteractive:"color-field-and-slider--interactive",colorFieldAndSliderWrap:"color-field-and-slider-wrap",scope:"scope",hueScope:"scope--hue",colorFieldScope:"scope--color-field",savedColor:"saved-color"},Lh=ta("#007AC2"),k_="calcite-color-",TM={r:255,g:255,b:255},Lr={h:360,s:100,v:100},ui={b:"B",blue:"Blue",deleteColor:"Delete color",g:"G",green:"Green",h:"H",hsv:"HSV",hex:"Hex",hue:"Hue",noColor:"No color",r:"R",red:"Red",rgb:"RGB",s:"S",saturation:"Saturation",saveColor:"Save color",saved:"Saved",v:"V",value:"Value"},MM={s:{slider:{height:10,width:160},colorField:{height:80,width:160},thumb:{radius:8}},m:{slider:{height:14,width:272},colorField:{height:150,width:272},thumb:{radius:10}},l:{slider:{height:16,width:464},colorField:{height:200,width:464},thumb:{radius:12}}},TC=(e,t,i)=>Math.max(t,Math.min(e,i)),bp=e=>{const t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},wY="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:inline-block;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal)}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale=s]) .container{width:160px}:host([scale=s]) .saved-colors{grid-template-columns:repeat(auto-fill, minmax(20px, 1fr))}:host([scale=s]) .channels{-ms-flex-direction:column;flex-direction:column}:host([scale=s]) .channel{width:100%;margin-bottom:4px}:host([scale=s]) .channel:last-child{margin-bottom:0}:host([scale=m]) .container{width:272px}:host([scale=l]) .header{padding-bottom:0px}:host([scale=l]){font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) .container{width:464px}:host([scale=l]) .color-field-and-slider{margin-bottom:-20px}:host([scale=l]) .section{padding:0 16px 16px}:host([scale=l]) .section:first-of-type{padding-top:16px}:host([scale=l]) .saved-colors{grid-template-columns:repeat(auto-fill, minmax(28px, 1fr));grid-gap:12px;padding-top:16px}:host([scale=l]) .control-section{-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-align:baseline;align-items:baseline}:host([scale=l]) .control-section>:nth-child(2){-webkit-margin-start:12px;margin-inline-start:12px}:host([scale=l]) .color-hex-options{display:-ms-flexbox;display:flex;-ms-flex-negative:1;flex-shrink:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:distribute;justify-content:space-around;min-height:98px;width:160px}:host([scale=l]) .color-mode-container{-ms-flex-negative:3;flex-shrink:3}:host([appearance=minimal]) .container{border:none}.container{background-color:var(--calcite-ui-foreground-1);display:inline-block;border:1px solid var(--calcite-ui-border-1)}.color-field-and-slider-wrap{position:relative}.scope{pointer-events:none;position:absolute;margin-bottom:0px;margin-right:0px;height:0.5rem;width:0.5rem;padding:0px;font-size:var(--calcite-font-size--1);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;margin-top:-0.25rem;margin-left:-0.25rem;outline-offset:10px}.scope:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:12px}.color-field-and-slider{margin-bottom:-16px}.color-field-and-slider--interactive{cursor:pointer}.control-section{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap}.section{padding:0 12px 12px}.section:first-of-type{padding-top:12px}.color-hex-options,.section--split{-ms-flex-positive:1;flex-grow:1}.header{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;padding-bottom:0.25rem;color:var(--calcite-ui-text-1)}.header--hex,.color-mode-container{padding-top:12px}.channels{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.channel{width:31%}.saved-colors{padding-top:12px;display:grid;grid-template-columns:repeat(auto-fill, minmax(24px, 1fr));grid-gap:8px;width:100%}.saved-colors-buttons{display:-ms-flexbox;display:flex}.saved-color{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;cursor:pointer}.saved-color:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.saved-color:hover{-webkit-transition:outline-color var(--calcite-internal-animation-timing-fast) ease-in-out;transition:outline-color var(--calcite-internal-animation-timing-fast) ease-in-out;outline:2px solid var(--calcite-ui-border-2);outline-offset:2px}",xY=16,kY=Js(Lh.hex()),_Y="auto",SY=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteColorPickerChange=W(this,"calciteColorPickerChange",7),this.calciteColorPickerInput=W(this,"calciteColorPickerInput",7),this.allowEmpty=!1,this.appearance="default",this.color=Lh,this.disabled=!1,this.format=_Y,this.hideHex=!1,this.hideChannels=!1,this.hideSaved=!1,this.intlB=ui.b,this.intlBlue=ui.blue,this.intlDeleteColor=ui.deleteColor,this.intlG=ui.g,this.intlGreen=ui.green,this.intlH=ui.h,this.intlHsv=ui.hsv,this.intlHex=ui.hex,this.intlHue=ui.hue,this.intlNoColor=ui.noColor,this.intlR=ui.r,this.intlRed=ui.red,this.intlRgb=ui.rgb,this.intlS=ui.s,this.intlSaturation=ui.saturation,this.intlSaveColor=ui.saveColor,this.intlSaved=ui.saved,this.intlV=ui.v,this.intlValue=ui.value,this.scale="m",this.value=kY,this.colorFieldAndSliderHovered=!1,this.hueThumbState="idle",this.internalColorUpdateContext=null,this.mode=fu.HEX,this.shiftKeyChannelAdjustment=0,this.sliderThumbState="idle",this.colorFieldAndSliderInteractive=!1,this.channelMode="rgb",this.channels=this.toChannels(Lh),this.dimensions=MM.m,this.savedColors=[],this.handleTabActivate=e=>{this.channelMode=e.currentTarget.getAttribute("data-color-mode"),this.updateChannelsFromColor(this.color)},this.handleColorFieldScopeKeyDown=e=>{const t=e.key,i={ArrowUp:{x:0,y:-10},ArrowRight:{x:10,y:0},ArrowDown:{x:0,y:10},ArrowLeft:{x:-10,y:0}};i[t]&&(e.preventDefault(),this.scopeOrientation=t==="ArrowDown"||t==="ArrowUp"?"vertical":"horizontal",this.captureColorFieldColor(this.colorFieldScopeLeft+i[t].x||0,this.colorFieldScopeTop+i[t].y||0,!1))},this.handleHueScopeKeyDown=e=>{const t=e.shiftKey?10:1,i=e.key,n={ArrowUp:1,ArrowRight:1,ArrowDown:-1,ArrowLeft:-1};if(n[i]){e.preventDefault();const r=n[i]*t,a=this.baseColorFieldColor.hue(),o=this.baseColorFieldColor.hue(a+r);this.internalColorSet(o,!1)}},this.handleHexInputChange=e=>{e.stopPropagation();const{allowEmpty:t,color:i}=this,r=e.target.value;if(t&&!r){this.internalColorSet(null);return}const a=i&&Js(i.hex());r!==a&&this.internalColorSet(ta(r))},this.handleSavedColorSelect=e=>{const t=e.currentTarget;this.internalColorSet(ta(t.color))},this.handleChannelInput=e=>{const t=e.currentTarget,i=e.detail.nativeEvent.target,n=Number(t.getAttribute("data-channel-index")),r=this.channelMode==="rgb"?TM[Object.keys(TM)[n]]:Lr[Object.keys(Lr)[n]];let a;if(this.allowEmpty&&!t.value)a="";else{const o=Number(t.value)+this.shiftKeyChannelAdjustment;a=TC(o,0,r).toString()}t.value=a,i.value=a},this.handleChannelChange=e=>{const t=e.currentTarget,i=Number(t.getAttribute("data-channel-index")),n=[...this.channels];if(this.allowEmpty&&!t.value){this.channels=[null,null,null],this.internalColorSet(null);return}n[i]=Number(t.value),this.updateColorFromChannels(n)},this.handleSavedColorKeyDown=e=>{(e.key===" "||e.key==="Enter")&&(e.preventDefault(),e.stopPropagation(),this.handleSavedColorSelect(e))},this.handleColorFieldAndSliderMouseLeave=()=>{this.colorFieldAndSliderInteractive=!1,this.colorFieldAndSliderHovered=!1,this.sliderThumbState!=="drag"&&this.hueThumbState!=="drag"&&(this.hueThumbState="idle",this.sliderThumbState="idle",this.drawColorFieldAndSlider())},this.handleColorFieldAndSliderMouseDown=e=>{const{offsetX:t,offsetY:i}=e,n=this.getCanvasRegion(i);n==="color-field"?(this.hueThumbState="drag",this.captureColorFieldColor(t,i),this.colorFieldScopeNode.focus()):n==="slider"&&(this.sliderThumbState="drag",this.captureHueSliderColor(t),this.hueScopeNode.focus()),e.preventDefault(),document.addEventListener("mousemove",this.globalMouseMoveHandler),document.addEventListener("mouseup",this.globalMouseUpHandler,{once:!0}),this.activeColorFieldAndSliderRect=this.fieldAndSliderRenderingContext.canvas.getBoundingClientRect()},this.globalMouseUpHandler=()=>{const e=this.sliderThumbState==="drag"||this.hueThumbState==="drag";this.hueThumbState="idle",this.sliderThumbState="idle",this.activeColorFieldAndSliderRect=null,this.drawColorFieldAndSlider(),e&&this.calciteColorPickerChange.emit()},this.globalMouseMoveHandler=e=>{const{el:t,dimensions:i}=this,n=this.sliderThumbState==="drag",r=this.hueThumbState==="drag";if(!t.isConnected||!n&&!r)return;let a,o;const s=this.activeColorFieldAndSliderRect,{clientX:l,clientY:u}=e;if(this.colorFieldAndSliderHovered)a=l-s.x,o=u-s.y;else{const h=i.colorField.width,m=i.colorField.height,f=i.slider.height;l<s.x+h&&l>s.x?a=l-s.x:l<s.x?a=0:a=h,u<s.y+m+f&&u>s.y?o=u-s.y:u<s.y?o=0:o=m+f}r?this.captureColorFieldColor(a,o,!1):this.captureHueSliderColor(a)},this.handleColorFieldAndSliderMouseEnterOrMove=({offsetX:e,offsetY:t})=>{const{dimensions:{colorField:i,slider:n,thumb:r}}=this;this.colorFieldAndSliderInteractive=t<=i.height+n.height,this.colorFieldAndSliderHovered=!0;const a=this.getCanvasRegion(t);if(a==="color-field"){const o=this.hueThumbState,s=this.baseColorFieldColor.hsv(),l=Math.round(s.saturationv()/(Lr.s/i.width)),u=Math.round(i.height-s.value()/(Lr.v/i.height)),h=this.containsPoint(e,t,l,u,r.radius);let m=!1;o==="idle"&&h?(this.hueThumbState="hover",m=!0):o==="hover"&&!h&&(this.hueThumbState="idle",m=!0),this.hueThumbState!=="drag"&&m&&this.drawColorFieldAndSlider()}else if(a==="slider"){const o=this.baseColorFieldColor.hsv().saturationv(100).value(100),s=this.sliderThumbState,l=Math.round(o.hue()/(360/n.width)),u=Math.round((n.height+this.getSliderCapSpacing())/2)+i.height,h=this.containsPoint(e,t,l,u,r.radius);let m=!1;s==="idle"&&h?(this.sliderThumbState="hover",m=!0):s==="hover"&&!h&&(this.sliderThumbState="idle",m=!0),this.sliderThumbState!=="drag"&&m&&this.drawColorFieldAndSlider()}},this.storeColorFieldScope=e=>{this.colorFieldScopeNode=e},this.storeHueScope=e=>{this.hueScopeNode=e},this.renderChannelsTabTitle=e=>{const{channelMode:t,intlRgb:i,intlHsv:n}=this,r=e===t,a=e==="rgb"?i:n;return y("calcite-tab-title",{active:r,class:wt.colorMode,"data-color-mode":e,key:e,onCalciteTabsActivate:this.handleTabActivate},a)},this.renderChannelsTab=e=>{const{channelMode:t,channels:i,intlB:n,intlBlue:r,intlG:a,intlGreen:o,intlH:s,intlHue:l,intlR:u,intlRed:h,intlS:m,intlSaturation:f,intlV:g,intlValue:b}=this,v=e===t,w=e==="rgb",x=w?[u,a,n]:[s,m,g],S=w?[h,o,r]:[l,f,b];return y("calcite-tab",{active:v,class:wt.control,key:e},y("div",{class:wt.channels},i.map((E,C)=>this.renderChannel(E,C,x[C],S[C]))))},this.renderChannel=(e,t,i,n)=>y("calcite-input",{class:wt.channel,"data-channel-index":t,label:n,numberButtonType:"none",onCalciteInputChange:this.handleChannelChange,onCalciteInputInput:this.handleChannelInput,prefixText:i,scale:this.scale==="l"?"m":"s",type:"number",value:e==null?void 0:e.toString()}),this.deleteColor=()=>{const e=this.color.hex();if(!(this.savedColors.indexOf(e)>-1))return;const i=this.savedColors.filter(r=>r!==e);this.savedColors=i;const n=`${k_}${this.storageId}`;this.storageId&&localStorage.setItem(n,JSON.stringify(i))},this.saveColor=()=>{const e=this.color.hex();if(this.savedColors.indexOf(e)>-1)return;const i=[...this.savedColors,e];this.savedColors=i;const n=`${k_}${this.storageId}`;this.storageId&&localStorage.setItem(n,JSON.stringify(i))},this.drawColorFieldAndSlider=bK(()=>{!this.fieldAndSliderRenderingContext||(this.drawColorField(),this.drawHueSlider())},xY),this.captureColorFieldColor=(e,t,i=!0)=>{const{dimensions:{colorField:{height:n,width:r}}}=this,a=Math.round(Lr.s/r*e),o=Math.round(Lr.v/n*(n-t));this.internalColorSet(this.baseColorFieldColor.hsv().saturationv(a).value(o),i)},this.initColorFieldAndSlider=e=>{this.fieldAndSliderRenderingContext=e.getContext("2d"),this.setCanvasContextSize(e,{width:this.dimensions.colorField.width,height:this.dimensions.colorField.height+this.dimensions.slider.height+this.getSliderCapSpacing()*2}),this.drawColorFieldAndSlider()}}handleColorChange(e,t){this.drawColorFieldAndSlider(),this.updateChannelsFromColor(e),this.previousColor=t,!this.internalColorUpdateContext&&(this.value=this.toValue(e))}handleFormatChange(e){this.setMode(e),this.value=this.toValue(this.color)}handleScaleChange(e="m"){this.updateDimensions(e)}handleValueChange(e,t){const{allowEmpty:i,format:n}=this,r=!i||e;let a=!1;if(r){const u=_M(e);if(!u||n!=="auto"&&u!==n){this.showIncompatibleColorWarning(e,n),this.value=t;return}a=this.mode!==u,this.setMode(u)}const o=this.sliderThumbState==="drag"||this.hueThumbState==="drag";if(this.internalColorUpdateContext){if(this.internalColorUpdateContext==="initial")return;this.calciteColorPickerInput.emit(),o||this.calciteColorPickerChange.emit();return}const s=i&&!e?null:ta(e),l=!SM(s,this.color);(a||l)&&(this.color=s,this.calciteColorPickerInput.emit(),o||this.calciteColorPickerChange.emit())}get baseColorFieldColor(){return this.color||this.previousColor||Lh}handleChannelKeyUpOrDown(e){this.shiftKeyChannelAdjustment=0;const t=e.key;if(t!=="ArrowUp"&&t!=="ArrowDown"||!e.composedPath().some(r=>{var a;return(a=r.classList)===null||a===void 0?void 0:a.contains(wt.channel)}))return;const{shiftKey:i}=e;if(e.preventDefault(),!this.color){this.internalColorSet(this.previousColor),e.stopPropagation();return}const n=9;this.shiftKeyChannelAdjustment=t==="ArrowUp"&&i?n:t==="ArrowDown"&&i?-n:0}async setFocus(){return ai(this.colorFieldScopeNode)}componentWillLoad(){const{allowEmpty:e,color:t,format:i,value:n}=this,r=e&&!n,a=_M(n),o=r||i==="auto"&&a||i===a,s=r?null:o?ta(n):t;o||this.showIncompatibleColorWarning(n,i),this.setMode(i),this.internalColorSet(s,!1,"initial"),this.updateDimensions(this.scale);const l=`${k_}${this.storageId}`;this.storageId&&localStorage.getItem(l)&&(this.savedColors=JSON.parse(localStorage.getItem(l)))}disconnectedCallback(){document.removeEventListener("mousemove",this.globalMouseMoveHandler),document.removeEventListener("mouseup",this.globalMouseUpHandler)}componentDidRender(){it(this)}render(){const{allowEmpty:e,color:t,intlDeleteColor:i,hideHex:n,hideChannels:r,hideSaved:a,intlHex:o,intlSaved:s,intlSaveColor:l,savedColors:u,scale:h}=this,m=t?t.hex():null,f=h==="l"?"m":"s",{colorFieldAndSliderInteractive:g,colorFieldScopeTop:b,colorFieldScopeLeft:v,hueScopeLeft:w,hueScopeTop:x,scopeOrientation:S,dimensions:{colorField:{height:E,width:C},slider:{height:_}}}=this,I=x!=null?x:_/2+E,O=w!=null?w:C*Lh.hue()/Lr.h,R=t===null,H=S==="vertical";return y("div",{class:wt.container},y("div",{class:wt.colorFieldAndSliderWrap},y("canvas",{class:{[wt.colorFieldAndSlider]:!0,[wt.colorFieldAndSliderInteractive]:g},onMouseDown:this.handleColorFieldAndSliderMouseDown,onMouseEnter:this.handleColorFieldAndSliderMouseEnterOrMove,onMouseLeave:this.handleColorFieldAndSliderMouseLeave,onMouseMove:this.handleColorFieldAndSliderMouseEnterOrMove,ref:this.initColorFieldAndSlider}),y("div",{"aria-label":H?this.intlValue:this.intlSaturation,"aria-valuemax":H?Lr.v:Lr.s,"aria-valuemin":"0","aria-valuenow":(H?t==null?void 0:t.saturationv():t==null?void 0:t.value())||"0",class:{[wt.scope]:!0,[wt.colorFieldScope]:!0},onKeyDown:this.handleColorFieldScopeKeyDown,ref:this.storeColorFieldScope,role:"slider",style:{top:`${b||0}px`,left:`${v||0}px`},tabindex:"0"}),y("div",{"aria-label":this.intlHue,"aria-valuemax":Lr.h,"aria-valuemin":"0","aria-valuenow":(t==null?void 0:t.round().hue())||Lh.round().hue(),class:{[wt.scope]:!0,[wt.hueScope]:!0},onKeyDown:this.handleHueScopeKeyDown,ref:this.storeHueScope,role:"slider",style:{top:`${I}px`,left:`${O}px`},tabindex:"0"})),n&&r?null:y("div",{class:{[wt.controlSection]:!0,[wt.section]:!0}},n?null:y("div",{class:wt.hexOptions},y("span",{class:{[wt.header]:!0,[wt.headerHex]:!0}},o),y("calcite-color-picker-hex-input",{allowEmpty:e,class:wt.control,onCalciteColorPickerHexInputChange:this.handleHexInputChange,scale:f,value:m})),r?null:y("calcite-tabs",{class:{[wt.colorModeContainer]:!0,[wt.splitSection]:!0},scale:f},y("calcite-tab-nav",{slot:"tab-nav"},this.renderChannelsTabTitle("rgb"),this.renderChannelsTabTitle("hsv")),this.renderChannelsTab("rgb"),this.renderChannelsTab("hsv"))),a?null:y("div",{class:{[wt.savedColorsSection]:!0,[wt.section]:!0}},y("div",{class:wt.header},y("label",null,s),y("div",{class:wt.savedColorsButtons},y("calcite-button",{appearance:"transparent",class:wt.deleteColor,color:"neutral",disabled:R,iconStart:"minus",label:i,onClick:this.deleteColor,scale:f,type:"button"}),y("calcite-button",{appearance:"transparent",class:wt.saveColor,color:"neutral",disabled:R,iconStart:"plus",label:l,onClick:this.saveColor,scale:f,type:"button"}))),u.length>0?y("div",{class:wt.savedColors},[...u.map(Y=>y("calcite-color-picker-swatch",{active:m===Y,class:wt.savedColor,color:Y,key:Y,onClick:this.handleSavedColorSelect,onKeyDown:this.handleSavedColorKeyDown,scale:h,tabIndex:0}))]):null))}showIncompatibleColorWarning(e,t){console.warn(`ignoring color value (${e}) as it is not compatible with the current format (${t})`)}setMode(e){this.mode=e==="auto"?this.mode:e}captureHueSliderColor(e){const{dimensions:{slider:{width:t}}}=this,i=360/t*e;this.internalColorSet(this.baseColorFieldColor.hue(i),!1)}getCanvasRegion(e){const{dimensions:{colorField:{height:t},slider:{height:i}}}=this;return e<=t?"color-field":e<=t+i?"slider":"none"}internalColorSet(e,t=!0,i="internal"){t&&SM(e,this.color)||(this.internalColorUpdateContext=i,this.color=e,this.value=this.toValue(e),this.internalColorUpdateContext=null)}toValue(e,t=this.mode){if(!e)return null;const i="hex";if(t.includes(i))return Js(e.round()[i]());if(t.includes("-css"))return e[t.replace("-css","").replace("a","")]().round().string();const n=e[t]().round().object();return t.endsWith("a")&&(n.a=n.alpha,delete n.alpha),n}getSliderCapSpacing(){const{dimensions:{slider:{height:e},thumb:{radius:t}}}=this;return t*2-e}updateDimensions(e="m"){this.dimensions=MM[e]}drawColorField(){const e=this.fieldAndSliderRenderingContext,{dimensions:{colorField:{height:t,width:i}}}=this;e.fillStyle=this.baseColorFieldColor.hsv().saturationv(100).value(100).string(),e.fillRect(0,0,i,t);const n=e.createLinearGradient(0,0,i,0);n.addColorStop(0,"rgba(255,255,255,1)"),n.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=n,e.fillRect(0,0,i,t);const r=e.createLinearGradient(0,0,0,t);r.addColorStop(0,"rgba(0,0,0,0)"),r.addColorStop(1,"rgba(0,0,0,1)"),e.fillStyle=r,e.fillRect(0,0,i,t),this.drawActiveColorFieldColor()}setCanvasContextSize(e,{height:t,width:i}){const n=window.devicePixelRatio||1;e.width=i*n,e.height=t*n,e.style.height=`${t}px`,e.style.width=`${i}px`,e.getContext("2d").scale(n,n)}containsPoint(e,t,i,n,r){return Math.pow(e-i,2)+Math.pow(t-n,2)<=Math.pow(r,2)}drawActiveColorFieldColor(){const{color:e}=this;if(!e)return;const t=e.hsv(),{dimensions:{colorField:{height:i,width:n},thumb:{radius:r}}}=this,a=t.saturationv()/(Lr.s/n),o=i-t.value()/(Lr.v/i);requestAnimationFrame(()=>{this.colorFieldScopeLeft=a,this.colorFieldScopeTop=o}),this.drawThumb(this.fieldAndSliderRenderingContext,r,a,o,t,this.hueThumbState)}drawThumb(e,t,i,n,r,a){const s=2*Math.PI;e.beginPath(),e.arc(i,n,t,0,s),e.shadowBlur=a==="hover"?32:16,e.shadowColor=`rgba(0, 0, 0, ${a==="drag"?.32:.16})`,e.fillStyle="#fff",e.fill(),e.beginPath(),e.arc(i,n,t-3,0,s),e.shadowBlur=0,e.shadowColor="transparent",e.fillStyle=r.rgb().string(),e.fill()}drawActiveHueSliderColor(){const{color:e}=this;if(!e)return;const t=e.hsv().saturationv(100).value(100),{dimensions:{colorField:{height:i},slider:{height:n,width:r},thumb:{radius:a}}}=this,o=t.hue()/(360/r),s=n/2+i;requestAnimationFrame(()=>{this.hueScopeLeft=o,this.hueScopeTop=s}),this.drawThumb(this.fieldAndSliderRenderingContext,a,o,s,t,this.sliderThumbState)}drawHueSlider(){const e=this.fieldAndSliderRenderingContext,{dimensions:{colorField:{height:t},slider:{height:i,width:n}}}=this,r=e.createLinearGradient(0,0,n,0),a=["red","yellow","lime","cyan","blue","magenta","red"],o=1/(a.length-1);let s=0;a.forEach(l=>{r.addColorStop(s,ta(l).string()),s+=o}),e.fillStyle=r,e.clearRect(0,t,n,i+this.getSliderCapSpacing()*2),e.fillRect(0,t,n,i),this.drawActiveHueSliderColor()}updateColorFromChannels(e){this.internalColorSet(ta(e,this.channelMode))}updateChannelsFromColor(e){this.channels=e?this.toChannels(e):[null,null,null]}toChannels(e){const{channelMode:t}=this;return e[t]().array().map(i=>Math.floor(i))}get el(){return this}static get watchers(){return{color:["handleColorChange"],format:["handleFormatChange"],scale:["handleScaleChange"],value:["handleValueChange"]}}static get style(){return wY}},__={container:"container",preview:"preview",input:"input"},DY="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block}.container{display:inline-grid;width:100%;-ms-flex-align:center;align-items:center;grid-template-columns:1fr auto}.preview{grid-column:2/3;pointer-events:none;margin-top:0px;margin-bottom:0px;margin-left:0.25rem;margin-right:0.25rem;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;z-index:1}.preview,.input{grid-row:1}.input{grid-column:1/3;width:100%;text-transform:uppercase}",AM=ta(),$Y=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteColorPickerHexInputChange=W(this,"calciteColorPickerHexInputChange",7),this.allowEmpty=!1,this.intlHex=ui.hex,this.intlNoColor=ui.noColor,this.scale="m",this.value=Js(AM.hex()),this.onCalciteInputBlur=()=>{const e=this.inputNode,t=e.value,i=`#${t}`;this.allowEmpty&&!t||Op(i)&&w9(i)||(e.value=this.allowEmpty&&!this.internalColor?"":this.formatForInternalInput(b9(this.internalColor.object())))},this.onInputChange=()=>{const e=this.inputNode.value;let t;if(e){const i=e;if(!_C(`#${i}`))return;t=Js(i)}else this.allowEmpty&&(t=null);this.value=t,this.calciteColorPickerHexInputChange.emit()},this.internalColor=AM,this.previousNonNullValue=this.value,this.storeInputRef=e=>{this.inputNode=e}}connectedCallback(){const{allowEmpty:e,value:t}=this;if(t){const i=Js(t);Op(i)&&(this.internalColor=ta(i),this.value=i);return}e&&(this.internalColor=null,this.value=null)}handleValueChange(e,t){if(e){const i=Js(e);if(Op(i)){const{internalColor:n}=this,r=!n||i!==Js(n.hex());this.internalColor=ta(i),this.previousNonNullValue=i,this.value=i,r&&this.calciteColorPickerHexInputChange.emit();return}}else if(this.allowEmpty){this.internalColor=null,this.value=null,this.calciteColorPickerHexInputChange.emit();return}this.value=t}onInputKeyDown(e){const{altKey:t,ctrlKey:i,metaKey:n,shiftKey:r}=e,{internalColor:a,value:o}=this,s=e.key;if(s==="Tab"||s==="Enter"){this.onInputChange();return}if(s==="ArrowDown"||s==="ArrowUp"){if(!o){this.value=this.previousNonNullValue,e.preventDefault();return}const f=s==="ArrowUp"?1:-1,g=r?10:1;this.value=Js(this.nudgeRGBChannels(a,g*f).hex()),e.preventDefault();return}const u=t||i||n,h=s.length===1,m=TK.test(s);h&&!u&&!m&&e.preventDefault()}render(){const{intlHex:e,value:t}=this,i=this.formatForInternalInput(t);return y("div",{class:__.container},y("calcite-input",{class:__.input,label:e,maxLength:6,onCalciteInputBlur:this.onCalciteInputBlur,onCalciteInputChange:this.onInputChange,prefixText:"#",ref:this.storeInputRef,scale:this.scale,value:i}),i?y("calcite-color-picker-swatch",{active:!0,class:__.preview,color:`#${i}`,scale:this.scale}):null)}async setFocus(){ai(this.inputNode)}formatForInternalInput(e){return e?e.replace("#",""):""}nudgeRGBChannels(e,t){return ta.rgb(e.array().map(i=>i+t))}get el(){return this}static get watchers(){return{value:["handleValueChange"]}}static get style(){return DY}},CY={swatch:"swatch",noColorIcon:"no-color-icon"},OM={borderLight:"rgba(0, 0, 0, 0.3)",borderDark:"rgba(255, 255, 255, 0.15)"},IY="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:-ms-inline-flexbox;display:inline-flex}:host([scale=s]){height:1.25rem;width:1.25rem}:host([scale=m]){height:1.5rem;width:1.5rem}:host([scale=l]){height:2rem;width:2rem}.swatch{overflow:visible;height:inherit;width:inherit}.swatch rect{-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.no-color-icon{position:absolute;top:0px;right:0px;bottom:0px;left:0px;height:100%;width:100%}",EY=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.active=!1,this.scale="m"}handleColorChange(e){this.internalColor=ta(e)}componentWillLoad(){this.handleColorChange(this.color)}render(){const{active:e,el:t,internalColor:i}=this,n=e?"100%":"0",r=i.hex(),o=t9(t)==="light"?OM.borderLight:OM.borderDark;return y("svg",{class:CY.swatch,xmlns:"http://www.w3.org/2000/svg"},y("title",null,r),y("rect",{fill:r,height:"100%",id:"swatch",rx:n,stroke:o,"stroke-width":"2",style:{"clip-path":`inset(0 round ${n})`},width:"100%"}))}get el(){return this}static get watchers(){return{color:["handleColorChange"]}}static get style(){return IY}},TY=(e,t)=>{const i=gK(t),n=new RegExp(i,"i");e.length===0&&console.warn(`No data was passed to the filter function.
    The data argument should be an array of objects`);const r=(o,s)=>{var l;if(!((l=o)===null||l===void 0)&&l.constant)return!0;let u=!1;return f9(o,h=>{typeof h!="function"&&(Array.isArray(h)||typeof h=="object"&&h!==null?r(h,s)&&(u=!0):s.test(h)&&(u=!0))}),u};return e.filter(o=>r(o,n))};var Wn="top",ua="bottom",da="right",Jn="left",MC="auto",gy=[Wn,ua,da,Jn],im="start",Mg="end",MY="clippingParents",C9="viewport",mf="popper",AY="reference",PM=gy.reduce(function(e,t){return e.concat([t+"-"+im,t+"-"+Mg])},[]),I9=[].concat(gy,[MC]).reduce(function(e,t){return e.concat([t,t+"-"+im,t+"-"+Mg])},[]),OY="beforeRead",PY="read",LY="afterRead",RY="beforeMain",FY="main",NY="afterMain",zY="beforeWrite",jY="write",VY="afterWrite",HY=[OY,PY,LY,RY,FY,NY,zY,jY,VY];function Xo(e){return e?(e.nodeName||"").toLowerCase():null}function uo(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function nm(e){var t=uo(e).Element;return e instanceof t||e instanceof Element}function la(e){var t=uo(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function AC(e){if(typeof ShadowRoot=="undefined")return!1;var t=uo(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function qY(e){var t=e.state;Object.keys(t.elements).forEach(function(i){var n=t.styles[i]||{},r=t.attributes[i]||{},a=t.elements[i];!la(a)||!Xo(a)||(Object.assign(a.style,n),Object.keys(r).forEach(function(o){var s=r[o];s===!1?a.removeAttribute(o):a.setAttribute(o,s===!0?"":s)}))})}function BY(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(n){var r=t.elements[n],a=t.attributes[n]||{},o=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:i[n]),s=o.reduce(function(l,u){return l[u]="",l},{});!la(r)||!Xo(r)||(Object.assign(r.style,s),Object.keys(a).forEach(function(l){r.removeAttribute(l)}))})}}const UY={name:"applyStyles",enabled:!0,phase:"write",fn:qY,effect:BY,requires:["computeStyles"]};function Go(e){return e.split("-")[0]}var xd=Math.max,gw=Math.min,rm=Math.round;function am(e,t){t===void 0&&(t=!1);var i=e.getBoundingClientRect(),n=1,r=1;if(la(e)&&t){var a=e.offsetHeight,o=e.offsetWidth;o>0&&(n=rm(i.width)/o||1),a>0&&(r=rm(i.height)/a||1)}return{width:i.width/n,height:i.height/r,top:i.top/r,right:i.right/n,bottom:i.bottom/r,left:i.left/n,x:i.left/n,y:i.top/r}}function OC(e){var t=am(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function E9(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&AC(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ol(e){return uo(e).getComputedStyle(e)}function GY(e){return["table","td","th"].indexOf(Xo(e))>=0}function Uc(e){return((nm(e)?e.ownerDocument:e.document)||window.document).documentElement}function Gx(e){return Xo(e)==="html"?e:e.assignedSlot||e.parentNode||(AC(e)?e.host:null)||Uc(e)}function LM(e){return!la(e)||ol(e).position==="fixed"?null:e.offsetParent}function WY(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,i=navigator.userAgent.indexOf("Trident")!==-1;if(i&&la(e)){var n=ol(e);if(n.position==="fixed")return null}var r=Gx(e);for(AC(r)&&(r=r.host);la(r)&&["html","body"].indexOf(Xo(r))<0;){var a=ol(r);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return r;r=r.parentNode}return null}function yy(e){for(var t=uo(e),i=LM(e);i&&GY(i)&&ol(i).position==="static";)i=LM(i);return i&&(Xo(i)==="html"||Xo(i)==="body"&&ol(i).position==="static")?t:i||WY(e)||t}function PC(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function W0(e,t,i){return xd(e,gw(t,i))}function JY(e,t,i){var n=W0(e,t,i);return n>i?i:n}function T9(){return{top:0,right:0,bottom:0,left:0}}function M9(e){return Object.assign({},T9(),e)}function A9(e,t){return t.reduce(function(i,n){return i[n]=e,i},{})}var KY=function(t,i){return t=typeof t=="function"?t(Object.assign({},i.rects,{placement:i.placement})):t,M9(typeof t!="number"?t:A9(t,gy))};function YY(e){var t,i=e.state,n=e.name,r=e.options,a=i.elements.arrow,o=i.modifiersData.popperOffsets,s=Go(i.placement),l=PC(s),u=[Jn,da].indexOf(s)>=0,h=u?"height":"width";if(!(!a||!o)){var m=KY(r.padding,i),f=OC(a),g=l==="y"?Wn:Jn,b=l==="y"?ua:da,v=i.rects.reference[h]+i.rects.reference[l]-o[l]-i.rects.popper[h],w=o[l]-i.rects.reference[l],x=yy(a),S=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,E=v/2-w/2,C=m[g],_=S-f[h]-m[b],I=S/2-f[h]/2+E,O=W0(C,I,_),R=l;i.modifiersData[n]=(t={},t[R]=O,t.centerOffset=O-I,t)}}function ZY(e){var t=e.state,i=e.options,n=i.element,r=n===void 0?"[data-popper-arrow]":n;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||!E9(t.elements.popper,r)||(t.elements.arrow=r))}const XY={name:"arrow",enabled:!0,phase:"main",fn:YY,effect:ZY,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function om(e){return e.split("-")[1]}var QY={top:"auto",right:"auto",bottom:"auto",left:"auto"};function eZ(e){var t=e.x,i=e.y,n=window,r=n.devicePixelRatio||1;return{x:rm(t*r)/r||0,y:rm(i*r)/r||0}}function RM(e){var t,i=e.popper,n=e.popperRect,r=e.placement,a=e.variation,o=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,h=e.roundOffsets,m=e.isFixed,f=o.x,g=f===void 0?0:f,b=o.y,v=b===void 0?0:b,w=typeof h=="function"?h({x:g,y:v}):{x:g,y:v};g=w.x,v=w.y;var x=o.hasOwnProperty("x"),S=o.hasOwnProperty("y"),E=Jn,C=Wn,_=window;if(u){var I=yy(i),O="clientHeight",R="clientWidth";if(I===uo(i)&&(I=Uc(i),ol(I).position!=="static"&&s==="absolute"&&(O="scrollHeight",R="scrollWidth")),I=I,r===Wn||(r===Jn||r===da)&&a===Mg){C=ua;var H=m&&I===_&&_.visualViewport?_.visualViewport.height:I[O];v-=H-n.height,v*=l?1:-1}if(r===Jn||(r===Wn||r===ua)&&a===Mg){E=da;var Y=m&&I===_&&_.visualViewport?_.visualViewport.width:I[R];g-=Y-n.width,g*=l?1:-1}}var U=Object.assign({position:s},u&&QY),ce=h===!0?eZ({x:g,y:v}):{x:g,y:v};if(g=ce.x,v=ce.y,l){var ne;return Object.assign({},U,(ne={},ne[C]=S?"0":"",ne[E]=x?"0":"",ne.transform=(_.devicePixelRatio||1)<=1?"translate("+g+"px, "+v+"px)":"translate3d("+g+"px, "+v+"px, 0)",ne))}return Object.assign({},U,(t={},t[C]=S?v+"px":"",t[E]=x?g+"px":"",t.transform="",t))}function tZ(e){var t=e.state,i=e.options,n=i.gpuAcceleration,r=n===void 0?!0:n,a=i.adaptive,o=a===void 0?!0:a,s=i.roundOffsets,l=s===void 0?!0:s,u={placement:Go(t.placement),variation:om(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,RM(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,RM(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const iZ={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:tZ,data:{}};var wb={passive:!0};function nZ(e){var t=e.state,i=e.instance,n=e.options,r=n.scroll,a=r===void 0?!0:r,o=n.resize,s=o===void 0?!0:o,l=uo(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach(function(h){h.addEventListener("scroll",i.update,wb)}),s&&l.addEventListener("resize",i.update,wb),function(){a&&u.forEach(function(h){h.removeEventListener("scroll",i.update,wb)}),s&&l.removeEventListener("resize",i.update,wb)}}const rZ={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:nZ,data:{}};var aZ={left:"right",right:"left",bottom:"top",top:"bottom"};function Nv(e){return e.replace(/left|right|bottom|top/g,function(t){return aZ[t]})}var oZ={start:"end",end:"start"};function FM(e){return e.replace(/start|end/g,function(t){return oZ[t]})}function LC(e){var t=uo(e),i=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:i,scrollTop:n}}function RC(e){return am(Uc(e)).left+LC(e).scrollLeft}function sZ(e){var t=uo(e),i=Uc(e),n=t.visualViewport,r=i.clientWidth,a=i.clientHeight,o=0,s=0;return n&&(r=n.width,a=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=n.offsetLeft,s=n.offsetTop)),{width:r,height:a,x:o+RC(e),y:s}}function lZ(e){var t,i=Uc(e),n=LC(e),r=(t=e.ownerDocument)==null?void 0:t.body,a=xd(i.scrollWidth,i.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=xd(i.scrollHeight,i.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-n.scrollLeft+RC(e),l=-n.scrollTop;return ol(r||i).direction==="rtl"&&(s+=xd(i.clientWidth,r?r.clientWidth:0)-a),{width:a,height:o,x:s,y:l}}function FC(e){var t=ol(e),i=t.overflow,n=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+r+n)}function O9(e){return["html","body","#document"].indexOf(Xo(e))>=0?e.ownerDocument.body:la(e)&&FC(e)?e:O9(Gx(e))}function J0(e,t){var i;t===void 0&&(t=[]);var n=O9(e),r=n===((i=e.ownerDocument)==null?void 0:i.body),a=uo(n),o=r?[a].concat(a.visualViewport||[],FC(n)?n:[]):n,s=t.concat(o);return r?s:s.concat(J0(Gx(o)))}function H3(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function cZ(e){var t=am(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function NM(e,t){return t===C9?H3(sZ(e)):nm(t)?cZ(t):H3(lZ(Uc(e)))}function uZ(e){var t=J0(Gx(e)),i=["absolute","fixed"].indexOf(ol(e).position)>=0,n=i&&la(e)?yy(e):e;return nm(n)?t.filter(function(r){return nm(r)&&E9(r,n)&&Xo(r)!=="body"}):[]}function dZ(e,t,i){var n=t==="clippingParents"?uZ(e):[].concat(t),r=[].concat(n,[i]),a=r[0],o=r.reduce(function(s,l){var u=NM(e,l);return s.top=xd(u.top,s.top),s.right=gw(u.right,s.right),s.bottom=gw(u.bottom,s.bottom),s.left=xd(u.left,s.left),s},NM(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function P9(e){var t=e.reference,i=e.element,n=e.placement,r=n?Go(n):null,a=n?om(n):null,o=t.x+t.width/2-i.width/2,s=t.y+t.height/2-i.height/2,l;switch(r){case Wn:l={x:o,y:t.y-i.height};break;case ua:l={x:o,y:t.y+t.height};break;case da:l={x:t.x+t.width,y:s};break;case Jn:l={x:t.x-i.width,y:s};break;default:l={x:t.x,y:t.y}}var u=r?PC(r):null;if(u!=null){var h=u==="y"?"height":"width";switch(a){case im:l[u]=l[u]-(t[h]/2-i[h]/2);break;case Mg:l[u]=l[u]+(t[h]/2-i[h]/2);break}}return l}function Ag(e,t){t===void 0&&(t={});var i=t,n=i.placement,r=n===void 0?e.placement:n,a=i.boundary,o=a===void 0?MY:a,s=i.rootBoundary,l=s===void 0?C9:s,u=i.elementContext,h=u===void 0?mf:u,m=i.altBoundary,f=m===void 0?!1:m,g=i.padding,b=g===void 0?0:g,v=M9(typeof b!="number"?b:A9(b,gy)),w=h===mf?AY:mf,x=e.rects.popper,S=e.elements[f?w:h],E=dZ(nm(S)?S:S.contextElement||Uc(e.elements.popper),o,l),C=am(e.elements.reference),_=P9({reference:C,element:x,strategy:"absolute",placement:r}),I=H3(Object.assign({},x,_)),O=h===mf?I:C,R={top:E.top-O.top+v.top,bottom:O.bottom-E.bottom+v.bottom,left:E.left-O.left+v.left,right:O.right-E.right+v.right},H=e.modifiersData.offset;if(h===mf&&H){var Y=H[r];Object.keys(R).forEach(function(U){var ce=[da,ua].indexOf(U)>=0?1:-1,ne=[Wn,ua].indexOf(U)>=0?"y":"x";R[U]+=Y[ne]*ce})}return R}function hZ(e,t){t===void 0&&(t={});var i=t,n=i.placement,r=i.boundary,a=i.rootBoundary,o=i.padding,s=i.flipVariations,l=i.allowedAutoPlacements,u=l===void 0?I9:l,h=om(n),m=h?s?PM:PM.filter(function(b){return om(b)===h}):gy,f=m.filter(function(b){return u.indexOf(b)>=0});f.length===0&&(f=m);var g=f.reduce(function(b,v){return b[v]=Ag(e,{placement:v,boundary:r,rootBoundary:a,padding:o})[Go(v)],b},{});return Object.keys(g).sort(function(b,v){return g[b]-g[v]})}function pZ(e){if(Go(e)===MC)return[];var t=Nv(e);return[FM(e),t,FM(t)]}function mZ(e){var t=e.state,i=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var r=i.mainAxis,a=r===void 0?!0:r,o=i.altAxis,s=o===void 0?!0:o,l=i.fallbackPlacements,u=i.padding,h=i.boundary,m=i.rootBoundary,f=i.altBoundary,g=i.flipVariations,b=g===void 0?!0:g,v=i.allowedAutoPlacements,w=t.options.placement,x=Go(w),S=x===w,E=l||(S||!b?[Nv(w)]:pZ(w)),C=[w].concat(E).reduce(function(gl,mo){return gl.concat(Go(mo)===MC?hZ(t,{placement:mo,boundary:h,rootBoundary:m,padding:u,flipVariations:b,allowedAutoPlacements:v}):mo)},[]),_=t.rects.reference,I=t.rects.popper,O=new Map,R=!0,H=C[0],Y=0;Y<C.length;Y++){var U=C[Y],ce=Go(U),ne=om(U)===im,se=[Wn,ua].indexOf(ce)>=0,Je=se?"width":"height",pe=Ag(t,{placement:U,boundary:h,rootBoundary:m,altBoundary:f,padding:u}),Te=se?ne?da:Jn:ne?ua:Wn;_[Je]>I[Je]&&(Te=Nv(Te));var tt=Nv(Te),Ht=[];if(a&&Ht.push(pe[ce]<=0),s&&Ht.push(pe[Te]<=0,pe[tt]<=0),Ht.every(function(gl){return gl})){H=U,R=!1;break}O.set(U,Ht)}if(R)for(var Zc=b?3:1,ps=function(mo){var Qc=C.find(function(eu){var fs=O.get(eu);if(fs)return fs.slice(0,mo).every(function(tf){return tf})});if(Qc)return H=Qc,"break"},ms=Zc;ms>0;ms--){var Xc=ps(ms);if(Xc==="break")break}t.placement!==H&&(t.modifiersData[n]._skip=!0,t.placement=H,t.reset=!0)}}const fZ={name:"flip",enabled:!0,phase:"main",fn:mZ,requiresIfExists:["offset"],data:{_skip:!1}};function zM(e,t,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function jM(e){return[Wn,da,ua,Jn].some(function(t){return e[t]>=0})}function gZ(e){var t=e.state,i=e.name,n=t.rects.reference,r=t.rects.popper,a=t.modifiersData.preventOverflow,o=Ag(t,{elementContext:"reference"}),s=Ag(t,{altBoundary:!0}),l=zM(o,n),u=zM(s,r,a),h=jM(l),m=jM(u);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:h,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":m})}const yZ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:gZ};function bZ(e,t,i){var n=Go(e),r=[Jn,Wn].indexOf(n)>=0?-1:1,a=typeof i=="function"?i(Object.assign({},t,{placement:e})):i,o=a[0],s=a[1];return o=o||0,s=(s||0)*r,[Jn,da].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}function vZ(e){var t=e.state,i=e.options,n=e.name,r=i.offset,a=r===void 0?[0,0]:r,o=I9.reduce(function(h,m){return h[m]=bZ(m,t.rects,a),h},{}),s=o[t.placement],l=s.x,u=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=o}const wZ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:vZ};function xZ(e){var t=e.state,i=e.name;t.modifiersData[i]=P9({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const kZ={name:"popperOffsets",enabled:!0,phase:"read",fn:xZ,data:{}};function _Z(e){return e==="x"?"y":"x"}function SZ(e){var t=e.state,i=e.options,n=e.name,r=i.mainAxis,a=r===void 0?!0:r,o=i.altAxis,s=o===void 0?!1:o,l=i.boundary,u=i.rootBoundary,h=i.altBoundary,m=i.padding,f=i.tether,g=f===void 0?!0:f,b=i.tetherOffset,v=b===void 0?0:b,w=Ag(t,{boundary:l,rootBoundary:u,padding:m,altBoundary:h}),x=Go(t.placement),S=om(t.placement),E=!S,C=PC(x),_=_Z(C),I=t.modifiersData.popperOffsets,O=t.rects.reference,R=t.rects.popper,H=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,Y=typeof H=="number"?{mainAxis:H,altAxis:H}:Object.assign({mainAxis:0,altAxis:0},H),U=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,ce={x:0,y:0};if(!!I){if(a){var ne,se=C==="y"?Wn:Jn,Je=C==="y"?ua:da,pe=C==="y"?"height":"width",Te=I[C],tt=Te+w[se],Ht=Te-w[Je],Zc=g?-R[pe]/2:0,ps=S===im?O[pe]:R[pe],ms=S===im?-R[pe]:-O[pe],Xc=t.elements.arrow,gl=g&&Xc?OC(Xc):{width:0,height:0},mo=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:T9(),Qc=mo[se],eu=mo[Je],fs=W0(0,O[pe],gl[pe]),tf=E?O[pe]/2-Zc-fs-Qc-Y.mainAxis:ps-fs-Qc-Y.mainAxis,s_=E?-O[pe]/2+Zc+fs+eu+Y.mainAxis:ms+fs+eu+Y.mainAxis,nf=t.elements.arrow&&yy(t.elements.arrow),l_=nf?C==="y"?nf.clientTop||0:nf.clientLeft||0:0,rb=(ne=U==null?void 0:U[C])!=null?ne:0,c_=Te+tf-rb-l_,u_=Te+s_-rb,ab=W0(g?gw(tt,c_):tt,Te,g?xd(Ht,u_):Ht);I[C]=ab,ce[C]=ab-Te}if(s){var ob,d_=C==="x"?Wn:Jn,h_=C==="x"?ua:da,gs=I[_],dh=_==="y"?"height":"width",sb=gs+w[d_],lb=gs-w[h_],rf=[Wn,Jn].indexOf(x)!==-1,af=(ob=U==null?void 0:U[_])!=null?ob:0,of=rf?sb:gs-O[dh]-R[dh]-af+Y.altAxis,ga=rf?gs+O[dh]+R[dh]-af-Y.altAxis:lb,cb=g&&rf?JY(of,gs,ga):W0(g?of:sb,gs,g?ga:lb);I[_]=cb,ce[_]=cb-gs}t.modifiersData[n]=ce}}const DZ={name:"preventOverflow",enabled:!0,phase:"main",fn:SZ,requiresIfExists:["offset"]};function $Z(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function CZ(e){return e===uo(e)||!la(e)?LC(e):$Z(e)}function IZ(e){var t=e.getBoundingClientRect(),i=rm(t.width)/e.offsetWidth||1,n=rm(t.height)/e.offsetHeight||1;return i!==1||n!==1}function EZ(e,t,i){i===void 0&&(i=!1);var n=la(t),r=la(t)&&IZ(t),a=Uc(t),o=am(e,r),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!i)&&((Xo(t)!=="body"||FC(a))&&(s=CZ(t)),la(t)?(l=am(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):a&&(l.x=RC(a))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function TZ(e){var t=new Map,i=new Set,n=[];e.forEach(function(a){t.set(a.name,a)});function r(a){i.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(s){if(!i.has(s)){var l=t.get(s);l&&r(l)}}),n.push(a)}return e.forEach(function(a){i.has(a.name)||r(a)}),n}function MZ(e){var t=TZ(e);return HY.reduce(function(i,n){return i.concat(t.filter(function(r){return r.phase===n}))},[])}function AZ(e){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(e())})})),t}}function OZ(e){var t=e.reduce(function(i,n){var r=i[n.name];return i[n.name]=r?Object.assign({},r,n,{options:Object.assign({},r.options,n.options),data:Object.assign({},r.data,n.data)}):n,i},{});return Object.keys(t).map(function(i){return t[i]})}var VM={placement:"bottom",modifiers:[],strategy:"absolute"};function HM(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function PZ(e){e===void 0&&(e={});var t=e,i=t.defaultModifiers,n=i===void 0?[]:i,r=t.defaultOptions,a=r===void 0?VM:r;return function(s,l,u){u===void 0&&(u=a);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},VM,a),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},m=[],f=!1,g={state:h,setOptions:function(x){var S=typeof x=="function"?x(h.options):x;v(),h.options=Object.assign({},a,h.options,S),h.scrollParents={reference:nm(s)?J0(s):s.contextElement?J0(s.contextElement):[],popper:J0(l)};var E=MZ(OZ([].concat(n,h.options.modifiers)));return h.orderedModifiers=E.filter(function(C){return C.enabled}),b(),g.update()},forceUpdate:function(){if(!f){var x=h.elements,S=x.reference,E=x.popper;if(!!HM(S,E)){h.rects={reference:EZ(S,yy(E),h.options.strategy==="fixed"),popper:OC(E)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(Y){return h.modifiersData[Y.name]=Object.assign({},Y.data)});for(var C=0;C<h.orderedModifiers.length;C++){if(h.reset===!0){h.reset=!1,C=-1;continue}var _=h.orderedModifiers[C],I=_.fn,O=_.options,R=O===void 0?{}:O,H=_.name;typeof I=="function"&&(h=I({state:h,options:R,name:H,instance:g})||h)}}}},update:AZ(function(){return new Promise(function(w){g.forceUpdate(),w(h)})}),destroy:function(){v(),f=!0}};if(!HM(s,l))return g;g.setOptions(u).then(function(w){!f&&u.onFirstUpdate&&u.onFirstUpdate(w)});function b(){h.orderedModifiers.forEach(function(w){var x=w.name,S=w.options,E=S===void 0?{}:S,C=w.effect;if(typeof C=="function"){var _=C({state:h,name:x,instance:g,options:E}),I=function(){};m.push(_||I)}})}function v(){m.forEach(function(w){return w()}),m=[]}return g}}var LZ=[rZ,kZ,iZ,UY,wZ,fZ,DZ,XY,yZ],RZ=PZ({defaultModifiers:LZ});const Og="bottom-leading",NC=["top-start","top","top-end","bottom-start","bottom","bottom-end"],Qo={animation:"calcite-popper-anim",animationActive:"calcite-popper-anim--active"};function L9(e,t){const i=["left","right"],n=["start","end"];return Fi(e)==="rtl"&&(i.reverse(),n.reverse()),t.replace(/-leading/gi,`-${n[0]}`).replace(/-trailing/gi,`-${n[1]}`).replace(/leading/gi,i[0]).replace(/trailing/gi,i[1])}function by({referenceEl:e,el:t,placement:i,overlayPositioning:n="absolute",modifiers:r}){return e?RZ(e,t,{strategy:n,placement:L9(t,i),modifiers:r}):null}async function vy({el:e,modifiers:t,placement:i,popper:n}){const r=L9(e,i);await n.setOptions({modifiers:t,placement:r})}function FZ(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))}const qM=4,R9=Math.ceil(FZ(qM,qM)),q3="CALCITE-COMBOBOX-ITEM",zC="CALCITE-COMBOBOX-ITEM-GROUP",B3=`${q3}, ${zC}`,NZ={removeTag:"Remove tag"};function F9(e){var t,i;const n=(t=e.parentElement)===null||t===void 0?void 0:t.closest(B3),r=(i=n==null?void 0:n.parentElement)===null||i===void 0?void 0:i.closest(B3);return[n,r].filter(a=>a)}function BM(e){var t;return((t=e.ancestors)===null||t===void 0?void 0:t.filter(i=>i.nodeName==="CALCITE-COMBOBOX-ITEM"))||[]}function zZ(e){return Ka(e.querySelectorAll("calcite-combobox-item"))}function UM(e){return Ka(e.querySelectorAll("calcite-combobox-item")).filter(i=>i.selected).length>0}function N9(e){return qc.isBrowser?document.evaluate("ancestor::calcite-combobox-item | ancestor::calcite-combobox-item-group",e,null,XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null).snapshotLength:0}const jZ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:block}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale=s]){font-size:var(--calcite-font-size--2);--calcite-combobox-item-spacing-unit-l:0.5rem;--calcite-combobox-item-spacing-unit-s:0.25rem;--calcite-combobox-input-height:1.5rem}:host([scale=m]){font-size:var(--calcite-font-size--1);--calcite-combobox-item-spacing-unit-l:0.75rem;--calcite-combobox-item-spacing-unit-s:0.5rem;--calcite-combobox-input-height:2rem}:host([scale=l]){font-size:var(--calcite-font-size-0);--calcite-combobox-item-spacing-unit-l:1rem;--calcite-combobox-item-spacing-unit-s:0.75rem;--calcite-combobox-input-height:2.75rem}.wrapper{display:-ms-flexbox;display:flex;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-1);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-border-input);box-shadow:inset 0 0 0 1px var(--calcite-ui-border-input);padding:calc(var(--calcite-combobox-item-spacing-unit-s) / 4) var(--calcite-combobox-item-spacing-unit-l)}:host(:focus-within) .wrapper,.wrapper--active{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.wrapper--single{padding:0 var(--calcite-combobox-item-spacing-unit-l);cursor:pointer;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.grid-input{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0px}.input{-ms-flex-positive:1;flex-grow:1;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-style:none;background-color:transparent;padding:0px;font-family:inherit;color:var(--calcite-ui-text-1);font-size:inherit;height:var(--calcite-combobox-input-height);line-height:var(--calcite-combobox-input-height);min-width:120px;margin-bottom:var(--calcite-combobox-item-spacing-unit-s)}.input:focus{outline:2px solid transparent;outline-offset:2px}.input--transparent{opacity:0}.input--single{margin-bottom:0px;margin-top:0px;padding:0px}.wrapper--active .input-single{cursor:text}.input--hidden{pointer-events:none;width:0px;min-width:0px;opacity:0}.input--icon{padding:0 var(--calcite-combobox-item-spacing-unit-l)}.input-wrap{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1}.input-wrap--single{-ms-flex:1 1 0%;flex:1 1 0%;overflow:hidden}.label{pointer-events:none;display:-ms-flexbox;display:flex;max-width:100%;-ms-flex:1 1 auto;flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0px;font-weight:var(--calcite-font-weight-normal);height:var(--calcite-combobox-input-height);line-height:var(--calcite-combobox-input-height)}.label--spaced{padding-top:0px;padding-bottom:0px;padding-left:var(--calcite-combobox-item-spacing-unit-l);padding-right:var(--calcite-combobox-item-spacing-unit-l)}.icon-end,.icon-start{display:-ms-flexbox;display:flex;width:1rem;cursor:pointer;-ms-flex-align:center;align-items:center}.icon-end{-ms-flex:none;flex:none}.popper-container{width:100%;display:block;position:absolute;z-index:900;-webkit-transform:scale(0);transform:scale(0);visibility:hidden;pointer-events:none}.popper-container .calcite-popper-anim{position:relative;z-index:1;-webkit-transition:var(--calcite-popper-transition);transition:var(--calcite-popper-transition);visibility:hidden;-webkit-transition-property:visibility, opacity, -webkit-transform;transition-property:visibility, opacity, -webkit-transform;transition-property:transform, visibility, opacity;transition-property:transform, visibility, opacity, -webkit-transform;opacity:0;-webkit-box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);border-radius:0.25rem}.popper-container[data-popper-placement^=bottom] .calcite-popper-anim{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.popper-container[data-popper-placement^=top] .calcite-popper-anim{-webkit-transform:translateY(5px);transform:translateY(5px)}.popper-container[data-popper-placement^=left] .calcite-popper-anim{-webkit-transform:translateX(5px);transform:translateX(5px)}.popper-container[data-popper-placement^=right] .calcite-popper-anim{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.popper-container[data-popper-placement] .calcite-popper-anim--active{opacity:1;visibility:visible;-webkit-transform:translate(0);transform:translate(0)}.popper-container--active{pointer-events:initial;visibility:visible}.screen-readers-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.list-container{max-height:100vh;overflow-y:auto;background-color:var(--calcite-ui-foreground-1);width:var(--calcite-dropdown-width)}.list{margin:0px;display:block;padding:0px}.list--hide{height:0px;overflow:hidden}.chip{margin-block:calc(var(--calcite-combobox-item-spacing-unit-s) / 4);margin-inline:0 var(--calcite-combobox-item-spacing-unit-s);max-width:100%}.chip--active{background-color:var(--calcite-ui-foreground-3)}.item{display:block}::slotted(input[slot=hidden-form-input]){bottom:0 !important;left:0 !important;margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;right:0 !important;top:0 !important;-webkit-transform:none !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",VZ=e=>e.tagName===zC,HZ="combobox-item-",GM="combobox-chip-",S_="combobox-label-",D_="combobox-listbox-",WM="combobox-input-",qZ=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteLookupChange=W(this,"calciteLookupChange",7),this.calciteComboboxChange=W(this,"calciteComboboxChange",7),this.calciteComboboxFilterChange=W(this,"calciteComboboxFilterChange",7),this.calciteComboboxChipDismiss=W(this,"calciteComboboxChipDismiss",7),this.calciteComboboxOpen=W(this,"calciteComboboxOpen",7),this.calciteComboboxClose=W(this,"calciteComboboxClose",7),this.active=!1,this.disabled=!1,this.maxItems=0,this.overlayPositioning="absolute",this.required=!1,this.selectionMode="multi",this.scale="m",this.value=null,this.intlRemoveTag=NZ.removeTag,this.internalValueChangeFlag=!1,this.items=[],this.groupItems=[],this.selectedItems=[],this.visibleItems=[],this.activeItemIndex=-1,this.activeChipIndex=-1,this.activeDescendant="",this.text="",this.textInput=null,this.mutationObserver=Vt("mutation",()=>this.updateItems()),this.resizeObserver=Vt("resize",()=>this.setMaxScrollerHeight()),this.guid=li(),this.inputHeight=0,this.ignoreSelectedEventsFlag=!1,this.activeTransitionProp="opacity",this.getValue=()=>{const e=this.selectedItems.map(t=>t==null?void 0:t.value.toString());return e!=null&&e.length?e.length>1?e:e[0]:""},this.onLabelClick=()=>{this.setFocus()},this.keydownHandler=e=>{const{key:t}=e;switch(t){case"Tab":this.activeChipIndex=-1,this.activeItemIndex=-1,this.allowCustomValues&&this.text?(this.addCustomChip(this.text,!0),e.preventDefault()):this.active=!1;break;case"ArrowLeft":this.previousChip();break;case"ArrowRight":this.nextChip();break;case"ArrowUp":e.preventDefault(),this.active=!0,this.shiftActiveItemIndex(-1);break;case"ArrowDown":e.preventDefault(),this.active=!0,this.shiftActiveItemIndex(1);break;case"Home":this.active=!0,this.updateActiveItemIndex(0);break;case"End":this.active=!0,this.updateActiveItemIndex(this.visibleItems.length-1);break;case"Escape":this.active=!1;break;case"Enter":this.activeItemIndex>-1?this.toggleSelection(this.visibleItems[this.activeItemIndex]):this.activeChipIndex>-1?this.removeActiveChip():this.allowCustomValues&&this.text&&this.addCustomChip(this.text,!0);break;case"Delete":case"Backspace":this.activeChipIndex>-1?this.removeActiveChip():!this.text&&this.isMulti()&&this.removeLastChip();break;default:this.active||this.setFocus();break}},this.toggleCloseEnd=()=>{this.active=!1,this.el.removeEventListener("calciteComboboxClose",this.toggleCloseEnd)},this.toggleOpenEnd=()=>{this.active=!0,this.el.removeEventListener("calciteComboboxOpen",this.toggleOpenEnd)},this.transitionEnd=e=>{e.propertyName===this.activeTransitionProp&&(this.active?this.calciteComboboxOpen.emit():this.calciteComboboxClose.emit())},this.setMaxScrollerHeight=()=>{const{active:e,listContainerEl:t}=this;if(!t||!e)return;this.reposition();const i=this.getMaxScrollerHeight();t.style.maxHeight=i>0?`${i}px`:"",this.reposition()},this.calciteChipDismissHandler=(e,t)=>{this.active=!1;const i=this.items.find(n=>n===t);i&&this.toggleSelection(i,!1),this.calciteComboboxChipDismiss.emit(e.detail)},this.setFocusClick=e=>{e.composedPath().some(t=>t.tagName==="CALCITE-CHIP")||this.setFocus()},this.setInactiveIfNotContained=e=>{const t=e.composedPath();!this.active||t.includes(this.el)||t.includes(this.referenceEl)||(this.allowCustomValues&&this.text&&this.addCustomChip(this.text),this.selectionMode==="single"&&(this.textInput&&(this.textInput.value=""),this.text="",this.filterItems(""),this.updateActiveItemIndex(-1)),this.active=!1)},this.setMenuEl=e=>{this.menuEl=e},this.setListContainerEl=e=>{this.resizeObserver.observe(e),this.listContainerEl=e},this.setReferenceEl=e=>{this.referenceEl=e},this.inputHandler=e=>{const t=e.target.value;this.text=t,this.filterItems(t),t&&(this.activeChipIndex=-1)},this.filterItems=(()=>{const e=(t,i)=>t&&i.some(({label:n,value:r})=>VZ(t)?r===t.label||r===t.label:r===t.textLabel||r===t.value||n===t.textLabel||n===t.value);return wd(t=>{const i=TY(this.data,t);this.getCombinedItems().forEach(r=>{const a=!e(r,i);r.hidden=a;const[o,s]=r.ancestors;(e(o,i)||e(s,i))&&(r.hidden=!1),a||r.ancestors.forEach(l=>l.hidden=!1)}),this.visibleItems=this.getVisibleItems(),this.calciteComboboxFilterChange.emit({visibleItems:[...this.visibleItems],text:t})},100)})(),this.internalCalciteLookupChangeEvent=()=>{this.calciteLookupChange.emit(this.selectedItems)},this.emitCalciteLookupChange=wd(this.internalCalciteLookupChangeEvent,0),this.internalComboboxChangeEvent=()=>{const{selectedItems:e}=this;this.calciteComboboxChange.emit({selectedItems:e})},this.emitComboboxChange=wd(this.internalComboboxChangeEvent,0),this.updateItems=()=>{this.items=this.getItems(),this.groupItems=this.getGroupItems(),this.data=this.getData(),this.selectedItems=this.getSelectedItems(),this.visibleItems=this.getVisibleItems(),this.needsIcon=this.getNeedsIcon(),this.allowCustomValues||this.setMaxScrollerHeight()},this.comboboxFocusHandler=()=>{var e;this.active=!0,(e=this.textInput)===null||e===void 0||e.focus()},this.comboboxBlurHandler=e=>{this.setInactiveIfNotContained(e)}}activeHandler(){if(this.disabled){this.active=!1;return}this.reposition()}handleDisabledChange(e){e||(this.active=!1)}maxItemsHandler(){this.setMaxScrollerHeight()}valueHandler(e){if(!this.internalValueChangeFlag){const t=this.getItems();Array.isArray(e)?t.forEach(i=>i.selected=e.includes(i.value)):e?t.forEach(i=>i.selected=e===i.value):t.forEach(i=>i.selected=!1),this.updateItems()}}documentClickHandler(e){this.setInactiveIfNotContained(e)}calciteComboboxItemChangeHandler(e){if(this.ignoreSelectedEventsFlag)return;const t=e.target;this.toggleSelection(t,t.selected)}async reposition(){const{popper:e,menuEl:t}=this,i=this.getModifiers();e?await vy({el:t,modifiers:i,placement:Og,popper:e}):this.createPopper()}async setFocus(){var e;this.active=!0,(e=this.textInput)===null||e===void 0||e.focus(),this.activeChipIndex=-1,this.activeItemIndex=-1}connectedCallback(){var e;this.internalValueChangeFlag=!0,this.value=this.getValue(),this.internalValueChangeFlag=!1,(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0,subtree:!0}),this.createPopper(),tr(this),so(this)}componentWillLoad(){this.updateItems()}componentDidLoad(){IC(this,this.getValue())}componentDidRender(){this.el.offsetHeight!==this.inputHeight&&(this.reposition(),this.inputHeight=this.el.offsetHeight),it(this)}disconnectedCallback(){var e,t;(e=this.mutationObserver)===null||e===void 0||e.disconnect(),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),this.destroyPopper(),Ar(this),lo(this)}selectedItemsHandler(){this.internalValueChangeFlag=!0,this.value=this.getValue(),this.internalValueChangeFlag=!1}textHandler(){this.updateActiveItemIndex(-1)}getModifiers(){const e={name:"flip",enabled:!0};e.options={fallbackPlacements:this.flipPlacements||NC};const t={name:"eventListeners",enabled:this.active};return[e,t]}createPopper(){this.destroyPopper();const{menuEl:e,referenceEl:t,overlayPositioning:i}=this,n=this.getModifiers();this.popper=by({el:e,modifiers:n,overlayPositioning:i,placement:Og,referenceEl:t})}destroyPopper(){const{popper:e}=this;e&&e.destroy(),this.popper=null}getMaxScrollerHeight(){const e=this.getCombinedItems().filter(r=>!r.hidden),{maxItems:t}=this;let i=0,n=0;return e.length>t&&e.forEach(r=>{if(i<t&&t>0){const a=this.calculateSingleItemHeight(r);a>0&&(n+=a,i++)}}),n}calculateSingleItemHeight(e){let t=e.offsetHeight;return Array.from(e.querySelectorAll(B3)).map(n=>n==null?void 0:n.offsetHeight).forEach(n=>{t-=n}),t}getCombinedItems(){return[...this.groupItems,...this.items]}toggleSelection(e,t=!e.selected){!e||(this.isMulti()?(e.selected=t,this.updateAncestors(e),this.selectedItems=this.getSelectedItems(),this.emitCalciteLookupChange(),this.emitComboboxChange(),this.resetText(),this.filterItems("")):(this.ignoreSelectedEventsFlag=!0,this.items.forEach(i=>i.selected=i===e?t:!1),this.ignoreSelectedEventsFlag=!1,this.selectedItems=this.getSelectedItems(),this.emitComboboxChange(),this.textInput&&(this.textInput.value=e.textLabel),this.active=!1,this.updateActiveItemIndex(-1),this.resetText(),this.filterItems("")))}updateAncestors(e){if(this.selectionMode!=="ancestors")return;const t=BM(e),i=zZ(e);e.selected?t.forEach(n=>{n.selected=!0}):(i.forEach(n=>n.selected=!1),[...t].forEach(n=>{UM(n)||(n.selected=!1)}))}getVisibleItems(){return this.items.filter(e=>!e.hidden)}getSelectedItems(){if(!this.isMulti()){const e=this.items.find(({selected:t})=>t);return e?[e]:[]}return this.items.filter(e=>e.selected&&(this.selectionMode!=="ancestors"||!UM(e))).sort((e,t)=>{const i=this.selectedItems.indexOf(e),n=this.selectedItems.indexOf(t);return i>-1&&n>-1?i-n:n-i})}getData(){return this.items.map(e=>({constant:e.constant,value:e.value,label:e.textLabel,guid:e.guid}))}getNeedsIcon(){return this.selectionMode==="single"&&this.items.some(e=>e.icon)}resetText(){this.textInput&&(this.textInput.value=""),this.text=""}getItems(){return Array.from(this.el.querySelectorAll(q3)).filter(t=>!t.disabled)}getGroupItems(){return Array.from(this.el.querySelectorAll(zC))}addCustomChip(e,t){const i=this.items.find(n=>n.textLabel===e);if(i)this.toggleSelection(i,!0);else{this.isMulti()||this.toggleSelection(this.selectedItems[this.selectedItems.length-1],!1);const n=document.createElement(q3);n.value=e,n.textLabel=e,n.selected=!0,this.el.appendChild(n),this.resetText(),t&&this.setFocus(),this.updateItems(),this.filterItems(""),this.emitCalciteLookupChange(),this.emitComboboxChange()}}removeActiveChip(){this.toggleSelection(this.selectedItems[this.activeChipIndex],!1),this.setFocus()}removeLastChip(){this.toggleSelection(this.selectedItems[this.selectedItems.length-1],!1),this.setFocus()}previousChip(){if(this.text)return;const e=this.selectedItems.length-1,t=this.activeChipIndex;this.activeChipIndex=t===-1?e:Math.max(t-1,0),this.updateActiveItemIndex(-1),this.focusChip()}nextChip(){if(this.text||this.activeChipIndex===-1)return;const e=this.selectedItems.length-1,t=this.activeChipIndex+1;t>e?(this.activeChipIndex=-1,this.setFocus()):(this.activeChipIndex=t,this.focusChip()),this.updateActiveItemIndex(-1)}focusChip(){var e;const t=(e=this.selectedItems[this.activeChipIndex])===null||e===void 0?void 0:e.guid,i=t?this.referenceEl.querySelector(`#${GM}${t}`):null;i==null||i.setFocus()}shiftActiveItemIndex(e){const t=this.visibleItems.length,i=(this.activeItemIndex+t+e)%t;this.updateActiveItemIndex(i);const n=this.visibleItems[this.activeItemIndex],r=this.calculateSingleItemHeight(n),{offsetHeight:a,scrollTop:o}=this.listContainerEl;a+o<n.offsetTop+r?this.listContainerEl.scrollTop=n.offsetTop-a+r:n.offsetTop<o&&(this.listContainerEl.scrollTop=n.offsetTop)}updateActiveItemIndex(e){var t;this.activeItemIndex=e;let i=null;this.visibleItems.forEach((n,r)=>{r===e?(n.active=!0,i=n.guid):n.active=!1}),this.activeDescendant=i,this.activeItemIndex>-1&&(this.activeChipIndex=-1,(t=this.textInput)===null||t===void 0||t.focus())}isMulti(){return this.selectionMode!=="single"}renderChips(){const{activeChipIndex:e,scale:t,selectionMode:i,intlRemoveTag:n}=this;return this.selectedItems.map((r,a)=>{const o={chip:!0,"chip--active":e===a},l=[...[...BM(r)].reverse(),r].map(h=>h.textLabel),u=i!=="ancestors"?r.textLabel:l.join(" / ");return y("calcite-chip",{class:o,dismissLabel:n,dismissible:!0,icon:r.icon,id:r.guid?`${GM}${r.guid}`:null,key:r.textLabel,onCalciteChipDismiss:h=>this.calciteChipDismissHandler(h,r),scale:t,title:u,value:r.value},u)})}renderInput(){const{guid:e,active:t,disabled:i,placeholder:n,selectionMode:r,needsIcon:a,selectedItems:o}=this,s=r==="single",l=o[0],u=!t&&s&&!!l;return y("span",{class:{"input-wrap":!0,"input-wrap--single":s}},u&&y("span",{class:{label:!0,"label--spaced":a},key:"label",onFocus:this.comboboxFocusHandler,tabindex:"0"},l.textLabel),y("input",{"aria-activedescendant":this.activeDescendant,"aria-autocomplete":"list","aria-controls":`${D_}${e}`,"aria-label":Zo(this),class:{input:!0,"input--single":!0,"input--transparent":this.activeChipIndex>-1,"input--hidden":u,"input--icon":s&&a},disabled:i,id:`${WM}${e}`,key:"input",onBlur:this.comboboxBlurHandler,onFocus:this.comboboxFocusHandler,onInput:this.inputHandler,placeholder:n,ref:h=>this.textInput=h,type:"text"}))}renderListBoxOptions(){return this.visibleItems.map(e=>y("li",{"aria-selected":(!!e.selected).toString(),id:e.guid?`${HZ}${e.guid}`:null,role:"option",tabindex:"-1"},e.textLabel))}renderPopperContainer(){const{active:e,setMenuEl:t,setListContainerEl:i}=this,n={"list-container":!0,[Qo.animation]:!0,[Qo.animationActive]:e};return y("div",{"aria-hidden":"true",class:{"popper-container":!0,"popper-container--active":e},ref:t},y("div",{class:n,onTransitionEnd:this.transitionEnd,ref:i},y("ul",{class:{list:!0,"list--hide":!e}},y("slot",null))))}renderIconStart(){const{selectionMode:e,needsIcon:t,selectedItems:i}=this,n=i[0];return e==="single"&&t&&y("span",{class:"icon-start"},(n==null?void 0:n.icon)&&y("calcite-icon",{class:"selected-icon",icon:n.icon,scale:"s"}))}renderIconEnd(){return y("span",{class:"icon-end"},y("calcite-icon",{icon:"chevron-down",scale:"s"}))}render(){const{active:e,guid:t,label:i}=this,n=this.selectionMode==="single";return y(ze,{onKeyDown:this.keydownHandler},y("div",{"aria-autocomplete":"list","aria-expanded":e.toString(),"aria-haspopup":"listbox","aria-labelledby":`${S_}${t}`,"aria-owns":`${D_}${t}`,class:{wrapper:!0,"wrapper--single":n||!this.selectedItems.length,"wrapper--active":e},onClick:this.setFocusClick,ref:this.setReferenceEl,role:"combobox"},y("div",{class:"grid-input"},this.renderIconStart(),!n&&this.renderChips(),y("label",{class:"screen-readers-only",htmlFor:`${WM}${t}`,id:`${S_}${t}`},i),this.renderInput()),this.renderIconEnd()),y("ul",{"aria-labelledby":`${S_}${t}`,"aria-multiselectable":"true",class:"screen-readers-only",id:`${D_}${t}`,role:"listbox",tabIndex:-1},this.renderListBoxOptions()),this.renderPopperContainer(),y(co,{component:this}))}get el(){return this}static get watchers(){return{active:["activeHandler"],disabled:["handleDisabledChange"],maxItems:["maxItemsHandler"],value:["valueHandler"],selectedItems:["selectedItemsHandler"],text:["textHandler"]}}static get style(){return jZ}},va={icon:"icon",iconActive:"icon--active",custom:"icon--custom",dot:"icon--dot",single:"label--single",label:"label",active:"label--active",selected:"label--selected",title:"title",textContainer:"text-container"},BZ=`@charset "UTF-8";@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}.scale--s{font-size:var(--calcite-font-size--2);line-height:1rem;--calcite-combobox-item-spacing-unit-l:0.5rem;--calcite-combobox-item-spacing-unit-s:0.25rem;--calcite-combobox-item-spacing-indent:0.5rem}.scale--m{font-size:var(--calcite-font-size--1);line-height:1rem;--calcite-combobox-item-spacing-unit-l:0.75rem;--calcite-combobox-item-spacing-unit-s:0.5rem;--calcite-combobox-item-spacing-indent:0.75rem}.scale--l{font-size:var(--calcite-font-size-0);line-height:1.25rem;--calcite-combobox-item-spacing-unit-l:1rem;--calcite-combobox-item-spacing-unit-s:0.75rem;--calcite-combobox-item-spacing-indent:1rem}.container{--calcite-combobox-item-indent-value:calc(
    var(--calcite-combobox-item-spacing-indent) * var(--calcite-combobox-item-spacing-indent-multiplier)
  )}:host(:focus){--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host,ul{margin:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding:0px;outline:2px solid transparent;outline-offset:2px}.label{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;width:100%;min-width:100%;cursor:pointer;-ms-flex-align:center;align-items:center;color:var(--calcite-ui-text-3);-webkit-text-decoration-line:none;text-decoration-line:none;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;padding:var(--calcite-combobox-item-spacing-unit-s) var(--calcite-combobox-item-spacing-unit-l)}:host([disabled]) .label{cursor:default}.label--selected{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}.label--active{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.label:hover,.label:active{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1);-webkit-text-decoration-line:none;text-decoration-line:none;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.title{padding:0 var(--calcite-combobox-item-spacing-unit-l)}.icon{display:-ms-inline-flexbox;display:inline-flex;opacity:0;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);color:var(--calcite-ui-border-1)}.icon--indent{-webkit-padding-start:var(--calcite-combobox-item-indent-value);padding-inline-start:var(--calcite-combobox-item-indent-value)}.icon--custom{margin-top:-1px;color:var(--calcite-ui-text-3)}.icon--active{color:var(--calcite-ui-text-1)}.icon--dot{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;width:var(--calcite-combobox-item-spacing-unit-l)}.icon--dot:before{text-align:start;content:"\u2022"}.label--active .icon{opacity:1}.label--selected .icon{opacity:1;color:var(--calcite-ui-brand)}:host(:hover[disabled]) .icon{opacity:1}`,UZ=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteComboboxItemChange=W(this,"calciteComboboxItemChange",7),this.disabled=!1,this.selected=!1,this.active=!1,this.guid=li(),this.scale="m",this.itemClickHandler=e=>{e.preventDefault(),!this.disabled&&(this.selected=!this.selected)}}selectedWatchHandler(){this.calciteComboboxItemChange.emit(this.el)}connectedCallback(){this.ancestors=F9(this.el),this.scale=Kt(this.el,"scale",this.scale),gi(this)}disconnectedCallback(){yi(this)}componentDidRender(){it(this)}async toggleSelected(e){this.disabled||(this.selected=typeof e=="boolean"?e:!this.selected)}renderIcon(e){const{icon:t,disabled:i,selected:n}=this,r=`${va.icon}--indent`,o=i?"circle-disallowed":e?"dot":"check";return e&&!t&&!i?y("span",{class:{[va.icon]:!0,[va.dot]:!0,[r]:!0}}):y("calcite-icon",{class:{[va.icon]:!t,[va.custom]:!!t,[va.iconActive]:t&&n,[r]:!0},icon:t||o,scale:"s"})}renderChildren(){return $e(this.el)?y("ul",{key:"default-slot-container"},y("slot",null)):null}render(){const e=Kt(this.el,"selection-mode","multi")==="single",t={[va.label]:!0,[va.selected]:this.selected,[va.active]:this.active,[va.single]:e},i=N9(this.el);return y(ze,{"aria-hidden":"true"},y("div",{class:`container scale--${this.scale}`,style:{"--calcite-combobox-item-spacing-indent-multiplier":`${i}`}},y("li",{class:t,id:this.guid,onClick:this.itemClickHandler},this.renderIcon(e),y("span",{class:va.title},this.textLabel)),this.renderChildren()))}get el(){return this}static get watchers(){return{selected:["selectedWatchHandler"]}}static get style(){return BZ}},xb={list:"list",label:"label",title:"title"},GZ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}.scale--s{font-size:var(--calcite-font-size--2);line-height:1rem;--calcite-combobox-item-spacing-unit-l:0.5rem;--calcite-combobox-item-spacing-unit-s:0.25rem;--calcite-combobox-item-spacing-indent-1:0.5rem;--calcite-combobox-item-spacing-indent-2:1rem}.scale--m{font-size:var(--calcite-font-size--1);line-height:1rem;--calcite-combobox-item-spacing-unit-l:0.75rem;--calcite-combobox-item-spacing-unit-s:0.5rem;--calcite-combobox-item-spacing-indent-1:0.75rem;--calcite-combobox-item-spacing-indent-2:1.5rem}.scale--l{font-size:var(--calcite-font-size-0);line-height:1.25rem;--calcite-combobox-item-spacing-unit-l:1rem;--calcite-combobox-item-spacing-unit-s:0.75rem;--calcite-combobox-item-spacing-indent-1:1rem;--calcite-combobox-item-spacing-indent-2:2rem}:host,.list{margin:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding:0px;outline:2px solid transparent;outline-offset:2px}.label{-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;width:100%;min-width:0px;max-width:100%;color:var(--calcite-ui-text-3)}.label--indent-1{-webkit-padding-start:var(--calcite-combobox-item-spacing-indent-1);padding-inline-start:var(--calcite-combobox-item-spacing-indent-1)}.label--indent-2{-webkit-padding-start:var(--calcite-combobox-item-spacing-indent-2);padding-inline-start:var(--calcite-combobox-item-spacing-indent-2)}.title{border:0 solid;display:block;-ms-flex:1 1 0%;flex:1 1 0%;border-bottom-width:1px;font-weight:var(--calcite-font-weight-bold);color:var(--calcite-ui-text-2);word-wrap:break-word;word-break:break-word;border-bottom-color:var(--calcite-ui-border-3);padding:var(--calcite-combobox-item-spacing-unit-l) 0;margin-left:var(--calcite-combobox-item-spacing-unit-s);margin-right:var(--calcite-combobox-item-spacing-unit-s)}",WZ=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.guid=li(),this.scale="m"}connectedCallback(){this.ancestors=F9(this.el),this.scale=Kt(this.el,"scale",this.scale)}render(){const{el:e,scale:t}=this,i=`${xb.label}--indent-${N9(e)}`;return y("ul",{"aria-labelledby":this.guid,class:{[xb.list]:!0,[`scale--${t}`]:!0},role:"group"},y("li",{class:{[xb.label]:!0,[i]:!0},id:this.guid,role:"presentation"},y("span",{class:xb.title},this.label)),y("slot",null))}get el(){return this}static get style(){return GZ}};function JZ(e){return e==="Enter"||e===" "}const Pp=["0","1","2","3","4","5","6","7","8","9"];function Pt(e){return!(!e||isNaN(Number(e)))}function KZ(e){return!e||!QZ(e)?"":Wx(e,t=>{let i=!1;const n=t.split("").filter((r,a)=>r.match(/\./g)&&!i?(i=!0,!0):r.match(/\-/g)&&a===0?!0:Pp.includes(r)).reduce((r,a)=>r+a);return Pt(n)?Number(n).toString():null})}function z9(e){const t=/(?!^\.)\.$/;return e.replace(t,"")}function YZ(e){const t=/(?!^-)-/g;return e.replace(t,"")}function ZZ(e){const t=/^([-0])0+(?=\d)/;return e.replace(t,"$1")}function XZ(e){return Wx(e,t=>{const i=YZ(z9(ZZ(t))),n=/^-\b0\b\.?0*$/;return Pt(i)?n.test(i)?i:Number(i).toString():t})}function Wx(e,t){if(!e)return e;const i=e.toLowerCase().indexOf("e")+1;return e.replace(/[eE]*$/g,"").substring(0,i).concat(e.slice(i).replace(/[eE]/g,"")).split(/[eE]/).map((n,r)=>t(r===1?n.replace(/\./g,""):n)).join("e").replace(/^e/,"1e")}function QZ(e){return Pp.some(t=>e.includes(t))}const $_=["ar","bg","bs","ca","cs","da","de","de-CH","el","en","en-AU","en-CA","en-GB","es","es-MX","et","fi","fr","fr-CH","he","hi","hr","hu","id","it","it-CH","ja","ko","lt","lv","mk","nb","nl","pl","pt","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"];function jC(e){return new Intl.NumberFormat(e,{minimumFractionDigits:0,maximumFractionDigits:20})}function JM(e,t){return Wx(e,i=>{if(i){const n=j9(t),r=VC(t),a=i.split(""),o=a.lastIndexOf(r),s=a.map((l,u)=>l===n||l===r&&u!==o?"":l).reduce((l,u)=>l+u).replace(r,".");return isNaN(Number(s))?i:s}return i})}function j9(e){const n=jC(e).formatToParts(12345678e-1).find(r=>r.type==="group").value;return n.trim().length===0?" ":n}function VC(e){const n=jC(e).formatToParts(12345678e-1).find(r=>r.type==="decimal").value;return n.trim().length===0?" ":n}function KM(e,t,i=!1){return Wx(e,n=>{if(n){const r=Number(z9(n));return isNaN(r)?n:jC(t).formatToParts(r).map(({type:l,value:u})=>{switch(l){case"group":return i?j9(t):"";case"decimal":return VC(t);default:return u}}).reduce((l,u)=>l+u)}})}function eX(e=""){return $_.indexOf(e)>-1?e:(e=e.toLowerCase(),e.includes("-")&&(e=e.replace(/(\w+)-(\w+)/,(t,i,n)=>`${i}-${n.toUpperCase()}`),$_.includes(e)||(e=e.split("-")[0])),$_.includes(e)?e:"en")}const C_={},I_={};async function HC(e){const t=eX(e);if(C_[t])return C_[t];I_[t]||(I_[t]=fetch(YF(`./assets/date-picker/nls/${t}.json`)).then(n=>n.json()).catch(()=>(console.error(`Translations for "${t}" not found or invalid, falling back to english`),HC("en"))));const i=await I_[t];return C_[t]=i,i}function V9(e,t,i){const n=e.getTime(),r=!(t instanceof Date)||n>=t.getTime(),a=!(i instanceof Date)||n<=i.getTime();return r&&a}function Sn(e,t,i){if(!(e instanceof Date))return null;const n=e.getTime(),r=t instanceof Date&&n<t.getTime(),a=i instanceof Date&&n>i.getTime();return r?t:a?i:e}function zt(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;const t=e.split(/[: T-]/).map(parseFloat),i=new Date(t[0],(t[1]||1)-1,t[2]||1);if(i.setFullYear(t[0]),isNaN(i.getTime()))throw new Error(`Invalid ISO 8601 date: "${e}"`);return i}function Ks(e){return typeof e=="string"?e:e instanceof Date?new Date(e.getTime()-e.getTimezoneOffset()*6e4).toISOString().split("T")[0]:""}function Ai(e,t){return e instanceof Date&&t instanceof Date&&e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function tX(e){const t=e.getMonth(),i=new Date(e);return i.setMonth(t-1),t===i.getMonth()?new Date(e.getFullYear(),t,0):i}function iX(e){const t=e.getMonth(),i=new Date(e);return i.setMonth(t+1),(t+2)%7===i.getMonth()%7?new Date(e.getFullYear(),t+2,0):i}function E_(e,t){return String(e).split("").map(i=>t.numerals[i]).join("")}function nX(e,t){const i="0123456789";return parseInt(e.split("").map(n=>i[t.numerals.indexOf(n)]).filter(n=>n).join(""))}function rX(e,t){const{separator:i,unitOrder:n}=t,r=H9(n),a=aX(e).split(i);return{day:parseInt(a[r.indexOf("d")]),month:parseInt(a[r.indexOf("m")])-1,year:parseInt(a[r.indexOf("y")])}}function aX(e=""){return e.replace(/[\u0660-\u0669]/g,t=>t.charCodeAt(0)-1632).replace(/[\u06f0-\u06f9]/g,t=>t.charCodeAt(0)-1776)}function H9(e){const t=["d","m","y"],i=e.toLowerCase();return t.sort((n,r)=>i.indexOf(n)-i.indexOf(r))}function kb(e,t){const i=e.getTime(),n=t.getTime();return(i-n)/(1e3*3600*24)}const oX=2,Lp={nextMonth:"Next month",prevMonth:"Previous month",year:"Year"},sX="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:inline-block;width:100%;overflow:visible;border-radius:0px;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-2);background-color:var(--calcite-ui-foreground-1);vertical-align:top}:host([scale=s]){max-width:216px}:host([scale=m]){max-width:286px}:host([scale=l]){max-width:398px}",lX=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteDatePickerChange=W(this,"calciteDatePickerChange",7),this.calciteDatePickerRangeChange=W(this,"calciteDatePickerRangeChange",7),this.intlPrevMonth=Lp.prevMonth,this.intlNextMonth=Lp.nextMonth,this.intlYear=Lp.year,this.locale=document.documentElement.lang||"en",this.scale="m",this.range=!1,this.proximitySelectionDisabled=!1,this.keyUpHandler=e=>{e.key==="Escape"&&this.reset()},this.monthHeaderSelectChange=e=>{const t=new Date(e.detail);this.range?(this.activeRange==="end"?this.activeEndDate=t:this.activeStartDate=t,this.mostRecentRangeValue=t):this.activeDate=t},this.monthActiveDateChange=e=>{const t=new Date(e.detail);this.range?(this.activeRange==="end"?this.activeEndDate=t:this.activeStartDate=t,this.mostRecentRangeValue=t):this.activeDate=t},this.monthHoverChange=e=>{if(!this.startAsDate){this.hoverRange=void 0;return}const t=new Date(e.detail);if(this.hoverRange={focused:this.activeRange||"start",start:this.startAsDate,end:this.endAsDate},this.proximitySelectionDisabled)this.endAsDate?this.hoverRange=void 0:t<this.startAsDate?this.hoverRange={focused:"start",start:t,end:this.startAsDate}:(this.hoverRange.end=t,this.hoverRange.focused="end");else if(this.endAsDate){const i=kb(t,this.startAsDate),n=kb(t,this.endAsDate);n>0?(this.hoverRange.end=t,this.hoverRange.focused="end"):i<0?(this.hoverRange.start=t,this.hoverRange.focused="start"):i>n?(this.hoverRange.start=t,this.hoverRange.focused="start"):(this.hoverRange.end=t,this.hoverRange.focused="end")}else t<this.startAsDate?this.hoverRange={focused:"start",start:t,end:this.startAsDate}:(this.hoverRange.end=t,this.hoverRange.focused="end")},this.monthMouseOutChange=()=>{this.hoverRange&&(this.hoverRange=void 0)},this.reset=()=>{var e,t,i,n,r,a;!Array.isArray(this.valueAsDate)&&this.valueAsDate&&((e=this.valueAsDate)===null||e===void 0?void 0:e.getTime())!==((t=this.activeDate)===null||t===void 0?void 0:t.getTime())&&(this.activeDate=new Date(this.valueAsDate)),this.startAsDate&&((i=this.startAsDate)===null||i===void 0?void 0:i.getTime())!==((n=this.activeStartDate)===null||n===void 0?void 0:n.getTime())&&(this.activeStartDate=new Date(this.startAsDate)),this.endAsDate&&((r=this.endAsDate)===null||r===void 0?void 0:r.getTime())!==((a=this.activeEndDate)===null||a===void 0?void 0:a.getTime())&&(this.activeEndDate=new Date(this.endAsDate))},this.monthDateChange=e=>{const t=new Date(e.detail);if(!this.range){this.value=t?Ks(t):"",this.valueAsDate=t||null,this.activeDate=t||null,this.calciteDatePickerChange.emit(t);return}if(!this.startAsDate||!this.endAsDate&&t<this.startAsDate)this.startAsDate&&this.setEndDate(new Date(this.startAsDate)),this.activeRange=="end"?this.setEndDate(t):this.setStartDate(t);else if(!this.endAsDate)this.setEndDate(t);else if(this.proximitySelectionDisabled)this.setStartDate(t),this.endAsDate=this.activeEndDate=this.end=void 0;else if(this.activeRange)this.activeRange=="end"?this.setEndDate(t):this.setStartDate(t);else{const i=kb(t,this.startAsDate),n=kb(t,this.endAsDate);n===0||i<0?this.setStartDate(t):i===0||n<0?this.setEndDate(t):i<n?this.setStartDate(t):this.setEndDate(t)}this.calciteDatePickerChange.emit(t)}}handleValueAsDate(e){!Array.isArray(e)&&e&&e!==this.activeDate&&(this.activeDate=e)}handleRangeChange(){const{startAsDate:e,endAsDate:t}=this;this.activeEndDate=t,this.activeStartDate=e}onMinChanged(e){this.minAsDate=zt(e)}onMaxChanged(e){this.maxAsDate=zt(e)}connectedCallback(){Array.isArray(this.value)?(this.valueAsDate=this.value.map(e=>zt(e)),this.start=this.value[0],this.end=this.value[1]):this.value&&(this.valueAsDate=zt(this.value)),this.start&&this.setStartAsDate(zt(this.start)),this.end&&this.setEndAsDate(zt(this.end)),this.min&&(this.minAsDate=zt(this.min)),this.max&&(this.maxAsDate=zt(this.max))}async componentWillLoad(){await this.loadLocaleData(),this.onMinChanged(this.min),this.onMaxChanged(this.max)}render(){var e;const t=Sn(this.range?this.startAsDate:this.valueAsDate,this.minAsDate,this.maxAsDate);let n=this.range?this.getActiveStartDate(t,this.minAsDate,this.maxAsDate):this.getActiveDate(t,this.minAsDate,this.maxAsDate);const r=this.range?Sn(this.endAsDate,this.minAsDate,this.maxAsDate):null,a=this.getActiveEndDate(r,this.minAsDate,this.maxAsDate);(this.activeRange==="end"||((e=this.hoverRange)===null||e===void 0?void 0:e.focused)==="end"&&(!this.proximitySelectionDisabled||r))&&a&&(n=a),this.range&&this.mostRecentRangeValue&&(n=this.mostRecentRangeValue);const o=this.range&&this.activeRange?this.activeRange==="start"?this.minAsDate:t||this.minAsDate:this.minAsDate,s=this.range&&this.activeRange?this.activeRange==="start"?r||this.maxAsDate:this.maxAsDate:this.maxAsDate;return y(ze,{onBlur:this.reset,onKeyUp:this.keyUpHandler,role:"application"},this.renderCalendar(n,s,o,t,r))}valueHandler(e){Array.isArray(e)?(this.valueAsDate=e.map(t=>zt(t)),this.start=e[0],this.end=e[1]):e&&(this.valueAsDate=zt(e),this.start="",this.end="")}startWatcher(e){this.setStartAsDate(zt(e))}endWatcher(e){this.setEndAsDate(zt(e))}async loadLocaleData(){if(!qc.isBrowser)return;const{locale:e}=this;this.localeData=await HC(e)}renderCalendar(e,t,i,n,r){return this.localeData&&[y("calcite-date-picker-month-header",{activeDate:e,headingLevel:this.headingLevel||oX,intlNextMonth:this.intlNextMonth,intlPrevMonth:this.intlPrevMonth,intlYear:this.intlYear,localeData:this.localeData,max:t,min:i,onCalciteDatePickerSelect:this.monthHeaderSelectChange,scale:this.scale,selectedDate:this.activeRange==="end"?r:n||new Date}),y("calcite-date-picker-month",{activeDate:e,endDate:this.range?r:void 0,hoverRange:this.hoverRange,localeData:this.localeData,max:t,min:i,onCalciteDatePickerActiveDateChange:this.monthActiveDateChange,onCalciteDatePickerHover:this.monthHoverChange,onCalciteDatePickerMouseOut:this.monthMouseOutChange,onCalciteDatePickerSelect:this.monthDateChange,scale:this.scale,selectedDate:this.activeRange==="end"?r:n,startDate:this.range?n:void 0})]}setStartAsDate(e,t){this.startAsDate=e,this.mostRecentRangeValue=this.startAsDate,t&&this.calciteDatePickerRangeChange.emit({startDate:e,endDate:this.endAsDate})}setEndAsDate(e,t){this.endAsDate=e,this.mostRecentRangeValue=this.endAsDate,t&&this.calciteDatePickerRangeChange.emit({startDate:this.startAsDate,endDate:e})}setEndDate(e){this.end=e?Ks(e):"",this.setEndAsDate(e,!0),this.activeEndDate=e||null}setStartDate(e){this.start=e?Ks(e):"",this.setStartAsDate(e,!0),this.activeStartDate=e||null}getActiveDate(e,t,i){return Sn(this.activeDate,t,i)||e||Sn(new Date,t,i)}getActiveStartDate(e,t,i){return Sn(this.activeStartDate,t,i)||e||Sn(new Date,t,i)}getActiveEndDate(e,t,i){return Sn(this.activeEndDate,t,i)||e||Sn(new Date,t,i)}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{valueAsDate:["handleValueAsDate"],startAsDate:["handleRangeChange"],endAsDate:["handleRangeChange"],min:["onMinChanged"],max:["onMaxChanged"],value:["valueHandler"],start:["startWatcher"],end:["endWatcher"],locale:["loadLocaleData"]}}static get style(){return sX}},cX="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;min-width:0px;cursor:pointer;-ms-flex-pack:center;justify-content:center;color:var(--calcite-ui-text-3);width:14.2857142857%}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.day-v-wrapper{-ms-flex:1 1 auto;flex:1 1 auto}.day-wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center}.day{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;border-radius:9999px;font-size:var(--calcite-font-size--2);line-height:1rem;line-height:1;color:var(--calcite-ui-text-3);opacity:var(--calcite-ui-opacity-disabled);-webkit-transition-property:all;transition-property:all;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transition-duration:150ms;transition-duration:150ms;background:none;-webkit-box-shadow:0 0 0 2px transparent, 0 0 0 0px transparent;box-shadow:0 0 0 2px transparent, 0 0 0 0px transparent}.text{margin-top:1px;margin-right:0px;margin-bottom:0px;margin-left:1px}:host([scale=s]) .day-v-wrapper{padding-top:0.125rem;padding-bottom:0.125rem}:host([scale=s]) .day-wrapper{padding:0px}:host([scale=s]) .day{height:27px;width:27px;font-size:var(--calcite-font-size--2)}:host([scale=m]) .day-v-wrapper{padding-top:0.25rem;padding-bottom:0.25rem}:host([scale=m]) .day-wrapper{padding-left:0.25rem;padding-right:0.25rem}:host([scale=m]) .day{height:33px;width:33px;font-size:var(--calcite-font-size--1)}:host([scale=l]) .day-v-wrapper{padding-top:0.25rem;padding-bottom:0.25rem}:host([scale=l]) .day-wrapper{padding-left:0.25rem;padding-right:0.25rem}:host([scale=l]) .day{height:43px;width:43px;font-size:var(--calcite-font-size-0)}:host([current-month]) .day{opacity:1}:host(:hover:not([disabled])) .day,:host([active]:not([range])) .day{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}:host(:focus),:host([active]){outline:2px solid transparent;outline-offset:2px;z-index:1}:host(:focus:not([disabled])) .day{-webkit-box-shadow:0 0 0 2px var(--calcite-ui-foreground-1), 0 0 0 4px var(--calcite-ui-brand);box-shadow:0 0 0 2px var(--calcite-ui-foreground-1), 0 0 0 4px var(--calcite-ui-brand)}:host([selected]) .day{font-weight:var(--calcite-font-weight-medium);background-color:var(--calcite-ui-brand) !important;color:var(--calcite-ui-foreground-1) !important;z-index:1}:host([range][selected]) .day-wrapper{background-color:var(--calcite-ui-foreground-current)}:host([start-of-range]) .day-wrapper{border-start-start-radius:40%;border-end-start-radius:40%}:host([end-of-range]) .day-wrapper{border-start-end-radius:40%;border-end-end-radius:40%}:host([start-of-range]) :not(.calcite--rtl) .day-wrapper,:host([end-of-range]) .calcite--rtl .day-wrapper{-webkit-box-shadow:inset 4px 0 var(--calcite-ui-foreground-1);box-shadow:inset 4px 0 var(--calcite-ui-foreground-1)}:host([start-of-range]) :not(.calcite--rtl) .day,:host([end-of-range]) .calcite--rtl .day{opacity:1}:host([start-of-range]:not(:focus)) :not(.calcite--rtl) .day,:host([end-of-range]:not(:focus)) .calcite--rtl .day{-webkit-box-shadow:0 0 0 2px var(--calcite-ui-foreground-1);box-shadow:0 0 0 2px var(--calcite-ui-foreground-1)}:host([end-of-range]) :not(.calcite--rtl) .day-wrapper,:host([start-of-range]) .calcite--rtl .day-wrapper{-webkit-box-shadow:inset -4px 0 var(--calcite-ui-foreground-1);box-shadow:inset -4px 0 var(--calcite-ui-foreground-1)}:host([end-of-range]) :not(.calcite--rtl) .day,:host([start-of-range]) .calcite--rtl .day{opacity:1}:host([end-of-range]:not(:focus)) :not(.calcite--rtl) .day,:host([start-of-range]:not(:focus)) .calcite--rtl .day{-webkit-box-shadow:0 0 0 2px var(--calcite-ui-foreground-1);box-shadow:0 0 0 2px var(--calcite-ui-foreground-1)}:host([end-of-range][scale=l]) :not(.calcite--rtl) .day-wrapper,:host([start-of-range][scale=l]) .calcite--rtl .day-wrapper{-webkit-box-shadow:inset -8px 0 var(--calcite-ui-foreground-1);box-shadow:inset -8px 0 var(--calcite-ui-foreground-1)}:host([start-of-range][scale=l]) :not(.calcite--rtl) .day-wrapper,:host([end-of-range][scale=l]) .calcite--rtl .day-wrapper{-webkit-box-shadow:inset 8px 0 var(--calcite-ui-foreground-1);box-shadow:inset 8px 0 var(--calcite-ui-foreground-1)}:host([highlighted]) .day-wrapper{background-color:var(--calcite-ui-foreground-current)}:host([highlighted]) .day-wrapper .day{color:var(--calcite-ui-text-1)}:host([highlighted]:not([active]:focus)) .day{border-radius:0px;color:var(--calcite-ui-text-1)}:host([range-hover]:not([selected])) .day-wrapper{background-color:var(--calcite-ui-foreground-2)}:host([range-hover]:not([selected])) .day{border-radius:0px}:host([end-of-range][range-hover]) :not(.calcite--rtl) .day-wrapper,:host([start-of-range][range-hover]) .calcite--rtl .day-wrapper{background-image:-webkit-gradient(linear, left top, right top, from(var(--calcite-ui-foreground-current)), color-stop(var(--calcite-ui-foreground-current)), color-stop(var(--calcite-ui-foreground-2)), to(var(--calcite-ui-foreground-2)));background-image:linear-gradient(to right, var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-2));border-radius:0px;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([start-of-range][range-hover]) :not(.calcite--rtl) .day-wrapper,:host([end-of-range][range-hover]) .calcite--rtl .day-wrapper{background-image:-webkit-gradient(linear, right top, left top, from(var(--calcite-ui-foreground-current)), color-stop(var(--calcite-ui-foreground-current)), color-stop(var(--calcite-ui-foreground-2)), to(var(--calcite-ui-foreground-2)));background-image:linear-gradient(to left, var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-2));border-radius:0px;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host(:hover[end-of-range][range-hover]) :not(.calcite--rtl) .day-wrapper,:host(:hover[start-of-range][range-hover]) .calcite--rtl .day-wrapper{background-image:-webkit-gradient(linear, left top, right top, from(var(--calcite-ui-foreground-current)), color-stop(var(--calcite-ui-foreground-current)), color-stop(var(--calcite-ui-foreground-1)), to(var(--calcite-ui-foreground-1)));background-image:linear-gradient(to right, var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-1), var(--calcite-ui-foreground-1));border-radius:0px;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host(:hover[start-of-range][range-hover]) :not(.calcite--rtl) .day-wrapper,:host(:hover[end-of-range][range-hover]) .calcite--rtl .day-wrapper{background-image:-webkit-gradient(linear, right top, left top, from(var(--calcite-ui-foreground-current)), color-stop(var(--calcite-ui-foreground-current)), color-stop(var(--calcite-ui-foreground-1)), to(var(--calcite-ui-foreground-1)));background-image:linear-gradient(to left, var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-1), var(--calcite-ui-foreground-1));border-radius:0px;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host(:hover[range-hover]:not([selected]).focused--end) :not(.calcite--rtl) .day-wrapper,:host(:hover[range-hover]:not([selected]).focused--start) .calcite--rtl .day-wrapper{background-image:-webkit-gradient(linear, left top, right top, from(var(--calcite-ui-foreground-2)), color-stop(var(--calcite-ui-foreground-2)), color-stop(var(--calcite-ui-foreground-current)), to(var(--calcite-ui-foreground-current)));background-image:linear-gradient(to right, var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-current))}:host(:hover[range-hover]:not([selected]).focused--end) :not(.calcite--rtl) .day,:host(:hover[range-hover]:not([selected]).focused--start) .calcite--rtl .day{border-radius:9999px;opacity:1;-webkit-box-shadow:0 0 0 2px var(--calcite-ui-foreground-1);box-shadow:0 0 0 2px var(--calcite-ui-foreground-1)}:host(:hover[range-hover]:not([selected]).focused--start) :not(.calcite--rtl) .day-wrapper,:host(:hover[range-hover]:not([selected]).focused--end) .calcite--rtl .day-wrapper{background-image:-webkit-gradient(linear, left top, right top, from(var(--calcite-ui-foreground-current)), color-stop(var(--calcite-ui-foreground-current)), color-stop(var(--calcite-ui-foreground-2)), to(var(--calcite-ui-foreground-2)));background-image:linear-gradient(to right, var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-2))}:host(:hover[range-hover]:not([selected]).focused--start) :not(.calcite--rtl) .day,:host(:hover[range-hover]:not([selected]).focused--end) .calcite--rtl .day{border-radius:9999px;opacity:1;-webkit-box-shadow:0 0 0 2px var(--calcite-ui-foreground-1);box-shadow:0 0 0 2px var(--calcite-ui-foreground-1)}:host(:hover[range-hover]:not([selected]).focused--start.hover--outside-range) :not(.calcite--rtl) .day-wrapper,:host(:hover[range-hover]:not([selected]).focused--end.hover--outside-range) .calcite--rtl .day-wrapper{background-image:-webkit-gradient(linear, left top, right top, from(var(--calcite-ui-foreground-1)), color-stop(var(--calcite-ui-foreground-1)), color-stop(var(--calcite-ui-foreground-2)), to(var(--calcite-ui-foreground-2)));background-image:linear-gradient(to right, var(--calcite-ui-foreground-1), var(--calcite-ui-foreground-1), var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-2))}:host(:hover[range-hover]:not([selected]).focused--start.hover--outside-range) :not(.calcite--rtl) .day,:host(:hover[range-hover]:not([selected]).focused--end.hover--outside-range) .calcite--rtl .day{border-radius:9999px;opacity:1;-webkit-box-shadow:0 0 0 2px var(--calcite-ui-foreground-1);box-shadow:0 0 0 2px var(--calcite-ui-foreground-1)}:host(:hover[range-hover]:not([selected]).focused--end.hover--outside-range) :not(.calcite--rtl) .day-wrapper,:host(:hover[range-hover]:not([selected]).focused--start.hover--outside-range) .calcite--rtl .day-wrapper{background-image:-webkit-gradient(linear, left top, right top, from(var(--calcite-ui-foreground-2)), color-stop(var(--calcite-ui-foreground-2)), color-stop(var(--calcite-ui-foreground-1)), to(var(--calcite-ui-foreground-1)));background-image:linear-gradient(to right, var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-1), var(--calcite-ui-foreground-1))}:host(:hover[range-hover]:not([selected]).focused--end.hover--outside-range) :not(.calcite--rtl) .day,:host(:hover[range-hover]:not([selected]).focused--start.hover--outside-range) .calcite--rtl .day{border-radius:9999px;opacity:1;-webkit-box-shadow:0 0 0 2px var(--calcite-ui-foreground-1);box-shadow:0 0 0 2px var(--calcite-ui-foreground-1)}:host(:hover[start-of-range].hover--inside-range.focused--end) .day-wrapper,:host(:hover[end-of-range].hover--inside-range.focused--start) .day-wrapper{background-image:none}:host([start-of-range].hover--inside-range.focused--end) .day-wrapper,:host([end-of-range].hover--inside-range.focused--start) .day-wrapper{background-color:var(--calcite-ui-foreground-2)}:host([highlighted]:last-child) :not(.calcite--rtl) .day-wrapper,:host([range-hover]:last-child) :not(.calcite--rtl) .day-wrapper,:host([highlighted]:first-child) .calcite--rtl .day-wrapper,:host([range-hover]:first-child) .calcite--rtl .day-wrapper{-webkit-box-shadow:inset -4px 0px 0px 0px var(--calcite-ui-foreground-1);box-shadow:inset -4px 0px 0px 0px var(--calcite-ui-foreground-1)}:host([highlighted]:first-child) :not(.calcite--rtl) .day-wrapper,:host([range-hover]:first-child) :not(.calcite--rtl) .day-wrapper,:host([highlighted]:last-child) .calcite--rtl .day-wrapper,:host([range-hover]:last-child) .calcite--rtl .day-wrapper{-webkit-box-shadow:inset 4px 0px 0px 0px var(--calcite-ui-foreground-1);box-shadow:inset 4px 0px 0px 0px var(--calcite-ui-foreground-1)}:host([scale=s][highlighted]:last-child) :not(.calcite--rtl) .day-wrapper,:host([scale=s][range-hover]:last-child) :not(.calcite--rtl) .day-wrapper,:host([scale=s][highlighted]:first-child) .calcite--rtl .day-wrapper,:host([scale=s][range-hover]:first-child) .calcite--rtl .day-wrapper{-webkit-box-shadow:inset -1px 0px 0px 0px var(--calcite-ui-foreground-1);box-shadow:inset -1px 0px 0px 0px var(--calcite-ui-foreground-1)}:host([scale=s][highlighted]:first-child) :not(.calcite--rtl) .day-wrapper,:host([scale=s][range-hover]:first-child) :not(.calcite--rtl) .day-wrapper,:host([scale=s][highlighted]:last-child) .calcite--rtl .day-wrapper,:host([scale=s][range-hover]:last-child) .calcite--rtl .day-wrapper{-webkit-box-shadow:inset 1px 0px 0px 0px var(--calcite-ui-foreground-1);box-shadow:inset 1px 0px 0px 0px var(--calcite-ui-foreground-1)}:host([scale=l][highlighted]:first-child) :not(.calcite--rtl) .day-wrapper,:host([scale=l][range-hover]:first-child) :not(.calcite--rtl) .day-wrapper,:host([scale=l][highlighted]:last-child) .calcite--rtl .day-wrapper,:host([scale=l][range-hover]:last-child) .calcite--rtl .day-wrapper{-webkit-box-shadow:inset 6px 0px 0px 0px var(--calcite-ui-foreground-1);box-shadow:inset 6px 0px 0px 0px var(--calcite-ui-foreground-1)}:host([highlighted]:first-child) .day-wrapper,:host([range-hover]:first-child) .day-wrapper{border-start-start-radius:45%;border-end-start-radius:45%}:host([highlighted]:last-child) .day-wrapper,:host([range-hover]:last-child) .day-wrapper{border-start-end-radius:45%;border-end-end-radius:45%}:host([scale=l][highlighted]:last-child) :not(.calcite--rtl) .day-wrapper,:host([scale=l][range-hover]:last-child) :not(.calcite--rtl) .day-wrapper,:host([scale=l][highlighted]:first-child) .calcite--rtl .day-wrapper,:host([scale=l][range-hover]:first-child) .calcite--rtl .day-wrapper{-webkit-box-shadow:inset -6px 0px 0px 0px var(--calcite-ui-foreground-1);box-shadow:inset -6px 0px 0px 0px var(--calcite-ui-foreground-1)}@media (forced-colors: active){:host(:hover:not([disabled])) .day,:host([active]:not([range])) .day{border-radius:0px}:host([selected]){outline:2px solid canvasText;z-index:1}:host([selected]) .day{border-radius:0px}:host([selected]) .day{background-color:highlight}:host([range][selected]) .day-wrapper,:host([highlighted]) .day-wrapper,:host([range-hover]:not([selected])) .day-wrapper{background-color:highlight}:host([range][selected][start-of-range]) .day-wrapper,:host([range][selected][end-of-range]) .day-wrapper{background-color:canvas}}",uX=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteDaySelect=W(this,"calciteDaySelect",7),this.calciteDayHover=W(this,"calciteDayHover",7),this.disabled=!1,this.currentMonth=!1,this.selected=!1,this.highlighted=!1,this.range=!1,this.startOfRange=!1,this.endOfRange=!1,this.rangeHover=!1,this.active=!1,this.onClick=()=>{!this.disabled&&this.calciteDaySelect.emit()},this.keyDownHandler=e=>{const t=e.key;(t===" "||t==="Enter")&&!this.disabled&&this.calciteDaySelect.emit()}}mouseoverHandler(){this.calciteDayHover.emit({disabled:this.disabled})}render(){const e=String(this.day).split("").map(i=>this.localeData.numerals[i]).join(""),t=Fi(this.el);return y(ze,{onClick:this.onClick,onKeyDown:this.keyDownHandler,role:"gridcell"},y("div",{class:{"day-v-wrapper":!0,[Bo.rtl]:t==="rtl"}},y("div",{class:"day-wrapper"},y("span",{class:"day"},y("span",{class:"text"},e)))))}componentDidRender(){it(this,this.isTabbable)}isTabbable(){return this.active}get el(){return this}static get style(){return cX}},dX="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}.calender{margin-bottom:0.25rem}.week-headers{display:-ms-flexbox;display:flex;border-width:0px;border-top-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);padding-top:0px;padding-bottom:0px;padding-left:0.25rem;padding-right:0.25rem}.week-header{text-align:center;font-weight:var(--calcite-font-weight-bold);color:var(--calcite-ui-text-3);width:14.2857142857%}:host([scale=s]) .week-header{padding-left:0px;padding-right:0px;padding-top:0.5rem;padding-bottom:0.75rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=m]) .week-header{padding-left:0px;padding-right:0px;padding-top:0.75rem;padding-bottom:1rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=l]) .week-header{padding-left:0px;padding-right:0px;padding-top:1rem;padding-bottom:1.25rem;font-size:var(--calcite-font-size--1);line-height:1rem}.week-days{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;padding-top:0px;padding-bottom:0px;padding-left:6px;padding-right:6px}.week-days:focus{outline:2px solid transparent;outline-offset:2px}",hX=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteDatePickerSelect=W(this,"calciteDatePickerSelect",7),this.calciteDatePickerHover=W(this,"calciteDatePickerHover",7),this.calciteDatePickerActiveDateChange=W(this,"calciteDatePickerActiveDateChange",7),this.calciteDatePickerMouseOut=W(this,"calciteDatePickerMouseOut",7),this.activeDate=new Date,this.keyDownHandler=e=>{const t=this.el.dir==="rtl";switch(e.key){case"ArrowUp":e.preventDefault(),this.addDays(-7);break;case"ArrowRight":e.preventDefault(),this.addDays(t?-1:1);break;case"ArrowDown":e.preventDefault(),this.addDays(7);break;case"ArrowLeft":e.preventDefault(),this.addDays(t?1:-1);break;case"PageUp":e.preventDefault(),this.addMonths(-1);break;case"PageDown":e.preventDefault(),this.addMonths(1);break;case"Home":e.preventDefault(),this.activeDate.setDate(1),this.addDays();break;case"End":e.preventDefault(),this.activeDate.setDate(new Date(this.activeDate.getFullYear(),this.activeDate.getMonth()+1,0).getDate()),this.addDays();break;case"Enter":case" ":e.preventDefault();break;case"Tab":this.activeFocus=!1}},this.disableActiveFocus=()=>{this.activeFocus=!1},this.dayHover=e=>{const t=e.target;e.detail.disabled?this.calciteDatePickerMouseOut.emit():this.calciteDatePickerHover.emit(t.value)},this.daySelect=e=>{const t=e.target;this.calciteDatePickerSelect.emit(t.value)}}mouseoutHandler(){this.calciteDatePickerMouseOut.emit()}render(){const e=this.activeDate.getMonth(),t=this.activeDate.getFullYear(),i=this.localeData.weekStart%7,{abbreviated:n,short:r,narrow:a}=this.localeData.days,o=this.scale==="s"?a||r||n:r||n||a,s=[...o.slice(i,7),...o.slice(0,i)],l=this.getCurrentMonthDays(e,t),u=this.getPrevMonthdays(e,t,i),h=this.getNextMonthDays(e,t,i),m=[...u.map(g=>{const b=new Date(t,e-1,g);return this.renderDateDay(!1,g,b)}),...l.map(g=>{const b=new Date(t,e,g),v=Ai(b,this.activeDate);return this.renderDateDay(v,g,b,!0,!0)}),...h.map(g=>{const b=new Date(t,e+1,g);return this.renderDateDay(!1,g,b)})],f=[];for(let g=0;g<m.length;g+=7)f.push(m.slice(g,g+7));return y(ze,{onFocusOut:this.disableActiveFocus,onKeyDown:this.keyDownHandler},y("div",{class:"calender",role:"grid"},y("div",{class:"week-headers",role:"row"},s.map(g=>y("span",{class:"week-header",role:"columnheader"},g))),f.map(g=>y("div",{class:"week-days",role:"row"},g))))}addMonths(e){const t=new Date(this.activeDate);t.setMonth(this.activeDate.getMonth()+e),this.calciteDatePickerActiveDateChange.emit(Sn(t,this.min,this.max)),this.activeFocus=!0}addDays(e=0){const t=new Date(this.activeDate);t.setDate(this.activeDate.getDate()+e),this.calciteDatePickerActiveDateChange.emit(Sn(t,this.min,this.max)),this.activeFocus=!0}getPrevMonthdays(e,t,i){const n=new Date(t,e,0),r=n.getDate(),a=n.getDay(),o=[];if(a-6===i)return o;for(let s=n.getDay();s>=i;s--)o.push(r-s);return o}getCurrentMonthDays(e,t){const i=new Date(t,e+1,0).getDate(),n=[];for(let r=0;r<i;r++)n.push(r+1);return n}getNextMonthDays(e,t,i){const n=new Date(t,e+1,0).getDay(),r=[];if(n===(i+6)%7)return r;for(let a=0;a<(6-(n-i))%7;a++)r.push(a+1);return r}betweenSelectedRange(e){return!!(this.startDate&&this.endDate&&e>this.startDate&&e<this.endDate&&!this.isRangeHover(e))}isSelected(e){return!!(Ai(e,this.selectedDate)||this.startDate&&Ai(e,this.startDate)||this.endDate&&Ai(e,this.endDate))}isStartOfRange(e){return!!(this.startDate&&!Ai(this.startDate,this.endDate)&&Ai(this.startDate,e)&&!this.isEndOfRange(e))}isEndOfRange(e){return!!(this.endDate&&!Ai(this.startDate,this.endDate)&&Ai(this.endDate,e)||!this.endDate&&this.hoverRange&&Ai(this.startDate,this.hoverRange.end)&&Ai(e,this.hoverRange.end))}renderDateDay(e,t,i,n,r){var a;const o=this.isFocusedOnStart(),s=this.isHoverInRange()||!this.endDate&&this.hoverRange&&Ai((a=this.hoverRange)===null||a===void 0?void 0:a.end,this.startDate);return y("calcite-date-picker-day",{active:e,class:{"hover--inside-range":this.startDate&&s,"hover--outside-range":this.startDate&&!s,"focused--start":o,"focused--end":!o},currentMonth:n,day:t,disabled:!V9(i,this.min,this.max),endOfRange:this.isEndOfRange(i),highlighted:this.betweenSelectedRange(i),key:i.toDateString(),localeData:this.localeData,onCalciteDayHover:this.dayHover,onCalciteDaySelect:this.daySelect,range:!!this.startDate&&!!this.endDate&&!Ai(this.startDate,this.endDate),rangeHover:this.isRangeHover(i),ref:l=>{r&&e&&this.activeFocus&&(l==null||l.focus())},scale:this.scale,selected:this.isSelected(i),startOfRange:this.isStartOfRange(i),value:i})}isFocusedOnStart(){var e;return((e=this.hoverRange)===null||e===void 0?void 0:e.focused)==="start"}isHoverInRange(){if(!this.hoverRange)return!1;const{start:e,end:t}=this.hoverRange;return!!(!this.isFocusedOnStart()&&this.startDate&&(!this.endDate||t<this.endDate)||this.isFocusedOnStart()&&this.startDate&&e>this.startDate)}isRangeHover(e){if(!this.hoverRange)return!1;const{start:t,end:i}=this.hoverRange,n=this.isFocusedOnStart(),r=this.isHoverInRange(),a=r&&(!n&&e>this.startDate&&(e<i||Ai(e,i))||n&&e<this.endDate&&(e>t||Ai(e,t))),o=!r&&(!n&&e>=this.endDate&&(e<i||Ai(e,i))||n&&(e<this.startDate||this.endDate&&Ai(e,this.startDate))&&(e>t||Ai(e,t)));return a||o}get el(){return this}static get style(){return dX}},pX="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block}.header{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;padding-top:0px;padding-bottom:0px;padding-left:0.25rem;padding-right:0.25rem}:host([scale=s]) .text{margin-top:0.5rem;margin-bottom:0.5rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=s]) .chevron{height:2.25rem}:host([scale=m]) .text{margin-top:0.75rem;margin-bottom:0.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=m]) .chevron{height:3rem}:host([scale=l]) .text{margin-top:1rem;margin-bottom:1rem;font-size:var(--calcite-font-size-1);line-height:1.5rem}:host([scale=l]) .chevron{height:3.5rem}.chevron{margin-left:-0.25rem;margin-right:-0.25rem;-webkit-box-sizing:content-box;box-sizing:content-box;display:-ms-flexbox;display:flex;-ms-flex-positive:0;flex-grow:0;cursor:pointer;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;border-style:none;background-color:var(--calcite-ui-foreground-1);padding-left:0.25rem;padding-right:0.25rem;color:var(--calcite-ui-text-3);outline:2px solid transparent;outline-offset:2px;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;width:14.2857142857%}.chevron:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.chevron:hover,.chevron:focus{background-color:var(--calcite-ui-foreground-2);fill:var(--calcite-ui-text-1);color:var(--calcite-ui-text-1)}.chevron:active{background-color:var(--calcite-ui-foreground-3)}.chevron[aria-disabled=true]{pointer-events:none;opacity:0}.text{margin-top:auto;margin-bottom:auto;width:100%;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;text-align:center;line-height:1}.text-nreverse{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.month,.year,.suffix{margin-left:0.25rem;margin-right:0.25rem;margin-top:auto;margin-bottom:auto;display:inline-block;background-color:var(--calcite-ui-foreground-1);font-weight:var(--calcite-font-weight-medium);line-height:1.25;color:var(--calcite-ui-text-1);font-size:inherit}.year{position:relative;width:3rem;border-style:none;background-color:transparent;text-align:center;font-family:inherit;outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;z-index:2}.year:hover{-webkit-transition-duration:100ms;transition-duration:100ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transition-property:outline-color;transition-property:outline-color;outline:2px solid var(--calcite-ui-border-2);outline-offset:2px}.year:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.year--suffix{width:4rem;text-align:left}.year-wrap{position:relative}.suffix{position:absolute;top:0px;left:0px;width:4rem;white-space:nowrap;text-align:left}.suffix__invisible{visibility:hidden}",mX=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteDatePickerSelect=W(this,"calciteDatePickerSelect",7),this.onYearKey=e=>{const t=e.target.value;switch(e.key){case"ArrowDown":e.preventDefault(),this.setYear(t,-1);break;case"ArrowUp":e.preventDefault(),this.setYear(t,1);break}},this.yearChanged=e=>{this.setYear(e.target.value)},this.prevMonthClick=e=>{this.handleArrowClick(e,this.prevMonthDate)},this.prevMonthKeydown=e=>{const t=e.key;(t===" "||t==="Enter")&&this.prevMonthClick(e)},this.nextMonthClick=e=>{this.handleArrowClick(e,this.nextMonthDate)},this.nextMonthKeydown=e=>{const t=e.key;(t===" "||t==="Enter")&&this.nextMonthClick(e)},this.handleArrowClick=(e,t)=>{e==null||e.preventDefault(),e.stopPropagation(),this.calciteDatePickerSelect.emit(t)}}connectedCallback(){this.setNextPrevMonthDates()}render(){return y("div",{class:"header"},this.renderContent())}renderContent(){var e;if(!this.activeDate||!this.localeData)return null;const t=this.activeDate.getMonth(),{months:i,unitOrder:n}=this.localeData,r=(i.wide||i.narrow||i.abbreviated)[t],a=E_(this.activeDate.getFullYear(),this.localeData),o=this.scale==="l"?"m":"s",s=H9(n),l=s.indexOf("y")<s.indexOf("m"),u=(e=this.localeData.year)===null||e===void 0?void 0:e.suffix;return y(mn,null,y("a",{"aria-disabled":(this.prevMonthDate.getMonth()===t).toString(),"aria-label":this.intlPrevMonth,class:"chevron",href:"#",onClick:this.prevMonthClick,onKeyDown:this.prevMonthKeydown,role:"button",tabindex:this.prevMonthDate.getMonth()===t?-1:0},y("calcite-icon",{"flip-rtl":!0,icon:"chevron-left",scale:o})),y("div",{class:{text:!0,"text--reverse":l}},y(Bc,{class:"month",level:this.headingLevel},r),y("span",{class:"year-wrap"},y("input",{"aria-label":this.intlYear,class:{year:!0,"year--suffix":!!u},inputmode:"numeric",maxlength:"4",minlength:"1",onInput:this.yearChanged,onKeyDown:this.onYearKey,pattern:"\\d*",ref:h=>this.yearInput=h,type:"text",value:a}),u&&y("span",{class:"suffix"},y("span",{"aria-hidden":"true",class:"suffix__invisible"},a)," "+u))),y("a",{"aria-disabled":(this.nextMonthDate.getMonth()===t).toString(),"aria-label":this.intlNextMonth,class:"chevron",href:"#",onClick:this.nextMonthClick,onKeyDown:this.nextMonthKeydown,role:"button",tabindex:this.nextMonthDate.getMonth()===t?-1:0},y("calcite-icon",{"flip-rtl":!0,icon:"chevron-right",scale:o})))}setNextPrevMonthDates(){!this.activeDate||(this.nextMonthDate=Sn(iX(this.activeDate),this.min,this.max),this.prevMonthDate=Sn(tX(this.activeDate),this.min,this.max))}setYear(e,t=0){const{min:i,max:n,activeDate:r,localeData:a,yearInput:o}=this,s=nX(e,a),l=s.toString().length,u=isNaN(s)?!1:s+t,h=u&&(!i||i.getFullYear()<=u)&&(!n||n.getFullYear()>=u);if(u&&h&&l===e.length){const m=new Date(r);m.setFullYear(u);const f=Sn(m,i,n);this.calciteDatePickerSelect.emit(f),o.value=E_(f.getFullYear(),a)}else o.value=E_(r.getFullYear(),a)}get el(){return this}static get watchers(){return{min:["setNextPrevMonthDates"],max:["setNextPrevMonthDates"],activeDate:["setNextPrevMonthDates"]}}static get style(){return pX}},fX={dropdownTrigger:"dropdown-trigger"},gX="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-inline-flexbox;display:inline-flex;-ms-flex:0 1 auto;flex:0 1 auto}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host .calcite-dropdown-wrapper{display:block;position:absolute;z-index:900;-webkit-transform:scale(0);transform:scale(0);visibility:hidden;pointer-events:none}.calcite-dropdown-wrapper .calcite-popper-anim{position:relative;z-index:1;-webkit-transition:var(--calcite-popper-transition);transition:var(--calcite-popper-transition);visibility:hidden;-webkit-transition-property:visibility, opacity, -webkit-transform;transition-property:visibility, opacity, -webkit-transform;transition-property:transform, visibility, opacity;transition-property:transform, visibility, opacity, -webkit-transform;opacity:0;-webkit-box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);border-radius:0.25rem}.calcite-dropdown-wrapper[data-popper-placement^=bottom] .calcite-popper-anim{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.calcite-dropdown-wrapper[data-popper-placement^=top] .calcite-popper-anim{-webkit-transform:translateY(5px);transform:translateY(5px)}.calcite-dropdown-wrapper[data-popper-placement^=left] .calcite-popper-anim{-webkit-transform:translateX(5px);transform:translateX(5px)}.calcite-dropdown-wrapper[data-popper-placement^=right] .calcite-popper-anim{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.calcite-dropdown-wrapper[data-popper-placement] .calcite-popper-anim--active{opacity:1;visibility:visible;-webkit-transform:translate(0);transform:translate(0)}:host([active]) .calcite-dropdown-wrapper{pointer-events:initial;visibility:visible}:host .calcite-dropdown-content{width:auto;overflow-y:auto;overflow-x:hidden;background-color:var(--calcite-ui-foreground-1);max-height:90vh;width:var(--calcite-dropdown-width)}.calcite-dropdown-trigger-container{position:relative;display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto}:host([width=s]){--calcite-dropdown-width:12rem}:host([width=m]){--calcite-dropdown-width:14rem}:host([width=l]){--calcite-dropdown-width:16rem}",yX=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteDropdownSelect=W(this,"calciteDropdownSelect",7),this.calciteDropdownOpen=W(this,"calciteDropdownOpen",7),this.calciteDropdownClose=W(this,"calciteDropdownClose",7),this.active=!1,this.disableCloseOnSelect=!1,this.disabled=!1,this.maxItems=0,this.overlayPositioning="absolute",this.placement=Og,this.scale="m",this.selectedItems=[],this.type="click",this.width="m",this.items=[],this.activeTransitionProp="visibility",this.mutationObserver=Vt("mutation",()=>this.updateItems()),this.resizeObserver=Vt("resize",()=>this.setMaxScrollerHeight()),this.updateItems=()=>{this.updateSelectedItems(),this.triggers=$e(this.el,"dropdown-trigger",{all:!0}),this.items=Array.from(this.el.querySelectorAll("calcite-dropdown-item")),this.reposition()},this.setMaxScrollerHeight=()=>{const{active:e,scrollerEl:t}=this;if(!t||!e)return;this.reposition();const i=this.getMaxScrollerHeight();t.style.maxHeight=i>0?`${i}px`:"",this.reposition()},this.setScrollerEl=e=>{this.resizeObserver.observe(e),this.scrollerEl=e},this.transitionEnd=e=>{e.propertyName===this.activeTransitionProp&&(this.active?this.calciteDropdownOpen.emit():this.calciteDropdownClose.emit())},this.setReferenceEl=e=>{this.referenceEl=e},this.setMenuEl=e=>{this.menuEl=e},this.keyDownHandler=e=>{if(e.target!==this.referenceEl)return;const i=e.key;if(this.active&&(i==="Escape"||e.shiftKey&&i==="Tab")){this.closeCalciteDropdown();return}switch(i){case" ":case"Enter":this.openCalciteDropdown();break;case"Escape":this.closeCalciteDropdown();break}},this.focusOnFirstActiveOrFirstItem=()=>{this.getFocusableElement(this.items.find(e=>e.active)||this.items[0])},this.toggleOpenEnd=()=>{this.focusOnFirstActiveOrFirstItem(),this.el.removeEventListener("calciteDropdownOpen",this.toggleOpenEnd)},this.openCalciteDropdown=()=>{this.active=!this.active,this.active&&this.el.addEventListener("calciteDropdownOpen",this.toggleOpenEnd)}}activeHandler(){if(!this.disabled){this.reposition();return}this.active=!1}handleDisabledChange(e){e||(this.active=!1)}maxItemsHandler(){this.setMaxScrollerHeight()}placementHandler(){this.reposition()}connectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0,subtree:!0}),this.createPopper(),this.updateItems()}componentDidLoad(){this.reposition()}componentDidRender(){it(this)}disconnectedCallback(){var e,t;(e=this.mutationObserver)===null||e===void 0||e.disconnect(),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),this.destroyPopper()}render(){const{active:e}=this;return y(ze,null,y("div",{class:"calcite-dropdown-trigger-container",onClick:this.openCalciteDropdown,onKeyDown:this.keyDownHandler,ref:this.setReferenceEl},y("slot",{"aria-expanded":e.toString(),"aria-haspopup":"true",name:fX.dropdownTrigger})),y("div",{"aria-hidden":(!e).toString(),class:"calcite-dropdown-wrapper",ref:this.setMenuEl},y("div",{class:{["calcite-dropdown-content"]:!0,[Qo.animation]:!0,[Qo.animationActive]:e},onTransitionEnd:this.transitionEnd,ref:this.setScrollerEl},y("div",{hidden:!this.active},y("slot",null)))))}async reposition(){const{popper:e,menuEl:t,placement:i}=this,n=this.getModifiers();e?await vy({el:t,modifiers:n,placement:i,popper:e}):this.createPopper()}closeCalciteDropdownOnClick(e){!this.active||e.composedPath().includes(this.el)||this.closeCalciteDropdown(!1)}closeCalciteDropdownOnEvent(){this.closeCalciteDropdown()}closeCalciteDropdownOnOpenEvent(e){e.composedPath().includes(this.el)||(this.active=!1)}mouseEnterHandler(){this.type==="hover"&&this.openCalciteDropdown()}mouseLeaveHandler(){this.type==="hover"&&this.closeCalciteDropdown()}calciteDropdownItemKeyEvent(e){const{keyboardEvent:t}=e.detail,i=t.target,n=i.nodeName!=="A"?i:i.parentNode,r=this.itemIndex(n)===0,a=this.itemIndex(n)===this.items.length-1;switch(t.key){case"Tab":a&&!t.shiftKey?this.closeCalciteDropdown():r&&t.shiftKey?this.closeCalciteDropdown():t.shiftKey?this.focusPrevItem(n):this.focusNextItem(n);break;case"ArrowDown":this.focusNextItem(n);break;case"ArrowUp":this.focusPrevItem(n);break;case"Home":this.focusFirstItem();break;case"End":this.focusLastItem();break}e.stopPropagation()}handleItemSelect(e){this.updateSelectedItems(),e.stopPropagation(),this.calciteDropdownSelect.emit(),(!this.disableCloseOnSelect||e.detail.requestedDropdownGroup.selectionMode==="none")&&this.closeCalciteDropdown()}getModifiers(){const e={name:"flip",enabled:!0};e.options={fallbackPlacements:this.flipPlacements||NC};const t={name:"eventListeners",enabled:this.active};return[e,t]}createPopper(){this.destroyPopper();const{menuEl:e,referenceEl:t,placement:i,overlayPositioning:n}=this,r=this.getModifiers();this.popper=by({el:e,modifiers:r,overlayPositioning:n,placement:i,referenceEl:t})}destroyPopper(){const{popper:e}=this;e&&e.destroy(),this.popper=null}updateSelectedItems(){const e=Array.from(this.el.querySelectorAll("calcite-dropdown-item"));this.selectedItems=e.filter(t=>t.active)}getMaxScrollerHeight(){const e=Array.from(this.el.querySelectorAll("calcite-dropdown-group")),{maxItems:t}=this;let i=0,n=0,r;return e.forEach(a=>{t>0&&i<t&&Array.from(a.children).forEach((o,s)=>{s===0&&(isNaN(r)&&(r=o.offsetTop),n+=r),i<t&&(n+=o.offsetHeight,i+=1)})}),n}closeCalciteDropdown(e=!0){this.active=!1,e&&ai(this.triggers[0])}focusFirstItem(){const e=this.items[0];this.getFocusableElement(e)}focusLastItem(){const e=this.items[this.items.length-1];this.getFocusableElement(e)}focusNextItem(e){const t=this.itemIndex(e),i=this.items[t+1]||this.items[0];this.getFocusableElement(i)}focusPrevItem(e){const t=this.itemIndex(e),i=this.items[t-1]||this.items[this.items.length-1];this.getFocusableElement(i)}itemIndex(e){return this.items.indexOf(e)}getFocusableElement(e){if(!e)return;const t=e.attributes.isLink?e.shadowRoot.querySelector("a"):e;ai(t)}get el(){return this}static get watchers(){return{active:["activeHandler"],disabled:["handleDisabledChange"],maxItems:["maxItemsHandler"],placement:["placementHandler"]}}static get style(){return gX}},T_={containerSmall:"container--s",containerMedium:"container--m",containerLarge:"container--l"},bX="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block}.container--s{font-size:var(--calcite-font-size--2);line-height:1rem}.container--s .dropdown-title{padding:0.5rem}.container--m{font-size:var(--calcite-font-size--1);line-height:1rem}.container--m .dropdown-title{padding:0.75rem}.container--l{font-size:var(--calcite-font-size-0);line-height:1.25rem}.container--l .dropdown-title{padding:1rem}.dropdown-title{margin-bottom:-1px;display:block;cursor:default;overflow-wrap:break-word;border-width:0px;border-bottom-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);font-weight:var(--calcite-font-weight-bold);color:var(--calcite-ui-text-2)}.dropdown-separator{display:block;height:1px;background-color:var(--calcite-ui-border-3)}",vX=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteDropdownItemChange=W(this,"calciteDropdownItemChange",7),this.selectionMode="single"}componentWillLoad(){this.groupPosition=this.getGroupPosition()}render(){const e=this.scale||Kt(this.el,"scale","m"),t=this.groupTitle?y("span",{"aria-hidden":"true",class:"dropdown-title"},this.groupTitle):null,i=this.groupPosition>0?y("div",{class:"dropdown-separator",role:"separator"}):null;return y(ze,{role:"menu"},y("div",{class:{container:!0,[T_.containerSmall]:e==="s",[T_.containerMedium]:e==="m",[T_.containerLarge]:e==="l"},title:this.groupTitle},i,t,y("slot",null)))}updateActiveItemOnChange(e){this.requestedDropdownGroup=e.detail.requestedDropdownGroup,this.requestedDropdownItem=e.detail.requestedDropdownItem,this.calciteDropdownItemChange.emit({requestedDropdownGroup:this.requestedDropdownGroup,requestedDropdownItem:this.requestedDropdownItem})}getGroupPosition(){return Array.prototype.indexOf.call(this.el.parentElement.querySelectorAll("calcite-dropdown-group"),this.el)}get el(){return this}static get style(){return bX}},tu={containerLink:"container--link",containerSmall:"container--s",containerMedium:"container--m",containerLarge:"container--l",containerMulti:"container--multi-selection",containerSingle:"container--single-selection",containerNone:"container--none-selection"},wX="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}.container--s{padding-top:0.25rem;padding-bottom:0.25rem;font-size:var(--calcite-font-size--2);line-height:1rem;-webkit-padding-end:0.5rem;padding-inline-end:0.5rem;-webkit-padding-start:1.5rem;padding-inline-start:1.5rem}.container--m{padding-top:0.5rem;padding-bottom:0.5rem;font-size:var(--calcite-font-size--1);line-height:1rem;-webkit-padding-end:0.75rem;padding-inline-end:0.75rem;-webkit-padding-start:2rem;padding-inline-start:2rem}.container--l{padding-top:0.75rem;padding-bottom:0.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;-webkit-padding-end:1rem;padding-inline-end:1rem;-webkit-padding-start:2.5rem;padding-inline-start:2.5rem}.container--s.container--none-selection{-webkit-padding-start:0.25rem;padding-inline-start:0.25rem}.container--s.container--none-selection .dropdown-link{-webkit-padding-start:0px;padding-inline-start:0px}.container--m.container--none-selection{-webkit-padding-start:0.5rem;padding-inline-start:0.5rem}.container--m.container--none-selection .dropdown-link{-webkit-padding-start:0px;padding-inline-start:0px}.container--l.container--none-selection{-webkit-padding-start:0.75rem;padding-inline-start:0.75rem}.container--l.container--none-selection .dropdown-link{-webkit-padding-start:0px;padding-inline-start:0px}:host{position:relative;display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center}.container{position:relative;display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;cursor:pointer;-ms-flex-align:center;align-items:center;color:var(--calcite-ui-text-3);-webkit-text-decoration-line:none;text-decoration-line:none;outline:2px solid transparent;outline-offset:2px;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.dropdown-item-content{-ms-flex:1 1 auto;flex:1 1 auto;-webkit-padding-end:auto;padding-inline-end:auto;-webkit-padding-start:0.25rem;padding-inline-start:0.25rem}:host,.container--link a{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}:host(:focus){outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.container--link{padding:0px}.container--link a{position:relative;display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;cursor:pointer;-ms-flex-align:center;align-items:center;color:var(--calcite-ui-text-3);-webkit-text-decoration-line:none;text-decoration-line:none;outline:2px solid transparent;outline-offset:2px;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.container--s .dropdown-link{padding-top:0.25rem;padding-bottom:0.25rem;font-size:var(--calcite-font-size--2);line-height:1rem;-webkit-padding-end:0.5rem;padding-inline-end:0.5rem;-webkit-padding-start:1.5rem;padding-inline-start:1.5rem}.container--m .dropdown-link{padding-top:0.5rem;padding-bottom:0.5rem;font-size:var(--calcite-font-size--1);line-height:1rem;-webkit-padding-end:0.75rem;padding-inline-end:0.75rem;-webkit-padding-start:2rem;padding-inline-start:2rem}.container--l .dropdown-link{padding-top:0.75rem;padding-bottom:0.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;-webkit-padding-end:1rem;padding-inline-end:1rem;-webkit-padding-start:2.5rem;padding-inline-start:2.5rem}:host(:hover) .container,:host(:active) .container{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1);-webkit-text-decoration-line:none;text-decoration-line:none}:host(:hover) .container--link .dropdown-link,:host(:active) .container--link .dropdown-link{color:var(--calcite-ui-text-1)}:host(:focus) .container{color:var(--calcite-ui-text-1);-webkit-text-decoration-line:none;text-decoration-line:none}:host(:active) .container{background-color:var(--calcite-ui-foreground-3)}:host(:hover) .container:before,:host(:active) .container:before,:host(:focus) .container:before{opacity:1}:host([active]) .container:not(.container--none-selection),:host([active]) .container--link .dropdown-link{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}:host([active]) .container:not(.container--none-selection):before,:host([active]) .container--link .dropdown-link:before{opacity:1;color:var(--calcite-ui-brand)}:host([active]) .container:not(.container--none-selection) calcite-icon,:host([active]) .container--link .dropdown-link calcite-icon{color:var(--calcite-ui-brand)}.container--multi-selection:before,.container--none-selection:before{display:none}.container--s:before{inset-inline-start:0.5rem}.container--m:before{inset-inline-start:0.75rem}.container--l:before{inset-inline-start:1rem}.dropdown-item-icon{position:absolute;opacity:0;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(0.9);transform:scale(0.9)}.container--s .dropdown-item-icon{inset-inline-start:0.25rem}.container--m .dropdown-item-icon{inset-inline-start:0.5rem}.container--l .dropdown-item-icon{inset-inline-start:0.75rem}:host(:hover) .dropdown-item-icon{color:var(--calcite-ui-border-1);opacity:1}:host([active]) .dropdown-item-icon{color:var(--calcite-ui-brand);opacity:1}.container--s .dropdown-item-icon-start{-webkit-margin-end:0.5rem;margin-inline-end:0.5rem;-webkit-margin-start:0.25rem;margin-inline-start:0.25rem}.container--s .dropdown-item-icon-end{-webkit-margin-start:0.5rem;margin-inline-start:0.5rem}.container--m .dropdown-item-icon-start{-webkit-margin-end:0.75rem;margin-inline-end:0.75rem;-webkit-margin-start:0.25rem;margin-inline-start:0.25rem}.container--m .dropdown-item-icon-end{-webkit-margin-start:0.75rem;margin-inline-start:0.75rem}.container--l .dropdown-item-icon-start{-webkit-margin-end:1rem;margin-inline-end:1rem;-webkit-margin-start:0.25rem;margin-inline-start:0.25rem}.container--l .dropdown-item-icon-end{-webkit-margin-start:1rem;margin-inline-start:1rem}",xX=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteDropdownItemSelect=W(this,"calciteDropdownItemSelect",7),this.calciteDropdownItemKeyEvent=W(this,"calciteDropdownItemKeyEvent",7),this.calciteDropdownCloseRequest=W(this,"calciteDropdownCloseRequest",7),this.active=!1}async setFocus(){this.el.focus()}componentWillLoad(){this.initialize()}connectedCallback(){this.initialize()}render(){const e=Kt(this.el,"scale","m"),t=y("calcite-icon",{class:"dropdown-item-icon-start",flipRtl:this.iconFlipRtl==="start"||this.iconFlipRtl==="both",icon:this.iconStart,scale:"s"}),i=y("span",{class:"dropdown-item-content"},y("slot",null)),n=y("calcite-icon",{class:"dropdown-item-icon-end",flipRtl:this.iconFlipRtl==="end"||this.iconFlipRtl==="both",icon:this.iconEnd,scale:"s"}),r=this.iconStart&&this.iconEnd?[t,i,n]:this.iconStart?[t,y("slot",null)]:this.iconEnd?[i,n]:i,a=this.href?y("a",{"aria-label":this.label,class:"dropdown-link",href:this.href,ref:l=>this.childLink=l,rel:this.rel,target:this.target},r):r,o=this.href?null:this.selectionMode==="single"?"menuitemradio":this.selectionMode==="multi"?"menuitemcheckbox":"menuitem",s=this.selectionMode!=="none"?this.active.toString():null;return y(ze,{"aria-checked":s,role:o,tabindex:"0"},y("div",{class:{container:!0,[tu.containerLink]:!!this.href,[tu.containerSmall]:e==="s",[tu.containerMedium]:e==="m",[tu.containerLarge]:e==="l",[tu.containerMulti]:this.selectionMode==="multi",[tu.containerSingle]:this.selectionMode==="single",[tu.containerNone]:this.selectionMode==="none"}},this.selectionMode!=="none"?y("calcite-icon",{class:"dropdown-item-icon",icon:this.selectionMode==="multi"?"check":"bullet-point",scale:"s"}):null,a))}onClick(){this.emitRequestedItem()}keyDownHandler(e){switch(e.key){case" ":this.emitRequestedItem(),this.href&&(e.preventDefault(),this.childLink.click());break;case"Enter":this.emitRequestedItem(),this.href&&this.childLink.click();break;case"Escape":this.calciteDropdownCloseRequest.emit();break;case"Tab":case"ArrowUp":case"ArrowDown":case"Home":case"End":this.calciteDropdownItemKeyEvent.emit({keyboardEvent:e});break}e.preventDefault()}updateActiveItemOnChange(e){e.composedPath().includes(this.parentDropdownGroupEl)&&(this.requestedDropdownGroup=e.detail.requestedDropdownGroup,this.requestedDropdownItem=e.detail.requestedDropdownItem,this.determineActiveItem())}initialize(){this.selectionMode=Kt(this.el,"selection-mode","single"),this.parentDropdownGroupEl=this.el.closest("calcite-dropdown-group"),this.selectionMode==="none"&&(this.active=!1)}determineActiveItem(){switch(this.selectionMode){case"multi":this.el===this.requestedDropdownItem&&(this.active=!this.active);break;case"single":this.el===this.requestedDropdownItem?this.active=!0:this.requestedDropdownGroup===this.parentDropdownGroupEl&&(this.active=!1);break;case"none":this.active=!1;break}}emitRequestedItem(){this.calciteDropdownItemSelect.emit({requestedDropdownItem:this.el,requestedDropdownGroup:this.parentDropdownGroupEl})}get el(){return this}static get style(){return wX}},kX={button:"button"},_X={plus:"plus"},SX="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;background-color:transparent}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}calcite-button{--tw-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}calcite-button:hover{--tw-shadow:0 12px 32px -2px rgba(0, 0, 0, 0.1), 0 4px 20px 0 rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 12px 32px -2px var(--tw-shadow-color), 0 4px 20px 0 var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}calcite-button:active{--tw-shadow:0 2px 12px -4px rgba(0, 0, 0, 0.2), 0 2px 4px -2px rgba(0, 0, 0, 0.16);--tw-shadow-colored:0 2px 12px -4px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}",DX=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.appearance="outline",this.color="neutral",this.disabled=!1,this.icon=_X.plus,this.loading=!1,this.scale="m",this.textEnabled=!1}componentDidRender(){it(this)}async setFocus(){ai(this.buttonEl)}render(){const{appearance:e,color:t,disabled:i,loading:n,scale:r,textEnabled:a,icon:o,label:s,text:l}=this,u=a?null:s||l||null;return y("calcite-button",{appearance:e==="solid"?"solid":"outline",class:kX.button,color:t,disabled:i,iconStart:o,label:s,loading:n,ref:h=>{this.buttonEl=h},round:!0,scale:r,title:u,type:"button",width:"auto"},this.textEnabled?this.text:null)}get el(){return this}static get style(){return SX}},YM={container:"container",searchIcon:"search-icon",clearButton:"clear-button"},ZM={filterLabel:"Filter",clear:"Clear filter"},XM={search:"search",close:"x"},$X="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:host{-webkit-box-sizing:border-box;box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;width:100%}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.container{display:-ms-flexbox;display:flex;width:100%;padding:0.5rem}label{position:relative;margin-left:0.25rem;margin-right:0.25rem;margin-top:0px;margin-bottom:0px;display:-ms-flexbox;display:flex;width:100%;-ms-flex-align:center;align-items:center;overflow:hidden}input[type=text]{margin-bottom:0.25rem;width:100%;border-style:none;background-color:transparent;padding-top:0.25rem;padding-bottom:0.25rem;padding-right:0.25rem;padding-left:1.5rem;font-family:inherit;font-size:var(--calcite-font-size--2);line-height:1rem;color:var(--calcite-ui-text-1);-webkit-transition:padding var(--calcite-animation-timing), -webkit-box-shadow var(--calcite-animation-timing);transition:padding var(--calcite-animation-timing), -webkit-box-shadow var(--calcite-animation-timing);transition:padding var(--calcite-animation-timing), box-shadow var(--calcite-animation-timing);transition:padding var(--calcite-animation-timing), box-shadow var(--calcite-animation-timing), -webkit-box-shadow var(--calcite-animation-timing)}input[type=text]::-ms-clear{display:none}calcite-input{width:100%}.search-icon{position:absolute;display:-ms-flexbox;display:flex;color:var(--calcite-ui-text-2);inset-inline-start:0;-webkit-transition:left var(--calcite-animation-timing), right var(--calcite-animation-timing), opacity var(--calcite-animation-timing);transition:left var(--calcite-animation-timing), right var(--calcite-animation-timing), opacity var(--calcite-animation-timing)}input[type=text]:focus{border-color:var(--calcite-ui-brand);outline:2px solid transparent;outline-offset:2px;padding-inline:0.25rem}input[type=text]:focus~.search-icon{inset-inline-start:calc(1rem * -1);opacity:0}.clear-button{display:-ms-flexbox;display:flex;cursor:pointer;-ms-flex-align:center;align-items:center;border-width:0px;background-color:transparent;color:var(--calcite-ui-text-2)}.clear-button:hover,.clear-button:focus{color:var(--calcite-ui-text-1)}",CX=250,IX=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteFilterChange=W(this,"calciteFilterChange",7),this.items=[],this.disabled=!1,this.filteredItems=[],this.scale="m",this.value="",this.filter=wd(e=>{const t=new RegExp(e,"i");if(this.items.length===0){this.updateFiltered([]);return}const i=(r,a)=>{let o=!1;return f9(r,s=>{typeof s!="function"&&(Array.isArray(s)||typeof s=="object"&&s!==null?i(s,a)&&(o=!0):a.test(s)&&(o=!0))}),o},n=this.items.filter(r=>i(r,t));this.updateFiltered(n)},CX),this.inputHandler=e=>{const t=e.target;this.value=t.value},this.keyDownHandler=({key:e})=>{e==="Escape"&&this.clear()},this.clear=()=>{this.value="",this.setFocus()}}watchItemsHandler(){this.filter(this.value)}valueHandler(e){this.filter(e)}componentDidRender(){it(this)}componentWillLoad(){this.filter(this.value)}async setFocus(){ai(this.textInput)}updateFiltered(e){this.filteredItems.length=0,this.filteredItems=this.filteredItems.concat(e),this.calciteFilterChange.emit()}render(){const{disabled:e,scale:t}=this;return y(mn,null,y("div",{class:YM.container},y("label",null,y("calcite-input",{"aria-label":this.intlLabel||ZM.filterLabel,disabled:e,icon:XM.search,onCalciteInputInput:this.inputHandler,onKeyDown:this.keyDownHandler,placeholder:this.placeholder,ref:i=>{this.textInput=i},scale:t,type:"text",value:this.value})),this.value?y("button",{"aria-label":this.intlClear||ZM.clear,class:YM.clearButton,disabled:e,onClick:this.clear},y("calcite-icon",{icon:XM.close,scale:t})):null))}get el(){return this}static get watchers(){return{items:["watchItemsHandler"],value:["valueHandler"]}}static get style(){return $X}},M_={frame:"frame",frameAdvancing:"frame--advancing",frameRetreating:"frame--retreating"},EX="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:host{-webkit-box-sizing:border-box;box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:-ms-flexbox;display:flex;width:100%;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-align:stretch;align-items:stretch;background-color:transparent;overflow:hidden}:host .frame{position:relative;margin:0px;display:-ms-flexbox;display:flex;width:100%;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:stretch;align-items:stretch;padding:0px}:host ::slotted(calcite-panel){height:100%}:host ::slotted(.calcite-match-height:last-child){display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;overflow:hidden}:host .frame--advancing{-webkit-animation:calcite-frame-advance var(--calcite-animation-timing);animation:calcite-frame-advance var(--calcite-animation-timing)}:host .frame--retreating{-webkit-animation:calcite-frame-retreat var(--calcite-animation-timing);animation:calcite-frame-retreat var(--calcite-animation-timing)}@-webkit-keyframes calcite-frame-advance{0%{--tw-bg-opacity:0.5}0%{-webkit-transform:translate3d(50px, 0, 0);transform:translate3d(50px, 0, 0)}100%{--tw-bg-opacity:1}100%{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}}@keyframes calcite-frame-advance{0%{--tw-bg-opacity:0.5}0%{-webkit-transform:translate3d(50px, 0, 0);transform:translate3d(50px, 0, 0)}100%{--tw-bg-opacity:1}100%{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}}@-webkit-keyframes calcite-frame-retreat{0%{--tw-bg-opacity:0.5}0%{-webkit-transform:translate3d(-50px, 0, 0);transform:translate3d(-50px, 0, 0)}100%{--tw-bg-opacity:1}100%{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}}@keyframes calcite-frame-retreat{0%{--tw-bg-opacity:0.5}0%{-webkit-transform:translate3d(-50px, 0, 0);transform:translate3d(-50px, 0, 0)}100%{--tw-bg-opacity:1}100%{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}}",TX=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.panelCount=0,this.flowDirection=null,this.panels=[],this.getFlowDirection=(e,t)=>{const i=e>1;return!(e&&t>1)&&!i?null:t<e?"retreating":"advancing"},this.updateFlowProps=()=>{const{panels:e}=this,t=Array.from(this.el.querySelectorAll("calcite-panel")),i=e.length,n=t.length,r=t[n-1],a=t[n-2];if(n&&r&&t.forEach(o=>{o.showBackButton=n>1,o.hidden=o!==r}),a&&(a.menuOpen=!1),this.panels=t,i!==n){const o=this.getFlowDirection(i,n);this.panelCount=n,this.flowDirection=o}},this.panelItemMutationObserver=Vt("mutation",this.updateFlowProps)}async back(){const e=this.el.querySelector("calcite-panel:last-child");return e?(e.beforeBack?e.beforeBack:()=>Promise.resolve()).call(e).then(()=>(e.remove(),e)):void 0}connectedCallback(){var e;(e=this.panelItemMutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0,subtree:!0}),this.updateFlowProps()}disconnectedCallback(){var e;(e=this.panelItemMutationObserver)===null||e===void 0||e.disconnect()}handleCalcitePanelBackClick(){this.back()}render(){const{flowDirection:e,panelCount:t}=this,i={[M_.frame]:!0,[M_.frameAdvancing]:e==="advancing",[M_.frameRetreating]:e==="retreating"};return y("div",{class:i,key:t},y("slot",null))}get el(){return this}static get style(){return EX}};function MX(e,t,i){const n=t[0]-e[0],r=i[0]-t[0],a=t[1]-e[1],o=i[1]-t[1],s=a/(n||r<0&&0),l=o/(r||n<0&&0),u=(s*r+l*n)/(n+r);return(Math.sign(s)+Math.sign(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function QM(e,t,i){const n=t[0]-e[0],r=t[1]-e[1];return n?(3*r/n-i)/2:i}function eA(e,t,i,n,r){const[a,o]=e,[s,l]=t,u=(s-a)/3,h=r([a+u,o+u*i]).join(","),m=r([s-u,l-u*n]).join(","),f=r([s,l]).join(",");return`C ${h} ${m} ${f}`}function AX({width:e,height:t,min:i,max:n}){const r=n[0]-i[0],a=n[1]-i[1];return o=>{const s=(o[0]-i[0])/r*e,l=t-o[1]/a*t;return[s,l]}}function OX(e){const[t,i]=e[0],n=[t,i],r=[t,i];return e.reduce(({min:a,max:o},[s,l])=>({min:[Math.min(a[0],s),Math.min(a[1],l)],max:[Math.max(o[0],s),Math.max(o[1],l)]}),{min:n,max:r})}function PX({data:e,min:t,max:i,t:n}){if(e.length===0)return"";const[r,a]=n(e[0]),[o,s]=n(t),[l]=n(i);let u,h,m;const f=e.reduce((v,w,x)=>{if(h=e[x-2],m=e[x-1],x>1){const S=MX(h,m,w),E=u===void 0?QM(h,m,S):u,C=eA(h,m,E,S,n);return u=S,`${v} ${C}`}return v},`M ${o},${s} L ${o},${a} L ${r},${a}`),g=e[e.length-1],b=eA(m,g,u,QM(m,g,u),n);return`${f} ${b} L ${l},${s} Z`}const LX="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block}.svg{fill:currentColor;stroke:transparent;margin:0px;display:block;height:100%;width:100%;padding:0px}.svg .graph-path--highlight{fill:var(--calcite-ui-brand);opacity:0.5}",RX=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.data=[],this.graphId=`calcite-graph-${li()}`,this.resizeObserver=Vt("resize",()=>Em(this))}connectedCallback(){var e;(e=this.resizeObserver)===null||e===void 0||e.observe(this.el)}disconnectedCallback(){var e;(e=this.resizeObserver)===null||e===void 0||e.disconnect()}render(){const{data:e,colorStops:t,el:i,highlightMax:n,highlightMin:r,min:a,max:o}=this,s=this.graphId,{clientHeight:l,clientWidth:u}=i;if(!e||e.length===0)return y("svg",{class:"svg",height:l,preserveAspectRatio:"none",viewBox:`0 0 ${u} ${l}`,width:u});const{min:h,max:m}=OX(e);let f=h,g=m;(a<h[0]||a>h[0])&&(f=[a,0]),(o>m[0]||o<m[0])&&(g=[o,m[1]]);const b=AX({min:f,max:g,width:u,height:l}),[v]=b([r,g[1]]),[w]=b([n,g[1]]),x=PX({data:e,min:h,max:m,t:b}),S=t?`url(#linear-gradient-${s})`:void 0;return y("svg",{class:"svg",height:l,preserveAspectRatio:"none",viewBox:`0 0 ${u} ${l}`,width:u},t?y("defs",null,y("linearGradient",{id:`linear-gradient-${s}`,x1:"0",x2:"1",y1:"0",y2:"0"},t.map(({offset:E,color:C,opacity:_})=>y("stop",{offset:`${E*100}%`,"stop-color":C,"stop-opacity":_})))):null,r!==void 0?[y("mask",{height:"100%",id:`${s}1`,width:"100%",x:"0%",y:"0%"},y("path",{d:`
            M 0,0
            L ${v-1},0
            L ${v-1},${l}
            L 0,${l}
            Z
          `,fill:"white"})),y("mask",{height:"100%",id:`${s}2`,width:"100%",x:"0%",y:"0%"},y("path",{d:`
            M ${v+1},0
            L ${w-1},0
            L ${w-1},${l}
            L ${v+1}, ${l}
            Z
          `,fill:"white"})),y("mask",{height:"100%",id:`${s}3`,width:"100%",x:"0%",y:"0%"},y("path",{d:`
                M ${w+1},0
                L ${u},0
                L ${u},${l}
                L ${w+1}, ${l}
                Z
              `,fill:"white"})),y("path",{class:"graph-path",d:x,fill:S,mask:`url(#${s}1)`}),y("path",{class:"graph-path--highlight",d:x,fill:S,mask:`url(#${s}2)`}),y("path",{class:"graph-path",d:x,fill:S,mask:`url(#${s}3)`})]:y("path",{class:"graph-path",d:x,fill:S}))}get el(){return this}static get style(){return LX}},tA={handle:"handle",handleActivated:"handle--activated"},FX={drag:"drag"},NX="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex}.handle{display:-ms-flexbox;display:flex;cursor:move;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;-ms-flex-item-align:stretch;align-self:stretch;border-style:none;background-color:transparent;outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;color:var(--calcite-ui-border-3);padding:0.75rem 0.25rem;line-height:0}.handle:hover{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}.handle:focus{color:var(--calcite-ui-text-1);outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.handle--activated{background-color:var(--calcite-ui-foreground-3);color:var(--calcite-ui-text-1)}.handle calcite-icon{color:inherit}",zX=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteHandleNudge=W(this,"calciteHandleNudge",7),this.activated=!1,this.textTitle="handle",this.handleKeyDown=e=>{switch(e.key){case" ":this.activated=!this.activated;break;case"ArrowUp":case"ArrowDown":if(!this.activated)return;const t=e.key.toLowerCase().replace("arrow","");this.calciteHandleNudge.emit({handle:this.el,direction:t});break}},this.handleBlur=()=>{this.activated=!1}}async setFocus(){this.handleButton.focus()}render(){return y("span",{"aria-pressed":this.activated.toString(),class:{[tA.handle]:!0,[tA.handleActivated]:this.activated},onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,ref:e=>{this.handleButton=e},role:"button",tabindex:"0",title:this.textTitle},y("calcite-icon",{icon:FX.drag,scale:"s"}))}get el(){return this}static get style(){return NX}},jX={icon:"icon",flipRtl:"flip-rtl"},A_={},O_={},q9={s:16,m:24,l:32};async function VX({icon:e,scale:t}){const i=q9[t],n=HX(e),r=n.charAt(n.length-1)==="F",o=`${r?n.substring(0,n.length-1):n}${i}${r?"F":""}`;if(A_[o])return A_[o];O_[o]||(O_[o]=fetch(YF(`./assets/icon/${o}.json`)).then(l=>l.json()).catch(()=>(console.error(`"${o}" is not a valid calcite-ui-icon name`),"")));const s=await O_[o];return A_[o]=s,s}function HX(e){const t=!isNaN(Number(e.charAt(0))),i=e.split("-");return i.length===1?t?`i${e}`:e:i.map((n,r)=>r===0?t?`i${n.toUpperCase()}`:n:n.charAt(0).toUpperCase()+n.slice(1)).join("")}const qX="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-inline-flexbox;display:inline-flex;color:var(--calcite-ui-icon-color)}:host([scale=s]){height:1rem;width:1rem;min-width:1rem;min-height:1rem}:host([scale=m]){height:1.5rem;width:1.5rem;min-width:1.5rem;min-height:1.5rem}:host([scale=l]){height:2rem;width:2rem;min-width:2rem;min-height:2rem}.flip-rtl{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.svg{display:block}",BX=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.icon=null,this.flipRtl=!1,this.scale="m",this.visible=!1}connectedCallback(){this.waitUntilVisible(()=>{this.visible=!0,this.loadIconPathData()})}disconnectedCallback(){var e;(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),this.intersectionObserver=null}async componentWillLoad(){this.loadIconPathData()}render(){const{el:e,flipRtl:t,pathData:i,scale:n,textLabel:r}=this,a=Fi(e),o=q9[n],s=!!r,l=[].concat(i||"");return y(ze,{"aria-hidden":(!s).toString(),"aria-label":s?r:null,role:s?"img":null},y("svg",{class:{[jX.flipRtl]:a==="rtl"&&t,svg:!0},fill:"currentColor",height:"100%",viewBox:`0 0 ${o} ${o}`,width:"100%",xmlns:"http://www.w3.org/2000/svg"},l.map(u=>typeof u=="string"?y("path",{d:u}):y("path",{d:u.d,opacity:"opacity"in u?u.opacity:1}))))}async loadIconPathData(){const{icon:e,scale:t,visible:i}=this;!qc.isBrowser||!e||!i||(this.pathData=await VX({icon:e,scale:t}))}waitUntilVisible(e){if(this.intersectionObserver=Vt("intersection",t=>{t.forEach(i=>{i.isIntersecting&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null,e())})},{rootMargin:"50px"}),!this.intersectionObserver){e();return}this.intersectionObserver.observe(this.el)}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{icon:["loadIconPathData"],scale:["loadIconPathData"]}}static get style(){return qX}},iu={wrapper:"wrapper",confirmChangesButton:"confirm-changes-button",cancelEditingButton:"cancel-editing-button",inputWrapper:"input-wrapper",cancelEditingButtonWrapper:"cancel-editing-button-wrapper",enableEditingButton:"enable-editing-button",controlsWrapper:"controls-wrapper"},P_={intlEnablingEditing:"Click to edit",intlCancelEditing:"Cancel",intlConfirmChanges:"Save"},UX="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block}:host([scale=s]) .controls-wrapper{height:1.5rem}:host([scale=m]) .controls-wrapper{height:2rem}:host([scale=l]) .controls-wrapper{height:2.75rem}:host(:not([editing-enabled]):not([disabled])) .wrapper:hover{background-color:var(--calcite-ui-foreground-2)}.wrapper{-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;background-color:var(--calcite-ui-foreground-1);-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s}.wrapper .input-wrapper{-ms-flex:1 1 0%;flex:1 1 0%}.controls-wrapper{display:-ms-flexbox;display:flex}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) .cancel-editing-button-wrapper{border-color:var(--calcite-ui-border-2)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}",GX=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteInlineEditableEditCancel=W(this,"calciteInlineEditableEditCancel",7),this.calciteInlineEditableEditConfirm=W(this,"calciteInlineEditableEditConfirm",7),this.calciteInlineEditableEnableEditingChange=W(this,"calciteInlineEditableEnableEditingChange",7),this.disabled=!1,this.editingEnabled=!1,this.loading=!1,this.controls=!1,this.intlEnableEditing=P_.intlEnablingEditing,this.intlCancelEditing=P_.intlCancelEditing,this.intlConfirmChanges=P_.intlConfirmChanges,this.mutationObserver=Vt("mutation",()=>this.mutationObserverCallback()),this.transitionEnd=()=>{!this.editingEnabled&&!!this.shouldEmitCancel&&this.calciteInlineEditableEditCancel.emit()},this.enableEditing=()=>{var e,t;this.valuePriorToEditing=(e=this.inputElement)===null||e===void 0?void 0:e.value,this.editingEnabled=!0,(t=this.inputElement)===null||t===void 0||t.setFocus(),this.calciteInlineEditableEnableEditingChange.emit()},this.disableEditing=()=>{this.editingEnabled=!1},this.cancelEditing=()=>{this.inputElement&&(this.inputElement.value=this.valuePriorToEditing),this.disableEditing(),this.enableEditingButton.setFocus()},this.escapeKeyHandler=async e=>{var t;if(e.key!=="Escape"){e.key==="Tab"&&this.shouldShowControls&&(!e.shiftKey&&e.target===this.inputElement&&(e.preventDefault(),this.cancelEditingButton.setFocus()),!!e.shiftKey&&e.target===this.cancelEditingButton&&(e.preventDefault(),(t=this.inputElement)===null||t===void 0||t.setFocus()));return}this.cancelEditing()},this.cancelEditingHandler=async e=>{e.preventDefault(),this.cancelEditing()},this.enableEditingHandler=async e=>{this.disabled||e.target===this.cancelEditingButton||e.target===this.confirmEditingButton||(e.preventDefault(),this.editingEnabled||this.enableEditing())},this.confirmChangesHandler=async e=>{e.preventDefault(),this.calciteInlineEditableEditConfirm.emit();try{this.afterConfirm&&(this.loading=!0,await this.afterConfirm(),this.disableEditing(),this.enableEditingButton.setFocus())}catch{}finally{this.loading=!1}}}disabledWatcher(e){this.inputElement&&(this.inputElement.disabled=e)}editingEnabledWatcher(e,t){this.inputElement&&(this.inputElement.editingEnabled=e),!e&&!!t&&(this.shouldEmitCancel=!0)}connectedCallback(){var e;tr(this),(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0}),this.mutationObserverCallback()}disconnectedCallback(){var e;Ar(this),(e=this.mutationObserver)===null||e===void 0||e.disconnect()}componentDidRender(){it(this)}render(){return y("div",{class:iu.wrapper,onClick:this.enableEditingHandler,onKeyDown:this.escapeKeyHandler,onTransitionEnd:this.transitionEnd},y("div",{class:iu.inputWrapper},y("slot",null)),y("div",{class:iu.controlsWrapper},y("calcite-button",{appearance:"transparent",class:iu.enableEditingButton,color:"neutral",disabled:this.disabled,iconStart:"pencil",label:this.intlEnableEditing,onClick:this.enableEditingHandler,ref:e=>this.enableEditingButton=e,scale:this.scale,style:{opacity:this.editingEnabled?"0":"1",width:this.editingEnabled?"0":"inherit"},type:"button"}),this.shouldShowControls&&[y("div",{class:iu.cancelEditingButtonWrapper},y("calcite-button",{appearance:"transparent",class:iu.cancelEditingButton,color:"neutral",disabled:this.disabled,iconStart:"x",label:this.intlCancelEditing,onClick:this.cancelEditingHandler,ref:e=>this.cancelEditingButton=e,scale:this.scale,type:"button"})),y("calcite-button",{appearance:"solid",class:iu.confirmChangesButton,color:"blue",disabled:this.disabled,iconStart:"check",label:this.intlConfirmChanges,loading:this.loading,onClick:this.confirmChangesHandler,ref:e=>this.confirmEditingButton=e,scale:this.scale,type:"button"})]))}blurHandler(){this.controls||this.disableEditing()}async setFocus(){var e,t;this.editingEnabled?(e=this.inputElement)===null||e===void 0||e.setFocus():(t=this.enableEditingButton)===null||t===void 0||t.setFocus()}mutationObserverCallback(){var e;this.updateSlottedInput(),this.scale=this.scale||((e=this.inputElement)===null||e===void 0?void 0:e.scale)||Kt(this.el,"scale",void 0)}onLabelClick(){this.setFocus()}updateSlottedInput(){const e=$e(this.el,{matches:"calcite-input"});this.inputElement=e,e&&(this.inputElement.disabled=this.disabled,this.inputElement.label=this.inputElement.label||Zo(this))}get shouldShowControls(){return this.editingEnabled&&this.controls}get el(){return this}static get watchers(){return{disabled:["disabledWatcher"],editingEnabled:["editingEnabledWatcher"]}}static get style(){return UX}},on={loader:"loader",clearButton:"clear-button",editingEnabled:"editing-enabled",inlineChild:"inline-child",inputIcon:"icon",prefix:"prefix",suffix:"suffix",numberButtonWrapper:"number-button-wrapper",buttonItemHorizontal:"number-button-item--horizontal",wrapper:"element-wrapper",inputWrapper:"wrapper",actionWrapper:"action-wrapper",resizeIconWrapper:"resize-icon-wrapper",numberButtonItem:"number-button-item"},iA={tel:"phone",password:"lock",email:"email-address",date:"calendar",time:"clock",search:"search"},WX={action:"action"},JX="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block}:host([scale=s]) input,:host([scale=s]) .prefix,:host([scale=s]) .suffix{height:1.5rem;padding:0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) textarea{height:1.5rem;min-height:1.5rem}:host([scale=s]) .number-button-wrapper,:host([scale=s]) .action-wrapper calcite-button,:host([scale=s]) .action-wrapper calcite-button button{height:1.5rem}:host([scale=s]) input[type=file]{height:1.5rem}:host([scale=s]) .clear-button{min-height:1.5rem;min-width:1.5rem}:host([scale=s]) textarea{height:auto;padding-top:0.25rem;padding-bottom:0.25rem;padding-left:0.5rem;padding-right:0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=m]) input,:host([scale=m]) .prefix,:host([scale=m]) .suffix{height:2rem;padding:0.75rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) textarea{min-height:2rem}:host([scale=m]) .number-button-wrapper,:host([scale=m]) .action-wrapper calcite-button,:host([scale=m]) .action-wrapper calcite-button button{height:2rem}:host([scale=m]) input[type=file]{height:2rem}:host([scale=m]) .clear-button{min-height:2rem;min-width:2rem}:host([scale=m]) textarea{height:auto;padding-top:0.5rem;padding-bottom:0.5rem;padding-left:0.75rem;padding-right:0.75rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) input,:host([scale=l]) .prefix,:host([scale=l]) .suffix{height:2.75rem;padding:1rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) textarea{min-height:2.75rem}:host([scale=l]) .number-button-wrapper,:host([scale=l]) .action-wrapper calcite-button,:host([scale=l]) .action-wrapper calcite-button button{height:2.75rem}:host([scale=l]) input[type=file]{height:2.75rem}:host([scale=l]) .clear-button{min-height:2.75rem;min-width:2.75rem}:host([scale=l]) textarea{height:auto;padding-top:0.75rem;padding-bottom:0.75rem;padding-left:1rem;padding-right:1rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) textarea{resize:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host textarea,:host input{-webkit-transition:var(--calcite-animation-timing), height 0s;transition:var(--calcite-animation-timing), height 0s;-webkit-appearance:none;position:relative;margin:0px;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;max-height:100%;width:100%;max-width:100%;-ms-flex:1 1 0%;flex:1 1 0%;border-radius:0px;background-color:var(--calcite-ui-foreground-1);font-family:inherit;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-1)}:host input[type=search]::-webkit-search-decoration{-webkit-appearance:none}:host input,:host textarea{border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);color:var(--calcite-ui-text-1)}:host input:-ms-input-placeholder,:host textarea:-ms-input-placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-3)}:host input::-ms-input-placeholder,:host textarea::-ms-input-placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-3)}:host input::placeholder,:host input:-ms-input-placeholder,:host input::-ms-input-placeholder,:host textarea::placeholder,:host textarea:-ms-input-placeholder,:host textarea::-ms-input-placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-3)}:host input:focus,:host textarea:focus{border-color:var(--calcite-ui-brand);color:var(--calcite-ui-text-1)}:host input[readonly],:host textarea[readonly]{background-color:var(--calcite-ui-background);font-weight:var(--calcite-font-weight-medium)}:host input[readonly]:focus,:host textarea[readonly]:focus{color:var(--calcite-ui-text-1)}:host calcite-icon{color:var(--calcite-ui-text-3)}:host textarea,:host input{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}:host textarea:focus,:host input:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}:host([status=invalid]) input,:host([status=invalid]) textarea{border-color:var(--calcite-ui-danger)}:host([status=invalid]) input:focus,:host([status=invalid]) textarea:focus{outline:2px solid var(--calcite-ui-danger);outline-offset:-2px}:host([scale=s]) .icon{inset-inline-start:0.5rem}:host([scale=m]) .icon{inset-inline-start:0.75rem}:host([scale=l]) .icon{inset-inline-start:1rem}:host([icon][scale=s]) input{-webkit-padding-start:2rem;padding-inline-start:2rem}:host([icon][scale=m]) input{-webkit-padding-start:2.5rem;padding-inline-start:2.5rem}:host([icon][scale=l]) input{-webkit-padding-start:3rem;padding-inline-start:3rem}.element-wrapper{position:relative;-ms-flex-order:3;order:3;display:-ms-inline-flexbox;display:inline-flex;-ms-flex:1 1 0%;flex:1 1 0%;-ms-flex-align:center;align-items:center}.icon{pointer-events:none;position:absolute;z-index:10;display:block;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s}input[type=text]::-ms-clear,input[type=text]::-ms-reveal{display:none;height:0px;width:0px}input[type=search]::-webkit-search-decoration,input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-results-button,input[type=search]::-webkit-search-results-decoration,input[type=date]::-webkit-clear-button,input[type=time]::-webkit-clear-button{display:none}.clear-button{pointer-events:initial;-ms-flex-order:4;order:4;margin:0px;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;min-height:100%;cursor:pointer;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;-ms-flex-item-align:stretch;align-self:stretch;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-foreground-1);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;border-inline-start-width:0px}.clear-button:hover{background-color:var(--calcite-ui-foreground-2);-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s}.clear-button:hover calcite-icon{color:var(--calcite-ui-text-1);-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s}.clear-button:active{background-color:var(--calcite-ui-foreground-3)}.clear-button:active calcite-icon{color:var(--calcite-ui-text-1)}.clear-button:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.clear-button:disabled{opacity:var(--calcite-ui-opacity-disabled)}.loader{top:1px;left:1px;right:1px;pointer-events:none;position:absolute;display:block}.action-wrapper{-ms-flex-order:7;order:7;display:-ms-flexbox;display:flex}.prefix,.suffix{-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;height:auto;min-height:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-line-pack:center;align-content:center;-ms-flex-align:center;align-items:center;overflow-wrap:break-word;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-background);font-weight:var(--calcite-font-weight-medium);line-height:1;color:var(--calcite-ui-text-2)}.prefix{-ms-flex-order:2;order:2;border-inline-end-width:0px}.suffix{-ms-flex-order:5;order:5;border-inline-start-width:0px}:host([alignment=start]) textarea,:host([alignment=start]) input{text-align:start}:host([alignment=end]) textarea,:host([alignment=end]) input{text-align:end}:host input[type=number]{-moz-appearance:textfield}:host input[type=number]::-webkit-inner-spin-button,:host input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:textfield;margin:0px}.number-button-wrapper{pointer-events:none;-ms-flex-order:6;order:6;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s}:host([number-button-type=vertical]) .wrapper{-ms-flex-direction:row;flex-direction:row;display:-ms-flexbox;display:flex}:host([number-button-type=vertical]) input,:host([number-button-type=vertical]) textarea{-ms-flex-order:2;order:2}:host([number-button-type=horizontal]) .calcite--rtl .number-button-item[data-adjustment=down] calcite-icon{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host([number-button-type=horizontal]) .calcite--rtl .number-button-item[data-adjustment=up] calcite-icon{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.number-button-item.number-button-item--horizontal[data-adjustment=down],.number-button-item.number-button-item--horizontal[data-adjustment=up]{-ms-flex-order:1;order:1;max-height:100%;min-height:100%;-ms-flex-item-align:stretch;align-self:stretch}.number-button-item.number-button-item--horizontal[data-adjustment=down] calcite-icon,.number-button-item.number-button-item--horizontal[data-adjustment=up] calcite-icon{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.number-button-item.number-button-item--horizontal[data-adjustment=down]{border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);border-inline-end-width:0px}.number-button-item.number-button-item--horizontal[data-adjustment=down]:hover{background-color:var(--calcite-ui-foreground-2)}.number-button-item.number-button-item--horizontal[data-adjustment=down]:hover calcite-icon{color:var(--calcite-ui-text-1)}.number-button-item.number-button-item--horizontal[data-adjustment=up]{-ms-flex-order:5;order:5}.number-button-item.number-button-item--horizontal[data-adjustment=up]:hover{background-color:var(--calcite-ui-foreground-2)}.number-button-item.number-button-item--horizontal[data-adjustment=up]:hover calcite-icon{color:var(--calcite-ui-text-1)}:host([number-button-type=vertical]) .number-button-item[data-adjustment=down]:hover{background-color:var(--calcite-ui-foreground-2)}:host([number-button-type=vertical]) .number-button-item[data-adjustment=down]:hover calcite-icon{color:var(--calcite-ui-text-1)}:host([number-button-type=vertical]) .number-button-item[data-adjustment=up]:hover{background-color:var(--calcite-ui-foreground-2)}:host([number-button-type=vertical]) .number-button-item[data-adjustment=up]:hover calcite-icon{color:var(--calcite-ui-text-1)}:host([number-button-type=vertical]) .number-button-item[data-adjustment=down]{border-top-width:0px}.number-button-item{max-height:50%;min-height:50%;pointer-events:initial;margin:0px;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;cursor:pointer;-ms-flex-align:center;align-items:center;-ms-flex-item-align:center;align-self:center;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-foreground-1);padding-top:0px;padding-bottom:0px;padding-left:0.5rem;padding-right:0.5rem;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;border-inline-start-width:0px}.number-button-item calcite-icon{pointer-events:none;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s}.number-button-item:focus{background-color:var(--calcite-ui-foreground-2)}.number-button-item:focus calcite-icon{color:var(--calcite-ui-text-1)}.number-button-item:active{background-color:var(--calcite-ui-foreground-3)}.wrapper{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center}:host input::-webkit-calendar-picker-indicator{display:none}:host input[type=date]::-webkit-input-placeholder{visibility:hidden !important}:host textarea::-webkit-resizer{position:absolute;bottom:0px;-webkit-box-sizing:border-box;box-sizing:border-box;padding-top:0px;padding-bottom:0px;padding-left:0.25rem;padding-right:0.25rem;inset-inline-end:0}.resize-icon-wrapper{bottom:2px;inset-inline-end:2px;pointer-events:none;position:absolute;z-index:10;height:0.75rem;width:0.75rem;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-3)}.resize-icon-wrapper calcite-icon{bottom:0.25rem;inset-inline-end:0.25rem;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.calcite--rtl .resize-icon-wrapper calcite-icon{-webkit-transform:rotate(45deg);transform:rotate(45deg)}:host([type=color]) input{padding:0.25rem}:host([type=file]) input{cursor:pointer;border-width:1px;border-style:dashed;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-foreground-1);text-align:center}:host([type=file][scale=s]) input{padding-top:1px;padding-bottom:1px;padding-left:0.5rem;padding-right:0.5rem}:host([type=file][scale=m]) input{padding-top:0.25rem;padding-bottom:0.25rem;padding-left:0.75rem;padding-right:0.75rem}:host([type=file][scale=l]) input{padding-top:0.5rem;padding-bottom:0.5rem;padding-left:1rem;padding-right:1rem}:host(.no-bottom-border) input{border-bottom-width:0px}:host(.border-top-color-one) input{border-top-color:var(--calcite-ui-border-1)}:host .inline-child{background-color:transparent;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s}:host .inline-child .editing-enabled{background-color:inherit}:host .inline-child:not(.editing-enabled){display:-ms-flexbox;display:flex;cursor:pointer;border-color:transparent;-webkit-padding-start:0;padding-inline-start:0}::slotted(input[slot=hidden-form-input]){bottom:0 !important;left:0 !important;margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;right:0 !important;top:0 !important;-webkit-transform:none !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",KX=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteInputFocus=W(this,"calciteInputFocus",7),this.calciteInputBlur=W(this,"calciteInputBlur",7),this.calciteInputInput=W(this,"calciteInputInput",7),this.calciteInputChange=W(this,"calciteInputChange",7),this.alignment="start",this.autofocus=!1,this.clearable=!1,this.disabled=!1,this.groupSeparator=!1,this.hidden=!1,this.intlLoading=gW.loading,this.iconFlipRtl=!1,this.loading=!1,this.locale=document.documentElement.lang||"en",this.localeFormat=!1,this.numberButtonType="vertical",this.readOnly=!1,this.required=!1,this.scale="m",this.status="idle",this.editingEnabled=!1,this.type="text",this.value="",this.childElType="input",this.internalValueChange=!1,this.mutationObserver=Vt("mutation",()=>this.setDisabledAction()),this.keyDownHandler=e=>{e.key==="ArrowUp"&&e.preventDefault(),!(this.readOnly||this.disabled)&&this.isClearable&&e.key==="Escape"&&(this.clearInputValue(e),e.preventDefault())},this.clearInputValue=e=>{this.setValue({committing:!0,nativeEvent:e,value:""})},this.inputBlurHandler=()=>{this.type==="number"&&this.setValue({value:this.value}),this.calciteInputBlur.emit({element:this.childEl,value:this.value}),this.preFocusValue!==this.value&&this.calciteInputChange.emit()},this.inputFocusHandler=e=>{const t=$e(this.el,"action");e.target!==t&&this.setFocus(),this.calciteInputFocus.emit({element:this.childEl,value:this.value}),this.preFocusValue=this.value},this.inputInputHandler=e=>{this.disabled||this.readOnly||this.setValue({nativeEvent:e,value:e.target.value})},this.inputKeyDownHandler=e=>{this.disabled||this.readOnly||e.key==="Enter"&&this.calciteInputChange.emit()},this.inputNumberInputHandler=e=>{if(this.disabled||this.readOnly)return;const t=e.target.value,i=JM(t,this.locale);e.inputType==="insertFromPaste"?(Pt(i)||e.preventDefault(),this.setValue({nativeEvent:e,value:KZ(i)}),this.childNumberEl.value=this.localizedValue):this.setValue({nativeEvent:e,value:JM(t,this.locale)})},this.inputNumberKeyDownHandler=e=>{if(this.type!=="number"||this.disabled||this.readOnly)return;if(e.key==="ArrowUp"){this.nudgeNumberValue("up",e);return}if(e.key==="ArrowDown"){this.nudgeNumberValue("down",e);return}const t=[...Pp,"ArrowLeft","ArrowRight","Backspace","Delete","Enter","Escape","Tab"];if(e.altKey||e.ctrlKey||e.metaKey)return;const i=e.shiftKey&&e.key==="Tab";if(t.includes(e.key)&&(!e.shiftKey||i)){e.key==="Enter"&&this.calciteInputChange.emit();return}const n=VC(this.locale);e.key===n&&(!this.value&&!this.childNumberEl.value||this.value&&this.childNumberEl.value.indexOf(n)===-1)||/[eE]/.test(e.key)&&(!this.value&&!this.childNumberEl.value||this.value&&!/[eE]/.test(this.childNumberEl.value))||e.key==="-"&&(!this.value&&!this.childNumberEl.value||this.value&&this.childNumberEl.value.split("-").length<=2)||e.preventDefault()},this.nudgeNumberValue=(e,t)=>{if(t instanceof KeyboardEvent&&t.repeat||this.type!=="number")return;const i=this.maxString?parseFloat(this.maxString):null,n=this.minString?parseFloat(this.minString):null,r=100;this.incrementOrDecrementNumberValue(e,i,n,t),this.nudgeNumberValueIntervalId&&window.clearInterval(this.nudgeNumberValueIntervalId);let a=!0;this.nudgeNumberValueIntervalId=window.setInterval(()=>{if(a){a=!1;return}this.incrementOrDecrementNumberValue(e,i,n,t)},r)},this.numberButtonMouseUpAndMouseOutHandler=()=>{window.clearInterval(this.nudgeNumberValueIntervalId)},this.numberButtonMouseDownHandler=e=>{e.preventDefault();const t=e.target.dataset.adjustment;this.nudgeNumberValue(t,e)},this.setChildElRef=e=>{this.childEl=e},this.setChildNumberElRef=e=>{this.childNumberEl=e},this.setInputValue=e=>{this.type==="text"&&!this.childEl||this.type==="number"&&!this.childNumberEl||(this[`child${this.type==="number"?"Number":""}El`].value=e)},this.setPreviousValue=e=>{this.previousValue=this.type==="number"?Pt(e)?e:"":e},this.setValue=({committing:e=!1,nativeEvent:t,origin:i="internal",value:n})=>{const r=this.type==="number"?KM(this.previousValue,this.locale,this.groupSeparator):"",a=this.type==="number"?XZ(n):n,o=this.type==="number"&&n&&!a?Pt(this.previousValue)?this.previousValue:"":a,s=this.type==="number"?KM(o,this.locale,this.groupSeparator):"";this.internalValueChange=i==="internal"&&this.value!==o,this.setPreviousValue(this.value),this.value=o,this.type==="number"&&(this.localizedValue=s),i==="external"&&this.setInputValue(this.type==="number"?s:o),t&&(this.calciteInputInput.emit({element:this.childEl,nativeEvent:t,value:this.value}).defaultPrevented?(this.value=this.previousValue,this.localizedValue=r):e&&this.calciteInputChange.emit())},this.inputKeyUpHandler=()=>{window.clearInterval(this.nudgeNumberValueIntervalId)}}disabledWatcher(){this.setDisabledAction()}maxWatcher(){var e;this.maxString=((e=this.max)===null||e===void 0?void 0:e.toString())||null}minWatcher(){var e;this.minString=((e=this.min)===null||e===void 0?void 0:e.toString())||null}valueWatcher(e){this.internalValueChange||(this.setValue({origin:"external",value:e==null||e==""?"":this.type==="number"?Pt(e)?e:this.previousValue||"":e}),this.warnAboutInvalidNumberValue(e)),this.internalValueChange=!1}updateRequestedIcon(){this.requestedIcon=Pc(iA,this.icon,this.type)}get isClearable(){return!this.isTextarea&&(this.clearable||this.type==="search")&&this.value.length>0}get isTextarea(){return this.childElType==="textarea"}connectedCallback(){var e;this.scale=Kt(this.el,"scale",this.scale),this.status=Kt(this.el,"status",this.status),this.inlineEditableEl=this.el.closest("calcite-inline-editable"),this.inlineEditableEl&&(this.editingEnabled=this.inlineEditableEl.editingEnabled||!1),this.setPreviousValue(this.value),this.type==="number"&&(this.warnAboutInvalidNumberValue(this.value),this.setValue({origin:"loading",value:Pt(this.value)?this.value:""})),tr(this),so(this),(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0}),this.setDisabledAction()}disconnectedCallback(){var e;Ar(this),lo(this),(e=this.mutationObserver)===null||e===void 0||e.disconnect()}componentWillLoad(){var e,t;this.childElType=this.type==="textarea"?"textarea":"input",this.maxString=(e=this.max)===null||e===void 0?void 0:e.toString(),this.minString=(t=this.min)===null||t===void 0?void 0:t.toString(),this.requestedIcon=Pc(iA,this.icon,this.type)}componentShouldUpdate(e,t,i){return this.type==="number"&&i==="value"&&e&&!Pt(e)?(this.setValue({value:t}),!1):!0}componentDidRender(){it(this)}async setFocus(){var e,t;this.type==="number"?(e=this.childNumberEl)===null||e===void 0||e.focus():(t=this.childEl)===null||t===void 0||t.focus()}onLabelClick(){this.setFocus()}incrementOrDecrementNumberValue(e,t,i,n){const{value:r}=this,a=this.step==="any"?1:Math.abs(this.step||1),o=r&&r!==""?parseFloat(r):0,l=o+a*(e==="up"?1:-1),u=typeof i=="number"&&!isNaN(i)&&l<i||typeof t=="number"&&!isNaN(t)&&l>t?o:l,h=bp(o),m=bp(a);this.setValue({committing:!0,nativeEvent:n,value:u.toFixed(Math.max(h,m))})}onFormReset(){this.setValue({value:this.defaultValue})}syncHiddenFormInput(e){var t,i,n,r;this.type==="number"?(e.type="number",e.min=(i=(t=this.min)===null||t===void 0?void 0:t.toString(10))!==null&&i!==void 0?i:"",e.max=(r=(n=this.max)===null||n===void 0?void 0:n.toString(10))!==null&&r!==void 0?r:""):this.type==="text"?(e.type="text",this.minLength!=null&&(e.minLength=this.minLength),this.maxLength!=null&&(e.maxLength=this.maxLength)):this.type==="password"&&(e.type="password")}setDisabledAction(){const e=$e(this.el,"action");!e||(this.disabled?e.setAttribute("disabled",""):e.removeAttribute("disabled"))}warnAboutInvalidNumberValue(e){this.type==="number"&&e&&!Pt(e)&&console.warn(`The specified value "${e}" cannot be parsed, or is out of range.`)}render(){const e=Fi(this.el),t=y("div",{class:on.loader},y("calcite-progress",{label:this.intlLoading,type:"indeterminate"})),i=y("button",{class:on.clearButton,disabled:this.disabled||this.readOnly,onClick:this.clearInputValue,tabIndex:this.disabled?-1:0,type:"button"},y("calcite-icon",{icon:"x",scale:"s"})),n=y("calcite-icon",{class:on.inputIcon,flipRtl:this.iconFlipRtl,icon:this.requestedIcon,scale:"s"}),r=this.numberButtonType==="horizontal",a=y("button",{class:{[on.numberButtonItem]:!0,[on.buttonItemHorizontal]:r},"data-adjustment":"up",disabled:this.disabled||this.readOnly,onMouseDown:this.numberButtonMouseDownHandler,onMouseOut:this.numberButtonMouseUpAndMouseOutHandler,onMouseUp:this.numberButtonMouseUpAndMouseOutHandler,tabIndex:-1,type:"button"},y("calcite-icon",{icon:"chevron-up",scale:"s"})),o=y("button",{class:{[on.numberButtonItem]:!0,[on.buttonItemHorizontal]:r},"data-adjustment":"down",disabled:this.disabled||this.readOnly,onMouseDown:this.numberButtonMouseDownHandler,onMouseOut:this.numberButtonMouseUpAndMouseOutHandler,onMouseUp:this.numberButtonMouseUpAndMouseOutHandler,tabIndex:-1,type:"button"},y("calcite-icon",{icon:"chevron-down",scale:"s"})),s=y("div",{class:on.numberButtonWrapper},a,o),l=y("div",{class:on.prefix},this.prefixText),u=y("div",{class:on.suffix},this.suffixText),h=this.type==="number"?y("input",{"aria-label":Zo(this),autofocus:this.autofocus?!0:null,defaultValue:this.defaultValue,disabled:this.disabled?!0:null,enterKeyHint:this.el.enterKeyHint,inputMode:this.el.inputMode,key:"localized-input",maxLength:this.maxLength,minLength:this.minLength,name:void 0,onBlur:this.inputBlurHandler,onFocus:this.inputFocusHandler,onInput:this.inputNumberInputHandler,onKeyDown:this.inputNumberKeyDownHandler,onKeyUp:this.inputKeyUpHandler,placeholder:this.placeholder||"",readOnly:this.readOnly,ref:this.setChildNumberElRef,type:"text",value:this.localizedValue}):null,m=this.type!=="number"?[y(this.childElType,{"aria-label":Zo(this),autofocus:this.autofocus?!0:null,class:{[on.editingEnabled]:this.editingEnabled,[on.inlineChild]:!!this.inlineEditableEl},defaultValue:this.defaultValue,disabled:this.disabled?!0:null,enterKeyHint:this.el.enterKeyHint,inputMode:this.el.inputMode,max:this.maxString,maxLength:this.maxLength,min:this.minString,minLength:this.minLength,name:this.name,onBlur:this.inputBlurHandler,onFocus:this.inputFocusHandler,onInput:this.inputInputHandler,onKeyDown:this.inputKeyDownHandler,onKeyUp:this.inputKeyUpHandler,placeholder:this.placeholder||"",readOnly:this.readOnly,ref:this.setChildElRef,required:this.required?!0:null,step:this.step,tabIndex:this.disabled||this.inlineEditableEl&&!this.editingEnabled?-1:null,type:this.type,value:this.value}),this.isTextarea?y("div",{class:on.resizeIconWrapper},y("calcite-icon",{icon:"chevron-down",scale:"s"})):null]:null;return y(ze,{onClick:this.inputFocusHandler,onKeyDown:this.keyDownHandler},y("div",{class:{[on.inputWrapper]:!0,[Bo.rtl]:e==="rtl"}},this.type==="number"&&this.numberButtonType==="horizontal"&&!this.readOnly?o:null,this.prefixText?l:null,y("div",{class:on.wrapper},h,m,this.isClearable?i:null,this.requestedIcon?n:null,this.loading?t:null),y("div",{class:on.actionWrapper},y("slot",{name:WX.action})),this.type==="number"&&this.numberButtonType==="vertical"&&!this.readOnly?s:null,this.suffixText?u:null,this.type==="number"&&this.numberButtonType==="horizontal"&&!this.readOnly?a:null,y(co,{component:this})))}get el(){return this}static get watchers(){return{disabled:["disabledWatcher"],max:["maxWatcher"],min:["minWatcher"],value:["valueWatcher"],icon:["updateRequestedIcon"],type:["updateRequestedIcon"]}}static get style(){return JX}},YX="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:host{--calcite-icon-size:1rem;--calcite-spacing-eighth:0.125rem;--calcite-spacing-quarter:0.25rem;--calcite-spacing-half:0.5rem;--calcite-spacing-three-quarters:0.75rem;--calcite-spacing:1rem;--calcite-spacing-plus-quarter:1.25rem;--calcite-spacing-plus-half:1.5rem;--calcite-spacing-double:2rem;--calcite-menu-min-width:10rem;--calcite-header-min-height:3rem;--calcite-footer-min-height:3rem}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:inline-block;width:100%;overflow:visible;vertical-align:top;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.calendar-picker-wrapper{position:static;width:100%;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}.input-wrapper{position:relative}:host([range]) .input-container{display:-ms-flexbox;display:flex}:host([range]) .input-wrapper{-ms-flex:1 1 auto;flex:1 1 auto}:host([range]) .horizontal-arrow-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;border-width:1px;border-left-width:0px;border-right-width:0px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-background);padding-top:0px;padding-bottom:0px;padding-left:0.25rem;padding-right:0.25rem}:host([range][layout=vertical]) .input-wrapper{width:100%}:host([range][layout=vertical]) .input-container{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:flex-start}:host([range][layout=vertical]) .calendar-picker-wrapper--end{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}:host([range][layout=vertical]) .vertical-arrow-container{top:1.5rem;position:absolute;left:0px;z-index:10;margin-left:1px;margin-right:1px;background-color:var(--calcite-ui-foreground-1);padding-left:0.625rem;padding-right:0.625rem}:host([scale=s][range]:not([layout=vertical])) .calendar-picker-wrapper{width:216px}:host([scale=m][range]:not([layout=vertical])) .calendar-picker-wrapper{width:286px}:host([scale=l][range]:not([layout=vertical])) .calendar-picker-wrapper{width:398px}.menu-container{display:block;position:absolute;z-index:900;-webkit-transform:scale(0);transform:scale(0);visibility:hidden;pointer-events:none}.menu-container .calcite-popper-anim{position:relative;z-index:1;-webkit-transition:var(--calcite-popper-transition);transition:var(--calcite-popper-transition);visibility:hidden;-webkit-transition-property:visibility, opacity, -webkit-transform;transition-property:visibility, opacity, -webkit-transform;transition-property:transform, visibility, opacity;transition-property:transform, visibility, opacity, -webkit-transform;opacity:0;-webkit-box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);border-radius:0.25rem}.menu-container[data-popper-placement^=bottom] .calcite-popper-anim{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.menu-container[data-popper-placement^=top] .calcite-popper-anim{-webkit-transform:translateY(5px);transform:translateY(5px)}.menu-container[data-popper-placement^=left] .calcite-popper-anim{-webkit-transform:translateX(5px);transform:translateX(5px)}.menu-container[data-popper-placement^=right] .calcite-popper-anim{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.menu-container[data-popper-placement] .calcite-popper-anim--active{opacity:1;visibility:visible;-webkit-transform:translate(0);transform:translate(0)}:host([active]) .menu-container{pointer-events:initial;visibility:visible}.menu-container--active .menu-container .calcite-popper-anim{position:relative;z-index:1;-webkit-transition:var(--calcite-popper-transition);transition:var(--calcite-popper-transition);visibility:hidden;-webkit-transition-property:visibility, opacity, -webkit-transform;transition-property:visibility, opacity, -webkit-transform;transition-property:transform, visibility, opacity;transition-property:transform, visibility, opacity, -webkit-transform;opacity:0;-webkit-box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);border-radius:0.25rem}.menu-container--active .menu-container[data-popper-placement^=bottom] .calcite-popper-anim{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.menu-container--active .menu-container[data-popper-placement^=top] .calcite-popper-anim{-webkit-transform:translateY(5px);transform:translateY(5px)}.menu-container--active .menu-container[data-popper-placement^=left] .calcite-popper-anim{-webkit-transform:translateX(5px);transform:translateX(5px)}.menu-container--active .menu-container[data-popper-placement^=right] .calcite-popper-anim{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.menu-container--active .menu-container[data-popper-placement] .calcite-popper-anim--active{opacity:1;visibility:visible;-webkit-transform:translate(0);transform:translate(0)}.input .calcite-input__wrapper{margin-top:0px}:host([range][layout=vertical][scale=m]) .vertical-arrow-container{top:1.5rem;padding-left:0.75rem}:host([range][layout=vertical][scale=m]) .vertical-arrow-container calcite-icon{height:0.75rem;width:0.75rem;min-width:0px}:host([range][layout=vertical][scale=l]) .vertical-arrow-container{top:2.25rem;padding-left:0.875rem;padding-right:0.875rem}:host([range][layout=vertical][active]) .vertical-arrow-container{display:none}::slotted(input[slot=hidden-form-input]){bottom:0 !important;left:0 !important;margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;right:0 !important;top:0 !important;-webkit-transform:none !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",ZX=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteDatePickerChange=W(this,"calciteDatePickerChange",7),this.calciteDatePickerRangeChange=W(this,"calciteDatePickerRangeChange",7),this.calciteInputDatePickerChange=W(this,"calciteInputDatePickerChange",7),this.calciteInputDatePickerOpen=W(this,"calciteInputDatePickerOpen",7),this.calciteInputDatePickerClose=W(this,"calciteInputDatePickerClose",7),this.disabled=!1,this.active=!1,this.intlPrevMonth=Lp.prevMonth,this.intlNextMonth=Lp.nextMonth,this.intlYear=Lp.year,this.locale=document.documentElement.lang||"en",this.scale="m",this.range=!1,this.required=!1,this.overlayPositioning="absolute",this.proximitySelectionDisabled=!1,this.layout="horizontal",this.focusedInput="start",this.activeTransitionProp="opacity",this.transitionEnd=e=>{e.propertyName===this.activeTransitionProp&&(this.active?this.calciteInputDatePickerOpen.emit():this.calciteInputDatePickerClose.emit())},this.setStartInput=e=>{this.startInput=e},this.setEndInput=e=>{this.endInput=e},this.deactivate=()=>{this.active=!1},this.keyUpHandler=e=>{e.key==="Escape"&&(this.active=!1)},this.inputBlur=e=>{this.blur(e.detail)},this.startInputFocus=()=>{this.active=!0,this.focusedInput="start"},this.endInputFocus=()=>{this.active=!0,this.focusedInput="end"},this.inputInput=e=>{this.input(e.detail.value)},this.setMenuEl=e=>{e&&(this.menuEl=e,this.createPopper())},this.setStartWrapper=e=>{this.startWrapper=e,this.setReferenceEl()},this.setEndWrapper=e=>{this.endWrapper=e,this.setReferenceEl()},this.handleDateChange=e=>{this.range||(this.value=Ks(e.detail))},this.handleDateRangeChange=e=>{var t,i;if(!this.range||!e.detail)return;const{startDate:n,endDate:r}=e.detail;this.start=Ks(n),this.end=Ks(r),this.value=[this.start,this.end],this.shouldFocusRangeEnd()?(t=this.endInput)===null||t===void 0||t.setFocus():this.shouldFocusRangeStart()&&((i=this.startInput)===null||i===void 0||i.setFocus())}}handleDisabledChange(e){e||(this.active=!1)}valueHandler(e){Array.isArray(e)?(this.valueAsDate=e.map(t=>zt(t)),this.start=e[0],this.end=e[1]):e?(this.valueAsDate=zt(e),this.start="",this.end=""):(this.valueAsDate=void 0,this.start=void 0,this.end=void 0)}onMinChanged(e){this.minAsDate=zt(e)}onMaxChanged(e){this.maxAsDate=zt(e)}activeHandler(){if(!this.disabled){this.reposition();return}this.active=!1}handleDateOrRangeChange(){this.calciteInputDatePickerChange.emit()}calciteDaySelectHandler(){this.shouldFocusRangeStart()||this.shouldFocusRangeEnd()||(this.active=!1)}async setFocus(){var e;(e=this.startInput)===null||e===void 0||e.setFocus()}async reposition(){const{popper:e,menuEl:t}=this,i=this.getModifiers();e?await vy({el:t,modifiers:i,placement:Og,popper:e}):this.createPopper()}connectedCallback(){Array.isArray(this.value)?(this.valueAsDate=this.value.map(e=>zt(e)),this.start=this.value[0],this.end=this.value[1]):this.value&&(this.valueAsDate=zt(this.value),this.start="",this.end=""),this.start&&(this.startAsDate=zt(this.start)),this.end&&(this.endAsDate=zt(this.end)),this.min&&(this.minAsDate=zt(this.min)),this.max&&(this.maxAsDate=zt(this.max)),this.createPopper(),tr(this),so(this)}async componentWillLoad(){await this.loadLocaleData(),this.onMinChanged(this.min),this.onMaxChanged(this.max)}disconnectedCallback(){this.destroyPopper(),Ar(this),lo(this)}componentDidRender(){it(this)}render(){var e,t;const{disabled:i}=this,n=Sn(this.range?this.startAsDate:this.valueAsDate,this.minAsDate,this.maxAsDate),r=this.range?Sn(this.endAsDate,this.minAsDate,this.maxAsDate):null,a=r?r.toLocaleDateString(this.locale):"",o=n?n.toLocaleDateString(this.locale):"";return y(ze,{onBlur:this.deactivate,onKeyUp:this.keyUpHandler,role:"application"},this.localeData&&y("div",{"aria-expanded":this.active.toString(),class:"input-container",role:"application"},y("div",{class:"input-wrapper",ref:this.setStartWrapper},y("calcite-input",{class:`input ${this.layout==="vertical"&&this.range?"no-bottom-border":""}`,disabled:i,icon:"calendar",label:Zo(this),"number-button-type":"none",onCalciteInputBlur:this.inputBlur,onCalciteInputFocus:this.startInputFocus,onCalciteInputInput:this.inputInput,placeholder:(e=this.localeData)===null||e===void 0?void 0:e.placeholder,ref:this.setStartInput,scale:this.scale,type:"text",value:o})),y("div",{"aria-hidden":(!this.active).toString(),class:{"menu-container":!0,"menu-container--active":this.active},ref:this.setMenuEl},y("div",{class:{["calendar-picker-wrapper"]:!0,["calendar-picker-wrapper--end"]:this.focusedInput==="end",[Qo.animation]:!0,[Qo.animationActive]:this.active},onTransitionEnd:this.transitionEnd},y("calcite-date-picker",{activeRange:this.focusedInput,endAsDate:this.endAsDate,headingLevel:this.headingLevel,intlNextMonth:this.intlNextMonth,intlPrevMonth:this.intlPrevMonth,intlYear:this.intlYear,locale:this.locale,max:this.max,maxAsDate:this.maxAsDate,min:this.min,minAsDate:this.minAsDate,onCalciteDatePickerChange:this.handleDateChange,onCalciteDatePickerRangeChange:this.handleDateRangeChange,proximitySelectionDisabled:this.proximitySelectionDisabled,range:this.range,scale:this.scale,startAsDate:this.startAsDate,tabIndex:0,valueAsDate:this.valueAsDate}))),this.range&&this.layout==="horizontal"&&y("div",{class:"horizontal-arrow-container"},y("calcite-icon",{flipRtl:!0,icon:"arrow-right",scale:"s"})),this.range&&this.layout==="vertical"&&this.scale!=="s"&&y("div",{class:"vertical-arrow-container"},y("calcite-icon",{icon:"arrow-down",scale:"s"})),this.range&&y("div",{class:"input-wrapper",ref:this.setEndWrapper},y("calcite-input",{class:{input:!0,"border-top-color-one":this.layout==="vertical"&&this.range},disabled:i,icon:"calendar","number-button-type":"none",onCalciteInputBlur:this.inputBlur,onCalciteInputFocus:this.endInputFocus,onCalciteInputInput:this.inputInput,placeholder:(t=this.localeData)===null||t===void 0?void 0:t.placeholder,ref:this.setEndInput,scale:this.scale,type:"text",value:a}))),y(co,{component:this}))}setReferenceEl(){const{focusedInput:e,layout:t,endWrapper:i,startWrapper:n}=this;this.referenceEl=e==="end"||t==="vertical"?i||n:n||i,this.createPopper()}onLabelClick(){this.setFocus()}getModifiers(){const e={name:"flip",enabled:!0};e.options={fallbackPlacements:this.flipPlacements||NC};const t={name:"eventListeners",enabled:this.active};return[e,t]}createPopper(){this.destroyPopper();const{menuEl:e,referenceEl:t,overlayPositioning:i}=this;if(!e||!t)return;const n=this.getModifiers();this.popper=by({el:e,modifiers:n,overlayPositioning:i,placement:Og,referenceEl:t})}destroyPopper(){const{popper:e}=this;e&&e.destroy(),this.popper=null}startWatcher(e){this.startAsDate=zt(e)}endWatcher(e){this.endAsDate=zt(e)}async loadLocaleData(){if(!qc.isBrowser)return;const{locale:e}=this;this.localeData=await HC(e)}clearCurrentValue(){if(!this.range){this.value="";return}const{focusedInput:e}=this;e==="start"?(this.value=Array.isArray(this.value)?["",this.value[1]||""]:[""],this.start=void 0):e==="end"&&(this.value=Array.isArray(this.value)?[this.value[0]||"",""]:["",""],this.end=void 0)}input(e){const t=this.getDateFromInput(e);if(!t){this.clearCurrentValue();return}if(!this.range){this.value=Ks(t),this.calciteDatePickerChange.emit(t);return}const{focusedInput:i}=this;if(i==="start"){if(!this.startAsDate||!Ai(t,this.startAsDate)){const n=Ks(t);this.value=Array.isArray(this.value)?[n,this.value[1]||""]:[n],this.start=n,this.calciteDatePickerRangeChange.emit({startDate:t,endDate:this.endAsDate})}}else if(i==="end"&&(!this.endAsDate||!Ai(t,this.endAsDate))){const n=Ks(t);this.value=Array.isArray(this.value)?[this.value[0]||"",n]:["",n],this.end=n,this.calciteDatePickerRangeChange.emit({startDate:this.startAsDate,endDate:t})}}blur(e){const{locale:t,focusedInput:i,endAsDate:n,range:r,startAsDate:a,valueAsDate:o}=this;this.getDateFromInput(e.value)||(!r&&o?e.value=Array.isArray(o)?o[i==="end"?1:0].toLocaleDateString(t):o.toLocaleDateString(t):i==="start"&&a?e.value=a.toLocaleDateString(t):i==="end"&&n&&(e.value=n.toLocaleDateString(t)))}shouldFocusRangeStart(){return!!(this.endAsDate&&!this.startAsDate&&this.focusedInput==="end"&&this.startInput)}shouldFocusRangeEnd(){return!!(this.startAsDate&&!this.endAsDate&&this.focusedInput==="start"&&this.endInput)}getDateFromInput(e){if(!this.localeData)return!1;const{separator:t}=this.localeData,{day:i,month:n,year:r}=rX(e,this.localeData),a=i>0,o=n>-1,s=new Date(r,n,i);s.setFullYear(r);const l=!isNaN(s.getTime()),u=e.split(t).filter(m=>m).length>2,h=r.toString().length>0;return a&&o&&l&&u&&h&&V9(s,this.min,this.max)?s:!1}get el(){return this}static get watchers(){return{disabled:["handleDisabledChange"],value:["valueHandler"],min:["onMinChanged"],max:["onMaxChanged"],active:["activeHandler"],layout:["setReferenceEl"],focusedInput:["setReferenceEl"],start:["startWatcher"],end:["endWatcher"],locale:["loadLocaleData"]}}static get style(){return YX}};var yw;(function(e){e.valid="check-circle",e.invalid="exclamation-mark-triangle",e.idle="information"})(yw||(yw={}));const XX="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host([active][scale=m]),:host([active][scale=l]){--calcite-input-message-spacing-value:0.25rem}:host{visibility:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;height:0px;width:100%;-ms-flex-align:center;align-items:center;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1);opacity:0;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s}:host([active]){visibility:visible;height:auto;opacity:1;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s}:host([active][scale=m]),:host([active][scale=l]){margin-top:var(--calcite-input-message-spacing-value)}.calcite-input-message-icon{pointer-events:none;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-negative:0;flex-shrink:0;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;-webkit-margin-end:0.5rem;margin-inline-end:0.5rem}:host([status=invalid]) .calcite-input-message-icon{color:var(--calcite-ui-danger)}:host([status=warning]) .calcite-input-message-icon{color:var(--calcite-ui-warning)}:host([status=valid]) .calcite-input-message-icon{color:var(--calcite-ui-success)}:host([status=idle]) .calcite-input-message-icon{color:var(--calcite-ui-brand)}:host([status][active]){font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}:host([status][active][scale=s]){font-size:var(--calcite-font-size--3);line-height:0.75rem}:host([status][active][scale=m]){margin-top:0.25rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([status][active][scale=l]){margin-top:0.25rem;font-size:var(--calcite-font-size--1);line-height:1rem}",QX=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.active=!1,this.scale="m",this.status="idle"}handleIconEl(){this.requestedIcon=Pc(yw,this.icon,this.status)}connectedCallback(){this.status=Kt(this.el,"status",this.status),this.scale=Kt(this.el,"scale",this.scale),this.requestedIcon=Pc(yw,this.icon,this.status)}render(){const e=!this.active;return y(ze,{"calcite-hydrated-hidden":e},this.renderIcon(this.requestedIcon),y("slot",null))}renderIcon(e){if(e)return y("calcite-icon",{class:"calcite-input-message-icon",icon:e,scale:"s"})}get el(){return this}static get watchers(){return{status:["handleIconEl"],icon:["handleIconEl"]}}static get style(){return XX}},nA=5;function wy(e,t=!0){try{const i={hour:"2-digit",minute:"2-digit",timeZone:"UTC"};return t&&(i.second="2-digit"),new Intl.DateTimeFormat(e,i)}catch{throw new Error(`Invalid locale supplied while attempting to create a DateTime formatter: ${e}`)}}function Rp(e){const t=e.toString();return e>=0&&e<=9?t.padStart(2,"0"):t}function eQ(e){if(!Zd(e))return null;const[t,i,n]=e.split(":"),r=Rp(parseInt(t)),a=Rp(parseInt(i));if(n){const o=Rp(parseInt(n));return`${r}:${a}:${o}`}return`${r}:${a}`}function rA(e){const i=wy(e).formatToParts(new Date(Date.UTC(0,0,0,0,0,0)));return Us("meridiem",i)?"12":"24"}function Us(e,t){var i,n,r,a;if(!e||!t)return null;if(e==="hourSuffix"){const o=t.indexOf(t.find(({type:u})=>u==="hour")),s=t.indexOf(t.find(({type:u})=>u==="minute")),l=t[o+1];return l&&l.type==="literal"&&s-o===2&&((i=l.value)===null||i===void 0?void 0:i.trim())||null}if(e==="minuteSuffix"){const o=t.indexOf(t.find(({type:u})=>u==="minute")),s=t.indexOf(t.find(({type:u})=>u==="second")),l=t[o+1];return l&&l.type==="literal"&&s-o===2&&((n=l.value)===null||n===void 0?void 0:n.trim())||null}if(e==="secondSuffix"){const o=t.indexOf(t.find(({type:l})=>l==="second")),s=t[o+1];return s&&s.type==="literal"&&((r=s.value)===null||r===void 0?void 0:r.trim())||null}return((a=t.find(({type:o})=>e=="meridiem"?o==="dayPeriod":o===e))===null||a===void 0?void 0:a.value)||null}function aA(e){if(!Pt(e))return null;const t=parseInt(e);return t>=0&&t<=11?"AM":"PM"}function Zd(e){if(!e||e.startsWith(":")||e.endsWith(":"))return!1;const t=e.split(":");if(!(t.length>1&&t.length<4))return!1;const[n,r,a]=t,o=parseInt(t[0]),s=parseInt(t[1]),l=parseInt(t[2]),u=Pt(n)&&o>=0&&o<24,h=Pt(r)&&s>=0&&s<60,m=Pt(a)&&l>=0&&l<60;if(u&&h&&!a||u&&h&&m)return!0}function tQ(e,t){if(t==="meridiem")return e==="AM"||e==="PM";if(!Pt(e))return!1;const i=Number(e);return t==="hour"?i>=0&&i<24:i>=0&&i<60}function L_(e,t,i){if(!tQ(e,t))return;const n=parseInt(e),r=new Date(Date.UTC(0,0,0,t==="hour"?n:t==="meridiem"?e==="AM"?0:12:0,t==="minute"?n:0,t==="second"?n:0));if(!r)return;const o=wy(i).formatToParts(r);return Us(t,o)}function _b(e,t="en",i=!0){if(!Zd(e))return null;const{hour:n,minute:r,second:a="0"}=Jx(e),o=new Date(Date.UTC(0,0,0,parseInt(n),parseInt(r),parseInt(a))),s=wy(t,i);return(s==null?void 0:s.format(o))||null}function oA(e,t="en"){if(!Zd(e))return null;const{hour:i,minute:n,second:r="0"}=Jx(e),a=new Date(Date.UTC(0,0,0,parseInt(i),parseInt(n),parseInt(r)));if(a){const s=wy(t).formatToParts(a);return{localizedHour:Us("hour",s),localizedHourSuffix:Us("hourSuffix",s),localizedMinute:Us("minute",s),localizedMinuteSuffix:Us("minuteSuffix",s),localizedSecond:Us("second",s),localizedSecondSuffix:Us("secondSuffix",s),localizedMeridiem:Us("meridiem",s)}}return null}function iQ(e,t="en"){if(!Zd(e))return null;const{hour:i,minute:n,second:r="0"}=Jx(e),a=new Date(Date.UTC(0,0,0,parseInt(i),parseInt(n),parseInt(r)));return a?wy(t).formatToParts(a):null}function Jx(e){if(Zd(e)){const[t,i,n]=e.split(":");return{hour:t,minute:i,second:n}}return{hour:null,minute:null,second:null}}const nQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:inline-block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}::slotted(input[slot=hidden-form-input]){bottom:0 !important;left:0 !important;margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;right:0 !important;top:0 !important;-webkit-transform:none !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",rQ=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteInputTimePickerChange=W(this,"calciteInputTimePickerChange",7),this.active=!1,this.disabled=!1,this.locale=document.documentElement.lang||navigator.language||"en",this.required=!1,this.scale="m",this.step=60,this.value=null,this.internalValueChange=!1,this.previousValidValue=null,this.referenceElementId=`input-time-picker-${li()}`,this.calciteInputBlurHandler=()=>{this.active=!1;const e=this.shouldIncludeSeconds(),t=_b(this.calciteInputEl.value,this.locale,e);this.setInputValue(t||_b(this.value,this.locale,e))},this.calciteInputFocusHandler=()=>{this.active=!0},this.calciteInputInputHandler=e=>{const t=e.target;this.setValue({value:t.value})},this.timePickerChangeHandler=e=>{e.stopPropagation();const i=e.target.value;this.setValue({value:i,origin:"time-picker"})},this.setCalciteInputEl=e=>{this.calciteInputEl=e},this.setCalciteTimePickerEl=e=>{this.calciteTimePickerEl=e},this.setInputValue=e=>{!this.calciteInputEl||(this.calciteInputEl.value=e)},this.setValue=({value:e,origin:t="input"})=>{const i=this.value,n=eQ(e),r=_b(n,this.locale,this.shouldIncludeSeconds());this.internalValueChange=t!=="external"&&t!=="loading";const a=t!=="loading"&&t!=="external"&&(e!==this.previousValidValue&&!e||!!(!this.previousValidValue&&n)||n!==this.previousValidValue&&n);e?(a&&(this.previousValidValue=n),n&&n!==this.value&&(this.value=n),this.localizedValue=r):(this.value=e,this.localizedValue=null),(t==="time-picker"||t==="external")&&this.setInputValue(r),a&&(this.calciteInputTimePickerChange.emit().defaultPrevented?(this.internalValueChange=!1,this.value=i,this.setInputValue(i),this.previousValidValue=i):this.previousValidValue=n)}}activeHandler(){this.disabled&&(this.active=!1)}handleDisabledChange(e){e||(this.active=!1)}localeWatcher(e){this.setInputValue(_b(this.value,e,this.shouldIncludeSeconds()))}valueWatcher(e){this.internalValueChange||this.setValue({value:e,origin:"external"}),this.internalValueChange=!1}clickHandler(e){e.composedPath().includes(this.calciteTimePickerEl)||this.setFocus()}keyUpHandler(e){e.key==="Escape"&&this.active&&(this.active=!1)}timePickerBlurHandler(e){e.preventDefault(),e.stopPropagation(),this.active=!1}timePickerFocusHandler(e){e.preventDefault(),e.stopPropagation(),this.active=!0}async setFocus(){this.calciteInputEl.setFocus()}onLabelClick(){this.setFocus()}shouldIncludeSeconds(){return this.step<60}connectedCallback(){this.value&&this.setValue({value:Zd(this.value)?this.value:void 0,origin:"loading"}),tr(this),so(this)}componentDidLoad(){this.setInputValue(this.localizedValue)}disconnectedCallback(){Ar(this),lo(this)}componentDidRender(){it(this)}render(){const e=`${this.referenceElementId}-popover`;return y(ze,null,y("div",{"aria-controls":e,"aria-haspopup":"dialog","aria-label":this.name,"aria-owns":e,id:this.referenceElementId,role:"combobox"},y("calcite-input",{disabled:this.disabled,icon:"clock",label:Zo(this),onCalciteInputBlur:this.calciteInputBlurHandler,onCalciteInputFocus:this.calciteInputFocusHandler,onCalciteInputInput:this.calciteInputInputHandler,ref:this.setCalciteInputEl,scale:this.scale,step:this.step})),y("calcite-popover",{id:e,label:"Time Picker",open:this.active,referenceElement:this.referenceElementId},y("calcite-time-picker",{intlHour:this.intlHour,intlHourDown:this.intlHourDown,intlHourUp:this.intlHourUp,intlMeridiem:this.intlMeridiem,intlMeridiemDown:this.intlMeridiemDown,intlMeridiemUp:this.intlMeridiemUp,intlMinute:this.intlMinute,intlMinuteDown:this.intlMinuteDown,intlMinuteUp:this.intlMinuteUp,intlSecond:this.intlSecond,intlSecondDown:this.intlSecondDown,intlSecondUp:this.intlSecondUp,lang:this.locale,onCalciteTimePickerChange:this.timePickerChangeHandler,ref:this.setCalciteTimePickerEl,scale:this.scale,step:this.step,value:this.value})),y(co,{component:this}))}get el(){return this}static get watchers(){return{active:["activeHandler"],disabled:["handleDisabledChange"],locale:["localeWatcher"],value:["valueWatcher"]}}static get style(){return nQ}},aQ={container:"container"},oQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:inline}:host([alignment=start]){text-align:start}:host([alignment=end]){text-align:end}:host([alignment=center]){text-align:center}:host([scale=s]) .container{margin-bottom:0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=m]) .container{margin-bottom:0.75rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) .container{margin-bottom:1rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host .container{margin-top:0px;margin-right:0px;margin-left:0px;width:100%;line-height:1.375;color:var(--calcite-ui-text-1)}:host([layout=default]) .container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;gap:0.25rem}:host([layout=inline]) .container,:host([layout=inline-space-between]) .container{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;gap:0.5rem}:host([layout=inline][scale=l]) .container{gap:0.75rem}:host([layout=inline-space-between]) .container{-ms-flex-pack:justify;justify-content:space-between}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled])>.container{pointer-events:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted(*){pointer-events:none}:host([disabled]) ::slotted(*[disabled]),:host([disabled]) ::slotted(*[disabled] *){--tw-bg-opacity:1}:host([disabled]) ::slotted(calcite-input-message:not([active])){--tw-bg-opacity:0}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([disable-spacing]) .container{margin:0px;gap:0px}",sQ=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteInternalLabelClick=W(this,"calciteInternalLabelClick",3),this.alignment="start",this.status="idle",this.scale="m",this.layout="default",this.disableSpacing=!1,this.disabled=!1,this.labelClickHandler=e=>{this.calciteInternalLabelClick.emit({sourceEvent:e})}}connectedCallback(){document.dispatchEvent(new CustomEvent(Ux))}disconnectedCallback(){document.dispatchEvent(new CustomEvent(pw))}render(){return y(ze,{onClick:this.labelClickHandler},y("div",{class:aQ.container},y("slot",null)))}get el(){return this}static get style(){return oQ}},lQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:inline}:host a,:host span{position:relative;display:-ms-flexbox;display:flex;cursor:pointer;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;border-radius:0px;border-style:none;font-family:inherit;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;text-decoration:none;line-height:inherit;font-size:inherit;-webkit-appearance:none}:host a:hover,:host span:hover{text-decoration:none}:host a,:host span{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}:host a:focus,:host span:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}calcite-icon{width:1em;height:1em;min-width:unset;min-height:unset}.calcite-link--icon{vertical-align:text-top;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;margin-top:0.125rem}:host .calcite-link--icon.icon-start{-webkit-margin-end:0.5rem;margin-inline-end:0.5rem}:host .calcite-link--icon.icon-end{-webkit-margin-start:0.5rem;margin-inline-start:0.5rem}:host span,:host a{position:relative;display:inline;border-style:none;background-color:transparent;padding:0px;color:var(--calcite-ui-text-link);-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;line-height:inherit;white-space:initial;background-image:-webkit-gradient(linear, left top, left bottom, from(currentColor), to(currentColor)), -webkit-gradient(linear, left top, left bottom, from(var(--calcite-link-blue-underline)), to(var(--calcite-link-blue-underline)));background-image:linear-gradient(currentColor, currentColor), linear-gradient(var(--calcite-link-blue-underline), var(--calcite-link-blue-underline));background-position:0% 100%, 100% 100%;background-repeat:no-repeat, no-repeat;background-size:0% 1px, 100% 1px}:host span:hover,:host span:focus,:host a:hover,:host a:focus{background-size:100% 1px, 100% 1px}:host span:active,:host a:active{background-size:100% 2px, 100% 2px}:host span.calcite--rtl,:host a.calcite--rtl{background-position:100% 100%, 100% 100%}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}",cQ=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.disabled=!1,this.download=!1,this.storeTagRef=e=>{this.childEl=e}}componentDidRender(){it(this)}render(){const{download:e,el:t}=this,i=Fi(t),n=this.href?"a":"span",r=y("calcite-icon",{class:"calcite-link--icon icon-start",flipRtl:this.iconFlipRtl==="start"||this.iconFlipRtl==="both",icon:this.iconStart,scale:"s"}),a=y("calcite-icon",{class:"calcite-link--icon icon-end",flipRtl:this.iconFlipRtl==="end"||this.iconFlipRtl==="both",icon:this.iconEnd,scale:"s"}),o=n,s=n==="span"?"link":null,l=n==="span"?0:null;return y(ze,{role:"presentation"},y(o,{class:{[Bo.rtl]:i==="rtl"},download:o==="a"&&(e===""||e)?e:null,href:o==="a"&&this.href,ref:this.storeTagRef,rel:o==="a"&&this.rel,role:s,tabIndex:l,target:o==="a"&&this.target},this.iconStart?r:null,y("slot",null),this.iconEnd?a:null))}async setFocus(){ai(this.childEl)}get el(){return this}static get style(){return lQ}},uQ={container:"container"},dQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.container{-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;width:100%;-ms-flex-direction:column;flex-direction:column;background-color:transparent}.container *{-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(calcite-list-item){margin-bottom:1px;--tw-shadow:0 1px 0 var(--calcite-ui-border-3);--tw-shadow-colored:0 1px 0 var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}::slotted(calcite-list-item:last-child){--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}",hQ=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.disabled=!1}componentDidRender(){it(this)}async setFocus(){const e=this.el.querySelector("calcite-list-item:not([non-interactive])");e==null||e.setFocus()}render(){return y(ze,{role:"list"},y("div",{class:uQ.container},y("slot",null)))}get el(){return this}static get style(){return dQ}},Rr={container:"container",contentContainer:"content-container",nestedContainer:"nested-container",contentContainerButton:"content-container--button",content:"content",actionsStart:"actions-start",contentStart:"content-start",label:"label",description:"description",contentEnd:"content-end",actionsEnd:"actions-end"},bl={actionsStart:"actions-start",contentStart:"content-start",contentEnd:"content-end",actionsEnd:"actions-end"},pQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.container{-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex:1 1 0%;flex:1 1 0%;background-color:var(--calcite-ui-foreground-1);font-family:var(--calcite-sans-family)}.container *{-webkit-box-sizing:border-box;box-sizing:border-box}.nested-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;background-color:var(--calcite-ui-foreground-1)}.content-container{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-align:stretch;align-items:stretch;padding:0px;color:var(--calcite-ui-text-2);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}.content-container--button{cursor:pointer;border-style:none;background-color:var(--calcite-ui-foreground-1);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;text-align:initial}.content-container--button:hover{background-color:var(--calcite-ui-foreground-2)}.content-container--button:hover .label,.content-container--button:hover .description{color:var(--calcite-ui-text-1)}.content-container--button:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.content{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;padding-left:0.75rem;padding-right:0.75rem;padding-top:0.5rem;padding-bottom:0.5rem;font-size:var(--calcite-font-size--2);line-height:1.375}.label,.description{font-family:var(--calcite-sans-family);font-size:var(--calcite-font-size--2);font-weight:var(--calcite-font-weight-normal);word-wrap:break-word;word-break:break-word}.label:only-child,.description:only-child{margin:0px;padding-top:0.25rem;padding-bottom:0.25rem}.label{color:var(--calcite-ui-text-1)}.description{margin-top:0.125rem;color:var(--calcite-ui-text-3)}.content-start,.content-end{pointer-events:none;-ms-flex:0 1 auto;flex:0 1 auto}.actions-start,.actions-end,.content-start,.content-end{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.content-start ::slotted(calcite-icon),.content-end ::slotted(calcite-icon){-ms-flex-item-align:center;align-self:center;padding-left:0.75rem;padding-right:0.75rem}.actions-start ::slotted(calcite-action),.actions-end ::slotted(calcite-action){-ms-flex-item-align:stretch;align-self:stretch;color:inherit}::slotted(calcite-list-item-group),::slotted(calcite-list-item){padding-left:0.5rem}",mQ=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.nonInteractive=!1,this.disabled=!1}componentDidRender(){it(this)}connectedCallback(){gi(this)}disconnectedCallback(){yi(this)}async setFocus(){var e;(e=this.focusEl)===null||e===void 0||e.focus()}renderActionsStart(){const{el:e}=this;return $e(e,bl.actionsStart)?y("div",{class:Rr.actionsStart},y("slot",{name:bl.actionsStart})):null}renderActionsEnd(){const{el:e}=this;return $e(e,bl.actionsEnd)?y("div",{class:Rr.actionsEnd},y("slot",{name:bl.actionsEnd})):null}renderContentStart(){const{el:e}=this;return $e(e,bl.contentStart)?y("div",{class:Rr.contentStart},y("slot",{name:bl.contentStart})):null}renderContentEnd(){const{el:e}=this;return $e(e,bl.contentEnd)?y("div",{class:Rr.contentEnd},y("slot",{name:bl.contentEnd})):null}renderContent(){const{label:e,description:t}=this;return!!e||!!t?y("div",{class:Rr.content},e?y("div",{class:Rr.label},e):null,t?y("div",{class:Rr.description},t):null):null}renderContentContainer(){const{disabled:e,nonInteractive:t}=this,i=[this.renderContentStart(),this.renderContent(),this.renderContentEnd()];return t?y("div",{class:Rr.contentContainer,ref:()=>this.focusEl=null},i):y("button",{class:{[Rr.contentContainer]:!0,[Rr.contentContainerButton]:!0},disabled:e,ref:n=>this.focusEl=n},i)}render(){return y(ze,{role:"listitem"},y("div",{class:Rr.container},this.renderActionsStart(),this.renderContentContainer(),this.renderActionsEnd()),y("div",{class:Rr.nestedContainer},y("slot",null)))}get el(){return this}static get style(){return pQ}},sA={heading:"heading",container:"container"},fQ=3,gQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.heading{margin:0px;display:-ms-flexbox;display:flex;-ms-flex:1 1 0%;flex:1 1 0%;background-color:var(--calcite-ui-foreground-2);padding:0.75rem;font-family:var(--calcite-sans-family);font-size:var(--calcite-font-size--1);font-weight:var(--calcite-font-weight-bold);color:var(--calcite-ui-text-2)}.container{display:-ms-flexbox;display:flex;width:100%;-ms-flex-direction:column;flex-direction:column;background-color:var(--calcite-ui-foreground-1)}::slotted(calcite-list-item-group){padding-left:0.5rem}",yQ=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow()}render(){var e;const{el:t,heading:i,headingLevel:n}=this,r=(e=t.closest("calcite-list, calcite-list-item-group"))===null||e===void 0?void 0:e.headingLevel,a=r?SC(r+1):null,o=n||a||fQ;return y(ze,null,i?y(Bc,{class:sA.heading,level:o},i):null,y("div",{class:sA.container,role:"group"},y("slot",null)))}get el(){return this}static get style(){return gQ}},bQ='@charset "UTF-8";@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;margin-left:auto;margin-right:auto;display:none;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;padding-top:4rem;padding-bottom:4rem;opacity:1;min-height:var(--calcite-loader-size);font-size:var(--calcite-loader-font-size);stroke:var(--calcite-ui-brand);stroke-width:3;fill:none;-webkit-transform:scale(1, 1);transform:scale(1, 1);animation:loader-color-shift 6s alternate-reverse infinite linear}:host([scale=s]){--calcite-loader-font-size:var(--calcite-font-size--2);--calcite-loader-size:2rem;--calcite-loader-size-inline:0.75rem}:host([scale=m]){--calcite-loader-font-size:var(--calcite-font-size-0);--calcite-loader-size:4rem;--calcite-loader-size-inline:1rem}:host([scale=l]){--calcite-loader-font-size:var(--calcite-font-size-2);--calcite-loader-size:6rem;--calcite-loader-size-inline:1.5rem}:host([no-padding]){padding-top:0px;padding-bottom:0px}:host{display:none}:host([active]){display:-ms-flexbox;display:flex}.loader__text{display:block;text-align:center;font-size:var(--calcite-font-size--2);line-height:1rem;color:var(--calcite-ui-text-1);margin-top:calc(var(--calcite-loader-size) + 1.5rem)}.loader__percentage{position:absolute;display:block;text-align:center;color:var(--calcite-ui-text-1);font-size:var(--calcite-loader-font-size);width:var(--calcite-loader-size);left:50%;margin-left:calc(var(--calcite-loader-size) / 2 * -1);line-height:0.25;-webkit-transform:scale(1, 1);transform:scale(1, 1)}.loader__svgs{position:absolute;overflow:visible;opacity:1;width:var(--calcite-loader-size);height:var(--calcite-loader-size);left:50%;margin-left:calc(var(--calcite-loader-size) / 2 * -1);-webkit-transform:scale(1, 1);transform:scale(1, 1)}.loader__svg{position:absolute;top:0px;left:0px;-webkit-transform-origin:center;transform-origin:center;overflow:visible;width:var(--calcite-loader-size);height:var(--calcite-loader-size);-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-name:loader-clockwise;animation-name:loader-clockwise}@supports (display: grid){.loader__svg--1{-webkit-animation-name:loader-offset-1;animation-name:loader-offset-1}.loader__svg--2{-webkit-animation-name:loader-offset-2;animation-name:loader-offset-2}.loader__svg--3{-webkit-animation-name:loader-offset-3;animation-name:loader-offset-3}}:host([type=determinate]){-webkit-animation:none;animation:none;stroke:var(--calcite-ui-border-3)}:host([type=determinate]) .loader__svg--3{-webkit-animation:none;animation:none;stroke:var(--calcite-ui-brand);stroke-dasharray:150.79632;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transition:all var(--calcite-internal-animation-timing-fast) linear;transition:all var(--calcite-internal-animation-timing-fast) linear}:host([inline]){position:relative;margin:0px;-webkit-animation:none;animation:none;stroke:currentColor;stroke-width:2;padding-top:0px;padding-bottom:0px;height:var(--calcite-loader-size-inline);min-height:var(--calcite-loader-size-inline);width:var(--calcite-loader-size-inline);-webkit-margin-end:calc(var(--calcite-loader-size-inline) * 0.5);margin-inline-end:calc(var(--calcite-loader-size-inline) * 0.5);vertical-align:calc(var(--calcite-loader-size-inline) * -1 * 0.2)}:host([active][inline]){display:inline-block}:host([inline]) .loader__svgs{top:0px;left:0px;margin:0px;width:var(--calcite-loader-size-inline);height:var(--calcite-loader-size-inline)}:host([inline]) .loader__svg{width:var(--calcite-loader-size-inline);height:var(--calcite-loader-size-inline)}:host([complete]){opacity:0;-webkit-transform:scale(0.75, 0.75);transform:scale(0.75, 0.75);-webkit-transform-origin:center;transform-origin:center;-webkit-transition:opacity var(--calcite-internal-animation-timing-medium) linear 1000ms, -webkit-transform var(--calcite-internal-animation-timing-medium) linear 1000ms;transition:opacity var(--calcite-internal-animation-timing-medium) linear 1000ms, -webkit-transform var(--calcite-internal-animation-timing-medium) linear 1000ms;transition:opacity var(--calcite-internal-animation-timing-medium) linear 1000ms, transform var(--calcite-internal-animation-timing-medium) linear 1000ms;transition:opacity var(--calcite-internal-animation-timing-medium) linear 1000ms, transform var(--calcite-internal-animation-timing-medium) linear 1000ms, -webkit-transform var(--calcite-internal-animation-timing-medium) linear 1000ms}:host([complete]) .loader__svgs{opacity:0;-webkit-transform:scale(0.75, 0.75);transform:scale(0.75, 0.75);-webkit-transform-origin:center;transform-origin:center;-webkit-transition:opacity calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms, -webkit-transform calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms;transition:opacity calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms, -webkit-transform calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms;transition:opacity calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms, transform calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms;transition:opacity calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms, transform calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms, -webkit-transform calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms}:host([complete]) .loader__percentage{color:var(--calcite-ui-brand);-webkit-transform:scale(1.05, 1.05);transform:scale(1.05, 1.05);-webkit-transform-origin:center;transform-origin:center;-webkit-transition:color var(--calcite-internal-animation-timing-medium) linear, -webkit-transform var(--calcite-internal-animation-timing-medium) linear;transition:color var(--calcite-internal-animation-timing-medium) linear, -webkit-transform var(--calcite-internal-animation-timing-medium) linear;transition:color var(--calcite-internal-animation-timing-medium) linear, transform var(--calcite-internal-animation-timing-medium) linear;transition:color var(--calcite-internal-animation-timing-medium) linear, transform var(--calcite-internal-animation-timing-medium) linear, -webkit-transform var(--calcite-internal-animation-timing-medium) linear}.loader__svg--1{stroke-dasharray:27.9252444444% 139.6262222222%;-webkit-animation-duration:0.72s;animation-duration:0.72s}@-webkit-keyframes loader-offset-1{0%{stroke-dasharray:27.9252444444% 251.3272%;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222% 139.6262222222%;stroke-dashoffset:-83.7757333333%}100%{stroke-dasharray:27.9252444444% 251.3272%;stroke-dashoffset:-279.2524444444%}}@keyframes loader-offset-1{0%{stroke-dasharray:27.9252444444% 251.3272%;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222% 139.6262222222%;stroke-dashoffset:-83.7757333333%}100%{stroke-dasharray:27.9252444444% 251.3272%;stroke-dashoffset:-279.2524444444%}}.loader__svg--2{stroke-dasharray:55.8504888889% 139.6262222222%;-webkit-animation-duration:0.96s;animation-duration:0.96s}@-webkit-keyframes loader-offset-2{0%{stroke-dasharray:55.8504888889% 223.4019555556%;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222% 139.6262222222%;stroke-dashoffset:-97.7383555556%}100%{stroke-dasharray:55.8504888889% 223.4019555556%;stroke-dashoffset:-279.2524444444%}}@keyframes loader-offset-2{0%{stroke-dasharray:55.8504888889% 223.4019555556%;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222% 139.6262222222%;stroke-dashoffset:-97.7383555556%}100%{stroke-dasharray:55.8504888889% 223.4019555556%;stroke-dashoffset:-279.2524444444%}}.loader__svg--3{stroke-dasharray:13.9626222222% 139.6262222222%;-webkit-animation-duration:1.16s;animation-duration:1.16s}@-webkit-keyframes loader-offset-3{0%{stroke-dasharray:13.9626222222% 265.2898222222%;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222% 139.6262222222%;stroke-dashoffset:-76.7944222222%}100%{stroke-dasharray:13.9626222222% 265.2898222222%;stroke-dashoffset:-279.2524444444%}}@keyframes loader-offset-3{0%{stroke-dasharray:13.9626222222% 265.2898222222%;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222% 139.6262222222%;stroke-dashoffset:-76.7944222222%}100%{stroke-dasharray:13.9626222222% 265.2898222222%;stroke-dashoffset:-279.2524444444%}}@-webkit-keyframes loader-color-shift{0%{stroke:var(--calcite-ui-brand)}33%{stroke:var(--calcite-ui-brand-press)}66%{stroke:var(--calcite-ui-brand-hover)}100%{stroke:var(--calcite-ui-brand)}}@keyframes loader-color-shift{0%{stroke:var(--calcite-ui-brand)}33%{stroke:var(--calcite-ui-brand-press)}66%{stroke:var(--calcite-ui-brand-hover)}100%{stroke:var(--calcite-ui-brand)}}@-webkit-keyframes loader-clockwise{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes loader-clockwise{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}',vQ=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.active=!1,this.inline=!1,this.scale="m",this.value=0,this.text="",this.noPadding=!1}render(){const{el:e,inline:t,label:i,scale:n,text:r,type:a,value:o}=this,s=e.id||li(),l=.45,u=t?this.getInlineSize(n):this.getSize(n),h=u*l,m=`0 0 ${u} ${u}`,f=a==="determinate",g=2*h*Math.PI,b=o/100*g,v=g-b,w=Math.floor(o),x={"aria-valuenow":w,"aria-valuemin":0,"aria-valuemax":100,complete:w===100},S={r:h,cx:u/2,cy:u/2},E={"stroke-dasharray":`${b} ${v}`};return y(ze,Object.assign({"aria-label":i,id:s,role:"progressbar"},f?x:{}),y("div",{class:"loader__svgs"},y("svg",{class:"loader__svg loader__svg--1",viewBox:m},y("circle",Object.assign({},S))),y("svg",{class:"loader__svg loader__svg--2",viewBox:m},y("circle",Object.assign({},S))),y("svg",Object.assign({class:"loader__svg loader__svg--3",viewBox:m},f?{style:E}:{}),y("circle",Object.assign({},S)))),r&&y("div",{class:"loader__text"},r),f&&y("div",{class:"loader__percentage"},o))}getSize(e){return{s:32,m:56,l:80}[e]}getInlineSize(e){return{s:12,m:16,l:20}[e]}get el(){return this}static get style(){return bQ}};function zv(e,t,i,n=20,r=0){let a=[];if(r>=n)return a;const o=l=>{const u=l.assignedNodes().filter(h=>h.nodeType===1);return u.length>0?zv(u[0].parentElement,t,i,n,r+1):[]},s=Array.from(e.children||[]);for(const l of s)t(l)||(i(l)&&a.push(l),l.shadowRoot!=null?a.push(...zv(l.shadowRoot,t,i,n,r+1)):l.tagName==="SLOT"?a.push(...o(l)):a.push(...zv(l,t,i,n,r+1)));return a}function B9(e){return e.hasAttribute("hidden")||e.hasAttribute("aria-hidden")&&e.getAttribute("aria-hidden")!=="false"||e.style.display==="none"||e.style.opacity==="0"||e.style.visibility==="hidden"||e.style.visibility==="collapse"}function wQ(e){return e.hasAttribute("disabled")||e.hasAttribute("aria-disabled")&&e.getAttribute("aria-disabled")!=="false"}function xQ(e){return e.getAttribute("tabindex")==="-1"||B9(e)||wQ(e)?!1:e.hasAttribute("tabindex")||(e instanceof HTMLAnchorElement||e instanceof HTMLAreaElement)&&e.hasAttribute("href")||e instanceof HTMLButtonElement||e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement||e instanceof HTMLIFrameElement}const wa={title:"title",header:"header",footer:"footer",scrim:"scrim",back:"back",close:"close",secondary:"secondary",primary:"primary",overflowHidden:"overflow-hidden"},kQ={close:"x"},bs={content:"content",header:"header",back:"back",secondary:"secondary",primary:"primary"},_Q={close:"Close"},SQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:fixed;top:0px;right:0px;bottom:0px;left:0px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;overflow-y:hidden;color:var(--calcite-ui-text-2);opacity:0;visibility:hidden !important;-webkit-transition:visibility 0ms linear 300ms, opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88);transition:visibility 0ms linear 300ms, opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88);z-index:101}:host([scale=s]){--calcite-modal-padding:0.75rem;--calcite-modal-padding-large:1rem;--calcite-modal-title-text:var(--calcite-font-size-1);--calcite-modal-content-text:var(--calcite-font-size--1)}:host([scale=m]){--calcite-modal-padding:1rem;--calcite-modal-padding-large:1.25rem;--calcite-modal-title-text:var(--calcite-font-size-2);--calcite-modal-content-text:var(--calcite-font-size-0)}:host([scale=l]){--calcite-modal-padding:1.25rem;--calcite-modal-padding-large:1.5rem;--calcite-modal-title-text:var(--calcite-font-size-3);--calcite-modal-content-text:var(--calcite-font-size-1)}.scrim{--calcite-scrim-background:rgba(0, 0, 0, 0.75);position:fixed;top:0px;right:0px;bottom:0px;left:0px;display:-ms-flexbox;display:flex;overflow-y:hidden}.modal{pointer-events:none;float:none;margin:1.5rem;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;width:100%;-ms-flex-direction:column;flex-direction:column;border-radius:0.25rem;background-color:var(--calcite-ui-foreground-1);opacity:0;--tw-shadow:0 2px 12px -4px rgba(0, 0, 0, 0.2), 0 2px 4px -2px rgba(0, 0, 0, 0.16);--tw-shadow-colored:0 2px 12px -4px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);overflow:hidden;z-index:102;-webkit-overflow-scrolling:touch;visibility:hidden;-webkit-transition:visibility 0ms linear 300ms, opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), -webkit-transform var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88);transition:visibility 0ms linear 300ms, opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), -webkit-transform var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88);transition:transform var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), visibility 0ms linear 300ms, opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88);transition:transform var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), visibility 0ms linear 300ms, opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), -webkit-transform var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88);-webkit-transform:translate3d(0, 20px, 0);transform:translate3d(0, 20px, 0)}:host([active]){opacity:1;visibility:visible !important;-webkit-transition-delay:0ms;transition-delay:0ms}:host([active]) .modal{pointer-events:auto;visibility:visible;opacity:1;-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);-webkit-transition:visibility 0ms linear, opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), max-width var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), max-height var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), -webkit-transform var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88);transition:visibility 0ms linear, opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), max-width var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), max-height var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), -webkit-transform var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88);transition:transform var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), visibility 0ms linear, opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), max-width var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), max-height var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88);transition:transform var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), visibility 0ms linear, opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), max-width var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), max-height var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), -webkit-transform var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88);-webkit-transition-delay:0ms;transition-delay:0ms}.header{display:-ms-flexbox;display:flex;min-width:0px;max-width:100%;border-top-left-radius:0.25rem;border-top-right-radius:0.25rem;border-width:0px;border-bottom-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);background-color:var(--calcite-ui-foreground-1);-ms-flex:0 0 auto;flex:0 0 auto;z-index:2}.close{-ms-flex-order:2;order:2;margin:0px;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-style:none;background-color:transparent;color:var(--calcite-ui-text-3);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;border-start-end-radius:0.25rem;padding:var(--calcite-modal-padding);-ms-flex:0 0 auto;flex:0 0 auto}.close calcite-icon{pointer-events:none;vertical-align:-2px}.close:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.close:hover,.close:focus,.close:active{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}.title{-ms-flex-order:1;order:1;display:-ms-flexbox;display:flex;min-width:0px;-ms-flex-align:center;align-items:center;-ms-flex:1 1 auto;flex:1 1 auto;padding:var(--calcite-modal-padding) var(--calcite-modal-padding-large)}slot[name=header]::slotted(*),*::slotted([slot=header]){margin:0px;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-1);font-size:var(--calcite-modal-title-text)}.content{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;display:block;height:100%;overflow:auto;background-color:var(--calcite-ui-foreground-1);padding:0px;max-height:calc(100vh - 12rem);z-index:1}.content--spaced{padding:var(--calcite-modal-padding) var(--calcite-modal-padding-large)}.content--no-footer{border-bottom-right-radius:0.25rem;border-bottom-left-radius:0.25rem}slot[name=content]::slotted(*),*::slotted([slot=content]){font-size:var(--calcite-modal-content-text)}:host([background-color=grey]) .content{background-color:var(--calcite-ui-background)}.footer{margin-top:auto;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;width:100%;-ms-flex-pack:justify;justify-content:space-between;border-bottom-right-radius:0.25rem;border-bottom-left-radius:0.25rem;border-width:0px;border-top-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);background-color:var(--calcite-ui-foreground-1);-ms-flex:0 0 auto;flex:0 0 auto;padding:var(--calcite-modal-padding) var(--calcite-modal-padding-large);z-index:2}.footer--hide-back .back,.footer--hide-secondary .secondary{display:none}.back{display:block;-webkit-margin-end:auto;margin-inline-end:auto}.secondary{margin-left:0.25rem;margin-right:0.25rem;display:block}slot[name=primary]{display:block}:host([width=small]) .modal{width:auto}:host([width=s]) .modal{max-width:32rem}@media screen and (max-width: 35rem){:host([width=s]) .modal{margin:0px}:host([width=s]) .modal{height:100%}:host([width=s]) .modal{max-height:100%}:host([width=s]) .modal{width:100%}:host([width=s]) .modal{max-width:100%}:host([width=s]) .modal{border-radius:0px}:host([width=s]) .content{-ms-flex:1 1 auto;flex:1 1 auto;max-height:unset}:host([width=s][docked]){-ms-flex-align:end;align-items:flex-end}}:host([width=m]) .modal{max-width:48rem}@media screen and (max-width: 51rem){:host([width=m]) .modal{margin:0px}:host([width=m]) .modal{height:100%}:host([width=m]) .modal{max-height:100%}:host([width=m]) .modal{width:100%}:host([width=m]) .modal{max-width:100%}:host([width=m]) .modal{border-radius:0px}:host([width=m]) .content{-ms-flex:1 1 auto;flex:1 1 auto;max-height:unset}:host([width=m][docked]){-ms-flex-align:end;align-items:flex-end}}:host([width=l]) .modal{max-width:94rem}@media screen and (max-width: 97rem){:host([width=l]) .modal{margin:0px}:host([width=l]) .modal{height:100%}:host([width=l]) .modal{max-height:100%}:host([width=l]) .modal{width:100%}:host([width=l]) .modal{max-width:100%}:host([width=l]) .modal{border-radius:0px}:host([width=l]) .content{-ms-flex:1 1 auto;flex:1 1 auto;max-height:unset}:host([width=l][docked]){-ms-flex-align:end;align-items:flex-end}}:host([fullscreen]){background-color:transparent}:host([fullscreen]) .modal{margin:0px;height:100%;max-height:100%;width:100%;max-width:100%;-webkit-transform:translate3D(0, 20px, 0) scale(0.95);transform:translate3D(0, 20px, 0) scale(0.95)}:host([fullscreen]) .content{max-height:100%;-ms-flex:1 1 auto;flex:1 1 auto}:host([active][fullscreen]) .modal{-webkit-transform:translate3D(0, 0, 0) scale(1);transform:translate3D(0, 0, 0) scale(1)}:host([active][fullscreen]) .header{border-radius:0}:host([active][fullscreen]) .footer{border-radius:0}:host([docked]) .modal{height:auto}:host([docked]) .content{height:auto;-ms-flex:1 1 auto;flex:1 1 auto}@media screen and (max-width: 860px){:host([docked]) .modal{border-radius:var(--calcite-border-radius) var(--calcite-border-radius) 0 0}:host([docked]) .close{border-start-end-radius:var(--calcite-border-radius)}}:host([color=red]) .modal{border-color:var(--calcite-ui-danger)}:host([color=blue]) .modal{border-color:var(--calcite-ui-info)}:host([color=red]) .modal,:host([color=blue]) .modal{border-width:0px;border-top-width:4px;border-style:solid}:host([color=red]) .header,:host([color=blue]) .header{border-radius:0.25rem;border-bottom-right-radius:0px;border-bottom-left-radius:0px}@media screen and (max-width: 860px){slot[name=header]::slotted(*),*::slotted([slot=header]){font-size:var(--calcite-font-size-1)}.footer{position:-webkit-sticky;position:sticky}.footer{bottom:0px}}@media screen and (max-width: 480px){.footer{-ms-flex-direction:column;flex-direction:column}.back,.secondary{margin:0px}.back,.secondary{margin-bottom:0.25rem}}",DQ=e=>i9(e)||xQ(e),lA=e=>zv(e,B9,DQ),$Q=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteModalOpen=W(this,"calciteModalOpen",7),this.calciteModalClose=W(this,"calciteModalClose",7),this.active=!1,this.beforeClose=()=>Promise.resolve(),this.disableCloseButton=!1,this.disableOutsideClose=!1,this.intlClose=_Q.close,this.disableEscape=!1,this.scale="m",this.width="m",this.backgroundColor="white",this.noPadding=!1,this.hasFooter=!0,this.mutationObserver=Vt("mutation",()=>this.updateFooterVisibility()),this.activeTransitionProp="opacity",this.transitionEnd=e=>{e.propertyName===this.activeTransitionProp&&(this.active?this.calciteModalOpen.emit():this.calciteModalClose.emit())},this.openEnd=()=>{this.setFocus(),this.el.removeEventListener("calciteModalOpen",this.openEnd)},this.handleOutsideClose=()=>{this.disableOutsideClose||this.close()},this.close=()=>this.beforeClose(this.el).then(()=>{this.active=!1,ai(this.previousActiveElement),this.removeOverflowHiddenClass()}),this.focusFirstElement=()=>{ai(this.closeButtonEl)},this.focusLastElement=()=>{const e=lA(this.el).filter(t=>!t.getAttribute("data-focus-fence"));e.length>0?ai(e[e.length-1]):ai(this.closeButtonEl)},this.updateFooterVisibility=()=>{this.hasFooter=!!$e(this.el,[bs.back,bs.primary,bs.secondary])}}componentWillLoad(){this.active&&this.open()}connectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0,subtree:!0}),this.updateFooterVisibility(),gi(this)}disconnectedCallback(){var e;this.removeOverflowHiddenClass(),(e=this.mutationObserver)===null||e===void 0||e.disconnect(),yi(this)}render(){return y(ze,{"aria-describedby":this.contentId,"aria-labelledby":this.titleId,"aria-modal":"true",role:"dialog"},y("calcite-scrim",{class:wa.scrim,onClick:this.handleOutsideClose}),this.renderStyle(),y("div",{class:"modal",onTransitionEnd:this.transitionEnd},y("div",{"data-focus-fence":!0,onFocus:this.focusLastElement,tabindex:"0"}),y("div",{class:wa.header},this.renderCloseButton(),y("header",{class:wa.title},y("slot",{name:wa.header}))),y("div",{class:{content:!0,"content--spaced":!this.noPadding,"content--no-footer":!this.hasFooter},ref:e=>this.modalContent=e},y("slot",{name:bs.content})),this.renderFooter(),y("div",{"data-focus-fence":!0,onFocus:this.focusFirstElement,tabindex:"0"})))}renderFooter(){return this.hasFooter?y("div",{class:wa.footer,key:"footer"},y("span",{class:wa.back},y("slot",{name:bs.back})),y("span",{class:wa.secondary},y("slot",{name:bs.secondary})),y("span",{class:wa.primary},y("slot",{name:bs.primary}))):null}renderCloseButton(){return this.disableCloseButton?null:y("button",{"aria-label":this.intlClose,class:wa.close,key:"button",onClick:this.close,ref:e=>this.closeButtonEl=e,title:this.intlClose},y("calcite-icon",{icon:kQ.close,scale:this.scale==="s"?"s":this.scale==="m"?"m":this.scale==="l"?"l":null}))}renderStyle(){return!isNaN(parseInt(`${this.width}`))?y("style",null,`
        .modal {
          max-width: ${this.width}px !important;
        }
        @media screen and (max-width: ${this.width}px) {
          .modal {
            height: 100% !important;
            max-height: 100% !important;
            width: 100% !important;
            max-width: 100% !important;
            margin: 0 !important;
            border-radius: 0 !important;
          }
          .content {
            flex: 1 1 auto !important;
            max-height: unset !important;
          }
        }
      `):null}handleEscape(e){this.active&&!this.disableEscape&&e.key==="Escape"&&this.close()}async focusElement(e){return e&&e.focus(),this.setFocus()}async setFocus(e){const t=this.closeButtonEl;return ai(e==="close-button"?t:lA(this.el)[0]||t)}async scrollContent(e=0,t=0){this.modalContent&&(this.modalContent.scrollTo?this.modalContent.scrollTo({top:e,left:t,behavior:"smooth"}):(this.modalContent.scrollTop=e,this.modalContent.scrollLeft=t))}async toggleModal(e,t){e!==t&&(e?this.open():e||this.close())}open(){this.previousActiveElement=document.activeElement,this.el.addEventListener("calciteModalOpen",this.openEnd),this.active=!0;const e=$e(this.el,bs.header),t=$e(this.el,bs.content);this.titleId=eM(e),this.contentId=eM(t),document.documentElement.classList.add(wa.overflowHidden)}removeOverflowHiddenClass(){document.documentElement.classList.remove(wa.overflowHidden)}get el(){return this}static get watchers(){return{active:["toggleModal"]}}static get style(){return SQ}},CQ={close:"Close"},ff={title:"title",message:"message",link:"link",actionsEnd:"actions-end"},gf={actionsEnd:"actions-end",close:"notice-close",container:"container",content:"notice-content",icon:"notice-icon"},IQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host([scale=s]){--calcite-notice-spacing-token-small:0.5rem;--calcite-notice-spacing-token-large:0.75rem}:host([scale=s]) .container slot[name=title]::slotted(*),:host([scale=s]) .container *::slotted([slot=title]){margin-top:0.125rem;margin-bottom:0.125rem;font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=s]) .container slot[name=message]::slotted(*),:host([scale=s]) .container *::slotted([slot=message]){margin-top:0.125rem;margin-bottom:0.125rem;font-size:var(--calcite-font-size--2);line-height:1.375}:host([scale=s]) ::slotted(calcite-link){margin-top:0.125rem;margin-bottom:0.125rem;font-size:var(--calcite-font-size--2);line-height:1.375}:host([scale=s]) .notice-close{padding:0.5rem}:host([scale=m]){--calcite-notice-spacing-token-small:0.75rem;--calcite-notice-spacing-token-large:1rem}:host([scale=m]) .container slot[name=title]::slotted(*),:host([scale=m]) .container *::slotted([slot=title]){margin-top:0.125rem;margin-bottom:0.125rem;font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=m]) .container slot[name=message]::slotted(*),:host([scale=m]) .container *::slotted([slot=message]){margin-top:0.125rem;margin-bottom:0.125rem;font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) ::slotted(calcite-link){margin-top:0.125rem;margin-bottom:0.125rem;font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=l]){--calcite-notice-spacing-token-small:1rem;--calcite-notice-spacing-token-large:1.25rem}:host([scale=l]) .container slot[name=title]::slotted(*),:host([scale=l]) .container *::slotted([slot=title]){margin-top:0.125rem;margin-bottom:0.125rem;font-size:var(--calcite-font-size-1);line-height:1.375}:host([scale=l]) .container slot[name=message]::slotted(*),:host([scale=l]) .container *::slotted([slot=message]){margin-top:0.125rem;margin-bottom:0.125rem;font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) ::slotted(calcite-link){margin-top:0.125rem;margin-bottom:0.125rem;font-size:var(--calcite-font-size-0);line-height:1.375}:host([width=auto]){--calcite-notice-width:auto}:host([width=half]){--calcite-notice-width:50%}:host([width=full]){--calcite-notice-width:100%}:host{margin-left:auto;margin-right:auto;display:none;max-width:100%;-ms-flex-align:center;align-items:center;width:var(--calcite-notice-width)}.container{pointer-events:none;margin-top:0px;margin-bottom:0px;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;width:100%;background-color:var(--calcite-ui-foreground-1);opacity:0;max-height:0;text-align:start;-webkit-transition:var(--calcite-animation-timing);transition:var(--calcite-animation-timing);-webkit-border-start:0px solid;border-inline-start:0px solid;-webkit-box-shadow:0 0 0 0 transparent;box-shadow:0 0 0 0 transparent}.notice-close{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}.notice-close:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}:host{display:-ms-flexbox;display:flex}:host([active]) .container{pointer-events:auto;display:-ms-flexbox;display:flex;max-height:100%;-ms-flex-align:center;align-items:center;border-width:2px;opacity:1;--tw-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.container slot[name=title]::slotted(*),.container *::slotted([slot=title]){margin:0px;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}.container slot[name=message]::slotted(*),.container *::slotted([slot=message]){margin:0px;display:inline;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-2);-webkit-margin-end:var(--calcite-notice-spacing-token-small);margin-inline-end:var(--calcite-notice-spacing-token-small)}.notice-content{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;padding:var(--calcite-notice-spacing-token-small) var(--calcite-notice-spacing-token-large);-ms-flex:0 0 auto;flex:0 0 auto;display:-ms-flexbox;display:flex;min-width:0px;-ms-flex-direction:column;flex-direction:column;overflow-wrap:break-word;-ms-flex:1 1 0px;flex:1 1 0;padding-block:var(--calcite-notice-spacing-token-small);padding-inline:0 var(--calcite-notice-spacing-token-small)}.notice-content:first-of-type:not(:only-child){-webkit-padding-start:var(--calcite-notice-spacing-token-large);padding-inline-start:var(--calcite-notice-spacing-token-large)}.notice-content:only-of-type{padding:var(--calcite-notice-spacing-token-small) var(--calcite-notice-spacing-token-large)}.notice-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;padding:var(--calcite-notice-spacing-token-small) var(--calcite-notice-spacing-token-large);-ms-flex:0 0 auto;flex:0 0 auto}.notice-close{display:-ms-flexbox;display:flex;cursor:pointer;-ms-flex-align:center;align-items:center;-ms-flex-item-align:stretch;align-self:stretch;border-style:none;background-color:transparent;color:var(--calcite-ui-text-3);outline:2px solid transparent;outline-offset:2px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;padding:var(--calcite-notice-spacing-token-small) var(--calcite-notice-spacing-token-large);-ms-flex:0 0 auto;flex:0 0 auto;-webkit-appearance:none}.notice-close:hover,.notice-close:focus{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}.notice-close:active{background-color:var(--calcite-ui-foreground-3)}.actions-end{display:-ms-flexbox;display:flex;-ms-flex-item-align:stretch;align-self:stretch}:host([color=blue]) .container{border-color:var(--calcite-ui-brand)}:host([color=blue]) .container .notice-icon{color:var(--calcite-ui-brand)}:host([color=red]) .container{border-color:var(--calcite-ui-danger)}:host([color=red]) .container .notice-icon{color:var(--calcite-ui-danger)}:host([color=yellow]) .container{border-color:var(--calcite-ui-warning)}:host([color=yellow]) .container .notice-icon{color:var(--calcite-ui-warning)}:host([color=green]) .container{border-color:var(--calcite-ui-success)}:host([color=green]) .container .notice-icon{color:var(--calcite-ui-success)}",EQ=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteNoticeClose=W(this,"calciteNoticeClose",7),this.calciteNoticeOpen=W(this,"calciteNoticeOpen",7),this.active=!1,this.color="blue",this.dismissible=!1,this.intlClose=CQ.close,this.scale="m",this.width="auto",this.close=()=>{this.active=!1,this.calciteNoticeClose.emit()}}updateRequestedIcon(){this.requestedIcon=Pc(tm,this.icon,this.color)}connectedCallback(){gi(this)}disconnectedCallback(){yi(this)}componentWillLoad(){this.requestedIcon=Pc(tm,this.icon,this.color)}render(){const{el:e}=this,t=y("button",{"aria-label":this.intlClose,class:gf.close,onClick:this.close,ref:n=>this.closeButton=n},y("calcite-icon",{icon:"x",scale:this.scale==="l"?"m":"s"})),i=$e(e,ff.actionsEnd);return y("div",{class:gf.container},this.requestedIcon?y("div",{class:gf.icon},y("calcite-icon",{icon:this.requestedIcon,scale:this.scale==="l"?"m":"s"})):null,y("div",{class:gf.content},y("slot",{name:ff.title}),y("slot",{name:ff.message}),y("slot",{name:ff.link})),i?y("div",{class:gf.actionsEnd},y("slot",{name:ff.actionsEnd})):null,this.dismissible?t:null)}async setFocus(){const e=this.el.querySelector("calcite-link");!this.closeButton&&!e||(e?e.setFocus():this.closeButton&&this.closeButton.focus())}get el(){return this}static get watchers(){return{icon:["updateRequestedIcon"],color:["updateRequestedIcon"]}}static get style(){return IQ}},TQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block}",MQ=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteOptionChange=W(this,"calciteOptionChange",7),this.disabled=!1,this.mutationObserver=Vt("mutation",()=>{this.ensureTextContentDependentProps(),this.calciteOptionChange.emit()})}handlePropChange(e,t,i){(i==="label"||i==="value")&&this.ensureTextContentDependentProps(),this.calciteOptionChange.emit()}ensureTextContentDependentProps(){const{el:{textContent:e}}=this;(!this.label||this.label===this.internallySetLabel)&&(this.label=e,this.internallySetLabel=e),(!this.value||this.value===this.internallySetValue)&&(this.value=e,this.internallySetValue=e)}connectedCallback(){var e;this.ensureTextContentDependentProps(),(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{attributeFilter:["label","value"],characterData:!0,childList:!0,subtree:!0})}disconnectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect()}render(){return y("slot",null,this.label)}get el(){return this}static get watchers(){return{disabled:["handlePropChange"],label:["handlePropChange"],selected:["handlePropChange"],value:["handlePropChange"]}}static get style(){return TQ}},AQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block}",OQ=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteOptionGroupChange=W(this,"calciteOptionGroupChange",7),this.disabled=!1}handlePropChange(){this.calciteOptionGroupChange.emit()}render(){return y(mn,null,y("div",null,this.label),y("slot",null))}static get watchers(){return{disabled:["handlePropChange"],label:["handlePropChange"]}}static get style(){return AQ}},bo={page:"page",selected:"is-selected",previous:"previous",next:"next",disabled:"is-disabled",ellipsis:"ellipsis",ellipsisStart:"ellipsis--start",ellipsisEnd:"ellipsis--end"},cA={nextLabel:"Next",previousLabel:"Previous"},PQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host([scale=s]){--calcite-pagination-spacing:0.25rem 0.5rem}:host([scale=s]) .previous,:host([scale=s]) .next,:host([scale=s]) .page{height:1.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) .previous,:host([scale=s]) .next{padding-left:0.25rem;padding-right:0.25rem}:host([scale=m]){--calcite-pagination-spacing:0.5rem 0.75rem}:host([scale=m]) .previous,:host([scale=m]) .next,:host([scale=m]) .page{height:2rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) .previous,:host([scale=m]) .next{padding-left:0.5rem;padding-right:0.5rem}:host([scale=l]){--calcite-pagination-spacing:0.75rem 1rem}:host([scale=l]) .previous,:host([scale=l]) .next,:host([scale=l]) .page{height:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .previous,:host([scale=l]) .next{padding-left:1rem;padding-right:1rem}:host{display:-ms-flexbox;display:flex;-webkit-writing-mode:horizontal-tb;-ms-writing-mode:lr-tb;writing-mode:horizontal-tb}:host button{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}:host button:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.previous,.next,.page{-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;cursor:pointer;-ms-flex-align:center;align-items:center;border-style:none;--tw-border-opacity:0;background-color:transparent;font-family:inherit;font-size:var(--calcite-font-size-0);line-height:1.25rem;color:var(--calcite-ui-text-3);border-top:2px solid transparent;border-bottom:2px solid transparent}.previous:hover,.next:hover,.page:hover{color:var(--calcite-ui-text-1);-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s}.page:hover{border-bottom-color:var(--calcite-ui-border-2)}.page.is-selected{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1);border-bottom-color:var(--calcite-ui-brand)}.previous:hover,.next:hover{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-brand)}.previous:active,.next:active{background-color:var(--calcite-ui-foreground-3)}.previous.is-disabled,.next.is-disabled{pointer-events:none;background-color:transparent}.previous.is-disabled>calcite-icon,.next.is-disabled>calcite-icon{opacity:var(--calcite-ui-opacity-disabled)}.next{margin-right:0px}.page,.ellipsis{padding:var(--calcite-pagination-spacing)}.ellipsis{display:-ms-flexbox;display:flex;-ms-flex-align:end;align-items:flex-end;color:var(--calcite-ui-text-3)}",Sb=5,LQ=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calcitePaginationUpdate=W(this,"calcitePaginationUpdate",7),this.calcitePaginationChange=W(this,"calcitePaginationChange",7),this.num=20,this.start=1,this.total=0,this.textLabelNext=cA.nextLabel,this.textLabelPrevious=cA.previousLabel,this.scale="m",this.previousClicked=()=>{this.previousPage().then(),this.emitUpdate()},this.nextClicked=()=>{this.nextPage(),this.emitUpdate()}}async nextPage(){this.start=Math.min(this.getLastStart(),this.start+this.num)}async previousPage(){this.start=Math.max(1,this.start-this.num)}getLastStart(){const{total:e,num:t}=this;return(e%t===0?e-t:Math.floor(e/t)*t)+1}showLeftEllipsis(){return Math.floor(this.start/this.num)>3}showRightEllipsis(){return(this.total-this.start)/this.num>3}emitUpdate(){const e={start:this.start,total:this.total,num:this.num};this.calcitePaginationChange.emit(e),this.calcitePaginationUpdate.emit(e)}renderPages(){const e=this.getLastStart();let t,i;this.total/this.num<=Sb?(i=1+this.num,t=e-this.num):this.start/this.num<Sb-1?(i=1+this.num,t=1+4*this.num):this.start+3*this.num>=this.total?(i=e-4*this.num,t=e-this.num):(i=this.start-this.num,t=this.start+this.num);const n=[];for(;i<=t;)n.push(i),i=i+this.num;return n.map(r=>this.renderPage(r))}renderPage(e){const t=Math.floor(e/this.num)+(this.num===1?0:1);return y("button",{class:{[bo.page]:!0,[bo.selected]:e===this.start},onClick:()=>{this.start=e,this.emitUpdate()}},t)}renderLeftEllipsis(){if(this.total/this.num>Sb&&this.showLeftEllipsis())return y("span",{class:`${bo.ellipsis} ${bo.ellipsisStart}`},"\u2026")}renderRightEllipsis(){if(this.total/this.num>Sb&&this.showRightEllipsis())return y("span",{class:`${bo.ellipsis} ${bo.ellipsisEnd}`},"\u2026")}render(){const{total:e,num:t,start:i}=this,n=t===1?i<=t:i<t,r=i+t>e;return y(mn,null,y("button",{"aria-label":this.textLabelPrevious,class:{[bo.previous]:!0,[bo.disabled]:n},disabled:n,onClick:this.previousClicked},y("calcite-icon",{flipRtl:!0,icon:"chevronLeft",scale:"s"})),e>t?this.renderPage(1):null,this.renderLeftEllipsis(),this.renderPages(),this.renderRightEllipsis(),this.renderPage(this.getLastStart()),y("button",{"aria-label":this.textLabelNext,class:{[bo.next]:!0,[bo.disabled]:r},disabled:r,onClick:this.nextClicked},y("calcite-icon",{flipRtl:!0,icon:"chevronRight",scale:"s"})))}get el(){return this}static get style(){return PQ}},ji={backButton:"back-button",container:"container",header:"header",heading:"heading",summary:"summary",headerContent:"header-content",headerActions:"header-actions",headerActionsEnd:"header-actions--end",headerActionsStart:"header-actions--start",contentWrapper:"content-wrapper",contentContainer:"content-container",contentHeight:"content-height",fabContainer:"fab-container",footer:"footer",menuContainer:"menu-container",menuButton:"menu-button",menu:"menu",menuOpen:"menu--open"},Db={close:"x",menu:"ellipsis",backLeft:"chevron-left",backRight:"chevron-right"},gn={headerActionsStart:"header-actions-start",headerActionsEnd:"header-actions-end",headerMenuActions:"header-menu-actions",headerContent:"header-content",fab:"fab",footer:"footer",footerActions:"footer-actions"},$b={back:"Back",close:"Close",open:"Open",options:"Options"},RQ=3,FQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:host{-webkit-box-sizing:border-box;box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:-ms-flexbox;display:flex;width:100%;-ms-flex:1 1 auto;flex:1 1 auto;overflow:hidden;--calcite-min-header-height:calc(var(--calcite-icon-size) * 3);--calcite-panel-max-height:unset;--calcite-panel-width:100%;--calcite-panel-min-width:unset;--calcite-panel-max-width:unset}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.header{margin:0px;display:-ms-flexbox;display:flex;-ms-flex-line-pack:justify;align-content:space-between;-ms-flex-align:center;align-items:center;fill:var(--calcite-ui-text-2);color:var(--calcite-ui-text-2)}.heading{margin:0px;padding:0px;font-weight:var(--calcite-font-weight-medium)}.header .heading{-ms-flex:1 1 auto;flex:1 1 auto;padding:0.5rem}h1.heading{font-size:var(--calcite-font-size-2);line-height:1.5rem}h2.heading{font-size:var(--calcite-font-size-1);line-height:1.5rem}h3.heading{font-size:var(--calcite-font-size-0);line-height:1.25rem}h4.heading,h5.heading{font-size:var(--calcite-font-size--1);line-height:1rem}.container{margin:0px;display:-ms-flexbox;display:flex;width:100%;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:stretch;align-items:stretch;background-color:var(--calcite-ui-background);padding:0px;max-height:var(--calcite-panel-max-height);width:var(--calcite-panel-width);max-width:var(--calcite-panel-max-width);min-width:var(--calcite-panel-min-width);-webkit-transition:max-height var(--calcite-animation-timing), width var(--calcite-animation-timing);transition:max-height var(--calcite-animation-timing), width var(--calcite-animation-timing)}:host([height-scale=s]){--calcite-panel-max-height:40vh}:host([height-scale=m]){--calcite-panel-max-height:60vh}:host([height-scale=l]){--calcite-panel-max-height:80vh}:host([width-scale=s]){--calcite-panel-width:calc(var(--calcite-panel-width-multiplier) * 12vw);--calcite-panel-max-width:calc(var(--calcite-panel-width-multiplier) * 300px);--calcite-panel-min-width:calc(var(--calcite-panel-width-multiplier) * 150px)}:host([width-scale=m]){--calcite-panel-width:calc(var(--calcite-panel-width-multiplier) * 20vw);--calcite-panel-max-width:calc(var(--calcite-panel-width-multiplier) * 420px);--calcite-panel-min-width:calc(var(--calcite-panel-width-multiplier) * 240px)}:host([width-scale=l]){--calcite-panel-width:calc(var(--calcite-panel-width-multiplier) * 45vw);--calcite-panel-max-width:calc(var(--calcite-panel-width-multiplier) * 680px);--calcite-panel-min-width:calc(var(--calcite-panel-width-multiplier) * 340px)}.container[hidden]{display:none}:host([loading]) .container,:host([disabled]) .container{position:relative;z-index:1}.header{border-bottom:1px solid;position:-webkit-sticky;position:sticky;top:0px;width:100%;-ms-flex-align:stretch;align-items:stretch;-ms-flex-pack:start;justify-content:flex-start;background-color:var(--calcite-ui-foreground-1);border-bottom-color:var(--calcite-ui-border-3);-ms-flex:0 0 auto;flex:0 0 auto;z-index:2}.header-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-left:0.75rem;padding-right:0.75rem;padding-top:0.875rem;padding-bottom:0.875rem;overflow:hidden;-webkit-margin-end:auto;margin-inline-end:auto}.header-content .heading,.header-content .summary{display:block;overflow-wrap:break-word;padding:0px}.header-content .heading{margin-left:0px;margin-right:0px;margin-top:0px;margin-bottom:0.25rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;font-weight:var(--calcite-font-weight-medium)}.header-content .heading:only-child{margin-bottom:0px}.header-content .summary{font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-ui-text-2)}.back-button{border-width:0px;border-style:solid;border-color:var(--calcite-ui-border-3);border-inline-end-width:1px}.header-actions{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-align:stretch;align-items:stretch}.header-actions--end,.menu-container:only-child{-webkit-margin-start:auto;margin-inline-start:auto}.menu-button{position:relative;height:100%;-ms-flex:0 1 auto;flex:0 1 auto;-ms-flex-item-align:stretch;align-self:stretch}.menu{min-width:10rem;-ms-flex-flow:column nowrap;flex-flow:column nowrap}.content-wrapper{overflow:auto}.content-height{height:100%}.content-container{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-align:stretch;align-items:stretch;background-color:var(--calcite-ui-background)}.footer{border-top:1px solid;position:-webkit-sticky;position:sticky;bottom:0px;display:-ms-flexbox;display:flex;width:100%;-ms-flex-pack:space-evenly;justify-content:space-evenly;background-color:var(--calcite-ui-foreground-1);border-top-color:var(--calcite-ui-border-3);-ms-flex:0 0 auto;flex:0 0 auto;min-height:3rem;padding:0.5rem}.fab-container{position:-webkit-sticky;position:sticky;bottom:0px;left:0px;right:0px;margin-top:0px;margin-bottom:0px;margin-left:auto;margin-right:auto;display:block;padding:0.5rem;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;z-index:1}",NQ=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calcitePanelDismissedChange=W(this,"calcitePanelDismissedChange",7),this.calcitePanelScroll=W(this,"calcitePanelScroll",7),this.calcitePanelBackClick=W(this,"calcitePanelBackClick",7),this.dismissed=!1,this.disabled=!1,this.dismissible=!1,this.showBackButton=!1,this.loading=!1,this.menuOpen=!1,this.setContainerRef=e=>{this.containerEl=e},this.setDismissRef=e=>{this.dismissButtonEl=e},this.setBackRef=e=>{this.backButtonEl=e},this.panelKeyDownHandler=e=>{e.key==="Escape"&&this.dismiss()},this.dismiss=()=>{this.dismissed=!0},this.panelScrollHandler=()=>{this.calcitePanelScroll.emit()},this.backButtonClick=()=>{this.calcitePanelBackClick.emit()}}dismissedHandler(){this.calcitePanelDismissedChange.emit()}componentDidRender(){it(this)}connectedCallback(){gi(this)}disconnectedCallback(){yi(this)}async setFocus(e){var t,i,n;if(e==="dismiss-button"){(t=this.dismissButtonEl)===null||t===void 0||t.setFocus();return}if(e==="back-button"){(i=this.backButtonEl)===null||i===void 0||i.setFocus();return}(n=this.containerEl)===null||n===void 0||n.focus()}async scrollContentTo(e){var t;(t=this.panelScrollEl)===null||t===void 0||t.scrollTo(e)}renderBackButton(){const{el:e}=this,t=Fi(e)==="rtl",{showBackButton:i,intlBack:n,backButtonClick:r}=this,a=n||$b.back,o=t?Db.backRight:Db.backLeft;return i?y("calcite-action",{"aria-label":a,class:ji.backButton,icon:o,key:"back-button",onClick:r,ref:this.setBackRef,scale:"s",slot:gn.headerActionsStart,text:a}):null}renderHeaderContent(){const{heading:e,headingLevel:t,summary:i}=this,n=e?y(Bc,{class:ji.heading,level:t||RQ},e):null,r=i?y("span",{class:ji.summary},i):null;return n||r?y("div",{class:ji.headerContent,key:"header-content"},n,r):null}renderHeaderSlottedContent(){return y("div",{class:ji.headerContent,key:"slotted-header-content"},y("slot",{name:gn.headerContent}))}renderHeaderStartActions(){const{el:e}=this;return $e(e,gn.headerActionsStart)?y("div",{class:{[ji.headerActionsStart]:!0,[ji.headerActions]:!0},key:"header-actions-start"},y("slot",{name:gn.headerActionsStart})):null}renderHeaderActionsEnd(){const{dismiss:e,dismissible:t,el:i,intlClose:n}=this,r=n||$b.close,a=t?y("calcite-action",{"aria-label":r,icon:Db.close,onClick:e,ref:this.setDismissRef,text:r}):null,o=y("slot",{name:gn.headerActionsEnd});return $e(i,gn.headerActionsEnd)||a?y("div",{class:{[ji.headerActionsEnd]:!0,[ji.headerActions]:!0},key:"header-actions-end"},o,a):null}renderMenu(){const{el:e,intlOptions:t,menuOpen:i}=this;return $e(e,gn.headerMenuActions)?y("calcite-action-menu",{flipPlacements:["top","bottom"],key:"menu",label:t||$b.options,open:i,placement:"bottom-end"},y("calcite-action",{icon:Db.menu,slot:Xs.trigger,text:t||$b.options}),y("slot",{name:gn.headerMenuActions})):null}renderHeaderNode(){const{el:e,showBackButton:t}=this,i=this.renderBackButton(),r=$e(e,gn.headerContent)?this.renderHeaderSlottedContent():this.renderHeaderContent(),a=this.renderHeaderStartActions(),o=this.renderHeaderActionsEnd(),s=this.renderMenu();return a||r||o||s||t?y("header",{class:ji.header},i,a,r,o,s):null}renderFooterNode(){const{el:e}=this,t=$e(e,gn.footer),i=$e(e,gn.footerActions);return t||i?y("footer",{class:ji.footer,key:"footer"},t?y("slot",{key:"footer-slot",name:gn.footer}):null,i?y("slot",{key:"footer-actions-slot",name:gn.footerActions}):null):null}renderContent(){const{el:e}=this,t=$e(e,gn.fab),i=y("slot",{key:"default-slot"}),n="content-wrapper";return t?y("div",{class:{[ji.contentWrapper]:!0,[ji.contentHeight]:!0},key:n,onScroll:this.panelScrollHandler,ref:r=>this.panelScrollEl=r,tabIndex:0},y("section",{class:ji.contentContainer},i),this.renderFab()):y("section",{class:{[ji.contentWrapper]:!0,[ji.contentContainer]:!0},key:n,onScroll:this.panelScrollHandler,ref:r=>this.panelScrollEl=r,tabIndex:0},i)}renderFab(){return y("div",{class:ji.fabContainer},y("slot",{name:gn.fab}))}render(){const{dismissed:e,dismissible:t,loading:i,panelKeyDownHandler:n}=this,r=y("article",{"aria-busy":i.toString(),class:ji.container,hidden:t&&e,onKeyDown:n,ref:this.setContainerRef,tabIndex:t?0:-1},this.renderHeaderNode(),this.renderContent(),this.renderFooterNode());return y(mn,null,i?y("calcite-scrim",{loading:i}):null,r)}get el(){return this}static get watchers(){return{dismissed:["dismissedHandler"]}}static get style(){return FQ}},zQ={sticky:"sticky-pos"};var Od;(function(e){e.circle="circle",e.square="square",e.grip="grip"})(Od||(Od={}));const jQ={menuActions:"menu-actions"},R_={heading:"heading",container:"container",indented:"container--indented"},U3={parentItem:"parent-item"},VQ=3;function U9(){this.setUpItems(),this.setUpFilter(),this.deselectRemovedItems()}const HQ=["ArrowUp","ArrowDown"];function G9(){this.setUpItems(),this.setUpFilter(),this.emitCalciteListChange=wd(BQ.bind(this),0)}function W9(){var e;(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0,subtree:!0})}function J9(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect()}function K9(e){const{selectedValues:t}=this,{item:i,value:n,selected:r,shiftPressed:a}=e.detail;r?(this.multiple&&a&&this.selectSiblings(i),this.multiple||this.deselectSiblingItems(i),t.set(n,i)):(t.delete(n),this.multiple&&a&&this.selectSiblings(i,!0)),this.multiple||(kd(i,r),r&&ai(i)),this.lastSelectedItem=i,this.emitCalciteListChange()}function Y9(e){e.stopPropagation();const t=e.detail.oldValue,i=this.selectedValues;if(i.has(t)){const n=i.get(t);i.delete(t),i.set(e.detail.newValue,n)}}function qQ(e){return!!HQ.find(t=>t===e)}function Z9(e){const{el:t,items:i,multiple:n,selectedValues:r}=this;n||t.contains(e.relatedTarget)||G3(i).forEach(o=>{kd(o,r.size===0?o.contains(e.target)||e.target===o:o.selected)})}function X9(e){const{key:t,target:i}=e;if(!qQ(t))return;const{items:n,multiple:r,selectionFollowsFocus:a}=this,{length:o}=n,s=n.indexOf(i);if(!o||s===-1)return;e.preventDefault();const l=Q9(this,i,t==="ArrowUp"?"up":"down"),u=n[l];n.forEach(h=>kd(h,h===u)),!r&&a&&(u.selected=!0),ai(u)}function Q9(e,t,i){const{items:n}=e,{length:r}=n,a=n.indexOf(t),o=i==="up"?-1:1;let s=1,l=em(a+o*s++,r);const u=l;for(;n[l].disabled&&(l=em(a+o*s++,r),l!==u););return l}function G3(e){return e.filter(t=>!t.disabled)}function BQ(){this.calciteListChange.emit(this.selectedValues)}function eN(e){if(e.defaultPrevented)return;const t=e.target,i=this.selectedValues;t.parentElement.tagName==="CALCITE-PICK-LIST-GROUP"&&t.slot===U3.parentItem?(t.parentElement.remove(),Array.from(t.parentElement.children).forEach(n=>i.delete(n.value))):(t.remove(),i.delete(t.value)),this.emitCalciteListChange()}function kd(e,t){e.disabled||(t?e.removeAttribute("tabindex"):e.setAttribute("tabindex","-1"))}async function tN(e){var t;if(this.filterEnabled&&e==="filter"){await ai(this.filterEl);return}const{items:i,multiple:n,selectionFollowsFocus:r}=this;if(i.length===0)return;if(n)return(t=G3(i)[0])===null||t===void 0?void 0:t.setFocus();const a=G3(i),o=a.find(s=>s.selected)||a[0];return r&&o&&(o.selected=!0),o.setFocus()}function iN(e){this.items=Array.from(this.el.querySelectorAll(e));let t=!1;const{items:i}=this;i.forEach(r=>{r.icon=this.getIconType(),this.multiple||(r.disableDeselect=!0,kd(r,!1)),r.selected&&(t=!0,kd(r,!0),this.selectedValues.set(r.value,r))});const[n]=i;!t&&n&&!n.disabled&&kd(n,!0)}function nN(){const e=this.selectedValues,t=this.items.map(({value:i})=>i);e.forEach(i=>{t.includes(i.value)||this.selectedValues.delete(i.value)})}function rN(e){this.items.forEach(t=>{t.value!==e.value&&(t.toggleSelected(!1),this.selectedValues.has(t.value)&&this.selectedValues.delete(t.value))})}function aN(e,t=!1){if(!this.lastSelectedItem)return;const{items:i}=this,n=i.findIndex(a=>a.value===this.lastSelectedItem.value),r=i.findIndex(a=>a.value===e.value);i.slice(Math.min(n,r),Math.max(n,r)).forEach(a=>{a.toggleSelected(!t),t?this.selectedValues.delete(a.value):this.selectedValues.set(a.value,a)})}let yf;function oN(e){const{filteredItems:t}=e.currentTarget,i=t.map(a=>a.value);let n=!1;yf||(yf=new Set);const r=this.items.filter(a=>{const o=a.parentElement;o.matches("calcite-pick-list-group")&&yf.add(o);const l=i.includes(a.value);return a.hidden=!l,n||(n=l&&a.selected),l});yf.forEach(a=>{const o=r.some(l=>a.contains(l));if(a.hidden=!o,!o)return;const s=$e(a,"parent-item");s&&(s.hidden=!1,r.includes(s)&&Array.from(a.children).forEach(l=>l.hidden=!1))}),yf.clear(),r.length>0&&!n&&!this.multiple&&kd(r[0],!0)}function sN(){return this.items.map(e=>({label:e.label,description:e.description,metadata:e.metadata,value:e.value}))}var UQ=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]]);return i};const lN=e=>{var{props:{disabled:t,loading:i,filterEnabled:n,dataForFilter:r,handleFilter:a,filterPlaceholder:o,setFilterEl:s}}=e,l=UQ(e,["props"]);const u=y("slot",null);return y(ze,Object.assign({"aria-busy":i.toString(),role:"menu"},l),y("section",null,y("header",{class:{[zQ.sticky]:!0}},n?y("calcite-filter",{"aria-label":o,disabled:i||t,items:r,onCalciteFilterChange:a,placeholder:o,ref:s}):null,y("slot",{name:jQ.menuActions})),i?y("calcite-scrim",{loading:i}):null,u))},GQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:1;flex-grow:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:stretch;align-items:stretch;background-color:transparent;font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-ui-text-2)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([filter-enabled]) header{margin-bottom:0.25rem;display:-ms-flexbox;display:flex;-ms-flex-align:stretch;align-items:stretch;-ms-flex-pack:end;justify-content:flex-end;background-color:var(--calcite-ui-foreground-1);--tw-shadow:0 1px 0 var(--calcite-ui-border-3);--tw-shadow-colored:0 1px 0 var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([filter-enabled]) header.sticky-pos{position:-webkit-sticky;position:sticky;top:0px;z-index:1}calcite-filter{margin-bottom:0px}:host([loading][disabled]){min-height:2rem}",WQ=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteListChange=W(this,"calciteListChange",7),this.disabled=!1,this.filterEnabled=!1,this.loading=!1,this.multiple=!1,this.selectionFollowsFocus=!1,this.selectedValues=new Map,this.dataForFilter=[],this.lastSelectedItem=null,this.mutationObserver=Vt("mutation",U9.bind(this)),this.setFilterEl=e=>{this.filterEl=e},this.deselectRemovedItems=nN.bind(this),this.deselectSiblingItems=rN.bind(this),this.selectSiblings=aN.bind(this),this.handleFilter=oN.bind(this),this.getItemData=sN.bind(this),this.keyDownHandler=X9.bind(this)}connectedCallback(){G9.call(this),W9.call(this)}disconnectedCallback(){J9.call(this)}componentDidRender(){it(this)}calciteListItemRemoveHandler(e){eN.call(this,e)}calciteListItemChangeHandler(e){K9.call(this,e)}calciteListItemPropsChangeHandler(e){e.stopPropagation(),this.setUpFilter()}calciteListItemValueChangeHandler(e){Y9.call(this,e)}calciteListFocusOutHandler(e){Z9.call(this,e)}setUpItems(){iN.call(this,"calcite-pick-list-item")}setUpFilter(){this.filterEnabled&&(this.dataForFilter=this.getItemData())}async getSelectedItems(){return this.selectedValues}async setFocus(e){return tN.call(this,e)}getIconType(){return this.multiple?Od.square:Od.circle}render(){return y(lN,{onKeyDown:this.keyDownHandler,props:this})}get el(){return this}static get style(){return GQ}},JQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{margin-bottom:0.25rem;-webkit-box-sizing:border-box;box-sizing:border-box;display:block;background-color:transparent;font-size:var(--calcite-font-size--1);color:var(--calcite-ui-text-2)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:host(:last-child){margin-bottom:0px}.header{margin:0px;display:-ms-flexbox;display:flex;-ms-flex-line-pack:justify;align-content:space-between;-ms-flex-align:center;align-items:center;fill:var(--calcite-ui-text-2);color:var(--calcite-ui-text-2)}.heading{margin:0px;padding:0px;font-weight:var(--calcite-font-weight-medium)}.header .heading{-ms-flex:1 1 auto;flex:1 1 auto;padding:0.5rem}h1.heading{font-size:var(--calcite-font-size-2);line-height:1.5rem}h2.heading{font-size:var(--calcite-font-size-1);line-height:1.5rem}h3.heading{font-size:var(--calcite-font-size-0);line-height:1.25rem}h4.heading,h5.heading{font-size:var(--calcite-font-size--1);line-height:1rem}h3.heading{margin-top:0.5rem;margin-bottom:0.5rem;margin-left:1rem;margin-right:1rem;font-size:var(--calcite-font-size--1);line-height:1.375;color:var(--calcite-ui-text-3)}.container--indented{-webkit-margin-start:1.5rem;margin-inline-start:1.5rem}",KQ=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow()}connectedCallback(){gi(this)}disconnectedCallback(){yi(this)}render(){var e;const{el:t,groupTitle:i,headingLevel:n}=this,r=$e(t,U3.parentItem)!==null,a={[R_.container]:!0,[R_.indented]:r},o=i,s=(e=t.closest("calcite-pick-list"))===null||e===void 0?void 0:e.headingLevel,l=s?SC(s+1):null,u=n||l||VQ;return y(mn,null,o?y(Bc,{class:R_.heading,level:u},o):null,y("slot",{name:U3.parentItem}),y("section",{class:a},y("slot",null)))}get el(){return this}static get style(){return JQ}},pr={actions:"actions",actionsEnd:"actions--end",actionsStart:"actions--start",description:"description",handle:"handle",handleActivated:"handle--activated",highlight:"highlight",icon:"icon",iconDot:"icon-dot",label:"label",remove:"remove",title:"title",textContainer:"text-container"},uA={checked:"check",remove:"x"},Zu={actionsEnd:"actions-end",actionsStart:"actions-start"},YQ={remove:"Remove"},ZQ='@charset "UTF-8";@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{margin:0px;margin-bottom:1px;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-align:stretch;align-items:stretch;background-color:var(--calcite-ui-foreground-1);font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-ui-text-1);--tw-shadow:0 1px 0 var(--calcite-ui-border-3);--tw-shadow-colored:0 1px 0 var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);-webkit-transition:background-color var(--calcite-animation-timing);transition:background-color var(--calcite-animation-timing);-webkit-animation:calcite-fade-in var(--calcite-animation-timing);animation:calcite-fade-in var(--calcite-animation-timing)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}.label{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;cursor:pointer;-ms-flex-align:center;align-items:center;background-color:transparent;outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}.label:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.label:hover{background-color:var(--calcite-ui-foreground-2)}:host([non-interactive]:hover){background-color:var(--calcite-ui-foreground-1)}:host([non-interactive]) .label,:host([non-interactive]) .icon{pointer-events:none}.icon{margin-top:0px;margin-bottom:0px;display:-ms-flexbox;display:flex;cursor:pointer;-ms-flex-align:center;align-items:center;padding:0.25rem;color:var(--calcite-ui-brand);-ms-flex:0 0 auto;flex:0 0 auto;line-height:0}.icon:hover{background-color:var(--calcite-ui-foreground-2)}.icon-dot{display:-ms-flexbox;display:flex;width:1.5rem;-ms-flex-align:center;align-items:center;padding:0.5rem}.icon-dot:before{opacity:0;content:"\u2022"}.icon calcite-icon{opacity:0}:host([selected]) .icon-dot:before,:host([selected]) .icon calcite-icon{-webkit-transition:opacity var(--calcite-animation-timing);transition:opacity var(--calcite-animation-timing);opacity:1}.text-container{pointer-events:none;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap;padding-top:0.5rem;padding-bottom:0.5rem;padding-left:0.75rem;padding-right:0.75rem;font-size:var(--calcite-font-size--2);line-height:1.375;word-wrap:break-word;word-break:break-word;overflow:hidden}.title{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-1)}.description{margin-top:0.125rem;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-3)}.actions{margin:0px;display:-ms-flexbox;display:flex;-ms-flex:0 1 auto;flex:0 1 auto;-ms-flex-align:stretch;align-items:stretch;-ms-flex-pack:end;justify-content:flex-end}.actions--start~.label{-webkit-padding-start:0.25rem;padding-inline-start:0.25rem}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}',XQ=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteListItemChange=W(this,"calciteListItemChange",7),this.calciteListItemRemove=W(this,"calciteListItemRemove",7),this.calciteListItemPropsChange=W(this,"calciteListItemPropsChange",7),this.calciteListItemValueChange=W(this,"calciteListItemValueChange",7),this.disabled=!1,this.disableDeselect=!1,this.nonInteractive=!1,this.icon=null,this.removable=!1,this.selected=!1,this.intlRemove=YQ.remove,this.pickListClickHandler=e=>{this.disabled||this.disableDeselect&&this.selected||this.nonInteractive||(this.shiftPressed=e.shiftKey,this.selected=!this.selected)},this.pickListKeyDownHandler=e=>{if(e.key===" "){if(e.preventDefault(),this.disableDeselect&&this.selected||this.nonInteractive)return;this.selected=!this.selected}},this.removeClickHandler=()=>{this.calciteListItemRemove.emit()}}descriptionWatchHandler(){this.calciteListItemPropsChange.emit()}labelWatchHandler(){this.calciteListItemPropsChange.emit()}metadataWatchHandler(){this.calciteListItemPropsChange.emit()}selectedWatchHandler(){this.calciteListItemChange.emit({item:this.el,value:this.value,selected:this.selected,shiftPressed:this.shiftPressed}),this.shiftPressed=!1}valueWatchHandler(e,t){this.calciteListItemValueChange.emit({oldValue:t,newValue:e})}connectedCallback(){gi(this)}disconnectedCallback(){yi(this)}componentDidRender(){it(this,this.el.closest("calcite-pick-list")?"managed":!1)}async toggleSelected(e){this.selected=typeof e=="boolean"?e:!this.selected}async setFocus(){var e;(e=this.focusEl)===null||e===void 0||e.focus()}renderIcon(){const{icon:e}=this;return e?y("span",{class:{[pr.icon]:!0,[pr.iconDot]:e===Od.circle},onClick:this.pickListClickHandler},e===Od.square?y("calcite-icon",{icon:uA.checked,scale:"s"}):null):null}renderRemoveAction(){return this.removable?y("calcite-action",{class:pr.remove,icon:uA.remove,onCalciteActionClick:this.removeClickHandler,slot:Zu.actionsEnd,text:this.intlRemove}):null}renderActionsStart(){const{el:e}=this;return $e(e,Zu.actionsStart)?y("div",{class:{[pr.actions]:!0,[pr.actionsStart]:!0}},y("slot",{name:Zu.actionsStart})):null}renderActionsEnd(){const{el:e,removable:t}=this;return $e(e,Zu.actionsEnd)||t?y("div",{class:{[pr.actions]:!0,[pr.actionsEnd]:!0}},y("slot",{name:Zu.actionsEnd}),this.renderRemoveAction()):null}render(){const{description:e,label:t}=this;return y(mn,null,this.renderIcon(),this.renderActionsStart(),y("label",{"aria-label":t,class:pr.label,onClick:this.pickListClickHandler,onKeyDown:this.pickListKeyDownHandler,ref:i=>this.focusEl=i,tabIndex:0},y("div",{"aria-checked":this.selected.toString(),class:pr.textContainer,role:"menuitemcheckbox"},y("span",{class:pr.title},t),e?y("span",{class:pr.description},e):null)),this.renderActionsEnd())}get el(){return this}static get watchers(){return{description:["descriptionWatchHandler"],label:["labelWatchHandler"],metadata:["metadataWatchHandler"],selected:["selectedWatchHandler"],value:["valueWatchHandler"]}}static get style(){return ZQ}},vl={container:"container",arrow:"arrow",imageContainer:"image-container",closeButtonContainer:"close-button-container",closeButton:"close-button",content:"content",hasHeader:"has-header",header:"header",headerContent:"header-content",heading:"heading"},QQ={close:"Close"},eee="auto",K0="data-calcite-popover-reference",dA="aria-controls",hA="aria-expanded",tee=2,iee='@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block;position:absolute;z-index:900;-webkit-transform:scale(0);transform:scale(0)}.calcite-popper-anim{position:relative;z-index:1;-webkit-transition:var(--calcite-popper-transition);transition:var(--calcite-popper-transition);visibility:hidden;-webkit-transition-property:visibility, opacity, -webkit-transform;transition-property:visibility, opacity, -webkit-transform;transition-property:transform, visibility, opacity;transition-property:transform, visibility, opacity, -webkit-transform;opacity:0;-webkit-box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);border-radius:0.25rem}:host([data-popper-placement^=bottom]) .calcite-popper-anim{-webkit-transform:translateY(-5px);transform:translateY(-5px)}:host([data-popper-placement^=top]) .calcite-popper-anim{-webkit-transform:translateY(5px);transform:translateY(5px)}:host([data-popper-placement^=left]) .calcite-popper-anim{-webkit-transform:translateX(5px);transform:translateX(5px)}:host([data-popper-placement^=right]) .calcite-popper-anim{-webkit-transform:translateX(-5px);transform:translateX(-5px)}:host([data-popper-placement]) .calcite-popper-anim--active{opacity:1;visibility:visible;-webkit-transform:translate(0);transform:translate(0)}:host([data-popper-placement][data-popper-reference-hidden]){pointer-events:none;opacity:0}.arrow,.arrow::before{position:absolute;width:8px;height:8px;z-index:-1}.arrow::before{content:"";--tw-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--calcite-ui-foreground-1)}:host([data-popper-placement^=top]) .arrow{bottom:-4px}:host([data-popper-placement^=bottom]) .arrow{top:-4px}:host([data-popper-placement^=left]) .arrow{right:-4px}:host([data-popper-placement^=right]) .arrow{left:-4px}:host{pointer-events:none}:host([open]){pointer-events:initial}.calcite-popper-anim{border-radius:0.25rem;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);background-color:var(--calcite-ui-foreground-1)}.arrow::before{outline:1px solid var(--calcite-ui-border-3)}.header{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-align:stretch;align-items:stretch;-ms-flex-pack:start;justify-content:flex-start;border-width:0px;border-bottom-width:1px;border-style:solid;background-color:var(--calcite-ui-foreground-1);border-bottom-color:var(--calcite-ui-border-3)}.heading{margin:0px;display:block;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-item-align:center;align-self:center;white-space:normal;padding-left:1rem;padding-right:1rem;padding-top:0.75rem;padding-bottom:0.75rem;font-size:var(--calcite-font-size-0);line-height:1.375;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1);word-wrap:break-word;word-break:break-word}.container{position:relative;display:-ms-flexbox;display:flex;height:100%;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap;border-radius:0.25rem;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-1)}.container.has-header{-ms-flex-direction:column;flex-direction:column}.content{display:-ms-flexbox;display:flex;height:100%;width:100%;-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-item-align:center;align-self:center;word-wrap:break-word;word-break:break-word}.close-button-container{display:-ms-flexbox;display:flex;overflow:hidden;-ms-flex:0 0 auto;flex:0 0 auto;border-start-end-radius:0.25rem;border-end-end-radius:0.25rem}::slotted(calcite-panel),::slotted(calcite-flow){height:100%}',nee=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calcitePopoverClose=W(this,"calcitePopoverClose",7),this.calcitePopoverOpen=W(this,"calcitePopoverOpen",7),this.closeButton=!1,this.dismissible=!1,this.disableFlip=!1,this.disablePointer=!1,this.offsetDistance=R9,this.offsetSkidding=0,this.open=!1,this.overlayPositioning="absolute",this.placement=eee,this.intlClose=QQ.close,this.guid=`calcite-popover-${li()}`,this.activeTransitionProp="opacity",this.setUpReferenceElement=()=>{this.removeReferences(),this.effectiveReferenceElement=this.getReferenceElement();const{el:e,referenceElement:t,effectiveReferenceElement:i}=this;t&&!i&&console.warn(`${e.tagName}: reference-element id "${t}" was not found.`,{el:e}),this.addReferences(),this.createPopper()},this.getId=()=>this.el.id||this.guid,this.setExpandedAttr=()=>{const{effectiveReferenceElement:e,open:t}=this;!e||e.setAttribute(hA,t.toString())},this.addReferences=()=>{const{effectiveReferenceElement:e}=this;if(!e)return;const t=this.getId();e.setAttribute(K0,t),e.setAttribute(dA,t),this.setExpandedAttr()},this.removeReferences=()=>{const{effectiveReferenceElement:e}=this;!e||(e.removeAttribute(K0),e.removeAttribute(dA),e.removeAttribute(hA))},this.hide=()=>{this.open=!1},this.transitionEnd=e=>{e.propertyName===this.activeTransitionProp&&(this.open?this.calcitePopoverOpen.emit():this.calcitePopoverClose.emit())}}offsetDistanceOffsetHandler(){this.reposition()}offsetSkiddingHandler(){this.reposition()}openHandler(){this.reposition(),this.setExpandedAttr()}placementHandler(){this.reposition()}referenceElementHandler(){this.setUpReferenceElement()}componentWillLoad(){this.setUpReferenceElement()}componentDidLoad(){this.reposition()}disconnectedCallback(){this.removeReferences(),this.destroyPopper()}async reposition(){const{popper:e,el:t,placement:i}=this,n=this.getModifiers();e?await vy({el:t,modifiers:n,placement:i,popper:e}):this.createPopper()}async setFocus(e){var t;const{closeButtonEl:i}=this;if(e==="close-button"&&i){Em(i),i.setFocus();return}(t=this.el)===null||t===void 0||t.focus()}async toggle(e=!this.open){this.open=e}getReferenceElement(){const{referenceElement:e,el:t}=this;return(typeof e=="string"?my(t,{id:e}):e)||null}getModifiers(){const{arrowEl:e,flipPlacements:t,disableFlip:i,disablePointer:n,offsetDistance:r,offsetSkidding:a}=this,o={name:"flip",enabled:!i};t&&(o.options={fallbackPlacements:t});const s={name:"arrow",enabled:!n};e&&(s.options={element:e});const l={name:"offset",enabled:!0,options:{offset:[a,r]}},u={name:"eventListeners",enabled:this.open};return[s,o,l,u]}createPopper(){this.destroyPopper();const{el:e,placement:t,effectiveReferenceElement:i,overlayPositioning:n}=this,r=this.getModifiers();this.popper=by({el:e,modifiers:r,overlayPositioning:n,placement:t,referenceEl:i})}destroyPopper(){const{popper:e}=this;e&&e.destroy(),this.popper=null}renderCloseButton(){const{dismissible:e,closeButton:t,intlClose:i}=this;return e||t?y("div",{class:vl.closeButtonContainer},y("calcite-action",{class:vl.closeButton,onClick:this.hide,ref:n=>this.closeButtonEl=n,text:i},y("calcite-icon",{icon:"x",scale:"m"}))):null}renderHeader(){const{heading:e,headingLevel:t}=this,i=e?y(Bc,{class:vl.heading,level:t||tee},e):null;return i?y("div",{class:vl.header},i,this.renderCloseButton()):null}render(){const{effectiveReferenceElement:e,heading:t,label:i,open:n,disablePointer:r}=this,a=e&&n,o=!a,s=r?null:y("div",{class:vl.arrow,ref:l=>this.arrowEl=l});return y(ze,{"aria-hidden":o.toString(),"aria-label":i,"calcite-hydrated-hidden":o,id:this.getId(),role:"dialog"},y("div",{class:{[Qo.animation]:!0,[Qo.animationActive]:a},onTransitionEnd:this.transitionEnd},s,y("div",{class:{[vl.hasHeader]:!!t,[vl.container]:!0}},this.renderHeader(),y("div",{class:vl.content},y("slot",null)),t?null:this.renderCloseButton())))}get el(){return this}static get watchers(){return{offsetDistance:["offsetDistanceOffsetHandler"],offsetSkidding:["offsetSkiddingHandler"],open:["openHandler"],placement:["placementHandler"],referenceElement:["referenceElementHandler"]}}static get style(){return iee}},ree="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:block}",aee=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.selector=`[${K0}]`,this.autoClose=!1,this.queryPopover=e=>{const{el:t}=this;if(!e.includes(t))return null;const i=e.find(r=>{var a;return(a=r==null?void 0:r.hasAttribute)===null||a===void 0?void 0:a.call(r,K0)});if(!i)return null;const n=i.getAttribute(K0);return my(t,{id:n})}}render(){return y("slot",null)}closeOpenPopovers(e){const{autoClose:t,el:i}=this,n="calcite-popover",r=e.composedPath(),a=this.queryPopover(r);if(a){a.toggle();return}t&&bW(i,n).filter(o=>o.open&&!r.includes(o)).forEach(o=>o.toggle(!1))}get el(){return this}static get style(){return ree}},oee="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:block;width:100%}.track,.bar{position:absolute;top:0px;height:2px}.track{z-index:0;width:100%;overflow:hidden;background:var(--calcite-ui-border-3)}.bar{z-index:0;background-color:var(--calcite-ui-brand)}@media (forced-colors: active){.track{background-color:highlightText}.bar{background-color:linkText}}.indeterminate{width:20%;-webkit-animation:looping-progress-bar-ani 2200ms linear infinite;animation:looping-progress-bar-ani 2200ms linear infinite}.reversed{animation-direction:reverse}.text{padding-left:0px;padding-right:0px;padding-top:1rem;padding-bottom:0px;text-align:center;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-medium)}@-webkit-keyframes looping-progress-bar-ani{0%{-webkit-transform:translate3d(-100%, 0, 0);transform:translate3d(-100%, 0, 0)}50%{width:40%}100%{-webkit-transform:translate3d(600%, 0, 0);transform:translate3d(600%, 0, 0)}}@keyframes looping-progress-bar-ani{0%{-webkit-transform:translate3d(-100%, 0, 0);transform:translate3d(-100%, 0, 0)}50%{width:40%}100%{-webkit-transform:translate3d(600%, 0, 0);transform:translate3d(600%, 0, 0)}}",see=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.type="determinate",this.value=0,this.reversed=!1}render(){const t=this.type==="determinate"?{width:`${this.value*100}%`}:{};return y("div",{"aria-label":this.label||this.text,"aria-valuemax":1,"aria-valuemin":0,"aria-valuenow":this.value,role:"progressbar"},y("div",{class:"track"},y("div",{class:{bar:!0,indeterminate:this.type==="indeterminate",reversed:this.reversed},style:t})),this.text?y("div",{class:"text"},this.text):null)}get el(){return this}static get style(){return oee}},lee={container:"container"},cee='@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block;cursor:pointer}:host .container{position:relative;outline:2px solid transparent;outline-offset:2px}:host .radio{cursor:pointer;border-radius:9999px;background-color:var(--calcite-ui-foreground-1);-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-border-input);box-shadow:inset 0 0 0 1px var(--calcite-ui-border-input)}:host([hovered]) .radio,:host(:not([checked])[focused]:not([disabled])) .radio{-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-brand);box-shadow:inset 0 0 0 2px var(--calcite-ui-brand)}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) .radio{cursor:default;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([hovered][disabled]) .radio{-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-border-input);box-shadow:inset 0 0 0 1px var(--calcite-ui-border-input)}:host([scale=s]){--calcite-radio-size:var(--calcite-font-size--2)}:host([scale=m]){--calcite-radio-size:var(--calcite-font-size--1)}:host([scale=l]){--calcite-radio-size:var(--calcite-font-size-0)}.radio{height:var(--calcite-radio-size);max-width:var(--calcite-radio-size);min-width:var(--calcite-radio-size)}:host([scale=s][checked]) .radio,:host([hovered][scale=s][checked][disabled]) .radio{-webkit-box-shadow:inset 0 0 0 4px var(--calcite-ui-brand);box-shadow:inset 0 0 0 4px var(--calcite-ui-brand)}:host([scale=s][focused][checked]:not([disabled])) .radio{-webkit-box-shadow:inset 0 0 0 4px var(--calcite-ui-brand), 0 0 0 2px var(--calcite-ui-foreground-1), 0 0 0 4px var(--calcite-ui-brand);box-shadow:inset 0 0 0 4px var(--calcite-ui-brand), 0 0 0 2px var(--calcite-ui-foreground-1), 0 0 0 4px var(--calcite-ui-brand)}:host([scale=m][checked]) .radio,:host([hovered][scale=m][checked][disabled]) .radio{-webkit-box-shadow:inset 0 0 0 5px var(--calcite-ui-brand);box-shadow:inset 0 0 0 5px var(--calcite-ui-brand)}:host([scale=m][focused][checked]:not([disabled])) .radio{-webkit-box-shadow:inset 0 0 0 5px var(--calcite-ui-brand), 0 0 0 2px var(--calcite-ui-foreground-1), 0 0 0 4px var(--calcite-ui-brand);box-shadow:inset 0 0 0 5px var(--calcite-ui-brand), 0 0 0 2px var(--calcite-ui-foreground-1), 0 0 0 4px var(--calcite-ui-brand)}:host([scale=l][checked]) .radio,:host([hovered][scale=l][checked][disabled]) .radio{-webkit-box-shadow:inset 0 0 0 6px var(--calcite-ui-brand);box-shadow:inset 0 0 0 6px var(--calcite-ui-brand)}:host([scale=l][focused][checked]:not([disabled])) .radio{-webkit-box-shadow:inset 0 0 0 6px var(--calcite-ui-brand), 0 0 0 2px var(--calcite-ui-foreground-1), 0 0 0 4px var(--calcite-ui-brand);box-shadow:inset 0 0 0 6px var(--calcite-ui-brand), 0 0 0 2px var(--calcite-ui-foreground-1), 0 0 0 4px var(--calcite-ui-brand)}@media (forced-colors: active){:host([checked]) .radio::after,:host([checked][disabled]) .radio::after{content:"";width:var(--calcite-radio-size);height:var(--calcite-radio-size);background-color:windowText;display:block}}::slotted(input[slot=hidden-form-input]){bottom:0 !important;left:0 !important;margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;right:0 !important;top:0 !important;-webkit-transform:none !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}',uee=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteInternalRadioButtonBlur=W(this,"calciteInternalRadioButtonBlur",7),this.calciteRadioButtonChange=W(this,"calciteRadioButtonChange",7),this.calciteInternalRadioButtonCheckedChange=W(this,"calciteInternalRadioButtonCheckedChange",7),this.calciteInternalRadioButtonFocus=W(this,"calciteInternalRadioButtonFocus",7),this.checked=!1,this.disabled=!1,this.focused=!1,this.hidden=!1,this.hovered=!1,this.required=!1,this.scale="m",this.selectItem=(e,t)=>{e[t].click()},this.queryButtons=()=>Array.from(this.rootNode.querySelectorAll("calcite-radio-button:not([hidden])")).filter(e=>e.name===this.name),this.isDefaultSelectable=()=>{const e=this.queryButtons();return!e.some(t=>t.checked)&&e[0]===this.el},this.check=()=>{this.disabled||(this.uncheckAllRadioButtonsInGroup(),this.checked=!0,this.calciteRadioButtonChange.emit(),this.setFocus())},this.clickHandler=()=>{this.check()},this.setContainerEl=e=>{this.containerEl=e},this.handleKeyDown=e=>{const t=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown"," "],i=e.key,{el:n}=this;if(t.indexOf(i)===-1)return;if(i===" "){this.check();return}let r=i;Fi(n)==="rtl"&&(i==="ArrowRight"&&(r="ArrowLeft"),i==="ArrowLeft"&&(r="ArrowRight"));const a=Array.from(this.rootNode.querySelectorAll("calcite-radio-button:not([hidden]")).filter(l=>l.name===this.name);let o=0;const s=a.length;switch(a.some((l,u)=>{if(l.checked)return o=u,!0}),r){case"ArrowLeft":case"ArrowUp":e.preventDefault(),this.selectItem(a,em(Math.max(o-1,-1),s));return;case"ArrowRight":case"ArrowDown":e.preventDefault(),this.selectItem(a,em(o+1,s));return;default:return}},this.onContainerBlur=()=>{this.focused=!1,this.calciteInternalRadioButtonBlur.emit()},this.onContainerFocus=()=>{this.disabled||(this.focused=!0,this.calciteInternalRadioButtonFocus.emit())}}checkedChanged(e){e&&this.uncheckOtherRadioButtonsInGroup(),this.calciteInternalRadioButtonCheckedChange.emit(e)}nameChanged(){this.checkLastRadioButton()}async setFocus(){this.disabled||ai(this.containerEl)}onLabelClick(e){if(!this.disabled&&!this.hidden){this.uncheckOtherRadioButtonsInGroup();const t=e.currentTarget,i=t.for?this.rootNode.querySelector(`calcite-radio-button[id="${t.for}"]`):t.querySelector(`calcite-radio-button[name="${this.name}"]`);i&&(i.checked=!0,i.focused=!0),this.calciteRadioButtonChange.emit(),this.setFocus()}}checkLastRadioButton(){const t=this.queryButtons().filter(i=>i.checked);if((t==null?void 0:t.length)>1){const i=t[t.length-1];t.filter(n=>n!==i).forEach(n=>{n.checked=!1,n.emitCheckedChange()})}}async emitCheckedChange(){this.calciteInternalRadioButtonCheckedChange.emit()}uncheckAllRadioButtonsInGroup(){this.queryButtons().forEach(t=>{t.checked&&(t.checked=!1,t.focused=!1)})}uncheckOtherRadioButtonsInGroup(){this.queryButtons().filter(i=>i.guid!==this.guid).forEach(i=>{i.checked&&(i.checked=!1,i.focused=!1)})}getTabIndex(){if(!this.disabled)return this.checked||this.isDefaultSelectable()?0:-1}mouseenter(){this.hovered=!0}mouseleave(){this.hovered=!1}connectedCallback(){this.rootNode=this.el.getRootNode(),this.guid=this.el.id||`calcite-radio-button-${li()}`,this.name&&this.checkLastRadioButton(),tr(this),so(this)}componentDidLoad(){this.focused&&!this.disabled&&this.setFocus()}disconnectedCallback(){Ar(this),lo(this)}componentDidRender(){it(this)}render(){const e=this.getTabIndex();return y(ze,{onClick:this.clickHandler,onKeyDown:this.handleKeyDown},y("div",{"aria-checked":this.checked.toString(),"aria-label":Zo(this),class:lee.container,onBlur:this.onContainerBlur,onFocus:this.onContainerFocus,ref:this.setContainerEl,role:"radio",tabIndex:e},y("div",{class:"radio"})),y(co,{component:this}))}get el(){return this}static get watchers(){return{checked:["checkedChanged"],name:["nameChanged"]}}static get style(){return cee}},dee="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;max-width:100vw}:host([layout=horizontal]){-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap}:host([layout=horizontal][scale=s]){gap:1rem}:host([layout=horizontal][scale=m]){gap:1.25rem}:host([layout=horizontal][scale=l]){gap:1.5rem}:host([layout=vertical]){-ms-flex-direction:column;flex-direction:column}",hee=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteRadioButtonGroupChange=W(this,"calciteRadioButtonGroupChange",7),this.disabled=!1,this.hidden=!1,this.layout="horizontal",this.required=!1,this.scale="m",this.mutationObserver=Vt("mutation",()=>this.passPropsToRadioButtons()),this.passPropsToRadioButtons=()=>{const e=this.el.querySelectorAll("calcite-radio-button");e.length>0&&e.forEach(t=>{t.disabled=this.disabled||t.disabled,t.hidden=this.hidden,t.name=this.name,t.required=this.required,t.scale=this.scale})}}onDisabledChange(){this.passPropsToRadioButtons()}onHiddenChange(){this.passPropsToRadioButtons()}onLayoutChange(){this.passPropsToRadioButtons()}onScaleChange(){this.passPropsToRadioButtons()}connectedCallback(){var e;this.passPropsToRadioButtons(),(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0,subtree:!0})}disconnectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect()}radioButtonChangeHandler(e){this.calciteRadioButtonGroupChange.emit(e.target.value)}render(){return y(ze,{role:"radiogroup"},y("slot",null))}get el(){return this}static get watchers(){return{disabled:["onDisabledChange"],hidden:["onHiddenChange"],layout:["onLayoutChange"],scale:["onScaleChange"]}}static get style(){return dee}},pee="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;background-color:var(--calcite-ui-foreground-1);width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;outline:1px solid var(--calcite-ui-border-input);outline-offset:-1px}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([layout=vertical]){-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:flex-start;-ms-flex-item-align:start;align-self:flex-start}:host([width=full]){width:100%;min-width:-moz-fit-content;min-width:-webkit-fit-content;min-width:fit-content}:host([width=full]) ::slotted(calcite-radio-group-item){-ms-flex:1 1 auto;flex:1 1 auto}:host([width=full][layout=vertical]) ::slotted(calcite-radio-group-item){-ms-flex-pack:start;justify-content:flex-start}::slotted(calcite-radio-group-item[checked]),::slotted(calcite-radio-group-item:focus){z-index:0}::slotted(input[slot=hidden-form-input]){bottom:0 !important;left:0 !important;margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;right:0 !important;top:0 !important;-webkit-transform:none !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",mee=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteRadioGroupChange=W(this,"calciteRadioGroupChange",7),this.appearance="solid",this.disabled=!1,this.required=!1,this.layout="horizontal",this.scale="m",this.value=null,this.width="auto",this.handleClick=e=>{e.target.localName==="calcite-radio-group-item"&&this.selectItem(e.target,!0)}}valueHandler(e){this.getItems().forEach(i=>i.checked=i.value===e)}handleSelectedItemChange(e,t){if(this.value=e==null?void 0:e.value,e===t)return;const i=this.getItems(),n=Array.from(i).filter(r=>r===e).pop();n?this.selectItem(n):i[0]&&(i[0].tabIndex=0)}componentWillLoad(){const e=this.getItems(),t=Array.from(e).filter(i=>i.checked).pop();t?this.selectItem(t):e[0]&&(e[0].tabIndex=0)}connectedCallback(){tr(this),so(this)}disconnectedCallback(){Ar(this),lo(this)}componentDidRender(){it(this)}render(){return y(ze,{onClick:this.handleClick,role:"radiogroup"},y("slot",null),y(co,{component:this}))}handleSelected(e){e.stopPropagation(),e.preventDefault(),this.selectItem(e.target)}handleKeyDown(e){const t=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown"," "],i=e.key,{el:n,selectedItem:r}=this;if(t.indexOf(i)===-1)return;let a=i;Fi(n)==="rtl"&&(i==="ArrowRight"&&(a="ArrowLeft"),i==="ArrowLeft"&&(a="ArrowRight"));const o=this.getItems();let s=-1;switch(o.forEach((l,u)=>{l===r&&(s=u)}),a){case"ArrowLeft":case"ArrowUp":e.preventDefault();const l=s<1?o.item(o.length-1):o.item(s-1);this.selectItem(l,!0);return;case"ArrowRight":case"ArrowDown":e.preventDefault();const u=s===-1?o.item(1):o.item(s+1)||o.item(0);this.selectItem(u,!0);return;case" ":e.preventDefault(),this.selectItem(e.target,!0);return;default:return}}async setFocus(){var e;(e=this.selectedItem||this.getItems()[0])===null||e===void 0||e.focus()}onLabelClick(){this.setFocus()}getItems(){return this.el.querySelectorAll("calcite-radio-group-item")}selectItem(e,t=!1){if(e===this.selectedItem)return;const i=this.getItems();let n=null;i.forEach(r=>{const a=r.value===e.value;(a&&!r.checked||!a&&r.checked)&&(r.checked=a),r.tabIndex=a?0:-1,a&&(n=r,t&&this.calciteRadioGroupChange.emit(n.value))}),this.selectedItem=n,qc.isBrowser&&n&&n.focus()}get el(){return this}static get watchers(){return{value:["valueHandler"],selectedItem:["handleSelectedItemChange"]}}static get style(){return pee}},fee={input:"input"},gee={radioGroupItemIcon:"radio-group-item-icon"},yee="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;cursor:pointer;-ms-flex-item-align:stretch;align-self:stretch;font-weight:var(--calcite-font-weight-normal);-webkit-transition:background-color var(--calcite-internal-animation-timing-fast) ease-in-out, border-color var(--calcite-animation-timing) ease-in-out;transition:background-color var(--calcite-internal-animation-timing-fast) ease-in-out, border-color var(--calcite-animation-timing) ease-in-out}:host label{pointer-events:none;margin:0.125rem;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex:1 1 0%;flex:1 1 0%;-ms-flex-align:center;align-items:center;color:var(--calcite-ui-text-3);-webkit-transition:background-color var(--calcite-internal-animation-timing-fast) ease-in-out, border-color var(--calcite-internal-animation-timing-fast) ease-in-out, color var(--calcite-internal-animation-timing-fast) ease-in-out;transition:background-color var(--calcite-internal-animation-timing-fast) ease-in-out, border-color var(--calcite-internal-animation-timing-fast) ease-in-out, color var(--calcite-internal-animation-timing-fast) ease-in-out}.label--horizontal{-ms-flex-pack:center;justify-content:center}:host{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}:host(:focus){outline:2px solid var(--calcite-ui-brand);outline-offset:-1px}.label--scale-s{padding-left:0.5rem;padding-right:0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem;padding-top:0.125rem;padding-bottom:0.125rem}.label--scale-m{padding-left:0.75rem;padding-right:0.75rem;font-size:var(--calcite-font-size--1);line-height:1rem;padding-top:0.375rem;padding-bottom:0.375rem}.label--scale-l{padding-left:1rem;padding-right:1rem;padding-top:0.625rem;padding-bottom:0.625rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host(:hover) label{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}:host(:active) label{background-color:var(--calcite-ui-foreground-3)}:host([checked]) label{cursor:default;border-color:var(--calcite-ui-brand);background-color:var(--calcite-ui-brand);color:var(--calcite-ui-background)}:host([checked]) .label--outline{border-color:var(--calcite-ui-brand);background-color:var(--calcite-ui-foreground-1);-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-brand);box-shadow:inset 0 0 0 1px var(--calcite-ui-brand);color:var(--calcite-ui-brand)}::slotted(input){display:none}.radio-group-item-icon{position:relative;margin:0px;display:-ms-inline-flexbox;display:inline-flex;line-height:inherit}:host([icon-position=start]) .label--scale-s .radio-group-item-icon{-webkit-margin-end:0.5rem;margin-inline-end:0.5rem}:host([icon-position=end]) .label--scale-s .radio-group-item-icon{-webkit-margin-end:unset;margin-inline-end:unset;-webkit-margin-start:0.5rem;margin-inline-start:0.5rem}:host([icon-position=start]) .label--scale-m .radio-group-item-icon{-webkit-margin-end:0.75rem;margin-inline-end:0.75rem}:host([icon-position=end]) .label--scale-m .radio-group-item-icon{-webkit-margin-end:unset;margin-inline-end:unset;-webkit-margin-start:0.75rem;margin-inline-start:0.75rem}:host([icon-position=start]) .label--scale-l .radio-group-item-icon{-webkit-margin-end:1rem;margin-inline-end:1rem}:host([icon-position=end]) .label--scale-l .radio-group-item-icon{-webkit-margin-end:unset;margin-inline-end:unset;-webkit-margin-start:1rem;margin-inline-start:1rem}",bee=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteRadioGroupItemChange=W(this,"calciteRadioGroupItemChange",7),this.checked=!1,this.iconFlipRtl=!1,this.iconPosition="start"}handleCheckedChange(){this.calciteRadioGroupItemChange.emit()}render(){const{checked:e,value:t}=this,i=Kt(this.el,"scale","m"),n=Kt(this.el,"appearance","solid"),r=Kt(this.el,"layout","horizontal"),a=y("calcite-icon",{class:gee.radioGroupItemIcon,flipRtl:this.iconFlipRtl,icon:this.icon,scale:"s"});return y(ze,{"aria-checked":e.toString(),role:"radio"},y("label",{class:{"label--scale-s":i==="s","label--scale-m":i==="m","label--scale-l":i==="l","label--horizontal":r==="horizontal","label--outline":n==="outline"}},this.icon&&this.iconPosition==="start"?a:null,y("slot",null,t),y("slot",{name:fee.input}),this.icon&&this.iconPosition==="end"?a:null))}get el(){return this}static get watchers(){return{checked:["handleCheckedChange"]}}static get style(){return yee}},pA={rating:"Rating",stars:"Stars: ${num}"},vee="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale=s]){height:1.5rem;--calcite-rating-spacing-unit:0.25rem}:host([scale=m]){height:2rem;--calcite-rating-spacing-unit:0.5rem}:host([scale=l]){height:2.75rem;--calcite-rating-spacing-unit:0.75rem}:host([read-only]){pointer-events:none}.fieldset{margin:0px;display:-ms-flexbox;display:flex;border-width:0px;padding:0px}.wrapper{display:inline-block;-webkit-margin-end:var(--calcite-rating-spacing-unit);margin-inline-end:var(--calcite-rating-spacing-unit)}.star{position:relative;display:-ms-flexbox;display:flex;cursor:pointer;outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;color:var(--calcite-ui-border-input);-webkit-transition:var(--calcite-animation-timing);transition:var(--calcite-animation-timing);-webkit-transform:scale(1);transform:scale(1)}.star:active{-webkit-transform:scale(1.1);transform:scale(1.1)}.focused{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.average,.fraction{color:var(--calcite-ui-warning)}.hovered,.selected,:host([read-only]) .average,:host([read-only]) .fraction{color:var(--calcite-ui-brand)}.hovered:not(.selected){-webkit-transform:scale(0.9);transform:scale(0.9)}:host .fraction{pointer-events:none;position:absolute;top:0px;overflow:hidden;-webkit-transition:var(--calcite-animation-timing);transition:var(--calcite-animation-timing);inset-inline-start:0}calcite-chip{pointer-events:none;cursor:default}.number--average{font-weight:var(--calcite-font-weight-bold)}.number--count{color:var(--calcite-ui-text-2);font-style:italic}.number--count:not(:first-child){-webkit-margin-start:var(--calcite-rating-spacing-unit);margin-inline-start:var(--calcite-rating-spacing-unit)}.visually-hidden{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}::slotted(input[slot=hidden-form-input]){bottom:0 !important;left:0 !important;margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;right:0 !important;top:0 !important;-webkit-transform:none !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",wee=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteRatingChange=W(this,"calciteRatingChange",7),this.scale="m",this.value=0,this.readOnly=!1,this.disabled=!1,this.showChip=!1,this.intlRating=pA.rating,this.intlStars=pA.stars,this.required=!1,this.guid=`calcite-ratings-${li()}`}connectedCallback(){tr(this),so(this)}disconnectedCallback(){Ar(this),lo(this)}componentDidRender(){it(this)}blurHandler(){this.hasFocus=!1}renderStars(){return[1,2,3,4,5].map(e=>{const t=this.value>=e,i=this.average&&!this.value&&e<=this.average,n=e<=this.hoverValue,r=this.average&&this.average+1-e,a=!this.value&&!n&&r>0&&r<1,o=this.hasFocus&&this.focusValue===e;return y("span",{class:{wrapper:!0}},y("label",{class:{star:!0,focused:o,selected:t,average:i,hovered:n,partial:a},htmlFor:`${this.guid}-${e}`,onMouseOver:()=>{this.hoverValue=e}},y("calcite-icon",{"aria-hidden":"true",class:"icon",icon:t||i||this.readOnly?"star-f":"star",scale:this.scale}),a&&y("div",{class:"fraction",style:{width:`${r*100}%`}},y("calcite-icon",{icon:"star-f",scale:this.scale})),y("span",{class:"visually-hidden"},this.intlStars.replace("${num}",`${e}`))),y("input",{checked:e===this.value,class:"visually-hidden",disabled:this.disabled||this.readOnly,id:`${this.guid}-${e}`,name:this.guid,onChange:()=>this.updateValue(e),onClick:s=>s.stopPropagation(),onFocus:()=>{this.hasFocus=!0,this.focusValue=e},ref:s=>(e===1||e===this.value)&&(this.inputFocusRef=s),type:"radio",value:e}))})}render(){const{disabled:e,intlRating:t,showChip:i,scale:n,count:r,average:a}=this;return y(mn,null,y("fieldset",{class:"fieldset",disabled:e,onBlur:()=>this.hoverValue=null,onMouseLeave:()=>this.hoverValue=null,onTouchEnd:()=>this.hoverValue=null},y("legend",{class:"visually-hidden"},t),this.renderStars()),(r||a)&&i?y("calcite-chip",{scale:n,value:r==null?void 0:r.toString()},!!a&&y("span",{class:"number--average"},a.toString()),!!r&&y("span",{class:"number--count"},"(",r==null?void 0:r.toString(),")")):null,y(co,{component:this}))}onLabelClick(){this.setFocus()}updateValue(e){this.value=e,this.calciteRatingChange.emit({value:e})}async setFocus(){this.inputFocusRef.focus()}get el(){return this}static get style(){return vee}},mA={scrim:"scrim",content:"content"},xee={loading:"Loading"},kee="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:absolute;top:0px;right:0px;bottom:0px;left:0px;z-index:50;display:-ms-flexbox;display:flex;height:100%;width:100%;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:stretch;align-items:stretch}@-webkit-keyframes calcite-scrim-fade-in{0%{--tw-bg-opacity:0}100%{--tw-text-opacity:1}}@keyframes calcite-scrim-fade-in{0%{--tw-bg-opacity:0}100%{--tw-text-opacity:1}}.scrim{position:absolute;top:0px;right:0px;bottom:0px;left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-line-pack:center;align-content:center;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;overflow:hidden;-webkit-animation:calcite-scrim-fade-in var(--calcite-internal-animation-timing-medium) ease-in-out;animation:calcite-scrim-fade-in var(--calcite-internal-animation-timing-medium) ease-in-out;background-color:var(--calcite-scrim-background)}.content{padding:1rem}",_ee=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.intlLoading=xee.loading,this.loading=!1}render(){const{el:e,loading:t,intlLoading:i}=this,n=e.innerHTML.trim().length>0,r=t?y("calcite-loader",{active:!0,label:i}):null,a=n?y("div",{class:mA.content},y("slot",null)):null;return y("div",{class:mA.scrim},r,a)}get el(){return this}static get style(){return kee}},F_={icon:"icon",iconContainer:"icon-container",select:"select"},See="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:host{--calcite-icon-size:1rem;--calcite-spacing-eighth:0.125rem;--calcite-spacing-quarter:0.25rem;--calcite-spacing-half:0.5rem;--calcite-spacing-three-quarters:0.75rem;--calcite-spacing:1rem;--calcite-spacing-plus-quarter:1.25rem;--calcite-spacing-plus-half:1.5rem;--calcite-spacing-double:2rem;--calcite-menu-min-width:10rem;--calcite-header-min-height:3rem;--calcite-footer-min-height:3rem}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:-ms-flexbox;display:flex;-ms-flex-align:stretch;align-items:stretch;width:var(--select-width)}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale=s]){height:1.5rem;--calcite-select-font-size:var(--calcite-font-size--2);--calcite-select-spacing-inline:0.5rem 2rem}:host([scale=s]) .icon-container{padding-left:0.5rem;padding-right:0.5rem}:host([scale=m]){height:2rem;--calcite-select-font-size:var(--calcite-font-size--1);--calcite-select-spacing-inline:0.75rem 2.5rem}:host([scale=m]) .icon-container{padding-left:0.75rem;padding-right:0.75rem}:host([scale=l]){height:44px;--calcite-select-font-size:var(--calcite-font-size-0);--calcite-select-spacing-inline:1rem 3rem}:host([scale=l]) .icon-container{padding-left:1rem;padding-right:1rem}:host([width=auto]){width:auto}:host([width=half]){width:50%}:host([width=full]){width:100%}.select{margin:0px;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-radius:0px;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-foreground-1);font-family:inherit;color:var(--calcite-ui-text-2);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;font-size:var(--calcite-select-font-size);padding-inline:var(--calcite-select-spacing-inline);border-inline-end-width:0px}.select:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.select:hover{background-color:var(--calcite-ui-foreground-2)}select:disabled{border-color:var(--calcite-ui-border-input);--tw-bg-opacity:1}.icon-container{pointer-events:none;position:absolute;top:0px;bottom:0px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;border-width:0px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:transparent;color:var(--calcite-ui-text-2);inset-inline-end:0px;border-inline-width:0px 1px}.select:focus~.icon-container{border-color:transparent}::slotted(input[slot=hidden-form-input]){bottom:0 !important;left:0 !important;margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;right:0 !important;top:0 !important;-webkit-transform:none !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}";function Cb(e){return e.tagName==="CALCITE-OPTION"}function Dee(e){return e.tagName==="CALCITE-OPTION-GROUP"}const $ee=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteSelectChange=W(this,"calciteSelectChange",7),this.disabled=!1,this.required=!1,this.scale="m",this.value=null,this.width="auto",this.componentToNativeEl=new Map,this.mutationObserver=Vt("mutation",()=>this.populateInternalSelect()),this.handleInternalSelectChange=()=>{const e=this.selectEl.selectedOptions[0];this.selectFromNativeOption(e),requestAnimationFrame(()=>this.emitChangeEvent())},this.populateInternalSelect=()=>{const e=Array.from(this.el.children).filter(t=>t.tagName==="CALCITE-OPTION"||t.tagName==="CALCITE-OPTION-GROUP");this.clearInternalSelect(),e.forEach(t=>{var i;return(i=this.selectEl)===null||i===void 0?void 0:i.append(this.toNativeElement(t))})},this.storeSelectRef=e=>{this.selectEl=e,this.populateInternalSelect();const t=this.selectEl.selectedOptions[0];this.selectFromNativeOption(t)},this.emitChangeEvent=()=>{this.calciteSelectChange.emit()}}valueHandler(e){this.el.querySelectorAll("calcite-option").forEach(i=>i.selected=i.value===e)}selectedOptionHandler(e){this.value=e==null?void 0:e.value}connectedCallback(){var e;const{el:t}=this;(e=this.mutationObserver)===null||e===void 0||e.observe(t,{subtree:!0,childList:!0}),tr(this),so(this)}disconnectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect(),Ar(this),lo(this)}componentDidLoad(){var e,t;IC(this,(t=(e=this.selectedOption)===null||e===void 0?void 0:e.value)!==null&&t!==void 0?t:"")}componentDidRender(){it(this)}async setFocus(){ai(this.selectEl)}handleOptionOrGroupChange(e){e.stopPropagation();const t=e.target,i=this.componentToNativeEl.get(t);!i||(this.updateNativeElement(t,i),Cb(t)&&t.selected&&(this.deselectAllExcept(t),this.selectedOption=t))}onLabelClick(){this.setFocus()}updateNativeElement(e,t){if(t.disabled=e.disabled,t.label=e.label,Cb(e)){const i=t;i.selected=e.selected,i.value=e.value,i.innerText=e.label}}clearInternalSelect(){this.componentToNativeEl.forEach(e=>e.remove()),this.componentToNativeEl.clear()}selectFromNativeOption(e){if(!e)return;let t;this.componentToNativeEl.forEach((i,n)=>{Cb(n)&&i===e&&(n.selected=!0,t=n,this.deselectAllExcept(n))}),t&&(this.selectedOption=t)}toNativeElement(e){if(Cb(e)){const t=document.createElement("option");return this.updateNativeElement(e,t),this.componentToNativeEl.set(e,t),t}if(Dee(e)){const t=document.createElement("optgroup");return this.updateNativeElement(e,t),Array.from(e.children).forEach(i=>{const n=this.toNativeElement(i);t.append(n),this.componentToNativeEl.set(e,n)}),this.componentToNativeEl.set(e,t),t}throw new Error("unsupported element child provided")}deselectAllExcept(e){this.el.querySelectorAll("calcite-option").forEach(t=>{t!==e&&(t.selected=!1)})}renderChevron(){return y("div",{class:F_.iconContainer},y("calcite-icon",{class:F_.icon,icon:"chevron-down",scale:"s"}))}render(){return y(mn,null,y("select",{"aria-label":this.label,class:F_.select,disabled:this.disabled,onChange:this.handleInternalSelectChange,ref:this.storeSelectRef},y("slot",null)),this.renderChevron(),y(co,{component:this}))}get el(){return this}static get watchers(){return{value:["valueHandler"],selectedOption:["selectedOptionHandler"]}}static get style(){return See}},fh={main:"main",mainReversed:"main--reversed",content:"content",contentBehind:"content--behind",footer:"footer"},wl={centerRow:"center-row",primaryPanel:"primary-panel",contextualPanel:"contextual-panel",header:"header",footer:"footer"},Cee="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:host{-webkit-box-sizing:border-box;box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:absolute;top:0px;right:0px;bottom:0px;left:0px;display:-ms-flexbox;display:flex;height:100%;width:100%;-ms-flex-direction:column;flex-direction:column;overflow:hidden;--calcite-shell-tip-spacing:26vw}.main{position:relative;display:-ms-flexbox;display:flex;height:100%;width:100%;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;overflow:hidden}.main--reversed{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.content{display:-ms-flexbox;display:flex;height:100%;width:100%;-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap;overflow:auto}.content ::slotted(calcite-shell-center-row),.content ::slotted(calcite-panel),.content ::slotted(calcite-flow){-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-item-align:stretch;align-self:stretch;max-height:unset}.content--behind{position:absolute;top:0px;right:0px;bottom:0px;left:0px;z-index:0;border-width:0px;display:initial}::slotted(calcite-shell-center-row){width:unset}::slotted(.header .heading){font-size:var(--calcite-font-size--2);line-height:1.375;font-weight:var(--calcite-font-weight-normal)}::slotted(calcite-shell-panel),::slotted(calcite-shell-center-row){position:relative;z-index:1}::slotted(calcite-panel),::slotted(calcite-flow){border-width:1px;border-left-width:0px;border-right-width:0px;border-style:solid;border-color:var(--calcite-ui-border-3)}slot[name=center-row]::slotted(calcite-shell-center-row:not([detached])){border-left-width:1px;border-right-width:1px;border-color:var(--calcite-ui-border-3)}::slotted(calcite-tip-manager){position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}::slotted(calcite-tip-manager){-webkit-animation:in-up var(--calcite-internal-animation-timing-slow) ease-in-out;animation:in-up var(--calcite-internal-animation-timing-slow) ease-in-out;border-radius:0.25rem;--tw-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);bottom:0.5rem;left:var(--calcite-shell-tip-spacing);right:var(--calcite-shell-tip-spacing);z-index:2}",Iee=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.contentBehind=!1}connectedCallback(){gi(this)}disconnectedCallback(){yi(this)}renderHeader(){return!!$e(this.el,wl.header)?y("slot",{key:"header",name:wl.header}):null}renderContent(){const e=y("slot",{key:"default-slot"}),t=y("slot",{key:"center-row-slot",name:wl.centerRow}),i="content-container";return this.contentBehind?[y("div",{class:{[fh.content]:!0,[fh.contentBehind]:!0},key:i},e),t]:[y("div",{class:fh.content,key:i},e,t)]}renderFooter(){return!!$e(this.el,wl.footer)?y("div",{class:fh.footer,key:"footer"},y("slot",{name:wl.footer})):null}renderMain(){const e=$e(this.el,wl.primaryPanel),t={[fh.main]:!0,[fh.mainReversed]:(e==null?void 0:e.position)==="end"};return y("div",{class:t},y("slot",{name:wl.primaryPanel}),this.renderContent(),y("slot",{name:wl.contextualPanel}))}render(){return y(mn,null,this.renderHeader(),this.renderMain(),this.renderFooter())}get el(){return this}static get style(){return Cee}},fA={actionBarContainer:"action-bar-container",content:"content"},gA={actionBar:"action-bar"},Eee="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:host{-webkit-box-sizing:border-box;box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;background-color:transparent;overflow:hidden}.content{margin:0px;display:-ms-flexbox;display:flex;height:100%;width:100%;overflow:hidden;-ms-flex:1 0 0px;flex:1 0 0}.action-bar-container{display:-ms-flexbox;display:flex}:host([detached]){margin-left:0.5rem;margin-right:0.5rem;margin-top:0.5rem;margin-bottom:1.5rem}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}:host([detached]){-webkit-animation:in-up var(--calcite-internal-animation-timing-slow) ease-in-out;animation:in-up var(--calcite-internal-animation-timing-slow) ease-in-out;border-radius:0.25rem;border-width:0px;--tw-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([position=end]){-ms-flex-item-align:end;align-self:flex-end}:host([position=start]){-ms-flex-item-align:start;align-self:flex-start}:host([height-scale=s]){height:33.333333%}:host([height-scale=m]){height:70%}:host([height-scale=l]){height:100%}:host([height-scale=l][detached]){height:calc(100% - 2rem)}::slotted(calcite-panel){height:100%;width:100%}::slotted(calcite-action-bar),::slotted(calcite-action-bar[position=end]){-webkit-border-end:1px solid;border-inline-end:1px solid;border-color:var(--calcite-ui-border-3)}",Tee=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.detached=!1,this.heightScale="s",this.position="end"}connectedCallback(){gi(this)}disconnectedCallback(){yi(this)}render(){const{el:e}=this,t=y("div",{class:fA.content},y("slot",null)),i=$e(e,gA.actionBar),r=[i?y("div",{class:fA.actionBarContainer,key:"action-bar"},y("slot",{name:gA.actionBar})):null,t];return(i==null?void 0:i.position)==="end"&&r.reverse(),y(mn,null,r)}get el(){return this}static get style(){return Eee}},gh={container:"container",content:"content",contentHeader:"content__header",contentBody:"content__body",contentDetached:"content--detached",separator:"separator"},N_={actionBar:"action-bar",header:"header"},Mee={resize:"Resize"},Aee="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{pointer-events:none;display:-ms-flexbox;display:flex;-ms-flex:0 1 auto;flex:0 1 auto;-ms-flex-align:stretch;align-items:stretch;--calcite-shell-panel-detached-max-height:unset}.container{pointer-events:none;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-align:stretch;align-items:stretch;background-color:transparent;font-size:var(--calcite-font-size--1);color:var(--calcite-ui-text-2)}.container *{-webkit-box-sizing:border-box;box-sizing:border-box}:host(:hover) .separator:not(:hover):not(:focus),:host(:focus-within) .separator:not(:hover):not(:focus){opacity:1;background-color:var(--calcite-ui-border-3)}.separator{pointer-events:auto;position:absolute;bottom:0px;top:0px;z-index:10;display:-ms-flexbox;display:flex;height:100%;width:0.125rem;background-color:transparent;opacity:0;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;cursor:col-resize;outline:none}.separator:hover{opacity:1;background-color:var(--calcite-ui-border-2)}.separator:focus{background-color:var(--calcite-ui-brand);opacity:1}:host([position=start]) .separator{inset-inline-end:-2px}:host([position=end]) .separator{inset-inline-start:-2px}::slotted(calcite-panel),::slotted(calcite-flow){height:100%;width:100%;-ms-flex:1 1 auto;flex:1 1 auto;max-height:unset;max-width:unset}::slotted(.calcite-match-height){display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;overflow:hidden}.content{pointer-events:auto;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-align:stretch;align-items:stretch;-ms-flex-item-align:stretch;align-self:stretch;background-color:var(--calcite-ui-background);padding:0px;width:var(--calcite-shell-panel-width);max-width:var(--calcite-shell-panel-max-width);min-width:var(--calcite-shell-panel-min-width);-webkit-transition:max-height var(--calcite-animation-timing), max-width var(--calcite-animation-timing);transition:max-height var(--calcite-animation-timing), max-width var(--calcite-animation-timing)}.content__header{display:-ms-flexbox;display:flex;-ms-flex:0 1 auto;flex:0 1 auto;-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-align:stretch;align-items:stretch}.content__body{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-direction:column;flex-direction:column;overflow:hidden}:host([width-scale=s]) .content{--calcite-shell-panel-width:calc(var(--calcite-panel-width-multiplier) * 12vw);--calcite-shell-panel-max-width:calc(var(--calcite-panel-width-multiplier) * 300px);--calcite-shell-panel-min-width:calc(var(--calcite-panel-width-multiplier) * 150px)}:host([width-scale=m]) .content{--calcite-shell-panel-width:calc(var(--calcite-panel-width-multiplier) * 20vw);--calcite-shell-panel-max-width:calc(var(--calcite-panel-width-multiplier) * 420px);--calcite-shell-panel-min-width:calc(var(--calcite-panel-width-multiplier) * 240px)}:host([width-scale=l]) .content{--calcite-shell-panel-width:calc(var(--calcite-panel-width-multiplier) * 45vw);--calcite-shell-panel-max-width:calc(var(--calcite-panel-width-multiplier) * 680px);--calcite-shell-panel-min-width:calc(var(--calcite-panel-width-multiplier) * 340px)}:host([detached-height-scale=s]) .content--detached{--calcite-shell-panel-detached-max-height:40vh}:host([detached-height-scale=m]) .content--detached{--calcite-shell-panel-detached-max-height:60vh}:host([detached-height-scale=l]) .content--detached{--calcite-shell-panel-detached-max-height:80vh}.content--detached{margin-left:0.5rem;margin-right:0.5rem;margin-top:0.5rem;margin-bottom:auto;height:auto;border-radius:0.25rem;--tw-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);overflow:hidden;max-height:var(--calcite-shell-panel-detached-max-height)}.content--detached ::slotted(calcite-panel),.content--detached ::slotted(calcite-flow){max-height:unset}:host([position=start]) .content--detached ::slotted(calcite-panel),:host([position=start]) .content--detached ::slotted(calcite-flow),:host([position=end]) .content--detached ::slotted(calcite-panel),:host([position=end]) .content--detached ::slotted(calcite-flow){border-style:none}.content[hidden]{display:none}slot[name=action-bar]::slotted(calcite-action-bar),.content ::slotted(calcite-flow),.content ::slotted(calcite-panel){border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3)}:host([position=start]) slot[name=action-bar]::slotted(calcite-action-bar),:host([position=start]) .content ::slotted(calcite-flow),:host([position=start]) .content ::slotted(calcite-panel){-webkit-border-start:none;border-inline-start:none}:host([position=end]) slot[name=action-bar]::slotted(calcite-action-bar),:host([position=end]) .content ::slotted(calcite-flow),:host([position=end]) .content ::slotted(calcite-panel){-webkit-border-end:none;border-inline-end:none}",Oee=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteShellPanelToggle=W(this,"calciteShellPanelToggle",7),this.collapsed=!1,this.detached=!1,this.detachedHeightScale="l",this.widthScale="m",this.intlResize=Mee.resize,this.resizable=!1,this.contentWidth=null,this.initialContentWidth=null,this.initialClientX=null,this.contentWidthMax=null,this.contentWidthMin=null,this.step=1,this.stepMultiplier=10,this.storeContentEl=e=>{this.contentEl=e},this.getKeyAdjustedWidth=e=>{const{key:t}=e,{el:i,step:n,stepMultiplier:r,contentWidthMin:a,contentWidthMax:o,initialContentWidth:s,position:l}=this,u=n*r;["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Home","End","PageUp","PageDown"].indexOf(t)>-1&&e.preventDefault();const m=Fi(i),f=["ArrowLeft","ArrowRight"],g=m==="rtl"&&f.includes(t)?-1:1;if(t==="ArrowUp"||(l==="end"?t===f[0]:t===f[1])){const w=e.shiftKey?u:n;return s+g*w}if(t==="ArrowDown"||(l==="end"?t===f[1]:t===f[0])){const w=e.shiftKey?u:n;return s-g*w}return typeof a=="number"&&t==="Home"?a:typeof o=="number"&&t==="End"?o:t==="PageDown"?s-u:t==="PageUp"?s+u:null},this.separatorKeyDown=e=>{this.setInitialContentWidth();const t=this.getKeyAdjustedWidth(e);typeof t=="number"&&this.setContentWidth(t)},this.separatorPointerMove=e=>{e.preventDefault();const{el:t,initialContentWidth:i,position:n,initialClientX:r}=this,a=e.clientX-r,s=Fi(t)==="rtl"?-1:1,l=n==="end"?-s*a:s*a,u=i+l;this.setContentWidth(u)},this.separatorPointerUp=e=>{e.preventDefault(),document.removeEventListener("pointerup",this.separatorPointerUp),document.removeEventListener("pointermove",this.separatorPointerMove)},this.setInitialContentWidth=()=>{var e;this.initialContentWidth=(e=this.contentEl)===null||e===void 0?void 0:e.getBoundingClientRect().width},this.separatorPointerDown=e=>{e.preventDefault();const{separatorEl:t}=this;t&&document.activeElement!==t&&t.focus(),this.setInitialContentWidth(),this.initialClientX=e.clientX,document.addEventListener("pointerup",this.separatorPointerUp),document.addEventListener("pointermove",this.separatorPointerMove)},this.connectSeparator=e=>{this.disconnectSeparator(),this.separatorEl=e,e.addEventListener("pointerdown",this.separatorPointerDown)},this.disconnectSeparator=()=>{var e;(e=this.separatorEl)===null||e===void 0||e.removeEventListener("pointerdown",this.separatorPointerDown)}}watchHandler(){this.calciteShellPanelToggle.emit()}connectedCallback(){gi(this)}disconnectedCallback(){yi(this),this.disconnectSeparator()}componentDidLoad(){this.updateAriaValues()}renderHeader(){const{el:e}=this;return $e(e,N_.header)?y("div",{class:gh.contentHeader,key:"header"},y("slot",{name:N_.header})):null}render(){const{collapsed:e,detached:t,position:i,initialContentWidth:n,contentWidth:r,contentWidthMax:a,contentWidthMin:o,intlResize:s,resizable:l}=this,u=!t&&l,h=y("div",{class:{[gh.content]:!0,[gh.contentDetached]:t},hidden:e,key:"content",ref:this.storeContentEl,style:u&&r?{width:`${r}px`}:null},this.renderHeader(),y("div",{class:gh.contentBody},y("slot",null))),m=u?y("div",{"aria-label":s,"aria-orientation":"horizontal","aria-valuemax":a,"aria-valuemin":o,"aria-valuenow":r!=null?r:n,class:gh.separator,key:"separator",onKeyDown:this.separatorKeyDown,ref:this.connectSeparator,role:"separator",tabIndex:0,"touch-action":"none"}):null,g=[y("slot",{key:"action-bar",name:N_.actionBar}),h,m];return i==="end"&&g.reverse(),y("div",{class:{[gh.container]:!0}},g)}setContentWidth(e){const{contentWidthMax:t,contentWidthMin:i}=this,n=Math.round(e);this.contentWidth=typeof t=="number"&&typeof i=="number"?TC(n,i,t):n}updateAriaValues(){const{contentEl:e}=this,t=e&&getComputedStyle(e);if(!t)return;const i=parseInt(t.getPropertyValue("max-width"),10),n=parseInt(t.getPropertyValue("min-width"),10),r=parseInt(t.getPropertyValue("width"),10);typeof r=="number"&&!isNaN(r)&&(this.initialContentWidth=r),typeof i=="number"&&!isNaN(i)&&(this.contentWidthMax=i),typeof n=="number"&&!isNaN(n)&&(this.contentWidthMin=n),Em(this)}get el(){return this}static get watchers(){return{collapsed:["watchHandler"]}}static get style(){return Aee}},Pee=`@charset "UTF-8";@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}.scale--s{--calcite-slider-handle-size:10px;--calcite-slider-handle-extension-height:6.5px;--calcite-slider-container-font-size:var(--calcite-font-size--3)}.scale--s .handle__label,.scale--s .tick__label{line-height:.75rem}.scale--m{--calcite-slider-handle-size:14px;--calcite-slider-handle-extension-height:8px;--calcite-slider-container-font-size:var(--calcite-font-size--2)}.scale--m .handle__label,.scale--m .tick__label{line-height:1rem}.scale--l{--calcite-slider-handle-size:16px;--calcite-slider-handle-extension-height:10.5px;--calcite-slider-container-font-size:var(--calcite-font-size--1)}.scale--l .handle__label,.scale--l .tick__label{line-height:1rem}.handle__label,.tick__label{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-2);font-size:var(--calcite-slider-container-font-size)}:host{display:block}.container{position:relative;display:block;padding:calc(var(--calcite-slider-handle-size) * 0.5);margin:calc(var(--calcite-slider-handle-size) * 0.5) 0;--calcite-slider-full-handle-height:calc(
    var(--calcite-slider-handle-size) + var(--calcite-slider-handle-extension-height)
  )}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) .track__range,:host([disabled]) .tick--active{background-color:var(--calcite-ui-text-3)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.scale--s .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-6px}.scale--m .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-8px}.scale--l .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-9px}:host([precise]:not([has-histogram])) .container .thumb--value{--calcite-slider-thumb-y-offset:calc(var(--calcite-slider-full-handle-height) * -1)}.thumb-container{position:relative;max-width:100%}.thumb{--calcite-slider-thumb-x-offset:calc(var(--calcite-slider-handle-size) * 0.5);position:absolute;margin:0px;display:-ms-flexbox;display:flex;cursor:pointer;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;border-style:none;background-color:transparent;padding:0px;font-family:inherit;outline:2px solid transparent;outline-offset:2px;-webkit-transform:translate(var(--calcite-slider-thumb-x-offset), var(--calcite-slider-thumb-y-offset));transform:translate(var(--calcite-slider-thumb-x-offset), var(--calcite-slider-thumb-y-offset))}.thumb .handle__label.static,.thumb .handle__label.transformed{position:absolute;top:0px;bottom:0px;opacity:0}.thumb .handle__label.hyphen::after{content:"\u2014";display:inline-block;width:1em}.thumb .handle__label.hyphen--wrap{display:-ms-flexbox;display:flex}.thumb .handle{-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:9999px;background-color:var(--calcite-ui-foreground-1);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;height:var(--calcite-slider-handle-size);width:var(--calcite-slider-handle-size);-webkit-box-shadow:0 0 0 2px var(--calcite-ui-text-3) inset;box-shadow:0 0 0 2px var(--calcite-ui-text-3) inset;-webkit-transition:border var(--calcite-internal-animation-timing-medium) ease, background-color var(--calcite-internal-animation-timing-medium) ease, -webkit-box-shadow var(--calcite-animation-timing) ease;transition:border var(--calcite-internal-animation-timing-medium) ease, background-color var(--calcite-internal-animation-timing-medium) ease, -webkit-box-shadow var(--calcite-animation-timing) ease;transition:border var(--calcite-internal-animation-timing-medium) ease, background-color var(--calcite-internal-animation-timing-medium) ease, box-shadow var(--calcite-animation-timing) ease;transition:border var(--calcite-internal-animation-timing-medium) ease, background-color var(--calcite-internal-animation-timing-medium) ease, box-shadow var(--calcite-animation-timing) ease, -webkit-box-shadow var(--calcite-animation-timing) ease}.thumb .handle-extension{width:0.125rem;height:var(--calcite-slider-handle-extension-height);background-color:var(--calcite-ui-text-3)}.thumb:hover .handle{-webkit-box-shadow:0 0 0 3px var(--calcite-ui-brand) inset;box-shadow:0 0 0 3px var(--calcite-ui-brand) inset}.thumb:hover .handle-extension{background-color:var(--calcite-ui-brand)}.thumb:focus .handle{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.thumb:focus .handle-extension{background-color:var(--calcite-ui-brand)}.thumb.thumb--minValue{-webkit-transform:translate(calc(var(--calcite-slider-thumb-x-offset) * -1), var(--calcite-slider-thumb-y-offset));transform:translate(calc(var(--calcite-slider-thumb-x-offset) * -1), var(--calcite-slider-thumb-y-offset))}.thumb.thumb--precise{--calcite-slider-thumb-y-offset:-2px}:host([label-handles]) .thumb{--calcite-slider-thumb-x-offset:50%}:host([label-handles]):host(:not([has-histogram])) .scale--s .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-23px}:host([label-handles]):host(:not([has-histogram])) .scale--m .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-30px}:host([label-handles]):host(:not([has-histogram])) .scale--l .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-32px}:host([has-histogram][label-handles]) .handle__label,:host([label-handles]:not([has-histogram])) .thumb--minValue.thumb--precise .handle__label{margin-top:0.5em}:host(:not([has-histogram]):not([precise])) .handle__label,:host([label-handles]:not([has-histogram])) .thumb--value .handle__label{margin-bottom:0.5em}:host([label-handles][precise]):host(:not([has-histogram])) .scale--s .thumb--value{--calcite-slider-thumb-y-offset:-33px}:host([label-handles][precise]):host(:not([has-histogram])) .scale--m .thumb--value{--calcite-slider-thumb-y-offset:-44px}:host([label-handles][precise]):host(:not([has-histogram])) .scale--l .thumb--value{--calcite-slider-thumb-y-offset:-49px}.thumb:focus .handle,.thumb--active .handle{background-color:var(--calcite-ui-brand);-webkit-box-shadow:0 0 8px 0 rgba(0, 0, 0, 0.16);box-shadow:0 0 8px 0 rgba(0, 0, 0, 0.16)}.thumb:hover.thumb--precise:after,.thumb:focus.thumb--precise:after,.thumb--active.thumb--precise:after{background-color:var(--calcite-ui-brand)}.track{position:relative;height:0.125rem;border-radius:0px;background-color:var(--calcite-ui-border-2);-webkit-transition:all var(--calcite-internal-animation-timing-medium) ease-in;transition:all var(--calcite-internal-animation-timing-medium) ease-in}.track__range{position:absolute;top:0px;height:0.125rem;background-color:var(--calcite-ui-brand)}.container--range .track__range:hover{cursor:ew-resize}.container--range .track__range:after{position:absolute;width:100%;content:"";top:calc(var(--calcite-slider-full-handle-height) * 0.5 * -1);height:calc(var(--calcite-slider-handle-size) + var(--calcite-slider-handle-extension-height))}.tick{position:absolute;height:0.25rem;width:0.125rem;border-width:1px;border-style:solid;background-color:var(--calcite-ui-border-input);border-color:var(--calcite-ui-foreground-1);top:-2px;pointer-events:none;-webkit-margin-start:calc(-1 * 0.125rem);margin-inline-start:calc(-1 * 0.125rem)}.tick--active{background-color:var(--calcite-ui-brand)}.tick__label{pointer-events:none;margin-top:0.875rem;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}.tick__label--min{-webkit-transition:opacity var(--calcite-animation-timing);transition:opacity var(--calcite-animation-timing)}.tick__label--max{-webkit-transition:opacity var(--calcite-internal-animation-timing-fast);transition:opacity var(--calcite-internal-animation-timing-fast)}:host([has-histogram][label-handles]) .tick__label--min,:host([has-histogram][label-handles]) .tick__label--max,:host([has-histogram][precise]) .tick__label--min,:host([has-histogram][precise]) .tick__label--max{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-3)}.graph{color:var(--calcite-ui-foreground-3);height:48px}:host([label-ticks][ticks]) .container{padding-bottom:calc(0.875rem + var(--calcite-slider-container-font-size))}:host([has-histogram]):host([precise][label-handles]) .container{padding-bottom:calc(var(--calcite-slider-full-handle-height) + 1em)}:host([has-histogram]):host([label-handles]:not([precise])) .container{padding-bottom:calc(var(--calcite-slider-handle-size) * 0.5 + 1em)}:host([has-histogram]):host([precise]:not([label-handles])) .container{padding-bottom:var(--calcite-slider-full-handle-height)}:host(:not([has-histogram])):host([precise]:not([label-handles])) .container{padding-top:var(--calcite-slider-full-handle-height)}:host(:not([has-histogram])):host([precise]:not([label-handles])) .container--range{padding-bottom:var(--calcite-slider-full-handle-height)}:host(:not([has-histogram])):host([label-handles]:not([precise])) .container{padding-top:calc(var(--calcite-slider-full-handle-height) + 4px)}:host(:not([has-histogram])):host([label-handles][precise]) .container{padding-top:calc(var(--calcite-slider-full-handle-height) + var(--calcite-slider-container-font-size) + 4px)}:host(:not([has-histogram])):host([label-handles][precise]) .container--range{padding-bottom:calc(var(--calcite-slider-full-handle-height) + var(--calcite-slider-container-font-size) + 4px)}::slotted(input[slot=hidden-form-input]){bottom:0 !important;left:0 !important;margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;right:0 !important;top:0 !important;-webkit-transform:none !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}`,Lee=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteSliderInput=W(this,"calciteSliderInput",7),this.calciteSliderChange=W(this,"calciteSliderChange",7),this.calciteSliderUpdate=W(this,"calciteSliderUpdate",7),this.disabled=!1,this.hasHistogram=!1,this.labelHandles=!1,this.labelTicks=!1,this.max=100,this.min=0,this.mirrored=!1,this.precise=!1,this.required=!1,this.snap=!1,this.step=1,this.value=null,this.scale="m",this.guid=`calcite-slider-${li()}`,this.isRange=!1,this.activeProp="value",this.minMaxValueRange=null,this.minValueDragRange=null,this.maxValueDragRange=null,this.tickValues=[],this.dragUpdate=e=>{if(e.preventDefault(),this.dragProp){const t=this.translate(e.clientX||e.pageX);if(this.isRange&&this.dragProp==="minMaxValue")if(this.minValueDragRange&&this.maxValueDragRange&&this.minMaxValueRange){const i=t-this.minValueDragRange,n=t+this.maxValueDragRange;n<=this.max&&i>=this.min&&n-i===this.minMaxValueRange&&(this.minValue=this.clamp(i,"minValue"),this.maxValue=this.clamp(n,"maxValue"))}else this.minValueDragRange=t-this.minValue,this.maxValueDragRange=this.maxValue-t,this.minMaxValueRange=this.maxValue-this.minValue;else this.setValue(this.dragProp,this.clamp(t,this.dragProp))}},this.dragEnd=e=>{this.removeDragListeners(),this.focusActiveHandle(e.clientX),this.lastDragPropValue!=this[this.dragProp]&&this.emitChange(),this.dragProp=null,this.lastDragPropValue=null,this.minValueDragRange=null,this.maxValueDragRange=null,this.minMaxValueRange=null},this.storeTrackRef=e=>{this.trackEl=e}}histogramWatcher(e){this.hasHistogram=!!e}connectedCallback(){tr(this),so(this)}disconnectedCallback(){Ar(this),lo(this),this.removeDragListeners()}componentWillLoad(){this.isRange=!!(this.maxValue||this.maxValue===0),this.tickValues=this.generateTickValues(),this.value=this.clamp(this.value),IC(this,this.value),this.snap&&(this.value=this.getClosestStep(this.value)),this.histogram&&(this.hasHistogram=!0)}componentDidRender(){this.labelHandles&&(this.adjustHostObscuredHandleLabel("value"),this.isRange&&(this.adjustHostObscuredHandleLabel("minValue"),this.precise&&this.isRange&&!this.hasHistogram||this.hyphenateCollidingRangeHandleLabels())),this.hideObscuredBoundingTickLabels(),it(this)}render(){const e=this.el.id||this.guid,t=this.minValue||this.min,i=this.maxValue||this.value,n=this.isRange?"maxValue":"value",r=this[n],a=this.shouldUseMinValue(),o=this.getUnitInterval(a?this.minValue:t)*100,s=this.getUnitInterval(i)*100,l=this.shouldMirror(),u=`${l?100-o:o}%`,h=`${l?s:100-s}%`,m=y("div",{"aria-disabled":this.disabled,"aria-label":this.isRange?this.maxLabel:this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":r,class:{thumb:!0,"thumb--value":!0,"thumb--active":this.lastDragProp!=="minMaxValue"&&this.dragProp===n},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp=n,onPointerDown:()=>this.dragStart(n),ref:O=>this.maxHandle=O,role:"slider",style:{right:h},tabIndex:0},y("div",{class:"handle"})),f=y("div",{"aria-disabled":this.disabled,"aria-label":this.isRange?this.maxLabel:this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":r,class:{thumb:!0,"thumb--value":!0,"thumb--active":this.lastDragProp!=="minMaxValue"&&this.dragProp===n},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp=n,onPointerDown:()=>this.dragStart(n),ref:O=>this.maxHandle=O,role:"slider",style:{right:h},tabIndex:0},y("span",{"aria-hidden":"true",class:"handle__label handle__label--value"},r&&r.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--value static"},r&&r.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--value transformed"},r&&r.toLocaleString()),y("div",{class:"handle"})),g=y("div",{"aria-disabled":this.disabled,"aria-label":this.isRange?this.maxLabel:this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":r,class:{thumb:!0,"thumb--value":!0,"thumb--active":this.lastDragProp!=="minMaxValue"&&this.dragProp===n},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp=n,onPointerDown:()=>this.dragStart(n),ref:O=>this.maxHandle=O,role:"slider",style:{right:h},tabIndex:0},y("div",{class:"handle"}),y("span",{"aria-hidden":"true",class:"handle__label handle__label--value"},r&&r.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--value static"},r&&r.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--value transformed"},r&&r.toLocaleString())),b=y("div",{"aria-disabled":this.disabled,"aria-label":this.isRange?this.maxLabel:this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":r,class:{thumb:!0,"thumb--value":!0,"thumb--active":this.lastDragProp!=="minMaxValue"&&this.dragProp===n,"thumb--precise":!0},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp=n,onPointerDown:()=>this.dragStart(n),ref:O=>this.maxHandle=O,role:"slider",style:{right:h},tabIndex:0},y("div",{class:"handle"}),y("div",{class:"handle-extension"})),v=y("div",{"aria-disabled":this.disabled,"aria-label":this.isRange?this.maxLabel:this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":r,class:{thumb:!0,"thumb--value":!0,"thumb--active":this.lastDragProp!=="minMaxValue"&&this.dragProp===n,"thumb--precise":!0},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp=n,onPointerDown:()=>this.dragStart(n),ref:O=>this.maxHandle=O,role:"slider",style:{right:h},tabIndex:0},y("div",{class:"handle-extension"}),y("div",{class:"handle"})),w=y("div",{"aria-disabled":this.disabled,"aria-label":this.isRange?this.maxLabel:this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":r,class:{thumb:!0,"thumb--value":!0,"thumb--active":this.lastDragProp!=="minMaxValue"&&this.dragProp===n,"thumb--precise":!0},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp=n,onPointerDown:()=>this.dragStart(n),ref:O=>this.maxHandle=O,role:"slider",style:{right:h},tabIndex:0},y("span",{"aria-hidden":"true",class:"handle__label handle__label--value"},r&&r.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--value static"},r&&r.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--value transformed"},r&&r.toLocaleString()),y("div",{class:"handle"}),y("div",{class:"handle-extension"})),x=y("div",{"aria-disabled":this.disabled,"aria-label":this.isRange?this.maxLabel:this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":r,class:{thumb:!0,"thumb--value":!0,"thumb--active":this.lastDragProp!=="minMaxValue"&&this.dragProp===n,"thumb--precise":!0},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp=n,onPointerDown:()=>this.dragStart(n),ref:O=>this.maxHandle=O,role:"slider",style:{right:h},tabIndex:0},y("div",{class:"handle-extension"}),y("div",{class:"handle"}),y("span",{"aria-hidden":"true",class:"handle__label handle__label--value"},r&&r.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--value static"},r&&r.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--value transformed"},r&&r.toLocaleString())),S=y("div",{"aria-disabled":this.disabled,"aria-label":this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":this.minValue,class:{thumb:!0,"thumb--minValue":!0,"thumb--active":this.dragProp==="minValue"},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp="minValue",onPointerDown:()=>this.dragStart("minValue"),ref:O=>this.minHandle=O,role:"slider",style:{left:u},tabIndex:0},y("div",{class:"handle"})),E=y("div",{"aria-disabled":this.disabled,"aria-label":this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":this.minValue,class:{thumb:!0,"thumb--minValue":!0,"thumb--active":this.dragProp==="minValue"},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp="minValue",onPointerDown:()=>this.dragStart("minValue"),ref:O=>this.minHandle=O,role:"slider",style:{left:u},tabIndex:0},y("span",{"aria-hidden":"true",class:"handle__label handle__label--minValue"},this.minValue&&this.minValue.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--minValue static"},this.minValue&&this.minValue.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--minValue transformed"},this.minValue&&this.minValue.toLocaleString()),y("div",{class:"handle"})),C=y("div",{"aria-disabled":this.disabled,"aria-label":this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":this.minValue,class:{thumb:!0,"thumb--minValue":!0,"thumb--active":this.dragProp==="minValue"},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp="minValue",onPointerDown:()=>this.dragStart("minValue"),ref:O=>this.minHandle=O,role:"slider",style:{left:u},tabIndex:0},y("div",{class:"handle"}),y("span",{"aria-hidden":"true",class:"handle__label handle__label--minValue"},this.minValue&&this.minValue.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--minValue static"},this.minValue&&this.minValue.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--minValue transformed"},this.minValue&&this.minValue.toLocaleString())),_=y("div",{"aria-disabled":this.disabled,"aria-label":this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":this.minValue,class:{thumb:!0,"thumb--minValue":!0,"thumb--active":this.dragProp==="minValue","thumb--precise":!0},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp="minValue",onPointerDown:()=>this.dragStart("minValue"),ref:O=>this.minHandle=O,role:"slider",style:{left:u},tabIndex:0},y("div",{class:"handle-extension"}),y("div",{class:"handle"})),I=y("div",{"aria-disabled":this.disabled,"aria-label":this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":this.minValue,class:{thumb:!0,"thumb--minValue":!0,"thumb--active":this.dragProp==="minValue","thumb--precise":!0},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp="minValue",onPointerDown:()=>this.dragStart("minValue"),ref:O=>this.minHandle=O,role:"slider",style:{left:u},tabIndex:0},y("div",{class:"handle-extension"}),y("div",{class:"handle"}),y("span",{"aria-hidden":"true",class:"handle__label handle__label--minValue"},this.minValue&&this.minValue.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--minValue static"},this.minValue&&this.minValue.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--minValue transformed"},this.minValue&&this.minValue.toLocaleString()));return y(ze,{id:e,onTouchStart:this.handleTouchStart},y("div",{class:{container:!0,["container--range"]:this.isRange,[`scale--${this.scale}`]:!0}},this.renderGraph(),y("div",{class:"track",ref:this.storeTrackRef},y("div",{class:"track__range",onPointerDown:()=>this.dragStart("minMaxValue"),style:{left:`${l?100-s:o}%`,right:`${l?o:100-s}%`}}),y("div",{class:"ticks"},this.tickValues.map(O=>{const R=`${this.getUnitInterval(O)*100}%`;let H=O>=t&&O<=i;return a&&(H=O>=this.minValue&&O<=this.maxValue),y("span",{class:{tick:!0,"tick--active":H},style:{left:l?"":R,right:l?R:""}},this.renderTickLabel(O))}))),y("div",{class:"thumb-container"},!this.precise&&!this.labelHandles&&this.isRange&&S,!this.hasHistogram&&!this.precise&&this.labelHandles&&this.isRange&&E,this.precise&&!this.labelHandles&&this.isRange&&_,this.precise&&this.labelHandles&&this.isRange&&I,this.hasHistogram&&!this.precise&&this.labelHandles&&this.isRange&&C,!this.precise&&!this.labelHandles&&m,!this.hasHistogram&&!this.precise&&this.labelHandles&&f,!this.hasHistogram&&this.precise&&!this.labelHandles&&b,this.hasHistogram&&this.precise&&!this.labelHandles&&v,!this.hasHistogram&&this.precise&&this.labelHandles&&w,this.hasHistogram&&!this.precise&&this.labelHandles&&g,this.hasHistogram&&this.precise&&this.labelHandles&&x,y(co,{component:this}))))}renderGraph(){return this.histogram?y("calcite-graph",{class:"graph",colorStops:this.histogramStops,data:this.histogram,highlightMax:this.isRange?this.maxValue:this.value,highlightMin:this.isRange?this.minValue:this.min,max:this.max,min:this.min}):null}renderTickLabel(e){const t=e===this.min,i=e===this.max,n=y("span",{class:{tick__label:!0,"tick__label--min":t,"tick__label--max":i}},e.toLocaleString());return this.labelTicks&&!this.hasHistogram&&!this.isRange||this.labelTicks&&!this.hasHistogram&&this.isRange&&!this.precise&&!this.labelHandles||this.labelTicks&&!this.hasHistogram&&this.isRange&&!this.precise&&this.labelHandles||this.labelTicks&&!this.hasHistogram&&this.isRange&&this.precise&&(t||i)||this.labelTicks&&this.hasHistogram&&!this.precise&&!this.labelHandles||this.labelTicks&&this.hasHistogram&&this.precise&&!this.labelHandles&&(t||i)||this.labelTicks&&this.hasHistogram&&!this.precise&&this.labelHandles&&(t||i)||this.labelTicks&&this.hasHistogram&&this.precise&&this.labelHandles&&(t||i)?n:null}keyDownHandler(e){const t=this.shouldMirror(),{activeProp:i,max:n,min:r,pageStep:a,step:o}=this,s=this[i],l=e.key;if(l==="Enter"||l===" "){e.preventDefault();return}let u;if(l==="ArrowUp"||l==="ArrowRight"?u=s+o*(t&&l==="ArrowRight"?-1:1):l==="ArrowDown"||l==="ArrowLeft"?u=s-o*(t&&l==="ArrowLeft"?-1:1):l==="PageUp"?a&&(u=s+a):l==="PageDown"?a&&(u=s-a):l==="Home"?u=r:l==="End"&&(u=n),isNaN(u))return;e.preventDefault();const h=Number(u.toFixed(bp(o)));this.setValue(i,this.clamp(h,i))}clickHandler(e){this.focusActiveHandle(e.clientX)}pointerDownHandler(e){const t=e.clientX||e.pageX,i=this.translate(t);let n="value";this.isRange&&(i>=this.minValue&&i<=this.maxValue&&this.lastDragProp==="minMaxValue"?n="minMaxValue":n=Math.abs(this.maxValue-i)<Math.abs(this.minValue-i)||i>this.maxValue?"maxValue":"minValue"),this.lastDragPropValue=this[n],this.dragStart(n),this.el.shadowRoot.querySelector(".thumb:active")||this.setValue(n,this.clamp(i,n))}handleTouchStart(e){e.preventDefault()}async setFocus(){(this.minHandle?this.minHandle:this.maxHandle).focus()}onLabelClick(){this.setFocus()}shouldMirror(){return this.mirrored&&!this.hasHistogram}shouldUseMinValue(){return this.isRange?this.hasHistogram&&this.maxValue===0||!this.hasHistogram&&this.minValue===0:!1}generateTickValues(){const e=[];let t=this.min;for(;this.ticks&&t<this.max+this.ticks;)e.push(Math.min(t,this.max)),t=t+this.ticks;return e}dragStart(e){this.dragProp=e,this.lastDragProp=this.dragProp,this.activeProp=e,document.addEventListener("pointermove",this.dragUpdate),document.addEventListener("pointerup",this.dragEnd),document.addEventListener("pointercancel",this.dragEnd)}focusActiveHandle(e){switch(this.dragProp){case"minValue":this.minHandle.focus();break;case"maxValue":this.maxHandle.focus();break;case"minMaxValue":this.getClosestHandle(e).focus();break}}emitInput(){this.calciteSliderInput.emit(),this.calciteSliderUpdate.emit()}emitChange(){this.calciteSliderChange.emit()}removeDragListeners(){document.removeEventListener("pointermove",this.dragUpdate),document.removeEventListener("pointerup",this.dragEnd),document.removeEventListener("pointercancel",this.dragEnd)}setValue(e,t){if(!(this[e]!==t))return;this[e]=t,this.dragProp||this.emitChange(),this.emitInput()}clamp(e,t){return e=TC(e,this.min,this.max),t==="maxValue"&&(e=Math.max(e,this.minValue)),t==="minValue"&&(e=Math.min(e,this.maxValue)),e}translate(e){const t=this.max-this.min,{left:i,width:n}=this.trackEl.getBoundingClientRect(),r=(e-i)/n,a=this.shouldMirror(),o=this.clamp(this.min+t*(a?1-r:r));let s=Number(o.toFixed(bp(this.step)));return this.snap&&this.step&&(s=this.getClosestStep(s)),s}getClosestStep(e){if(e=Number(this.clamp(e).toFixed(bp(this.step))),this.step){const t=Math.round(e/this.step)*this.step;e=Number(this.clamp(t).toFixed(bp(this.step)))}return e}getClosestHandle(e){return this.getDistanceX(this.maxHandle,e)>this.getDistanceX(this.minHandle,e)?this.minHandle:this.maxHandle}getDistanceX(e,t){return Math.abs(e.getBoundingClientRect().left-t)}getFontSizeForElement(e){return Number(window.getComputedStyle(e).getPropertyValue("font-size").match(/\d+/)[0])}getUnitInterval(e){e=this.clamp(e);const t=this.max-this.min;return(e-this.min)/t}adjustHostObscuredHandleLabel(e){const t=this.el.shadowRoot.querySelector(`.handle__label--${e}`),i=this.el.shadowRoot.querySelector(`.handle__label--${e}.static`),n=this.el.shadowRoot.querySelector(`.handle__label--${e}.transformed`),r=i.getBoundingClientRect(),a=this.getHostOffset(r.left,r.right);t.style.transform=`translateX(${a}px)`,n.style.transform=`translateX(${a}px)`}hyphenateCollidingRangeHandleLabels(){const{shadowRoot:e}=this.el,t=this.shouldMirror(),i=t?"value":"minValue",n=t?"minValue":"value",r=e.querySelector(`.handle__label--${i}`),a=e.querySelector(`.handle__label--${i}.static`),o=e.querySelector(`.handle__label--${i}.transformed`),s=this.getHostOffset(a.getBoundingClientRect().left,a.getBoundingClientRect().right),l=e.querySelector(`.handle__label--${n}`),u=e.querySelector(`.handle__label--${n}.static`),h=e.querySelector(`.handle__label--${n}.transformed`),m=this.getHostOffset(u.getBoundingClientRect().left,u.getBoundingClientRect().right),f=this.getFontSizeForElement(r),g=this.getRangeLabelOverlap(o,h),b=r,v=f/2;if(g>0){if(b.classList.add("hyphen","hyphen--wrap"),m===0&&s===0){let w=g/2-v;w=Math.sign(w)===-1?Math.abs(w):-w;const x=this.getHostOffset(o.getBoundingClientRect().left+w-v,o.getBoundingClientRect().right+w-v);let S=g/2;const E=this.getHostOffset(h.getBoundingClientRect().left+S,h.getBoundingClientRect().right+S);x!==0&&(w+=x,S+=x),E!==0&&(w+=E,S+=E),r.style.transform=`translateX(${w}px)`,o.style.transform=`translateX(${w-v}px)`,l.style.transform=`translateX(${S}px)`,h.style.transform=`translateX(${S}px)`}else if(s>0||m>0)r.style.transform=`translateX(${s+v}px)`,l.style.transform=`translateX(${g+m}px)`,h.style.transform=`translateX(${g+m}px)`;else if(s<0||m<0){let w=Math.abs(s)+g-v;w=Math.sign(w)===-1?Math.abs(w):-w,r.style.transform=`translateX(${w}px)`,o.style.transform=`translateX(${w-v}px)`}}else b.classList.remove("hyphen","hyphen--wrap"),r.style.transform=`translateX(${s}px)`,o.style.transform=`translateX(${s}px)`,l.style.transform=`translateX(${m}px)`,h.style.transform=`translateX(${m}px)`}hideObscuredBoundingTickLabels(){if(!this.hasHistogram&&!this.isRange&&!this.labelHandles&&!this.precise||!this.hasHistogram&&!this.isRange&&this.labelHandles&&!this.precise||!this.hasHistogram&&!this.isRange&&!this.labelHandles&&this.precise||!this.hasHistogram&&!this.isRange&&this.labelHandles&&this.precise||!this.hasHistogram&&this.isRange&&!this.precise||this.hasHistogram&&!this.precise&&!this.labelHandles)return;const e=this.el.shadowRoot.querySelector(".thumb--minValue"),t=this.el.shadowRoot.querySelector(".thumb--value"),i=this.el.shadowRoot.querySelector(".tick__label--min"),n=this.el.shadowRoot.querySelector(".tick__label--max");!e&&t&&i&&n&&(i.style.opacity=this.isMinTickLabelObscured(i,t)?"0":"1",n.style.opacity=this.isMaxTickLabelObscured(n,t)?"0":"1"),e&&t&&i&&n&&(i.style.opacity=this.isMinTickLabelObscured(i,e)||this.isMinTickLabelObscured(i,t)?"0":"1",n.style.opacity=this.isMaxTickLabelObscured(n,e)||this.isMaxTickLabelObscured(n,t)&&this.hasHistogram?"0":"1")}getHostOffset(e,t){const i=this.el.getBoundingClientRect(),n=7;return e+n<i.left?i.left-e-n:t-n>i.right?-(t-i.right)+n:0}getRangeLabelOverlap(e,t){const i=e.getBoundingClientRect(),n=t.getBoundingClientRect(),r=this.getFontSizeForElement(e),a=i.right+r-n.left;return Math.max(a,0)}isMinTickLabelObscured(e,t){const i=e.getBoundingClientRect(),n=t.getBoundingClientRect();return tM(i,n)}isMaxTickLabelObscured(e,t){const i=e.getBoundingClientRect(),n=t.getBoundingClientRect();return tM(i,n)}get el(){return this}static get watchers(){return{histogram:["histogramWatcher"]}}static get style(){return Pee}};/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function yA(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function es(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(i),!0).forEach(function(n){Ree(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):yA(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function jv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jv=function(t){return typeof t}:jv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jv(e)}function Ree(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function sl(){return sl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},sl.apply(this,arguments)}function Fee(e,t){if(e==null)return{};var i={},n=Object.keys(e),r,a;for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&(i[r]=e[r]);return i}function Nee(e,t){if(e==null)return{};var i=Fee(e,t),n,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(i[n]=e[n]))}return i}var zee="1.14.0";function nl(e){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(e)}var pl=nl(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),xy=nl(/Edge/i),bA=nl(/firefox/i),Y0=nl(/safari/i)&&!nl(/chrome/i)&&!nl(/android/i),cN=nl(/iP(ad|od|hone)/i),jee=nl(/chrome/i)&&nl(/android/i),uN={capture:!1,passive:!1};function ht(e,t,i){e.addEventListener(t,i,!pl&&uN)}function ot(e,t,i){e.removeEventListener(t,i,!pl&&uN)}function bw(e,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Vee(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function zo(e,t,i,n){if(e){i=i||document;do{if(t!=null&&(t[0]===">"?e.parentNode===i&&bw(e,t):bw(e,t))||n&&e===i)return e;if(e===i)break}while(e=Vee(e))}return null}var vA=/\s+/g;function sr(e,t,i){if(e&&t)if(e.classList)e.classList[i?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(vA," ").replace(" "+t+" "," ");e.className=(n+(i?" "+t:"")).replace(vA," ")}}function Pe(e,t,i){var n=e&&e.style;if(n){if(i===void 0)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(i=e.currentStyle),t===void 0?i:i[t];!(t in n)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),n[t]=i+(typeof i=="string"?"":"px")}}function Fp(e,t){var i="";if(typeof e=="string")i=e;else do{var n=Pe(e,"transform");n&&n!=="none"&&(i=n+" "+i)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(i)}function dN(e,t,i){if(e){var n=e.getElementsByTagName(t),r=0,a=n.length;if(i)for(;r<a;r++)i(n[r],r);return n}return[]}function Wo(){var e=document.scrollingElement;return e||document.documentElement}function Li(e,t,i,n,r){if(!(!e.getBoundingClientRect&&e!==window)){var a,o,s,l,u,h,m;if(e!==window&&e.parentNode&&e!==Wo()?(a=e.getBoundingClientRect(),o=a.top,s=a.left,l=a.bottom,u=a.right,h=a.height,m=a.width):(o=0,s=0,l=window.innerHeight,u=window.innerWidth,h=window.innerHeight,m=window.innerWidth),(t||i)&&e!==window&&(r=r||e.parentNode,!pl))do if(r&&r.getBoundingClientRect&&(Pe(r,"transform")!=="none"||i&&Pe(r,"position")!=="static")){var f=r.getBoundingClientRect();o-=f.top+parseInt(Pe(r,"border-top-width")),s-=f.left+parseInt(Pe(r,"border-left-width")),l=o+a.height,u=s+a.width;break}while(r=r.parentNode);if(n&&e!==window){var g=Fp(r||e),b=g&&g.a,v=g&&g.d;g&&(o/=v,s/=b,m/=b,h/=v,l=o+h,u=s+m)}return{top:o,left:s,bottom:l,right:u,width:m,height:h}}}function wA(e,t,i){for(var n=vc(e,!0),r=Li(e)[t];n;){var a=Li(n)[i],o=void 0;if(i==="top"||i==="left"?o=r>=a:o=r<=a,!o)return n;if(n===Wo())break;n=vc(n,!1)}return!1}function sm(e,t,i,n){for(var r=0,a=0,o=e.children;a<o.length;){if(o[a].style.display!=="none"&&o[a]!==Me.ghost&&(n||o[a]!==Me.dragged)&&zo(o[a],i.draggable,e,!1)){if(r===t)return o[a];r++}a++}return null}function qC(e,t){for(var i=e.lastElementChild;i&&(i===Me.ghost||Pe(i,"display")==="none"||t&&!bw(i,t));)i=i.previousElementSibling;return i||null}function Xr(e,t){var i=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==Me.clone&&(!t||bw(e,t))&&i++;return i}function xA(e){var t=0,i=0,n=Wo();if(e)do{var r=Fp(e),a=r.a,o=r.d;t+=e.scrollLeft*a,i+=e.scrollTop*o}while(e!==n&&(e=e.parentNode));return[t,i]}function Hee(e,t){for(var i in e)if(!!e.hasOwnProperty(i)){for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[i][n])return Number(i)}return-1}function vc(e,t){if(!e||!e.getBoundingClientRect)return Wo();var i=e,n=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var r=Pe(i);if(i.clientWidth<i.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||i.clientHeight<i.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!i.getBoundingClientRect||i===document.body)return Wo();if(n||t)return i;n=!0}}while(i=i.parentNode);return Wo()}function qee(e,t){if(e&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function z_(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Z0;function hN(e,t){return function(){if(!Z0){var i=arguments,n=this;i.length===1?e.call(n,i[0]):e.apply(n,i),Z0=setTimeout(function(){Z0=void 0},t)}}}function Bee(){clearTimeout(Z0),Z0=void 0}function pN(e,t,i){e.scrollLeft+=t,e.scrollTop+=i}function mN(e){var t=window.Polymer,i=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):i?i(e).clone(!0)[0]:e.cloneNode(!0)}var kr="Sortable"+new Date().getTime();function Uee(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(r){if(!(Pe(r,"display")==="none"||r===Me.ghost)){e.push({target:r,rect:Li(r)});var a=es({},e[e.length-1].rect);if(r.thisAnimationDuration){var o=Fp(r,!0);o&&(a.top-=o.f,a.left-=o.e)}r.fromRect=a}})}},addAnimationState:function(n){e.push(n)},removeAnimationState:function(n){e.splice(Hee(e,{target:n}),1)},animateAll:function(n){var r=this;if(!this.options.animation){clearTimeout(t),typeof n=="function"&&n();return}var a=!1,o=0;e.forEach(function(s){var l=0,u=s.target,h=u.fromRect,m=Li(u),f=u.prevFromRect,g=u.prevToRect,b=s.rect,v=Fp(u,!0);v&&(m.top-=v.f,m.left-=v.e),u.toRect=m,u.thisAnimationDuration&&z_(f,m)&&!z_(h,m)&&(b.top-m.top)/(b.left-m.left)===(h.top-m.top)/(h.left-m.left)&&(l=Wee(b,f,g,r.options)),z_(m,h)||(u.prevFromRect=h,u.prevToRect=m,l||(l=r.options.animation),r.animate(u,b,m,l)),l&&(a=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(t),a?t=setTimeout(function(){typeof n=="function"&&n()},o):typeof n=="function"&&n(),e=[]},animate:function(n,r,a,o){if(o){Pe(n,"transition",""),Pe(n,"transform","");var s=Fp(this.el),l=s&&s.a,u=s&&s.d,h=(r.left-a.left)/(l||1),m=(r.top-a.top)/(u||1);n.animatingX=!!h,n.animatingY=!!m,Pe(n,"transform","translate3d("+h+"px,"+m+"px,0)"),this.forRepaintDummy=Gee(n),Pe(n,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Pe(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){Pe(n,"transition",""),Pe(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},o)}}}}function Gee(e){return e.offsetWidth}function Wee(e,t,i,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-i.top,2)+Math.pow(t.left-i.left,2))*n.animation}var yh=[],j_={initializeByDefault:!0},ky={mount:function(t){for(var i in j_)j_.hasOwnProperty(i)&&!(i in t)&&(t[i]=j_[i]);yh.forEach(function(n){if(n.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),yh.push(t)},pluginEvent:function(t,i,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var a=t+"Global";yh.forEach(function(o){!i[o.pluginName]||(i[o.pluginName][a]&&i[o.pluginName][a](es({sortable:i},n)),i.options[o.pluginName]&&i[o.pluginName][t]&&i[o.pluginName][t](es({sortable:i},n)))})},initializePlugins:function(t,i,n,r){yh.forEach(function(s){var l=s.pluginName;if(!(!t.options[l]&&!s.initializeByDefault)){var u=new s(t,i,t.options);u.sortable=t,u.options=t.options,t[l]=u,sl(n,u.defaults)}});for(var a in t.options)if(!!t.options.hasOwnProperty(a)){var o=this.modifyOption(t,a,t.options[a]);typeof o!="undefined"&&(t.options[a]=o)}},getEventProperties:function(t,i){var n={};return yh.forEach(function(r){typeof r.eventProperties=="function"&&sl(n,r.eventProperties.call(i[r.pluginName],t))}),n},modifyOption:function(t,i,n){var r;return yh.forEach(function(a){!t[a.pluginName]||a.optionListeners&&typeof a.optionListeners[i]=="function"&&(r=a.optionListeners[i].call(t[a.pluginName],n))}),r}};function Jee(e){var t=e.sortable,i=e.rootEl,n=e.name,r=e.targetEl,a=e.cloneEl,o=e.toEl,s=e.fromEl,l=e.oldIndex,u=e.newIndex,h=e.oldDraggableIndex,m=e.newDraggableIndex,f=e.originalEvent,g=e.putSortable,b=e.extraEventProperties;if(t=t||i&&i[kr],!!t){var v,w=t.options,x="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!pl&&!xy?v=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(n,!0,!0)),v.to=o||i,v.from=s||i,v.item=r||i,v.clone=a,v.oldIndex=l,v.newIndex=u,v.oldDraggableIndex=h,v.newDraggableIndex=m,v.originalEvent=f,v.pullMode=g?g.lastPutMode:void 0;var S=es(es({},b),ky.getEventProperties(n,t));for(var E in S)v[E]=S[E];i&&i.dispatchEvent(v),w[x]&&w[x].call(t,v)}}var Kee=["evt"],Ln=function(t,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.evt,a=Nee(n,Kee);ky.pluginEvent.bind(Me)(t,i,es({dragEl:oe,parentEl:ei,ghostEl:Be,rootEl:Nt,nextEl:gu,lastDownEl:Vv,cloneEl:ni,cloneHidden:fc,dragStarted:Uf,putSortable:Xi,activeSortable:Me.active,originalEvent:r,oldIndex:vp,oldDraggableIndex:X0,newIndex:mr,newDraggableIndex:lc,hideGhostForTarget:bN,unhideGhostForTarget:vN,cloneNowHidden:function(){fc=!0},cloneNowShown:function(){fc=!1},dispatchSortableEvent:function(s){bn({sortable:i,name:s,originalEvent:r})}},a))};function bn(e){Jee(es({putSortable:Xi,cloneEl:ni,targetEl:oe,rootEl:Nt,oldIndex:vp,oldDraggableIndex:X0,newIndex:mr,newDraggableIndex:lc},e))}var oe,ei,Be,Nt,gu,Vv,ni,fc,vp,mr,X0,lc,Ib,Xi,Rh=!1,vw=!1,ww=[],nu,xa,V_,H_,kA,_A,Uf,bh,Q0,eg=!1,Eb=!1,Hv,sn,q_=[],W3=!1,xw=[],Kx=typeof document!="undefined",Tb=cN,SA=xy||pl?"cssFloat":"float",Yee=Kx&&!jee&&!cN&&"draggable"in document.createElement("div"),fN=function(){if(!!Kx){if(pl)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),gN=function(t,i){var n=Pe(t),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),a=sm(t,0,i),o=sm(t,1,i),s=a&&Pe(a),l=o&&Pe(o),u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Li(a).width,h=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Li(o).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&s.float&&s.float!=="none"){var m=s.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===m)?"vertical":"horizontal"}return a&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||u>=r&&n[SA]==="none"||o&&n[SA]==="none"&&u+h>r)?"vertical":"horizontal"},Zee=function(t,i,n){var r=n?t.left:t.top,a=n?t.right:t.bottom,o=n?t.width:t.height,s=n?i.left:i.top,l=n?i.right:i.bottom,u=n?i.width:i.height;return r===s||a===l||r+o/2===s+u/2},Xee=function(t,i){var n;return ww.some(function(r){var a=r[kr].options.emptyInsertThreshold;if(!(!a||qC(r))){var o=Li(r),s=t>=o.left-a&&t<=o.right+a,l=i>=o.top-a&&i<=o.bottom+a;if(s&&l)return n=r}}),n},yN=function(t){function i(a,o){return function(s,l,u,h){var m=s.options.group.name&&l.options.group.name&&s.options.group.name===l.options.group.name;if(a==null&&(o||m))return!0;if(a==null||a===!1)return!1;if(o&&a==="clone")return a;if(typeof a=="function")return i(a(s,l,u,h),o)(s,l,u,h);var f=(o?s:l).options.group.name;return a===!0||typeof a=="string"&&a===f||a.join&&a.indexOf(f)>-1}}var n={},r=t.group;(!r||jv(r)!="object")&&(r={name:r}),n.name=r.name,n.checkPull=i(r.pull,!0),n.checkPut=i(r.put),n.revertClone=r.revertClone,t.group=n},bN=function(){!fN&&Be&&Pe(Be,"display","none")},vN=function(){!fN&&Be&&Pe(Be,"display","")};Kx&&document.addEventListener("click",function(e){if(vw)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),vw=!1,!1},!0);var ru=function(t){if(oe){t=t.touches?t.touches[0]:t;var i=Xee(t.clientX,t.clientY);if(i){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);n.target=n.rootEl=i,n.preventDefault=void 0,n.stopPropagation=void 0,i[kr]._onDragOver(n)}}},Qee=function(t){oe&&oe.parentNode[kr]._isOutsideThisEl(t.target)};function Me(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=sl({},t),e[kr]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return gN(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,s){o.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Me.supportPointer!==!1&&"PointerEvent"in window&&!Y0,emptyInsertThreshold:5};ky.initializePlugins(this,e,i);for(var n in i)!(n in t)&&(t[n]=i[n]);yN(t);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=t.forceFallback?!1:Yee,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?ht(e,"pointerdown",this._onTapStart):(ht(e,"mousedown",this._onTapStart),ht(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(ht(e,"dragover",this),ht(e,"dragenter",this)),ww.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),sl(this,Uee())}Me.prototype={constructor:Me,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(bh=null)},_getDirection:function(t,i){return typeof this.options.direction=="function"?this.options.direction.call(this,t,i,oe):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var i=this,n=this.el,r=this.options,a=r.preventOnFilter,o=t.type,s=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(s||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,h=r.filter;if(ste(n),!oe&&!(/mousedown|pointerdown/.test(o)&&t.button!==0||r.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Y0&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=zo(l,r.draggable,n,!1),!(l&&l.animated)&&Vv!==l)){if(vp=Xr(l),X0=Xr(l,r.draggable),typeof h=="function"){if(h.call(this,t,l,this)){bn({sortable:i,rootEl:u,name:"filter",targetEl:l,toEl:n,fromEl:n}),Ln("filter",i,{evt:t}),a&&t.cancelable&&t.preventDefault();return}}else if(h&&(h=h.split(",").some(function(m){if(m=zo(u,m.trim(),n,!1),m)return bn({sortable:i,rootEl:m,name:"filter",targetEl:l,fromEl:n,toEl:n}),Ln("filter",i,{evt:t}),!0}),h)){a&&t.cancelable&&t.preventDefault();return}r.handle&&!zo(u,r.handle,n,!1)||this._prepareDragStart(t,s,l)}}},_prepareDragStart:function(t,i,n){var r=this,a=r.el,o=r.options,s=a.ownerDocument,l;if(n&&!oe&&n.parentNode===a){var u=Li(n);if(Nt=a,oe=n,ei=oe.parentNode,gu=oe.nextSibling,Vv=n,Ib=o.group,Me.dragged=oe,nu={target:oe,clientX:(i||t).clientX,clientY:(i||t).clientY},kA=nu.clientX-u.left,_A=nu.clientY-u.top,this._lastX=(i||t).clientX,this._lastY=(i||t).clientY,oe.style["will-change"]="all",l=function(){if(Ln("delayEnded",r,{evt:t}),Me.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!bA&&r.nativeDraggable&&(oe.draggable=!0),r._triggerDragStart(t,i),bn({sortable:r,name:"choose",originalEvent:t}),sr(oe,o.chosenClass,!0)},o.ignore.split(",").forEach(function(h){dN(oe,h.trim(),B_)}),ht(s,"dragover",ru),ht(s,"mousemove",ru),ht(s,"touchmove",ru),ht(s,"mouseup",r._onDrop),ht(s,"touchend",r._onDrop),ht(s,"touchcancel",r._onDrop),bA&&this.nativeDraggable&&(this.options.touchStartThreshold=4,oe.draggable=!0),Ln("delayStart",this,{evt:t}),o.delay&&(!o.delayOnTouchOnly||i)&&(!this.nativeDraggable||!(xy||pl))){if(Me.eventCanceled){this._onDrop();return}ht(s,"mouseup",r._disableDelayedDrag),ht(s,"touchend",r._disableDelayedDrag),ht(s,"touchcancel",r._disableDelayedDrag),ht(s,"mousemove",r._delayedDragTouchMoveHandler),ht(s,"touchmove",r._delayedDragTouchMoveHandler),o.supportPointer&&ht(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var i=t.touches?t.touches[0]:t;Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){oe&&B_(oe),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;ot(t,"mouseup",this._disableDelayedDrag),ot(t,"touchend",this._disableDelayedDrag),ot(t,"touchcancel",this._disableDelayedDrag),ot(t,"mousemove",this._delayedDragTouchMoveHandler),ot(t,"touchmove",this._delayedDragTouchMoveHandler),ot(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,i){i=i||t.pointerType=="touch"&&t,!this.nativeDraggable||i?this.options.supportPointer?ht(document,"pointermove",this._onTouchMove):i?ht(document,"touchmove",this._onTouchMove):ht(document,"mousemove",this._onTouchMove):(ht(oe,"dragend",this),ht(Nt,"dragstart",this._onDragStart));try{document.selection?qv(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,i){if(Rh=!1,Nt&&oe){Ln("dragStarted",this,{evt:i}),this.nativeDraggable&&ht(document,"dragover",Qee);var n=this.options;!t&&sr(oe,n.dragClass,!1),sr(oe,n.ghostClass,!0),Me.active=this,t&&this._appendGhost(),bn({sortable:this,name:"start",originalEvent:i})}else this._nulling()},_emulateDragOver:function(){if(xa){this._lastX=xa.clientX,this._lastY=xa.clientY,bN();for(var t=document.elementFromPoint(xa.clientX,xa.clientY),i=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(xa.clientX,xa.clientY),t!==i);)i=t;if(oe.parentNode[kr]._isOutsideThisEl(t),i)do{if(i[kr]){var n=void 0;if(n=i[kr]._onDragOver({clientX:xa.clientX,clientY:xa.clientY,target:t,rootEl:i}),n&&!this.options.dragoverBubble)break}t=i}while(i=i.parentNode);vN()}},_onTouchMove:function(t){if(nu){var i=this.options,n=i.fallbackTolerance,r=i.fallbackOffset,a=t.touches?t.touches[0]:t,o=Be&&Fp(Be,!0),s=Be&&o&&o.a,l=Be&&o&&o.d,u=Tb&&sn&&xA(sn),h=(a.clientX-nu.clientX+r.x)/(s||1)+(u?u[0]-q_[0]:0)/(s||1),m=(a.clientY-nu.clientY+r.y)/(l||1)+(u?u[1]-q_[1]:0)/(l||1);if(!Me.active&&!Rh){if(n&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(Be){o?(o.e+=h-(V_||0),o.f+=m-(H_||0)):o={a:1,b:0,c:0,d:1,e:h,f:m};var f="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");Pe(Be,"webkitTransform",f),Pe(Be,"mozTransform",f),Pe(Be,"msTransform",f),Pe(Be,"transform",f),V_=h,H_=m,xa=a}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Be){var t=this.options.fallbackOnBody?document.body:Nt,i=Li(oe,!0,Tb,!0,t),n=this.options;if(Tb){for(sn=t;Pe(sn,"position")==="static"&&Pe(sn,"transform")==="none"&&sn!==document;)sn=sn.parentNode;sn!==document.body&&sn!==document.documentElement?(sn===document&&(sn=Wo()),i.top+=sn.scrollTop,i.left+=sn.scrollLeft):sn=Wo(),q_=xA(sn)}Be=oe.cloneNode(!0),sr(Be,n.ghostClass,!1),sr(Be,n.fallbackClass,!0),sr(Be,n.dragClass,!0),Pe(Be,"transition",""),Pe(Be,"transform",""),Pe(Be,"box-sizing","border-box"),Pe(Be,"margin",0),Pe(Be,"top",i.top),Pe(Be,"left",i.left),Pe(Be,"width",i.width),Pe(Be,"height",i.height),Pe(Be,"opacity","0.8"),Pe(Be,"position",Tb?"absolute":"fixed"),Pe(Be,"zIndex","100000"),Pe(Be,"pointerEvents","none"),Me.ghost=Be,t.appendChild(Be),Pe(Be,"transform-origin",kA/parseInt(Be.style.width)*100+"% "+_A/parseInt(Be.style.height)*100+"%")}},_onDragStart:function(t,i){var n=this,r=t.dataTransfer,a=n.options;if(Ln("dragStart",this,{evt:t}),Me.eventCanceled){this._onDrop();return}Ln("setupClone",this),Me.eventCanceled||(ni=mN(oe),ni.draggable=!1,ni.style["will-change"]="",this._hideClone(),sr(ni,this.options.chosenClass,!1),Me.clone=ni),n.cloneId=qv(function(){Ln("clone",n),!Me.eventCanceled&&(n.options.removeCloneOnHide||Nt.insertBefore(ni,oe),n._hideClone(),bn({sortable:n,name:"clone"}))}),!i&&sr(oe,a.dragClass,!0),i?(vw=!0,n._loopId=setInterval(n._emulateDragOver,50)):(ot(document,"mouseup",n._onDrop),ot(document,"touchend",n._onDrop),ot(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",a.setData&&a.setData.call(n,r,oe)),ht(document,"drop",n),Pe(oe,"transform","translateZ(0)")),Rh=!0,n._dragStartId=qv(n._dragStarted.bind(n,i,t)),ht(document,"selectstart",n),Uf=!0,Y0&&Pe(document.body,"user-select","none")},_onDragOver:function(t){var i=this.el,n=t.target,r,a,o,s=this.options,l=s.group,u=Me.active,h=Ib===l,m=s.sort,f=Xi||u,g,b=this,v=!1;if(W3)return;function w(tt,Ht){Ln(tt,b,es({evt:t,isOwner:h,axis:g?"vertical":"horizontal",revert:o,dragRect:r,targetRect:a,canSort:m,fromSortable:f,target:n,completed:S,onMove:function(ps,ms){return Mb(Nt,i,oe,r,ps,Li(ps),t,ms)},changed:E},Ht))}function x(){w("dragOverAnimationCapture"),b.captureAnimationState(),b!==f&&f.captureAnimationState()}function S(tt){return w("dragOverCompleted",{insertion:tt}),tt&&(h?u._hideClone():u._showClone(b),b!==f&&(sr(oe,Xi?Xi.options.ghostClass:u.options.ghostClass,!1),sr(oe,s.ghostClass,!0)),Xi!==b&&b!==Me.active?Xi=b:b===Me.active&&Xi&&(Xi=null),f===b&&(b._ignoreWhileAnimating=n),b.animateAll(function(){w("dragOverAnimationComplete"),b._ignoreWhileAnimating=null}),b!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(n===oe&&!oe.animated||n===i&&!n.animated)&&(bh=null),!s.dragoverBubble&&!t.rootEl&&n!==document&&(oe.parentNode[kr]._isOutsideThisEl(t.target),!tt&&ru(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),v=!0}function E(){mr=Xr(oe),lc=Xr(oe,s.draggable),bn({sortable:b,name:"change",toEl:i,newIndex:mr,newDraggableIndex:lc,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),n=zo(n,s.draggable,i,!0),w("dragOver"),Me.eventCanceled)return v;if(oe.contains(t.target)||n.animated&&n.animatingX&&n.animatingY||b._ignoreWhileAnimating===n)return S(!1);if(vw=!1,u&&!s.disabled&&(h?m||(o=ei!==Nt):Xi===this||(this.lastPutMode=Ib.checkPull(this,u,oe,t))&&l.checkPut(this,u,oe,t))){if(g=this._getDirection(t,n)==="vertical",r=Li(oe),w("dragOverValid"),Me.eventCanceled)return v;if(o)return ei=Nt,x(),this._hideClone(),w("revert"),Me.eventCanceled||(gu?Nt.insertBefore(oe,gu):Nt.appendChild(oe)),S(!0);var C=qC(i,s.draggable);if(!C||nte(t,g,this)&&!C.animated){if(C===oe)return S(!1);if(C&&i===t.target&&(n=C),n&&(a=Li(n)),Mb(Nt,i,oe,r,n,a,t,!!n)!==!1)return x(),i.appendChild(oe),ei=i,E(),S(!0)}else if(C&&ite(t,g,this)){var _=sm(i,0,s,!0);if(_===oe)return S(!1);if(n=_,a=Li(n),Mb(Nt,i,oe,r,n,a,t,!1)!==!1)return x(),i.insertBefore(oe,_),ei=i,E(),S(!0)}else if(n.parentNode===i){a=Li(n);var I=0,O,R=oe.parentNode!==i,H=!Zee(oe.animated&&oe.toRect||r,n.animated&&n.toRect||a,g),Y=g?"top":"left",U=wA(n,"top","top")||wA(oe,"top","top"),ce=U?U.scrollTop:void 0;bh!==n&&(O=a[Y],eg=!1,Eb=!H&&s.invertSwap||R),I=rte(t,n,a,g,H?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,Eb,bh===n);var ne;if(I!==0){var se=Xr(oe);do se-=I,ne=ei.children[se];while(ne&&(Pe(ne,"display")==="none"||ne===Be))}if(I===0||ne===n)return S(!1);bh=n,Q0=I;var Je=n.nextElementSibling,pe=!1;pe=I===1;var Te=Mb(Nt,i,oe,r,n,a,t,pe);if(Te!==!1)return(Te===1||Te===-1)&&(pe=Te===1),W3=!0,setTimeout(tte,30),x(),pe&&!Je?i.appendChild(oe):n.parentNode.insertBefore(oe,pe?Je:n),U&&pN(U,0,ce-U.scrollTop),ei=oe.parentNode,O!==void 0&&!Eb&&(Hv=Math.abs(O-Li(n)[Y])),E(),S(!0)}if(i.contains(oe))return S(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ot(document,"mousemove",this._onTouchMove),ot(document,"touchmove",this._onTouchMove),ot(document,"pointermove",this._onTouchMove),ot(document,"dragover",ru),ot(document,"mousemove",ru),ot(document,"touchmove",ru)},_offUpEvents:function(){var t=this.el.ownerDocument;ot(t,"mouseup",this._onDrop),ot(t,"touchend",this._onDrop),ot(t,"pointerup",this._onDrop),ot(t,"touchcancel",this._onDrop),ot(document,"selectstart",this)},_onDrop:function(t){var i=this.el,n=this.options;if(mr=Xr(oe),lc=Xr(oe,n.draggable),Ln("drop",this,{evt:t}),ei=oe&&oe.parentNode,mr=Xr(oe),lc=Xr(oe,n.draggable),Me.eventCanceled){this._nulling();return}Rh=!1,Eb=!1,eg=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),J3(this.cloneId),J3(this._dragStartId),this.nativeDraggable&&(ot(document,"drop",this),ot(i,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Y0&&Pe(document.body,"user-select",""),Pe(oe,"transform",""),t&&(Uf&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),Be&&Be.parentNode&&Be.parentNode.removeChild(Be),(Nt===ei||Xi&&Xi.lastPutMode!=="clone")&&ni&&ni.parentNode&&ni.parentNode.removeChild(ni),oe&&(this.nativeDraggable&&ot(oe,"dragend",this),B_(oe),oe.style["will-change"]="",Uf&&!Rh&&sr(oe,Xi?Xi.options.ghostClass:this.options.ghostClass,!1),sr(oe,this.options.chosenClass,!1),bn({sortable:this,name:"unchoose",toEl:ei,newIndex:null,newDraggableIndex:null,originalEvent:t}),Nt!==ei?(mr>=0&&(bn({rootEl:ei,name:"add",toEl:ei,fromEl:Nt,originalEvent:t}),bn({sortable:this,name:"remove",toEl:ei,originalEvent:t}),bn({rootEl:ei,name:"sort",toEl:ei,fromEl:Nt,originalEvent:t}),bn({sortable:this,name:"sort",toEl:ei,originalEvent:t})),Xi&&Xi.save()):mr!==vp&&mr>=0&&(bn({sortable:this,name:"update",toEl:ei,originalEvent:t}),bn({sortable:this,name:"sort",toEl:ei,originalEvent:t})),Me.active&&((mr==null||mr===-1)&&(mr=vp,lc=X0),bn({sortable:this,name:"end",toEl:ei,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Ln("nulling",this),Nt=oe=ei=Be=gu=ni=Vv=fc=nu=xa=Uf=mr=lc=vp=X0=bh=Q0=Xi=Ib=Me.dragged=Me.ghost=Me.clone=Me.active=null,xw.forEach(function(t){t.checked=!0}),xw.length=V_=H_=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":oe&&(this._onDragOver(t),ete(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],i,n=this.el.children,r=0,a=n.length,o=this.options;r<a;r++)i=n[r],zo(i,o.draggable,this.el,!1)&&t.push(i.getAttribute(o.dataIdAttr)||ote(i));return t},sort:function(t,i){var n={},r=this.el;this.toArray().forEach(function(a,o){var s=r.children[o];zo(s,this.options.draggable,r,!1)&&(n[a]=s)},this),i&&this.captureAnimationState(),t.forEach(function(a){n[a]&&(r.removeChild(n[a]),r.appendChild(n[a]))}),i&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,i){return zo(t,i||this.options.draggable,this.el,!1)},option:function(t,i){var n=this.options;if(i===void 0)return n[t];var r=ky.modifyOption(this,t,i);typeof r!="undefined"?n[t]=r:n[t]=i,t==="group"&&yN(n)},destroy:function(){Ln("destroy",this);var t=this.el;t[kr]=null,ot(t,"mousedown",this._onTapStart),ot(t,"touchstart",this._onTapStart),ot(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(ot(t,"dragover",this),ot(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(i){i.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ww.splice(ww.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!fc){if(Ln("hideClone",this),Me.eventCanceled)return;Pe(ni,"display","none"),this.options.removeCloneOnHide&&ni.parentNode&&ni.parentNode.removeChild(ni),fc=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(fc){if(Ln("showClone",this),Me.eventCanceled)return;oe.parentNode==Nt&&!this.options.group.revertClone?Nt.insertBefore(ni,oe):gu?Nt.insertBefore(ni,gu):Nt.appendChild(ni),this.options.group.revertClone&&this.animate(oe,ni),Pe(ni,"display",""),fc=!1}}};function ete(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Mb(e,t,i,n,r,a,o,s){var l,u=e[kr],h=u.options.onMove,m;return window.CustomEvent&&!pl&&!xy?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=i,l.draggedRect=n,l.related=r||t,l.relatedRect=a||Li(t),l.willInsertAfter=s,l.originalEvent=o,e.dispatchEvent(l),h&&(m=h.call(u,l,o)),m}function B_(e){e.draggable=!1}function tte(){W3=!1}function ite(e,t,i){var n=Li(sm(i.el,0,i.options,!0)),r=10;return t?e.clientX<n.left-r||e.clientY<n.top&&e.clientX<n.right:e.clientY<n.top-r||e.clientY<n.bottom&&e.clientX<n.left}function nte(e,t,i){var n=Li(qC(i.el,i.options.draggable)),r=10;return t?e.clientX>n.right+r||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+r}function rte(e,t,i,n,r,a,o,s){var l=n?e.clientY:e.clientX,u=n?i.height:i.width,h=n?i.top:i.left,m=n?i.bottom:i.right,f=!1;if(!o){if(s&&Hv<u*r){if(!eg&&(Q0===1?l>h+u*a/2:l<m-u*a/2)&&(eg=!0),eg)f=!0;else if(Q0===1?l<h+Hv:l>m-Hv)return-Q0}else if(l>h+u*(1-r)/2&&l<m-u*(1-r)/2)return ate(t)}return f=f||o,f&&(l<h+u*a/2||l>m-u*a/2)?l>h+u/2?1:-1:0}function ate(e){return Xr(oe)<Xr(e)?1:-1}function ote(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,n=0;i--;)n+=t.charCodeAt(i);return n.toString(36)}function ste(e){xw.length=0;for(var t=e.getElementsByTagName("input"),i=t.length;i--;){var n=t[i];n.checked&&xw.push(n)}}function qv(e){return setTimeout(e,0)}function J3(e){return clearTimeout(e)}Kx&&ht(document,"touchmove",function(e){(Me.active||Rh)&&e.cancelable&&e.preventDefault()});Me.utils={on:ht,off:ot,css:Pe,find:dN,is:function(t,i){return!!zo(t,i,t,!1)},extend:qee,throttle:hN,closest:zo,toggleClass:sr,clone:mN,index:Xr,nextTick:qv,cancelNextTick:J3,detectDirection:gN,getChild:sm};Me.get=function(e){return e[kr]};Me.mount=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t[0].constructor===Array&&(t=t[0]),t.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(Me.utils=es(es({},Me.utils),n.utils)),ky.mount(n)})};Me.create=function(e,t){return new Me(e,t)};Me.version=zee;var xi=[],Gf,K3,Y3=!1,U_,G_,kw,Wf;function lte(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(i){var n=i.originalEvent;this.sortable.nativeDraggable?ht(document,"dragover",this._handleAutoScroll):this.options.supportPointer?ht(document,"pointermove",this._handleFallbackAutoScroll):n.touches?ht(document,"touchmove",this._handleFallbackAutoScroll):ht(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(i){var n=i.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?ot(document,"dragover",this._handleAutoScroll):(ot(document,"pointermove",this._handleFallbackAutoScroll),ot(document,"touchmove",this._handleFallbackAutoScroll),ot(document,"mousemove",this._handleFallbackAutoScroll)),DA(),Bv(),Bee()},nulling:function(){kw=K3=Gf=Y3=Wf=U_=G_=null,xi.length=0},_handleFallbackAutoScroll:function(i){this._handleAutoScroll(i,!0)},_handleAutoScroll:function(i,n){var r=this,a=(i.touches?i.touches[0]:i).clientX,o=(i.touches?i.touches[0]:i).clientY,s=document.elementFromPoint(a,o);if(kw=i,n||this.options.forceAutoScrollFallback||xy||pl||Y0){W_(i,this.options,s,n);var l=vc(s,!0);Y3&&(!Wf||a!==U_||o!==G_)&&(Wf&&DA(),Wf=setInterval(function(){var u=vc(document.elementFromPoint(a,o),!0);u!==l&&(l=u,Bv()),W_(i,r.options,u,n)},10),U_=a,G_=o)}else{if(!this.options.bubbleScroll||vc(s,!0)===Wo()){Bv();return}W_(i,this.options,vc(s,!1),!1)}}},sl(e,{pluginName:"scroll",initializeByDefault:!0})}function Bv(){xi.forEach(function(e){clearInterval(e.pid)}),xi=[]}function DA(){clearInterval(Wf)}var W_=hN(function(e,t,i,n){if(!!t.scroll){var r=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,o=t.scrollSensitivity,s=t.scrollSpeed,l=Wo(),u=!1,h;K3!==i&&(K3=i,Bv(),Gf=t.scroll,h=t.scrollFn,Gf===!0&&(Gf=vc(i,!0)));var m=0,f=Gf;do{var g=f,b=Li(g),v=b.top,w=b.bottom,x=b.left,S=b.right,E=b.width,C=b.height,_=void 0,I=void 0,O=g.scrollWidth,R=g.scrollHeight,H=Pe(g),Y=g.scrollLeft,U=g.scrollTop;g===l?(_=E<O&&(H.overflowX==="auto"||H.overflowX==="scroll"||H.overflowX==="visible"),I=C<R&&(H.overflowY==="auto"||H.overflowY==="scroll"||H.overflowY==="visible")):(_=E<O&&(H.overflowX==="auto"||H.overflowX==="scroll"),I=C<R&&(H.overflowY==="auto"||H.overflowY==="scroll"));var ce=_&&(Math.abs(S-r)<=o&&Y+E<O)-(Math.abs(x-r)<=o&&!!Y),ne=I&&(Math.abs(w-a)<=o&&U+C<R)-(Math.abs(v-a)<=o&&!!U);if(!xi[m])for(var se=0;se<=m;se++)xi[se]||(xi[se]={});(xi[m].vx!=ce||xi[m].vy!=ne||xi[m].el!==g)&&(xi[m].el=g,xi[m].vx=ce,xi[m].vy=ne,clearInterval(xi[m].pid),(ce!=0||ne!=0)&&(u=!0,xi[m].pid=setInterval(function(){n&&this.layer===0&&Me.active._onTouchMove(kw);var Je=xi[this.layer].vy?xi[this.layer].vy*s:0,pe=xi[this.layer].vx?xi[this.layer].vx*s:0;typeof h=="function"&&h.call(Me.dragged.parentNode[kr],pe,Je,e,kw,xi[this.layer].el)!=="continue"||pN(xi[this.layer].el,pe,Je)}.bind({layer:m}),24))),m++}while(t.bubbleScroll&&f!==l&&(f=vc(f,!1)));Y3=u}},30),wN=function(t){var i=t.originalEvent,n=t.putSortable,r=t.dragEl,a=t.activeSortable,o=t.dispatchSortableEvent,s=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(!!i){var u=n||a;s();var h=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i,m=document.elementFromPoint(h.clientX,h.clientY);l(),u&&!u.el.contains(m)&&(o("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function BC(){}BC.prototype={startIndex:null,dragStart:function(t){var i=t.oldDraggableIndex;this.startIndex=i},onSpill:function(t){var i=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=sm(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(i,r):this.sortable.el.appendChild(i),this.sortable.animateAll(),n&&n.animateAll()},drop:wN};sl(BC,{pluginName:"revertOnSpill"});function UC(){}UC.prototype={onSpill:function(t){var i=t.dragEl,n=t.putSortable,r=n||this.sortable;r.captureAnimationState(),i.parentNode&&i.parentNode.removeChild(i),r.animateAll()},drop:wN};sl(UC,{pluginName:"removeOnSpill"});Me.mount(new lte);Me.mount(UC,BC);const J_={sortItem:"sort-item",container:"container",containerHorizontal:"container--horizontal",containerVertical:"container--vertical"},cte="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.container{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto}.container--vertical{-ms-flex-direction:column;flex-direction:column}.container--horizontal{-ms-flex-direction:row;flex-direction:row}",ute=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteListOrderChange=W(this,"calciteListOrderChange",7),this.handleSelector="calcite-handle",this.layout="vertical",this.disabled=!1,this.loading=!1,this.handleActivated=!1,this.items=[],this.mutationObserver=Vt("mutation",()=>{this.cleanUpDragAndDrop(),this.items=Array.from(this.el.children),this.setUpDragAndDrop()})}connectedCallback(){this.items=Array.from(this.el.children),this.setUpDragAndDrop(),this.beginObserving()}disconnectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect(),this.cleanUpDragAndDrop()}componentDidRender(){it(this)}calciteHandleNudgeHandler(e){var t;const i=this.items.find(s=>s.contains(e.detail.handle)||e.composedPath().includes(s)),n=this.items.length-1,r=this.items.indexOf(i);let a=!1,o;switch(e.detail.direction){case"up":e.preventDefault(),r===0?a=!0:o=r-1;break;case"down":e.preventDefault(),r===n?o=0:r===n-1?a=!0:o=r+2;break;default:return}(t=this.mutationObserver)===null||t===void 0||t.disconnect(),a?i.parentElement.appendChild(i):i.parentElement.insertBefore(i,this.items[o]),this.items=Array.from(this.el.children),e.detail.handle.activated=!0,e.detail.handle.setFocus(),this.beginObserving()}setUpDragAndDrop(){this.cleanUpDragAndDrop();const e={dataIdAttr:"id",group:this.group,handle:this.handleSelector,onUpdate:()=>{this.items=Array.from(this.el.children),this.calciteListOrderChange.emit()},onStart:()=>{var t;(t=this.mutationObserver)===null||t===void 0||t.disconnect()},onEnd:()=>{this.beginObserving()}};this.dragSelector&&(e.draggable=this.dragSelector),this.sortable=Me.create(this.el,e)}cleanUpDragAndDrop(){var e;(e=this.sortable)===null||e===void 0||e.destroy(),this.sortable=null}beginObserving(){var e;(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0,subtree:!0})}render(){const{layout:e}=this,t=e==="horizontal"||!1;return y("div",{class:{[J_.container]:!0,[J_.containerVertical]:!t,[J_.containerHorizontal]:t}},y("slot",null))}get el(){return this}static get style(){return cte}},vh={container:"split-button__container",dividerContainer:"split-button__divider-container",divider:"split-button__divider",widthAuto:"width-auto",widthHalf:"width-half",widthFull:"width-full"},dte="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:inline-block}:host .split-button__container{display:-ms-flexbox;display:flex;-ms-flex-align:stretch;align-items:stretch}:host .split-button__container>calcite-dropdown>calcite-button{height:100%;vertical-align:top}:host([appearance=solid]):host([color=blue]){--calcite-split-button-background:var(--calcite-ui-brand);--calcite-split-button-divider:var(--calcite-ui-foreground-1)}:host([appearance=solid]):host([color=red]){--calcite-split-button-background:var(--calcite-ui-danger);--calcite-split-button-divider:var(--calcite-ui-foreground-1)}:host([appearance=solid]):host([color=neutral]){--calcite-split-button-background:var(--calcite-ui-foreground-3);--calcite-split-button-divider:var(--calcite-ui-text-1)}:host([appearance=solid]):host([color=inverse]){--calcite-split-button-background:var(--calcite-ui-inverse);--calcite-split-button-divider:var(--calcite-ui-foreground-1)}:host([appearance=transparent]):host([color=blue]){--calcite-split-button-divider:var(--calcite-ui-brand)}:host([appearance=transparent]):host([color=red]){--calcite-split-button-divider:var(--calcite-ui-danger)}:host([appearance=transparent]):host([color=neutral]){--calcite-split-button-divider:var(--calcite-ui-text-1)}:host([appearance=transparent]):host([color=inverse]){--calcite-split-button-divider:var(--calcite-ui-foreground-1)}:host([appearance=clear]),:host([appearance=transparent]){--calcite-split-button-background:transparent}:host([appearance=outline]){--calcite-split-button-background:var(--calcite-ui-foreground-1)}:host([appearance=clear]):host([color=blue]),:host([appearance=outline]):host([color=blue]){--calcite-split-button-divider:var(--calcite-ui-brand)}:host([appearance=clear]):host([color=red]),:host([appearance=outline]):host([color=red]){--calcite-split-button-divider:var(--calcite-ui-danger)}:host([appearance=clear]):host([color=neutral]),:host([appearance=outline]):host([color=neutral]){--calcite-split-button-divider:var(--calcite-ui-foreground-3)}:host([appearance=clear]):host([color=inverse]),:host([appearance=outline]):host([color=inverse]){--calcite-split-button-divider:var(--calcite-ui-inverse)}.width-auto{width:auto}.width-half{width:50%}.width-full{width:100%}.split-button__divider-container{display:-ms-flexbox;display:flex;width:1px;-ms-flex-align:stretch;align-items:stretch;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;background-color:var(--calcite-split-button-background)}.split-button__divider{margin-top:0.25rem;margin-bottom:0.25rem;display:inline-block;width:1px;background-color:var(--calcite-split-button-divider)}:host([appearance=outline]) .split-button__divider-container,:host([appearance=clear]) .split-button__divider-container{border-top:1px solid var(--calcite-split-button-divider);border-bottom:1px solid var(--calcite-split-button-divider)}:host([appearance=outline]):hover .split-button__divider-container,:host([appearance=clear]):hover .split-button__divider-container{background-color:var(--calcite-split-button-divider)}:host([appearance=outline]:hover) .split-button__divider-container,:host([appearance=clear]:hover) .split-button__divider-container{background-color:var(--calcite-split-button-divider)}:host([appearance=outline]:focus-within):host([color=blue]),:host([appearance=clear]:focus-within):host([color=blue]){--calcite-split-button-divider:var(--calcite-ui-brand-press)}:host([appearance=outline]:focus-within):host([color=red]),:host([appearance=clear]:focus-within):host([color=red]){--calcite-split-button-divider:var(--calcite-ui-danger-press)}:host([appearance=outline]:focus-within) .split-button__divider-container,:host([appearance=clear]:focus-within) .split-button__divider-container{background-color:var(--calcite-split-button-divider)}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) .split-button__divider-container{opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) calcite-dropdown>calcite-button{pointer-events:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}",hte=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteSplitButtonPrimaryClick=W(this,"calciteSplitButtonPrimaryClick",7),this.calciteSplitButtonSecondaryClick=W(this,"calciteSplitButtonSecondaryClick",7),this.appearance="solid",this.color="blue",this.disabled=!1,this.active=!1,this.dropdownIconType="chevron",this.loading=!1,this.overlayPositioning="absolute",this.scale="m",this.width="auto",this.calciteSplitButtonPrimaryClickHandler=e=>this.calciteSplitButtonPrimaryClick.emit(e),this.calciteSplitButtonSecondaryClickHandler=e=>this.calciteSplitButtonSecondaryClick.emit(e)}handleDisabledChange(e){e||(this.active=!1)}activeHandler(){this.disabled&&(this.active=!1)}componentDidRender(){it(this)}render(){const e={[vh.container]:!0,[vh.widthAuto]:this.width==="auto",[vh.widthHalf]:this.width==="half",[vh.widthFull]:this.width==="full"},t=this.width==="auto"?"auto":"full";return y("div",{class:e},y("calcite-button",{appearance:this.appearance,color:this.color,disabled:this.disabled,"icon-end":this.primaryIconEnd?this.primaryIconEnd:null,"icon-start":this.primaryIconStart?this.primaryIconStart:null,iconFlipRtl:this.primaryIconFlipRtl?this.primaryIconFlipRtl:null,label:this.primaryLabel,loading:this.loading,onClick:this.calciteSplitButtonPrimaryClickHandler,scale:this.scale,splitChild:"primary",type:"button",width:t},this.primaryText),y("div",{class:vh.dividerContainer},y("div",{class:vh.divider})),y("calcite-dropdown",{active:this.active,disabled:this.disabled,onClick:this.calciteSplitButtonSecondaryClickHandler,overlayPositioning:this.overlayPositioning,placement:"bottom-trailing",scale:this.scale,width:this.scale},y("calcite-button",{appearance:this.appearance,color:this.color,disabled:this.disabled,"icon-start":this.dropdownIcon,label:this.dropdownLabel,scale:this.scale,slot:"dropdown-trigger",splitChild:"secondary",type:"button"}),y("slot",null)))}get dropdownIcon(){return this.dropdownIconType==="chevron"?"chevronDown":this.dropdownIconType==="caret"?"caretDown":this.dropdownIconType==="ellipsis"?"ellipsis":"handle-vertical"}get el(){return this}static get watchers(){return{disabled:["handleDisabledChange"],active:["activeHandler"]}}static get style(){return dte}},pte="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:-ms-flexbox;display:flex;width:100%;min-width:100%;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:stretch;align-items:stretch;-ms-flex-pack:justify;justify-content:space-between}:host([layout=vertical]){-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-direction:column;flex-direction:column}:host ::slotted(.calcite-stepper-content){display:-ms-flexbox;display:flex;width:100%;min-width:100%;-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:wrap;flex-wrap:wrap}",mte=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteStepperItemChange=W(this,"calciteStepperItemChange",7),this.icon=!1,this.layout="horizontal",this.numbered=!1,this.scale="m",this.items=[],this.sortedItems=[]}contentWatcher(){this.layout==="horizontal"&&(!this.stepperContentContainer&&this.requestedContent&&this.addHorizontalContentContainer(),this.updateContent(this.requestedContent))}componentDidLoad(){this.currentPosition||this.calciteStepperItemChange.emit({position:0})}componentWillLoad(){this.layout==="horizontal"&&!this.stepperContentContainer&&this.addHorizontalContentContainer()}render(){return y("slot",null)}calciteStepperItemKeyEvent(e){const t=e.detail.item,i=e.target,n=this.itemIndex(i)===0,r=this.itemIndex(i)===this.sortedItems.length-1;switch(t.key){case"ArrowDown":case"ArrowRight":r?this.focusFirstItem():this.focusNextItem(i);break;case"ArrowUp":case"ArrowLeft":n?this.focusLastItem():this.focusPrevItem(i);break;case"Home":this.focusFirstItem();break;case"End":this.focusLastItem();break}}registerItem(e){const t={item:e.target,position:e.detail.position,content:e.detail.content};t.content&&t.item.active&&(this.requestedContent=t.content),this.items.includes(t)||this.items.push(t),this.sortedItems=this.sortItems()}updateItem(e){e.detail.content&&(this.requestedContent=e.detail.content),this.currentPosition=e.detail.position,this.calciteStepperItemChange.emit({position:this.currentPosition})}async nextStep(){this.currentPosition=this.currentPosition+1<this.items.length?this.currentPosition+1:this.currentPosition,this.emitChangedItem()}async prevStep(){this.currentPosition=this.currentPosition-1>=0?this.currentPosition-1:this.currentPosition,this.emitChangedItem()}async goToStep(e){this.currentPosition=e-1,this.emitChangedItem()}async startStep(){this.currentPosition=0,this.emitChangedItem()}async endStep(){this.currentPosition=this.items.length-1,this.emitChangedItem()}addHorizontalContentContainer(){this.stepperContentContainer=document.createElement("div"),this.stepperContentContainer.classList.add("calcite-stepper-content"),this.el.insertAdjacentElement("beforeend",this.stepperContentContainer)}emitChangedItem(){this.calciteStepperItemChange.emit({position:this.currentPosition})}focusFirstItem(){const e=this.sortedItems[0];this.focusElement(e)}focusLastItem(){const e=this.sortedItems[this.sortedItems.length-1];this.focusElement(e)}focusNextItem(e){const t=this.itemIndex(e),i=this.sortedItems[t+1]||this.sortedItems[0];this.focusElement(i)}focusPrevItem(e){const t=this.itemIndex(e),i=this.sortedItems[t-1]||this.sortedItems[this.sortedItems.length-1];this.focusElement(i)}itemIndex(e){return this.sortedItems.indexOf(e)}focusElement(e){e.focus()}sortItems(){const e=Array.from(this.items).filter(t=>!t.item.disabled).sort((t,i)=>t.position-i.position).map(t=>t.item);return[...Array.from(new Set(e))]}updateContent(e){this.stepperContentContainer.innerHTML="",this.stepperContentContainer.append(...e)}get el(){return this}static get watchers(){return{requestedContent:["contentWatcher"]}}static get style(){return pte}},fte="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host([scale=s]){--calcite-stepper-item-spacing-unit-s:0.25rem;--calcite-stepper-item-spacing-unit-m:0.75rem;--calcite-stepper-item-spacing-unit-l:1rem;font-size:var(--calcite-font-size--1);line-height:1rem;-webkit-margin-end:0.25rem;margin-inline-end:0.25rem}:host([scale=s]) .stepper-item-subtitle{font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=m]){--calcite-stepper-item-spacing-unit-s:0.5rem;--calcite-stepper-item-spacing-unit-m:1rem;--calcite-stepper-item-spacing-unit-l:1.25rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;-webkit-margin-end:0.5rem;margin-inline-end:0.5rem}:host([scale=m]) .stepper-item-subtitle{font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]){--calcite-stepper-item-spacing-unit-s:0.75rem;--calcite-stepper-item-spacing-unit-m:1.25rem;--calcite-stepper-item-spacing-unit-l:1.5rem;font-size:var(--calcite-font-size-1);line-height:1.5rem;-webkit-margin-end:0.75rem;margin-inline-end:0.75rem}:host([scale=l]) .stepper-item-subtitle{font-size:var(--calcite-font-size-0);line-height:1.25rem}:host{position:relative;display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-direction:column;flex-direction:column;margin-bottom:var(--calcite-stepper-item-spacing-unit-s)}:host .container{position:relative;display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;cursor:pointer;-ms-flex-direction:column;flex-direction:column;border-width:0px;border-top-width:2px;border-style:solid;border-color:var(--calcite-ui-border-3);color:var(--calcite-ui-text-3);-webkit-text-decoration-line:none;text-decoration-line:none;outline:2px solid transparent;outline-offset:2px;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}:host(:focus){outline:2px solid var(--calcite-ui-brand);outline-offset:2px}:host .stepper-item-header{display:-ms-flexbox;display:flex;cursor:pointer;-ms-flex-align:start;align-items:flex-start}:host .stepper-item-content,:host .stepper-item-header{-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);padding-block:var(--calcite-stepper-item-spacing-unit-l);-webkit-padding-end:var(--calcite-stepper-item-spacing-unit-m);padding-inline-end:var(--calcite-stepper-item-spacing-unit-m);text-align:start}:host .stepper-item-header *{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host .stepper-item-content{display:none;width:100%;-ms-flex-direction:column;flex-direction:column;font-size:var(--calcite-font-size--2);line-height:1.375}:host .stepper-item-icon{-webkit-margin-end:var(--calcite-stepper-item-spacing-unit-m);margin-inline-end:var(--calcite-stepper-item-spacing-unit-m);margin-top:1px;display:-ms-inline-flexbox;display:inline-flex;height:0.75rem;-ms-flex-negative:0;flex-shrink:0;-ms-flex-item-align:start;align-self:flex-start;color:var(--calcite-ui-text-3);opacity:var(--calcite-ui-opacity-disabled);-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host .stepper-item-header-text{-ms-flex-direction:column;flex-direction:column;text-align:initial;-webkit-margin-end:auto;margin-inline-end:auto}:host .stepper-item-title,:host .stepper-item-subtitle{display:-ms-flexbox;display:flex;width:100%}:host .stepper-item-title{margin-bottom:0.25rem;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-2)}:host .stepper-item-subtitle{color:var(--calcite-ui-text-3)}:host .stepper-item-number{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-3);-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-margin-end:var(--calcite-stepper-item-spacing-unit-m);margin-inline-end:var(--calcite-stepper-item-spacing-unit-m)}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([complete]) .container{border-color:rgba(0, 122, 194, 0.5)}:host([complete]) .container .stepper-item-icon{color:var(--calcite-ui-brand)}:host([error]) .container{border-top-color:var(--calcite-ui-danger)}:host([error]) .container .stepper-item-number{color:var(--calcite-ui-danger)}:host([error]) .container .stepper-item-icon{opacity:1;color:var(--calcite-ui-danger)}:host(:hover:not([disabled]):not([active])) .container,:host(:focus:not([disabled]):not([active])) .container{border-top-color:var(--calcite-ui-brand)}:host(:hover:not([disabled]):not([active])) .container .stepper-item-title,:host(:focus:not([disabled]):not([active])) .container .stepper-item-title{color:var(--calcite-ui-text-1)}:host(:hover:not([disabled]):not([active])) .container .stepper-item-subtitle,:host(:focus:not([disabled]):not([active])) .container .stepper-item-subtitle{color:var(--calcite-ui-text-2)}:host([error]:hover:not([disabled]):not([active])) .container,:host([error]:focus:not([disabled]):not([active])) .container{border-top-color:var(--calcite-ui-danger-hover)}:host([active]) .container{border-top-color:var(--calcite-ui-brand)}:host([active]) .container .stepper-item-title{color:var(--calcite-ui-text-1)}:host([active]) .container .stepper-item-subtitle{color:var(--calcite-ui-text-2)}:host([active]) .container .stepper-item-number{color:var(--calcite-ui-brand)}:host([active]) .container .stepper-item-icon{color:var(--calcite-ui-brand);opacity:1}:host([layout=vertical]) .container{margin-left:0px;margin-right:0px;margin-top:0px;-ms-flex:1 1 auto;flex:1 1 auto;border-top-width:0px;border-style:solid;border-color:var(--calcite-ui-border-3);padding-top:0px;padding-bottom:0px;border-inline-start-width:2px;-webkit-padding-start:var(--calcite-stepper-item-spacing-unit-l);padding-inline-start:var(--calcite-stepper-item-spacing-unit-l)}:host([layout=vertical]) .container .stepper-item-icon{-ms-flex-order:3;order:3;margin-top:1px;margin-bottom:0px;-webkit-padding-start:var(--calcite-stepper-item-spacing-unit-s);padding-inline-start:var(--calcite-stepper-item-spacing-unit-s);-webkit-margin-start:auto;margin-inline-start:auto}:host([layout=vertical]) .container .stepper-item-header{-webkit-padding-end:0px;padding-inline-end:0px}:host([layout=vertical]) .container .stepper-item-content{padding:0px}:host([layout=vertical][active]) .container .stepper-item-content{display:-ms-flexbox;display:flex}:host([layout=vertical][active]) .container .stepper-item-content ::slotted(:last-child){margin-bottom:var(--calcite-stepper-item-spacing-unit-l)}:host([layout=vertical][complete]) .container{border-color:rgba(0, 122, 194, 0.5)}:host([layout=vertical][complete]:hover:not([disabled]):not([active])) .container,:host([layout=vertical][complete]:focus:not([disabled]):not([active])) .container{border-color:var(--calcite-ui-brand)}:host([layout=vertical][error]) .container{border-color:var(--calcite-ui-danger)}:host([layout=vertical][active]) .container{border-color:var(--calcite-ui-brand)}:host([layout=vertical]:hover:not([disabled]):not([active])) .container,:host([layout=vertical]:focus:not([disabled]):not([active])) .container{border-color:rgba(0, 122, 194, 0.5)}:host([layout=vertical][error]:hover:not([disabled]):not([active])) .container,:host([layout=vertical][error]:focus:not([disabled]):not([active])) .container{border-color:var(--calcite-ui-danger-hover)}",gte=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteStepperItemKeyEvent=W(this,"calciteStepperItemKeyEvent",7),this.calciteStepperItemSelect=W(this,"calciteStepperItemSelect",7),this.calciteStepperItemRegister=W(this,"calciteStepperItemRegister",7),this.active=!1,this.complete=!1,this.error=!1,this.disabled=!1,this.icon=!1,this.numbered=!1,this.scale="m"}disabledWatcher(){this.registerStepperItem()}componentWillLoad(){this.icon=Kt(this.el,"icon",!1),this.numbered=Kt(this.el,"numbered",!1),this.layout=Kt(this.el,"layout",!1),this.scale=Kt(this.el,"scale","m"),this.parentStepperEl=this.el.parentElement}componentDidLoad(){this.itemPosition=this.getItemPosition(),this.itemContent=this.getItemContent(),this.registerStepperItem(),this.active&&this.emitRequestedItem()}componentDidUpdate(){this.active&&this.emitRequestedItem()}componentDidRender(){it(this,!0)}render(){return y(ze,{"aria-expanded":this.active.toString(),onClick:()=>this.emitRequestedItem()},y("div",{class:"container"},y("div",{class:"stepper-item-header"},this.icon?this.renderIcon():null,this.numbered?y("div",{class:"stepper-item-number"},this.getItemPosition()+1,"."):null,y("div",{class:"stepper-item-header-text"},y("span",{class:"stepper-item-title"},this.itemTitle),y("span",{class:"stepper-item-subtitle"},this.itemSubtitle))),y("div",{class:"stepper-item-content"},y("slot",null))))}keyDownHandler(e){if(!this.disabled&&e.target===this.el)switch(e.key){case" ":case"Enter":this.emitRequestedItem(),e.preventDefault();break;case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"Home":case"End":this.calciteStepperItemKeyEvent.emit({item:e}),e.preventDefault();break}}updateActiveItemOnChange(e){e.target===this.parentStepperEl&&(this.activePosition=e.detail.position,this.determineActiveItem())}renderIcon(){const e=this.active?"circleF":this.error?"exclamationMarkCircleF":this.complete?"checkCircleF":"circle";return y("calcite-icon",{class:"stepper-item-icon",icon:e,scale:"s"})}determineActiveItem(){this.active=!this.disabled&&this.itemPosition===this.activePosition}registerStepperItem(){this.calciteStepperItemRegister.emit({position:this.itemPosition,content:this.itemContent})}emitRequestedItem(){this.disabled||this.calciteStepperItemSelect.emit({position:this.itemPosition,content:this.itemContent})}getItemContent(){var e;return!((e=this.el.shadowRoot)===null||e===void 0)&&e.querySelector("slot")?this.el.shadowRoot.querySelector("slot").assignedNodes({flatten:!0}):this.el.querySelector(".stepper-item-content")?this.el.querySelector(".stepper-item-content").childNodes:null}getItemPosition(){return Array.prototype.indexOf.call(this.parentStepperEl.querySelectorAll("calcite-stepper-item"),this.el)}get el(){return this}static get watchers(){return{disabled:["disabledWatcher"]}}static get style(){return fte}},yte="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host([scale=s]) .container{height:0.75rem}:host([scale=s]) .track{height:0.75rem;width:1.5rem}:host([scale=s]) .handle{height:0.5rem;width:0.5rem}:host([scale=m]) .container{height:1rem}:host([scale=m]) .track{height:1rem;width:2rem}:host([scale=m]) .handle{height:0.75rem;width:0.75rem}:host([scale=l]) .container{height:1.5rem}:host([scale=l]) .track{height:1.5rem;width:3rem}:host([scale=l]) .handle{height:1.25rem;width:1.25rem}:host{position:relative;display:inline-block;width:auto;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;tap-highlight-color:transparent}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host{width:auto;outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}.track{pointer-events:none;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;border-radius:9999px;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-2);background-color:var(--calcite-ui-foreground-2);vertical-align:top;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.handle{pointer-events:none;position:absolute;display:block;border-radius:9999px;border-width:2px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-foreground-1);-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);top:-1px;inset-inline:-1px auto}:host(:hover) .handle,:host(:focus) .handle{border-color:var(--calcite-ui-brand);-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-brand);box-shadow:inset 0 0 0 1px var(--calcite-ui-brand)}:host([checked]) .track{border-color:var(--calcite-ui-brand-hover);background-color:var(--calcite-ui-brand)}:host([checked]) .handle{border-color:var(--calcite-ui-brand);inset-inline:auto -1px}:host([checked]:hover) .track{border-color:var(--calcite-ui-brand-hover);background-color:var(--calcite-ui-brand)}:host([checked]:hover) .handle{border-color:var(--calcite-ui-brand-hover);-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-brand-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-brand-hover)}@media (forced-colors: active){:host([checked]) .track{background-color:canvasText}}.container:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}::slotted(input[slot=hidden-form-input]){bottom:0 !important;left:0 !important;margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;right:0 !important;top:0 !important;-webkit-transform:none !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",bte=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteSwitchChange=W(this,"calciteSwitchChange",7),this.disabled=!1,this.scale="m",this.switched=!1,this.checked=!1,this.keyDownHandler=e=>{const t=e.key;!this.disabled&&(t===" "||t==="Enter")&&this.toggle()},this.clickHandler=()=>{this.toggle()},this.setSwitchEl=e=>{this.switchEl=e}}switchedWatcher(e){this.checked=e}async setFocus(){ai(this.switchEl)}onLabelClick(){this.disabled||(this.toggle(),this.setFocus())}toggle(){this.checked=!this.checked,this.calciteSwitchChange.emit({switched:this.checked})}connectedCallback(){const e=this.checked||this.switched;e&&(this.switched=this.checked=e),tr(this),so(this)}disconnectedCallback(){Ar(this),lo(this)}componentDidRender(){it(this)}render(){return y(ze,{onKeyDown:this.keyDownHandler},y("div",{"aria-checked":this.checked.toString(),"aria-label":Zo(this),class:"container",onClick:this.clickHandler,ref:this.setSwitchEl,role:"switch",tabIndex:0},y("div",{class:"track"},y("div",{class:"handle"})),y(co,{component:this})))}get el(){return this}static get watchers(){return{switched:["switchedWatcher"]}}static get style(){return yte}},vte="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host([active]) section{display:block}:host{display:none;height:100%;width:100%}:host([active]){display:block;height:100%;width:100%;overflow:auto}section{display:none;height:100%;width:100%}:host([scale=s]){padding-top:0.25rem;padding-bottom:0.25rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=m]){padding-top:0.5rem;padding-bottom:0.5rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]){padding-top:0.75rem;padding-bottom:0.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}",wte=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteTabRegister=W(this,"calciteTabRegister",7),this.active=!1,this.scale="m",this.guid=`calcite-tab-title-${li()}`}render(){const e=this.el.id||this.guid;return y(ze,{"aria-expanded":this.active.toString(),"aria-labelledby":this.labeledBy,id:e,role:"tabpanel"},y("section",null,y("slot",null)))}componentDidLoad(){this.calciteTabRegister.emit()}componentWillRender(){var e;this.scale=(e=this.el.closest("calcite-tabs"))===null||e===void 0?void 0:e.scale}disconnectedCallback(){var e;(e=document.body)===null||e===void 0||e.dispatchEvent(new CustomEvent("calciteTabUnregister",{detail:this.el}))}tabChangeHandler(e){!e.composedPath().includes(this.el.closest("calcite-tabs"))||(this.tab?this.active=this.tab===e.detail.tab:this.getTabIndex().then(t=>{this.active=t===e.detail.tab}))}async getTabIndex(){return Array.prototype.indexOf.call(Ka(this.el.parentElement.children).filter(e=>e.matches("calcite-tab")),this.el)}async updateAriaInfo(e=[],t=[]){this.labeledBy=t[e.indexOf(this.el.id)]||null}get el(){return this}static get style(){return vte}},xte="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:-ms-flexbox;display:flex}:host([scale=s]){min-height:1.5rem}:host([scale=m]){min-height:2rem}:host([scale=l]){min-height:2.75rem}.tab-nav{display:-ms-flexbox;display:flex;width:100%;-ms-flex-pack:start;justify-content:flex-start;overflow:auto}:host([layout=center]) .tab-nav{-ms-flex-pack:center;justify-content:center}.tab-nav-active-indicator-container{position:absolute;left:0px;right:0px;bottom:0px;height:0.125rem;width:100%;overflow:hidden}.tab-nav-active-indicator{position:absolute;bottom:0px;display:block;height:0.125rem;background-color:var(--calcite-ui-brand);-webkit-transition-property:all;transition-property:all;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0, 0, 0.2, 1);transition-timing-function:cubic-bezier(0, 0, 0.2, 1)}:host([position=below]) .tab-nav-active-indicator{bottom:unset;top:0px}:host([position=below]) .tab-nav-active-indicator-container{bottom:unset;top:0px}:host([bordered]) .tab-nav-active-indicator-container{bottom:unset}:host([bordered][position=below]) .tab-nav-active-indicator-container{bottom:0;top:unset}",kte=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteTabChange=W(this,"calciteTabChange",7),this.scale="m",this.layout="inline",this.position="below",this.bordered=!1,this.animationActiveDuration=.3,this.handleContainerScroll=()=>{this.activeIndicatorEl.style.transitionDuration="0s",this.updateOffsetPosition()}}async selectedTabChanged(){localStorage&&this.storageId&&this.selectedTab!==void 0&&this.selectedTab!==null&&localStorage.setItem(`calcite-tab-nav-${this.storageId}`,JSON.stringify(this.selectedTab)),this.calciteTabChange.emit({tab:this.selectedTab}),this.selectedTabEl=await this.getTabTitleById(this.selectedTab)}selectedTabElChanged(){this.updateOffsetPosition(),this.updateActiveWidth(),this.activeIndicatorEl.style.transitionDuration=`${this.animationActiveDuration}s`}componentWillLoad(){const e=`calcite-tab-nav-${this.storageId}`;if(localStorage&&this.storageId&&localStorage.getItem(e)){const t=JSON.parse(localStorage.getItem(e));this.selectedTab=t,this.calciteTabChange.emit({tab:this.selectedTab})}}componentWillRender(){var e,t,i,n;this.layout=(e=this.el.closest("calcite-tabs"))===null||e===void 0?void 0:e.layout,this.position=(t=this.el.closest("calcite-tabs"))===null||t===void 0?void 0:t.position,this.scale=(i=this.el.closest("calcite-tabs"))===null||i===void 0?void 0:i.scale,this.bordered=(n=this.el.closest("calcite-tabs"))===null||n===void 0?void 0:n.bordered,this.selectedTabEl&&this.updateOffsetPosition()}componentDidRender(){this.tabTitles.length&&this.tabTitles.every(e=>!e.active)&&!this.selectedTab&&this.tabTitles[0].getTabIdentifier().then(e=>{this.calciteTabChange.emit({tab:e})})}render(){const e=Fi(this.el),t=`${this.indicatorWidth}px`,i=`${this.indicatorOffset}px`,n=e!=="rtl"?{width:t,left:i}:{width:t,right:i};return y(ze,{role:"tablist"},y("div",{class:"tab-nav",onScroll:this.handleContainerScroll,ref:r=>this.tabNavEl=r},y("div",{class:"tab-nav-active-indicator-container",ref:r=>this.activeIndicatorContainerEl=r},y("div",{class:"tab-nav-active-indicator",ref:r=>this.activeIndicatorEl=r,style:n})),y("slot",null)))}resizeHandler(){this.activeIndicatorEl.style.transitionDuration="0s",this.updateActiveWidth(),this.updateOffsetPosition()}focusPreviousTabHandler(e){const t=this.getIndexOfTabTitle(e.target,this.enabledTabTitles);(this.enabledTabTitles[t-1]||this.enabledTabTitles[this.enabledTabTitles.length-1]).focus(),e.stopPropagation(),e.preventDefault()}focusNextTabHandler(e){const t=this.getIndexOfTabTitle(e.target,this.enabledTabTitles);(this.enabledTabTitles[t+1]||this.enabledTabTitles[0]).focus(),e.stopPropagation(),e.preventDefault()}activateTabHandler(e){this.selectedTab=e.detail.tab?e.detail.tab:this.getIndexOfTabTitle(e.target),e.stopPropagation(),e.preventDefault()}updateTabTitles(e){e.target.active&&(this.selectedTab=e.detail)}globalTabChangeHandler(e){this.syncId&&e.target!==this.el&&e.target.syncId===this.syncId&&this.selectedTab!==e.detail.tab&&(this.selectedTab=e.detail.tab)}updateOffsetPosition(){var e,t,i,n,r;const a=Fi(this.el),o=(e=this.activeIndicatorContainerEl)===null||e===void 0?void 0:e.offsetWidth,s=(t=this.selectedTabEl)===null||t===void 0?void 0:t.offsetLeft,l=(i=this.selectedTabEl)===null||i===void 0?void 0:i.offsetWidth,u=o-(s+l);this.indicatorOffset=a!=="rtl"?s-((n=this.tabNavEl)===null||n===void 0?void 0:n.scrollLeft):u+((r=this.tabNavEl)===null||r===void 0?void 0:r.scrollLeft)}updateActiveWidth(){var e;this.indicatorWidth=(e=this.selectedTabEl)===null||e===void 0?void 0:e.offsetWidth}getIndexOfTabTitle(e,t=this.tabTitles){return t.indexOf(e)}async getTabTitleById(e){return Promise.all(this.tabTitles.map(t=>t.getTabIdentifier())).then(t=>this.tabTitles[t.indexOf(e)])}get tabTitles(){return N3(this.el,"calcite-tab-title")}get enabledTabTitles(){return N3(this.el,"calcite-tab-title:not([disabled])")}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"],selectedTabEl:["selectedTabElChanged"]}}static get style(){return xte}},_te="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{margin-right:1.25rem;display:block;-ms-flex:0 1 auto;flex:0 1 auto;outline:2px solid transparent;outline-offset:2px;-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-end:1.25rem;margin-inline-end:1.25rem}:host([layout=center]){margin-top:0px;margin-bottom:0px;margin-left:1.25rem;margin-right:1.25rem;text-align:center;-ms-flex-preferred-size:12rem;flex-basis:12rem}:host([position=below]) a{border-bottom-width:0px;border-top-width:2px;border-top-color:transparent;border-top-style:solid}:host a{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}:host(:focus) a{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}:host(:active) a,:host(:focus) a,:host(:hover) a{border-color:var(--calcite-ui-border-2);color:var(--calcite-ui-text-1);-webkit-text-decoration-line:none;text-decoration-line:none}:host([active]) a{border-color:transparent;color:var(--calcite-ui-text-1)}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) span,:host([disabled]) a{pointer-events:none;opacity:0.5}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale=s]){-webkit-margin-end:1rem;margin-inline-end:1rem}:host([scale=s]) a,:host([scale=s]) span{padding-top:0.25rem;padding-bottom:0.25rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=m]) a,:host([scale=m]) span{padding-top:0.5rem;padding-bottom:0.5rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]){-webkit-margin-end:1.5rem;margin-inline-end:1.5rem}:host([scale=l]) a,:host([scale=l]) span{padding-top:0.75rem;padding-bottom:0.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}a,span{-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;height:100%;width:100%;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;-ms-flex-pack:center;justify-content:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-bottom-width:2px;padding-left:0px;padding-right:0px;padding-top:0.5rem;padding-bottom:0.5rem;font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-ui-text-3);-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;border-bottom-color:transparent;border-bottom-style:solid}span{cursor:default}.calcite-tab-title--icon{position:relative;margin:0px;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-item-align:center;align-self:center}.calcite-tab-title--icon svg{-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s}.container--has-text{padding:0.25rem}.container--has-text .calcite-tab-title--icon.icon-start{-webkit-margin-end:0.5rem;margin-inline-end:0.5rem}.container--has-text .calcite-tab-title--icon.icon-end{-webkit-margin-start:0.5rem;margin-inline-start:0.5rem}:host([icon-start][icon-end]) .calcite-tab-title--icon:first-child{-webkit-margin-end:0.5rem;margin-inline-end:0.5rem}:host([bordered]){-webkit-margin-end:0;margin-inline-end:0}:host([bordered][active]){-webkit-box-shadow:inset 0px -2px var(--calcite-ui-foreground-1);box-shadow:inset 0px -2px var(--calcite-ui-foreground-1)}:host([bordered][active][position=below]){-webkit-box-shadow:inset 0 2px 0 var(--calcite-ui-foreground-1);box-shadow:inset 0 2px 0 var(--calcite-ui-foreground-1)}:host([bordered]:hover) a,:host([bordered]:focus) a,:host([bordered]:active) a{position:relative}:host([bordered]:hover) a{background-color:var(--calcite-button-transparent-hover);-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s}:host([bordered]) a{border-bottom-style:unset}:host([bordered][position=below]) a{border-top-style:unset}:host([active][bordered]) a{border-left:1px solid var(--calcite-ui-border-1);border-right:1px solid var(--calcite-ui-border-1)}:host([bordered]) a,:host([bordered]) span{padding-left:0.75rem;padding-right:0.75rem}:host([bordered][scale=s]) a,:host([bordered][scale=s]) span{padding-left:0.5rem;padding-right:0.5rem}:host([bordered][scale=l]) a,:host([bordered][scale=l]) span{padding-left:1rem;padding-right:1rem}",Ste=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteTabsActivate=W(this,"calciteTabsActivate",7),this.calciteTabsFocusNext=W(this,"calciteTabsFocusNext",7),this.calciteTabsFocusPrevious=W(this,"calciteTabsFocusPrevious",7),this.calciteTabTitleRegister=W(this,"calciteTabTitleRegister",7),this.active=!1,this.disabled=!1,this.bordered=!1,this.mutationObserver=Vt("mutation",()=>this.updateHasText()),this.hasText=!1,this.guid=`calcite-tab-title-${li()}`}activeTabChanged(){this.active&&this.emitActiveTab()}connectedCallback(){this.setupTextContentObserver(),this.parentTabNavEl=this.el.closest("calcite-tab-nav"),this.parentTabsEl=this.el.closest("calcite-tabs")}disconnectedCallback(){var e,t;(e=this.mutationObserver)===null||e===void 0||e.disconnect(),(t=document.body)===null||t===void 0||t.dispatchEvent(new CustomEvent("calciteTabTitleUnregister",{detail:this.el}))}componentWillLoad(){qc.isBrowser&&this.updateHasText(),this.tab&&this.active&&this.emitActiveTab()}componentWillRender(){this.parentTabsEl&&(this.layout=this.parentTabsEl.layout,this.position=this.parentTabsEl.position,this.scale=this.parentTabsEl.scale,this.bordered=this.parentTabsEl.bordered),!this.parentTabsEl&&this.parentTabNavEl&&(this.position=Kt(this.parentTabNavEl,"position",this.position),this.scale=Kt(this.parentTabNavEl,"scale",this.scale))}render(){const e=this.el.id||this.guid,t=this.bordered&&!this.disabled&&this.layout!=="center",i=y("calcite-icon",{class:"calcite-tab-title--icon icon-start",flipRtl:this.iconFlipRtl==="start"||this.iconFlipRtl==="both",icon:this.iconStart,scale:"s"}),n=y("calcite-icon",{class:"calcite-tab-title--icon icon-end",flipRtl:this.iconFlipRtl==="end"||this.iconFlipRtl==="both",icon:this.iconEnd,scale:"s"});return y(ze,{"aria-controls":this.controls,"aria-expanded":this.active.toString(),id:e,role:"tab"},y("a",{class:{container:!0,"container--has-text":this.hasText},style:t&&{width:`${this.parentTabNavEl.indicatorWidth}px`}},this.iconStart?i:null,y("slot",null),this.iconEnd?n:null))}async componentDidLoad(){this.calciteTabTitleRegister.emit(await this.getTabIdentifier())}componentDidRender(){it(this,!0)}tabChangeHandler(e){e.composedPath().includes(this.parentTabNavEl)&&(this.tab?this.active=this.tab===e.detail.tab:this.getTabIndex().then(t=>{this.active=t===e.detail.tab}))}onClick(){this.emitActiveTab()}keyDownHandler(e){switch(e.key){case" ":case"Enter":this.emitActiveTab(),e.preventDefault();break;case"ArrowRight":Fi(this.el)==="ltr"?this.calciteTabsFocusNext.emit():this.calciteTabsFocusPrevious.emit();break;case"ArrowLeft":Fi(this.el)==="ltr"?this.calciteTabsFocusPrevious.emit():this.calciteTabsFocusNext.emit();break}}async getTabIndex(){return Array.prototype.indexOf.call(this.el.parentElement.querySelectorAll("calcite-tab-title"),this.el)}async getTabIdentifier(){return this.tab?this.tab:this.getTabIndex()}async updateAriaInfo(e=[],t=[]){this.controls=e[t.indexOf(this.el.id)]||null}updateHasText(){this.hasText=this.el.textContent.trim().length>0}setupTextContentObserver(){var e;(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0,subtree:!0})}emitActiveTab(){this.disabled||this.calciteTabsActivate.emit({tab:this.tab})}get el(){return this}static get watchers(){return{active:["activeTabChanged"]}}static get style(){return _te}},Dte={tabNav:"tab-nav"},$te="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host([bordered]){-webkit-box-shadow:inset 0 1px 0 var(--calcite-ui-border-1);box-shadow:inset 0 1px 0 var(--calcite-ui-border-1);background-color:var(--calcite-ui-foreground-1)}:host([bordered]:not([position=below])) ::slotted(calcite-tab-nav){margin-bottom:-1px}:host([bordered][position=below]) ::slotted(calcite-tab-nav){margin-top:-1px}:host([bordered][position=below]){-webkit-box-shadow:inset 0 1px 0 var(--calcite-ui-border-1), inset 0 -1px 0 var(--calcite-ui-border-1);box-shadow:inset 0 1px 0 var(--calcite-ui-border-1), inset 0 -1px 0 var(--calcite-ui-border-1)}:host([bordered]) section{border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-1)}:host([bordered][scale=s]) section{padding:0.75rem}:host([bordered][scale=m]) section{padding:0.5rem}:host([bordered][scale=l]) section{padding:1rem}:host([position=below]){-ms-flex-direction:column-reverse;flex-direction:column-reverse}section{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;border-top-width:1px;border-top-color:var(--calcite-ui-border-1);overflow:hidden;border-top-style:solid}:host([position=below]) section{-ms-flex-direction:column-reverse;flex-direction:column-reverse;border-top-width:0px;border-bottom-width:1px;border-bottom-color:var(--calcite-ui-border-1)}:host([position=below]:not([bordered])) section{border-bottom-style:solid}",Cte=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.layout="inline",this.position="above",this.scale="m",this.bordered=!1,this.titles=[],this.tabs=[]}connectedCallback(){this.layout==="center"&&(this.bordered=!1)}render(){return y(mn,null,y("slot",{name:Dte.tabNav}),y("section",null,y("slot",null)))}calciteTabTitleRegister(e){this.titles=[...this.titles,e.target],this.registryHandler(),e.stopPropagation()}calciteTabTitleUnregister(e){this.titles=this.titles.filter(t=>t!==e.detail),this.registryHandler(),e.stopPropagation()}calciteTabRegister(e){this.tabs=[...this.tabs,e.target],this.registryHandler(),e.stopPropagation()}calciteTabUnregister(e){this.tabs=this.tabs.filter(t=>t!==e.detail),this.registryHandler(),e.stopPropagation()}async registryHandler(){let e,t;if(this.tabs.some(i=>i.tab)||this.titles.some(i=>i.tab))e=this.tabs.sort((i,n)=>i.tab.localeCompare(n.tab)).map(i=>i.id),t=this.titles.sort((i,n)=>i.tab.localeCompare(n.tab)).map(i=>i.id);else{const i=await Promise.all(this.tabs.map(r=>r.getTabIndex())),n=await Promise.all(this.titles.map(r=>r.getTabIndex()));e=i.reduce((r,a,o)=>(r[a]=this.tabs[o].id,r),[]),t=n.reduce((r,a,o)=>(r[a]=this.titles[o].id,r),[])}this.tabs.forEach(i=>i.updateAriaInfo(e,t)),this.titles.forEach(i=>i.updateAriaInfo(e,t))}get el(){return this}static get style(){return $te}},Ab={contentStart:"content-start",contentEnd:"content-end"},Ite="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-3);-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host .container{pointer-events:none;display:grid;grid-template-columns:repeat(1, minmax(0, 1fr));gap:0.5rem}:host .content{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;gap:0.5rem;width:10%}:host .content-container{display:-ms-flexbox;display:flex;width:100%;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-align:stretch;align-items:stretch;padding:0px;color:var(--calcite-ui-text-2);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}:host .content-slot-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;background-color:var(--calcite-ui-foreground-1)}:host .content-slot-container:first-child{padding-right:0.75rem}:host .content-slot-container:last-child{padding-left:0.75rem}:host .heading{pointer-events:none;overflow-wrap:break-word;font-size:var(--calcite-font-size--1);line-height:1.375;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-2);-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host .large-visual{-ms-flex-align:center;align-items:center;text-align:center;min-height:12rem}:host .large-visual .icon{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-item-align:end;align-self:flex-end}:host .large-visual .content-container{-ms-flex-item-align:center;align-self:center}:host .description{pointer-events:none;font-size:var(--calcite-font-size--2);line-height:1.375;color:var(--calcite-ui-text-3);-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host(:not([embed])){padding:0.75rem;-webkit-box-shadow:0 0 0 1px var(--calcite-ui-border-2);box-shadow:0 0 0 1px var(--calcite-ui-border-2)}:host(:not([embed])[href]:hover){cursor:pointer;-webkit-box-shadow:0 0 0 2px var(--calcite-ui-brand);box-shadow:0 0 0 2px var(--calcite-ui-brand)}:host(:not([embed])[href]:active){-webkit-box-shadow:0 0 0 3px var(--calcite-ui-brand);box-shadow:0 0 0 3px var(--calcite-ui-brand)}:host([icon][heading]:not([description]):not([embed])){padding:0px}:host([icon][heading]:not([description])) .icon{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}:host([icon][heading]:not([description])) .large-visual{text-align:center}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host(:hover) .heading,:host([active]) .heading{color:var(--calcite-ui-text-1)}:host(:hover) .description,:host([active]) .description{color:var(--calcite-ui-text-2)}",Ete=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.active=!1,this.disabled=!1,this.embed=!1,this.focused=!1,this.hidden=!1}connectedCallback(){gi(this)}disconnectedCallback(){yi(this)}componentDidRender(){it(this)}renderTile(){const{icon:e,el:t,heading:i,description:n}=this,r=i&&e&&!n;return y("div",{class:{container:!0,"large-visual":r}},e&&y("div",{class:"icon"},y("calcite-icon",{icon:e,scale:"l",style:r?{height:"64px",width:"64px"}:void 0})),y("div",{class:"content-container"},$e(t,Ab.contentStart)?y("div",{class:"content-slot-container"},y("slot",{name:Ab.contentStart})):null,y("div",{class:"content"},i&&y("div",{class:"heading"},i),n&&y("div",{class:"description"},n)),$e(t,Ab.contentEnd)?y("div",{class:"content-slot-container"},y("slot",{name:Ab.contentEnd})):null))}render(){return y(mn,null,this.href?y("calcite-link",{disabled:this.disabled,href:this.href},this.renderTile()):this.renderTile())}get el(){return this}static get style(){return Ite}},Fr={checked:"checked",description:"description",descriptionOnly:"description-only",disabled:"disabled",heading:"heading",headingOnly:"heading-only",icon:"icon",iconOnly:"icon-only",inputAlignmentEnd:"input-alignment-end",inputAlignmentStart:"input-alignment-start",inputEnabled:"input-enabled",largeVisual:"large-visual",widthAuto:"width-auto",widthFull:"width-full"},Tte="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block}:host .container{background-color:var(--calcite-ui-foreground-1);-webkit-box-shadow:0 0 0 1px var(--calcite-ui-border-2);box-shadow:0 0 0 1px var(--calcite-ui-border-2);-webkit-box-sizing:border-box;box-sizing:border-box;cursor:pointer;display:inline-block;height:100%;max-width:300px;padding:0.75rem;position:relative;-webkit-transition:var(--calcite-animation-timing);transition:var(--calcite-animation-timing);vertical-align:top;z-index:10}:host .container.checked{z-index:30;-webkit-box-shadow:0 0 0 1px var(--calcite-ui-brand);box-shadow:0 0 0 1px var(--calcite-ui-brand)}:host .container.heading-only{-ms-flex-align:center;align-items:center}:host .container:not(.input-enabled) ::slotted(calcite-checkbox),:host .container:not(.input-enabled) ::slotted(calcite-radio-button){position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}:host .container.focused:not(.disabled){z-index:30}:host .container.focused:not(.disabled):not(.input-enabled){-webkit-box-shadow:0 0 0 1px var(--calcite-ui-brand), inset 0 0 0 2px var(--calcite-ui-foreground-1), inset 0 0 0 5px var(--calcite-ui-brand);box-shadow:0 0 0 1px var(--calcite-ui-brand), inset 0 0 0 2px var(--calcite-ui-foreground-1), inset 0 0 0 5px var(--calcite-ui-brand)}:host .container.input-enabled.input-alignment-start.width-auto.heading-only,:host .container.input-enabled.input-alignment-start.width-auto.icon-only,:host .container.input-enabled.input-alignment-start.width-auto.description-only,:host .container.input-enabled.input-alignment-start.width-auto.heading.description,:host .container.input-enabled.input-alignment-start.width-auto.icon.description,:host .container.input-enabled.input-alignment-start.width-auto.heading.icon.description{display:inline-grid;grid-template-columns:-webkit-max-content 1fr;grid-template-columns:max-content 1fr}:host .container.input-enabled.input-alignment-start.heading-only,:host .container.input-enabled.input-alignment-start.icon-only,:host .container.input-enabled.input-alignment-start.description-only,:host .container.input-enabled.input-alignment-start.heading.description,:host .container.input-enabled.input-alignment-start.icon.description,:host .container.input-enabled.input-alignment-start.heading.icon.description{gap:0.75rem}:host .container.input-enabled.input-alignment-start calcite-tile{-ms-flex-order:1;order:1}:host .container.input-enabled.input-alignment-start.large-visual ::slotted(calcite-checkbox),:host .container.input-enabled.input-alignment-start.large-visual ::slotted(calcite-radio-button){position:absolute;inset-block-start:0.75rem;inset-inline-start:0.75rem}:host .container.input-enabled.input-alignment-end.width-auto.heading-only,:host .container.input-enabled.input-alignment-end.width-auto.icon-only{display:inline-grid;grid-gap:0.75rem;grid-template-columns:-webkit-max-content 1fr;grid-template-columns:max-content 1fr}:host .container.input-enabled.input-alignment-end.heading-only,:host .container.input-enabled.input-alignment-end.icon-only{gap:0.75rem}:host .container.input-enabled.input-alignment-end.description-only ::slotted(calcite-checkbox),:host .container.input-enabled.input-alignment-end.description-only ::slotted(calcite-radio-button),:host .container.input-enabled.input-alignment-end.heading.description ::slotted(calcite-checkbox),:host .container.input-enabled.input-alignment-end.heading.description ::slotted(calcite-radio-button),:host .container.input-enabled.input-alignment-end.icon.description ::slotted(calcite-checkbox),:host .container.input-enabled.input-alignment-end.icon.description ::slotted(calcite-radio-button),:host .container.input-enabled.input-alignment-end.heading.icon.description ::slotted(calcite-checkbox),:host .container.input-enabled.input-alignment-end.heading.icon.description ::slotted(calcite-radio-button){position:absolute;inset-block-start:0.75rem;inset-inline-end:0.75rem}:host .container.input-enabled.input-alignment-end.large-visual ::slotted(calcite-checkbox),:host .container.input-enabled.input-alignment-end.large-visual ::slotted(calcite-radio-button){position:absolute;inset-block-start:0.75rem;inset-inline-end:0.75rem}:host .container.width-full{display:-ms-flexbox;display:flex;max-width:none}:host .container.width-full calcite-tile{-ms-flex:1 1 auto;flex:1 1 auto}:host(:hover) .container{z-index:20}:host(:hover) .container:not(.input-enabled){-webkit-box-shadow:0 0 0 1px var(--calcite-ui-brand);box-shadow:0 0 0 1px var(--calcite-ui-brand)}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}",Mte=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteTileSelectChange=W(this,"calciteTileSelectChange",7),this.checked=!1,this.disabled=!1,this.hidden=!1,this.inputEnabled=!1,this.inputAlignment="start",this.type="radio",this.width="auto",this.guid=`calcite-tile-select-${li()}`,this.focused=!1}checkedChanged(e){this.input.checked=e}nameChanged(e){this.input.name=e}async setFocus(){this.input.setFocus()}checkboxChangeHandler(e){const t=e.target;t===this.input&&(this.checked=t.checked),e.stopPropagation(),this.calciteTileSelectChange.emit()}checkboxFocusBlurHandler(e){e.target===this.input&&(this.focused=e.detail),e.stopPropagation()}radioButtonChangeHandler(e){const t=e.target;t===this.input&&(this.checked=t.checked),e.stopPropagation(),this.calciteTileSelectChange.emit()}radioButtonCheckedChangeHandler(e){const t=e.target;t===this.input&&(this.checked=t.checked),e.stopPropagation()}radioButtonFocusBlurHandler(e){const t=e.target;t===this.input&&(this.focused=t.focused),e.stopPropagation()}click(e){const t=e.target;["calcite-tile","calcite-tile-select"].includes(t.localName)&&this.input.click()}mouseenter(){this.input.localName==="calcite-radio-button"&&(this.input.hovered=!0),this.input.localName==="calcite-checkbox"&&(this.input.hovered=!0)}mouseleave(){this.input.localName==="calcite-radio-button"&&(this.input.hovered=!1),this.input.localName==="calcite-checkbox"&&(this.input.hovered=!1)}connectedCallback(){this.renderInput()}disconnectedCallback(){this.input.parentNode.removeChild(this.input)}componentDidRender(){it(this)}renderInput(){this.input=document.createElement(this.type==="radio"?"calcite-radio-button":"calcite-checkbox"),this.input.checked=this.checked,this.input.disabled=this.disabled,this.input.hidden=this.hidden,this.input.id=this.guid,this.input.label=this.heading||this.name||"",this.name&&(this.input.name=this.name),this.value&&(this.input.value=this.value!=null?this.value.toString():""),this.el.insertAdjacentElement("beforeend",this.input)}render(){const{checked:e,description:t,disabled:i,focused:n,heading:r,icon:a,inputAlignment:o,inputEnabled:s,width:l}=this;return y("div",{class:{checked:e,container:!0,[Fr.description]:Boolean(t),[Fr.descriptionOnly]:Boolean(!r&&!a&&t),disabled:i,focused:n,[Fr.heading]:Boolean(r),[Fr.headingOnly]:r&&!a&&!t,[Fr.icon]:Boolean(a),[Fr.iconOnly]:!r&&a&&!t,[Fr.inputAlignmentEnd]:o==="end",[Fr.inputAlignmentStart]:o==="start",[Fr.inputEnabled]:s,[Fr.largeVisual]:r&&a&&!t,[Fr.widthAuto]:l==="auto",[Fr.widthFull]:l==="full"}},y("calcite-tile",{active:e,description:t,embed:!0,heading:r,icon:a}),y("slot",null))}get el(){return this}static get watchers(){return{checked:["checkedChanged"],name:["nameChanged"]}}static get style(){return Tte}},Ate="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}:host ::slotted(calcite-tile-select){margin-right:1px;margin-bottom:1px}:host([layout=vertical]){-ms-flex-direction:column;flex-direction:column}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}",Ote=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.disabled=!1,this.layout="horizontal"}componentDidRender(){it(this)}render(){return y("slot",null)}get el(){return this}static get style(){return Ate}},Ke={button:"button",buttonBottomLeft:"button--bottom-left",buttonBottomRight:"button--bottom-right",buttonHourDown:"button--hour-down",buttonHourUp:"button--hour-up",buttonMeridiemDown:"button--meridiem-down",buttonMeridiemUp:"button--meridiem-up",buttonMinuteDown:"button--minute-down",buttonMinuteUp:"button--minute-up",buttonSecondDown:"button--second-down",buttonSecondUp:"button--second-up",buttonTopLeft:"button--top-left",buttonTopRight:"button--top-right",column:"column",delimiter:"delimiter",hour:"hour",input:"input",meridiem:"meridiem",minute:"minute",second:"second",showMeridiem:"show-meridiem",showSecond:"show-second","scale-s":"scale-s","scale-m":"scale-m","scale-l":"scale-l",timePicker:"time-picker",meridiemStart:"meridiem--start"},Nr={hour:"Hour",hourDown:"Decrease hour",hourUp:"Increase hour",meridiem:"AM/PM",meridiemDown:"Decrease AM/PM",meridiemUp:"Increase AM/PM",minute:"Minute",minuteDown:"Decrease minute",minuteUp:"Increase minute",second:"Second",secondDown:"Decrease second",secondUp:"Increase second"},Pte="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:inline-block}.time-picker{display:-ms-flexbox;display:flex;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-align:center;align-items:center;background-color:var(--calcite-ui-foreground-1);font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1);--tw-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);border-radius:var(--calcite-border-radius)}.time-picker .column{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.time-picker .meridiem--start{-ms-flex-order:-1;order:-1}.time-picker .button{display:-ms-inline-flexbox;display:inline-flex;cursor:pointer;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;background-color:var(--calcite-ui-foreground-1)}.time-picker .button:hover,.time-picker .button:focus{background-color:var(--calcite-ui-foreground-2);outline:2px solid transparent;outline-offset:2px}.time-picker .button:active{background-color:var(--calcite-ui-foreground-3)}.time-picker .button.top-left{border-top-left-radius:var(--calcite-border-radius)}.time-picker .button.bottom-left{border-bottom-left-radius:var(--calcite-border-radius)}.time-picker .button.top-right{border-top-right-radius:var(--calcite-border-radius)}.time-picker .button.bottom-right{border-bottom-right-radius:var(--calcite-border-radius)}.time-picker .button calcite-icon{color:var(--calcite-ui-text-3)}.time-picker .input{display:-ms-inline-flexbox;display:inline-flex;cursor:pointer;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;background-color:var(--calcite-ui-foreground-1);font-weight:var(--calcite-font-weight-medium)}.time-picker .input:hover{-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-2);box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-2)}.time-picker .input:focus,.time-picker .input:hover:focus{outline:2px solid transparent;outline-offset:2px;-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-brand);box-shadow:inset 0 0 0 2px var(--calcite-ui-brand)}.time-picker.scale-s{font-size:var(--calcite-font-size--1)}.time-picker.scale-s .button,.time-picker.scale-s .input{padding-left:0.75rem;padding-right:0.75rem;padding-top:0.25rem;padding-bottom:0.25rem}.time-picker.scale-s:not(.show-meridiem) .delimiter:last-child{-webkit-padding-end:0.75rem;padding-inline-end:0.75rem}.time-picker.scale-m{font-size:var(--calcite-font-size-0)}.time-picker.scale-m .button,.time-picker.scale-m .input{padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem}.time-picker.scale-m:not(.show-meridiem) .delimiter:last-child{-webkit-padding-end:1rem;padding-inline-end:1rem}.time-picker.scale-l{font-size:var(--calcite-font-size-1)}.time-picker.scale-l .button,.time-picker.scale-l .input{padding-left:1.25rem;padding-right:1.25rem;padding-top:0.75rem;padding-bottom:0.75rem}.time-picker.scale-l:not(.show-meridiem) .delimiter:last-child{-webkit-padding-end:1.25rem;padding-inline-end:1.25rem}";function Lte(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Rte=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteTimePickerBlur=W(this,"calciteTimePickerBlur",7),this.calciteTimePickerChange=W(this,"calciteTimePickerChange",7),this.calciteTimePickerFocus=W(this,"calciteTimePickerFocus",7),this.intlHour=Nr.hour,this.intlHourDown=Nr.hourDown,this.intlHourUp=Nr.hourUp,this.intlMeridiem=Nr.meridiem,this.intlMeridiemDown=Nr.meridiemDown,this.intlMeridiemUp=Nr.meridiemUp,this.intlMinute=Nr.minute,this.intlMinuteDown=Nr.minuteDown,this.intlMinuteUp=Nr.minuteUp,this.intlSecond=Nr.second,this.intlSecondDown=Nr.secondDown,this.intlSecondUp=Nr.secondUp,this.locale=document.documentElement.lang||navigator.language||"en",this.scale="m",this.step=60,this.value=null,this.showSecond=this.step<60,this.decrementHour=()=>{const e=this.hour?this.hour==="00"?23:parseInt(this.hour)-1:0;this.setValuePart("hour",e)},this.decrementMeridiem=()=>{const e=this.meridiem==="PM"?"AM":"PM";this.setValuePart("meridiem",e)},this.decrementMinuteOrSecond=e=>{let t;if(Pt(this[e])){const i=parseInt(this[e]);t=i===0?59:i-1}else t=59;this.setValuePart(e,t)},this.decrementMinute=()=>{this.decrementMinuteOrSecond("minute")},this.decrementSecond=()=>{this.decrementMinuteOrSecond("second")},this.focusHandler=e=>{this.activeEl=e.currentTarget},this.hourDownButtonKeyDownHandler=e=>{this.buttonActivated(e)&&this.decrementHour()},this.hourKeyDownHandler=e=>{const t=e.key;if(Pp.includes(t)){const i=parseInt(t);let n;if(Pt(this.hour))switch(this.hourCycle){case"12":n=this.hour==="01"&&i>=0&&i<=2?`1${i}`:i;break;case"24":this.hour==="01"?n=`1${i}`:this.hour==="02"&&i>=0&&i<=3?n=`2${i}`:n=i;break}else n=i;this.setValuePart("hour",n)}else switch(t){case"Backspace":case"Delete":this.setValuePart("hour",null);break;case"ArrowDown":e.preventDefault(),this.decrementHour();break;case"ArrowUp":e.preventDefault(),this.incrementHour();break;case" ":case"Spacebar":e.preventDefault();break}},this.hourUpButtonKeyDownHandler=e=>{this.buttonActivated(e)&&this.incrementHour()},this.incrementMeridiem=()=>{const e=this.meridiem==="AM"?"PM":"AM";this.setValuePart("meridiem",e)},this.incrementHour=()=>{const e=Pt(this.hour)?this.hour==="23"?0:parseInt(this.hour)+1:1;this.setValuePart("hour",e)},this.incrementMinuteOrSecond=e=>{const t=Pt(this[e])?this[e]==="59"?0:parseInt(this[e])+1:0;this.setValuePart(e,t)},this.incrementMinute=()=>{this.incrementMinuteOrSecond("minute")},this.incrementSecond=()=>{this.incrementMinuteOrSecond("second")},this.meridiemDownButtonKeyDownHandler=e=>{this.buttonActivated(e)&&this.decrementMeridiem()},this.meridiemKeyDownHandler=e=>{switch(e.key){case"a":this.setValuePart("meridiem","AM");break;case"p":this.setValuePart("meridiem","PM");break;case"Backspace":case"Delete":this.setValuePart("meridiem",null);break;case"ArrowUp":e.preventDefault(),this.incrementMeridiem();break;case"ArrowDown":e.preventDefault(),this.decrementMeridiem();break;case" ":case"Spacebar":e.preventDefault();break}},this.meridiemUpButtonKeyDownHandler=e=>{this.buttonActivated(e)&&this.incrementMeridiem()},this.minuteDownButtonKeyDownHandler=e=>{this.buttonActivated(e)&&this.decrementMinute()},this.minuteKeyDownHandler=e=>{const t=e.key;if(Pp.includes(t)){const i=parseInt(t);let n;if(Pt(this.minute)&&this.minute.startsWith("0")){const r=parseInt(this.minute);n=r>nA?i:`${r}${i}`}else n=i;this.setValuePart("minute",n)}else switch(t){case"Backspace":case"Delete":this.setValuePart("minute",null);break;case"ArrowDown":e.preventDefault(),this.decrementMinute();break;case"ArrowUp":e.preventDefault(),this.incrementMinute();break;case" ":case"Spacebar":e.preventDefault();break}},this.minuteUpButtonKeyDownHandler=e=>{this.buttonActivated(e)&&this.incrementMinute()},this.secondDownButtonKeyDownHandler=e=>{this.buttonActivated(e)&&this.decrementSecond()},this.secondKeyDownHandler=e=>{const t=e.key;if(Pp.includes(t)){const i=parseInt(t);let n;if(Pt(this.second)&&this.second.startsWith("0")){const r=parseInt(this.second);n=r>nA?i:`${r}${i}`}else n=i;this.setValuePart("second",n)}else switch(t){case"Backspace":case"Delete":this.setValuePart("second",null);break;case"ArrowDown":e.preventDefault(),this.decrementSecond();break;case"ArrowUp":e.preventDefault(),this.incrementSecond();break;case" ":case"Spacebar":e.preventDefault();break}},this.secondUpButtonKeyDownHandler=e=>{this.buttonActivated(e)&&this.incrementSecond()},this.setHourEl=e=>this.hourEl=e,this.setMeridiemEl=e=>this.meridiemEl=e,this.setMinuteEl=e=>this.minuteEl=e,this.setSecondEl=e=>this.secondEl=e,this.setValue=(e,t=!0)=>{if(Zd(e)){const{hour:i,minute:n,second:r}=Jx(e),{localizedHour:a,localizedHourSuffix:o,localizedMinute:s,localizedMinuteSuffix:l,localizedSecond:u,localizedSecondSuffix:h,localizedMeridiem:m}=oA(e,this.locale);if(this.localizedHour=a,this.localizedHourSuffix=o,this.localizedMinute=s,this.localizedMinuteSuffix=l,this.localizedSecond=u,this.localizedSecondSuffix=h,this.hour=i,this.minute=n,this.second=r,m){this.localizedMeridiem=m,this.meridiem=aA(this.hour);const f=iQ(e,this.locale);this.meridiemOrder=this.getMeridiemOrder(f)}}else this.hour=null,this.localizedHour=null,this.localizedHourSuffix=null,this.localizedMeridiem=null,this.localizedMinute=null,this.localizedMinuteSuffix=null,this.localizedSecond=null,this.localizedSecondSuffix=null,this.meridiem=null,this.minute=null,this.second=null,this.value=null;t&&this.calciteTimePickerChange.emit()},this.setValuePart=(e,t,i=!0)=>{var n;if(e==="meridiem"){if(this.meridiem=t,Pt(this.hour)){const r=parseInt(this.hour);switch(t){case"AM":r>=12&&(this.hour=Rp(r-12));break;case"PM":r<12&&(this.hour=Rp(r+12));break}this.localizedHour=L_(this.hour,"hour",this.locale)}}else this[e]=typeof t=="number"?Rp(t):t,this[`localized${Lte(e)}`]=L_(this[e],e,this.locale);if(this.hour&&this.minute){const r=this.second&&this.showSecond;this.value=`${this.hour}:${this.minute}:${r?this.second:"00"}`}else this.value=null;this.localizedMeridiem=this.value?((n=oA(this.value,this.locale))===null||n===void 0?void 0:n.localizedMeridiem)||null:L_(this.meridiem,"meridiem",this.locale),i&&this.calciteTimePickerChange.emit()}}localeWatcher(e){this.hourCycle=rA(e),this.setValue(this.value,!1)}valueWatcher(e){this.setValue(e,!1)}hourChanged(e){this.meridiem&&Pt(e)&&this.setValuePart("meridiem",aA(e))}hostBlurHandler(){this.calciteTimePickerBlur.emit()}hostFocusHandler(){this.calciteTimePickerFocus.emit()}keyDownHandler(e){const t=e.key;switch(this.activeEl){case this.hourEl:t==="ArrowRight"&&this.setFocus("minute");break;case this.minuteEl:switch(t){case"ArrowLeft":this.setFocus("hour");break;case"ArrowRight":this.step!==60?this.setFocus("second"):this.hourCycle==="12"&&this.setFocus("meridiem");break}break;case this.secondEl:switch(t){case"ArrowLeft":this.setFocus("minute");break;case"ArrowRight":this.hourCycle==="12"&&this.setFocus("meridiem");break}break;case this.meridiemEl:switch(t){case"ArrowLeft":this.step!==60?this.setFocus("second"):this.setFocus("minute");break}break}}async setFocus(e){var t;(t=this[`${e||"hour"}El`])===null||t===void 0||t.focus()}buttonActivated(e){const t=e.key;return t===" "&&e.preventDefault(),JZ(t)}getMeridiemOrder(e){const t=this.locale==="ar"||this.locale==="he";return e&&!t?e.findIndex(n=>n.value===this.localizedMeridiem):0}connectedCallback(){this.setValue(this.value,!1),this.hourCycle=rA(this.locale)}render(){const e=Pt(this.hour),t=this.scale==="s"||this.scale==="m"?"s":"m",i=Pt(this.minute),n=Pt(this.second),r=this.hourCycle==="12";return y("div",{class:{[Ke.timePicker]:!0,[Ke.showMeridiem]:r,[Ke.showSecond]:this.showSecond,[Ke[`scale-${this.scale}`]]:!0},dir:"ltr"},y("div",{class:Ke.column,role:"group"},y("span",{"aria-label":this.intlHourUp,class:{[Ke.button]:!0,[Ke.buttonHourUp]:!0,[Ke.buttonTopLeft]:!0},onClick:this.incrementHour,onKeyDown:this.hourUpButtonKeyDownHandler,role:"button",tabIndex:-1},y("calcite-icon",{icon:"chevron-up",scale:t})),y("span",{"aria-label":this.intlHour,"aria-valuemax":"23","aria-valuemin":"1","aria-valuenow":e&&parseInt(this.hour)||"0","aria-valuetext":this.hour,class:{[Ke.input]:!0,[Ke.hour]:!0},onFocus:this.focusHandler,onKeyDown:this.hourKeyDownHandler,ref:this.setHourEl,role:"spinbutton",tabIndex:0},this.localizedHour||"--"),y("span",{"aria-label":this.intlHourDown,class:{[Ke.button]:!0,[Ke.buttonHourDown]:!0,[Ke.buttonBottomLeft]:!0},onClick:this.decrementHour,onKeyDown:this.hourDownButtonKeyDownHandler,role:"button",tabIndex:-1},y("calcite-icon",{icon:"chevron-down",scale:t}))),y("span",{class:Ke.delimiter},this.localizedHourSuffix),y("div",{class:Ke.column,role:"group"},y("span",{"aria-label":this.intlMinuteUp,class:{[Ke.button]:!0,[Ke.buttonMinuteUp]:!0},onClick:this.incrementMinute,onKeyDown:this.minuteUpButtonKeyDownHandler,role:"button",tabIndex:-1},y("calcite-icon",{icon:"chevron-up",scale:t})),y("span",{"aria-label":this.intlMinute,"aria-valuemax":"12","aria-valuemin":"1","aria-valuenow":i&&parseInt(this.minute)||"0","aria-valuetext":this.minute,class:{[Ke.input]:!0,[Ke.minute]:!0},onFocus:this.focusHandler,onKeyDown:this.minuteKeyDownHandler,ref:this.setMinuteEl,role:"spinbutton",tabIndex:0},this.localizedMinute||"--"),y("span",{"aria-label":this.intlMinuteDown,class:{[Ke.button]:!0,[Ke.buttonMinuteDown]:!0},onClick:this.decrementMinute,onKeyDown:this.minuteDownButtonKeyDownHandler,role:"button",tabIndex:-1},y("calcite-icon",{icon:"chevron-down",scale:t}))),this.showSecond&&y("span",{class:Ke.delimiter},this.localizedMinuteSuffix),this.showSecond&&y("div",{class:Ke.column,role:"group"},y("span",{"aria-label":this.intlSecondUp,class:{[Ke.button]:!0,[Ke.buttonSecondUp]:!0},onClick:this.incrementSecond,onKeyDown:this.secondUpButtonKeyDownHandler,role:"button",tabIndex:-1},y("calcite-icon",{icon:"chevron-up",scale:t})),y("span",{"aria-label":this.intlSecond,"aria-valuemax":"59","aria-valuemin":"0","aria-valuenow":n&&parseInt(this.second)||"0","aria-valuetext":this.second,class:{[Ke.input]:!0,[Ke.second]:!0},onFocus:this.focusHandler,onKeyDown:this.secondKeyDownHandler,ref:this.setSecondEl,role:"spinbutton",tabIndex:0},this.localizedSecond||"--"),y("span",{"aria-label":this.intlSecondDown,class:{[Ke.button]:!0,[Ke.buttonSecondDown]:!0},onClick:this.decrementSecond,onKeyDown:this.secondDownButtonKeyDownHandler,role:"button",tabIndex:-1},y("calcite-icon",{icon:"chevron-down",scale:t}))),this.localizedSecondSuffix&&y("span",{class:Ke.delimiter},this.localizedSecondSuffix),r&&y("div",{class:{[Ke.column]:!0,[Ke.meridiemStart]:this.meridiemOrder===0},role:"group"},y("span",{"aria-label":this.intlMeridiemUp,class:{[Ke.button]:!0,[Ke.buttonMeridiemUp]:!0,[Ke.buttonTopRight]:!0},onClick:this.incrementMeridiem,onKeyDown:this.meridiemUpButtonKeyDownHandler,role:"button",tabIndex:-1},y("calcite-icon",{icon:"chevron-up",scale:t})),y("span",{"aria-label":this.intlMeridiem,"aria-valuemax":"2","aria-valuemin":"1","aria-valuenow":this.meridiem==="PM"&&"2"||"1","aria-valuetext":this.meridiem,class:{[Ke.input]:!0,[Ke.meridiem]:!0},onFocus:this.focusHandler,onKeyDown:this.meridiemKeyDownHandler,ref:this.setMeridiemEl,role:"spinbutton",tabIndex:0},this.localizedMeridiem||"--"),y("span",{"aria-label":this.intlMeridiemDown,class:{[Ke.button]:!0,[Ke.buttonMeridiemDown]:!0,[Ke.buttonBottomRight]:!0},onClick:this.decrementMeridiem,onKeyDown:this.meridiemDownButtonKeyDownHandler,role:"button",tabIndex:-1},y("calcite-icon",{icon:"chevron-down",scale:t}))))}get el(){return this}static get watchers(){return{locale:["localeWatcher"],value:["valueWatcher"],hour:["hourChanged"]}}static get style(){return Pte}},ka={header:"header",heading:"heading",close:"close",container:"container",tipContainer:"tip-container",tipContainerAdvancing:"tip-container--advancing",tipContainerRetreating:"tip-container--retreating",pagination:"pagination",pagePosition:"page-position",pageNext:"page-next",pagePrevious:"page-previous"},bf={chevronLeft:"chevron-left",chevronRight:"chevron-right",close:"x"},vf={defaultGroupTitle:"Tips",defaultPaginationLabel:"Tip",close:"Close",previous:"Previous",next:"Next"},xN=2,au={container:"container",header:"header",heading:"heading",close:"close",imageFrame:"image-frame",content:"content",info:"info"},Fte={close:"x"},$A={thumbnail:"thumbnail"},Nte={close:"Close"},zte=xN+1,jte="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;margin:1rem;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-2);background-color:var(--calcite-ui-foreground-1);font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-ui-text-2)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}.container{width:100%;padding:1rem}:host([dismissed]),:host([dismissed]) .container{display:none}:host([selected]) .container{margin:0px;border-style:none;padding:0px}.header{margin:0px;display:-ms-flexbox;display:flex;-ms-flex-line-pack:justify;align-content:space-between;-ms-flex-align:center;align-items:center;fill:var(--calcite-ui-text-2);color:var(--calcite-ui-text-2)}.heading{margin:0px;padding:0px;font-weight:var(--calcite-font-weight-medium)}.header .heading{-ms-flex:1 1 auto;flex:1 1 auto;padding:0.5rem}h1.heading{font-size:var(--calcite-font-size-2);line-height:1.5rem}h2.heading{font-size:var(--calcite-font-size-1);line-height:1.5rem}h3.heading{font-size:var(--calcite-font-size-0);line-height:1.25rem}h4.heading,h5.heading{font-size:var(--calcite-font-size--1);line-height:1rem}.header{margin-bottom:0.5rem}.header .heading{padding:0px;color:var(--calcite-ui-text-1)}.container[hidden]{display:none}.content{display:-ms-flexbox;display:flex}.info{padding-top:0px;padding-bottom:0px;padding-left:1rem;padding-right:1rem;width:70%}.info:only-child{width:100%;padding-left:0px;padding-right:0px}::slotted(p){margin-top:0px}::slotted(a){outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;color:var(--calcite-ui-brand)}::slotted(a:focus){outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.image-frame{width:25%}.image-frame img{max-width:100%}::slotted(img){max-width:100%}",Vte=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteTipDismiss=W(this,"calciteTipDismiss",7),this.dismissed=!1,this.nonDismissible=!1,this.selected=!1,this.hideTip=()=>{this.dismissed=!0,this.calciteTipDismiss.emit()}}connectedCallback(){gi(this)}disconnectedCallback(){yi(this)}renderHeader(){var e;const{heading:t,headingLevel:i,el:n}=this,r=(e=n.closest("calcite-tip-manager"))===null||e===void 0?void 0:e.headingLevel,a=r?SC(r+1):null,o=i||a||zte;return t?y("header",{class:au.header},y(Bc,{class:au.heading,level:o},t)):null}renderDismissButton(){const{nonDismissible:e,hideTip:t,intlClose:i}=this,n=i||Nte.close;return e?null:y("calcite-action",{class:au.close,icon:Fte.close,onClick:t,scale:"l",text:n})}renderImageFrame(){const{el:e}=this;return $e(e,$A.thumbnail)?y("div",{class:au.imageFrame,key:"thumbnail"},y("slot",{name:$A.thumbnail})):null}renderInfoNode(){return y("div",{class:au.info},y("slot",null))}renderContent(){return y("div",{class:au.content},this.renderImageFrame(),this.renderInfoNode())}render(){return y(mn,null,y("article",{class:au.container},this.renderHeader(),this.renderContent()),this.renderDismissButton())}get el(){return this}static get style(){return jte}},Hte="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{-webkit-box-sizing:border-box;box-sizing:border-box;display:block;background-color:var(--calcite-ui-foreground-1);font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-ui-text-2)}::slotted(calcite-tip){margin:0px;border-style:none}:host-context(calcite-tip-manager){margin-top:0.75rem;margin-bottom:0.75rem}:host-context(calcite-tip-manager) ::slotted(calcite-tip){padding:1rem}",qte=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow()}render(){return y("slot",null)}static get style(){return Hte}},Bte="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{-webkit-box-sizing:border-box;box-sizing:border-box;display:block;background-color:var(--calcite-ui-foreground-1);font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-ui-text-2);--calcite-tip-manager-height:19vh}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:host([closed]){display:none}.header{margin:0px;display:-ms-flexbox;display:flex;-ms-flex-line-pack:justify;align-content:space-between;-ms-flex-align:center;align-items:center;fill:var(--calcite-ui-text-2);color:var(--calcite-ui-text-2)}.heading{margin:0px;padding:0px;font-weight:var(--calcite-font-weight-medium)}.header .heading{-ms-flex:1 1 auto;flex:1 1 auto;padding:0.5rem}h1.heading{font-size:var(--calcite-font-size-2);line-height:1.5rem}h2.heading{font-size:var(--calcite-font-size-1);line-height:1.5rem}h3.heading{font-size:var(--calcite-font-size-0);line-height:1.25rem}h4.heading,h5.heading{font-size:var(--calcite-font-size--1);line-height:1rem}.header{border-width:0px;border-bottom-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);padding-top:0px;padding-bottom:0px;-webkit-padding-end:0px;padding-inline-end:0px;-webkit-padding-start:1rem;padding-inline-start:1rem}.header h2.heading{padding:0px;font-size:var(--calcite-font-size-1);line-height:1.5rem;font-weight:var(--calcite-font-weight-bold);color:var(--calcite-ui-text-1)}.container{position:relative;outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;overflow:hidden;min-height:150px}.container:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.tip-container{margin-top:1px;display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:center;justify-content:center;overflow:auto;outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;-webkit-animation-name:none;animation-name:none;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing);height:var(--calcite-tip-manager-height)}.tip-container:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}::slotted(calcite-tip){border-style:none;padding:0.75rem;max-width:var(--calcite-tip-max-width)}.tip-container--advancing{-webkit-animation-name:tip-advance;animation-name:tip-advance}.tip-container--retreating{-webkit-animation-name:tip-retreat;animation-name:tip-retreat}.pagination{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;padding-left:0px;padding-right:0px;padding-top:0.75rem;padding-bottom:0.5rem}.page-position{margin-top:0px;margin-bottom:0px;margin-left:0.5rem;margin-right:0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}@-webkit-keyframes tip-advance{0%{opacity:0}0%{-webkit-transform:translate3d(50px, 0, 0) scale(0.99);transform:translate3d(50px, 0, 0) scale(0.99)}100%{opacity:1}100%{-webkit-transform:translate3d(0, 0, 0) scale(1);transform:translate3d(0, 0, 0) scale(1)}}@keyframes tip-advance{0%{opacity:0}0%{-webkit-transform:translate3d(50px, 0, 0) scale(0.99);transform:translate3d(50px, 0, 0) scale(0.99)}100%{opacity:1}100%{-webkit-transform:translate3d(0, 0, 0) scale(1);transform:translate3d(0, 0, 0) scale(1)}}@-webkit-keyframes tip-retreat{0%{opacity:0}0%{-webkit-transform:translate3d(-50px, 0, 0) scale(0.99);transform:translate3d(-50px, 0, 0) scale(0.99)}100%{opacity:1}100%{-webkit-transform:translate3d(0, 0, 0) scale(1);transform:translate3d(0, 0, 0) scale(1)}}@keyframes tip-retreat{0%{opacity:0}0%{-webkit-transform:translate3d(-50px, 0, 0) scale(0.99);transform:translate3d(-50px, 0, 0) scale(0.99)}100%{opacity:1}100%{-webkit-transform:translate3d(0, 0, 0) scale(1);transform:translate3d(0, 0, 0) scale(1)}}",Ute=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteTipManagerToggle=W(this,"calciteTipManagerToggle",7),this.closed=!1,this.mutationObserver=Vt("mutation",()=>this.setUpTips()),this.hideTipManager=()=>{this.closed=!0,this.calciteTipManagerToggle.emit()},this.previousClicked=()=>{this.previousTip()},this.nextClicked=()=>{this.nextTip()},this.tipManagerKeyUpHandler=e=>{if(e.target===this.container)switch(e.key){case"ArrowRight":e.preventDefault(),this.nextTip();break;case"ArrowLeft":e.preventDefault(),this.previousTip();break;case"Home":e.preventDefault(),this.selectedIndex=0;break;case"End":e.preventDefault(),this.selectedIndex=this.total-1;break}},this.storeContainerRef=e=>{this.container=e}}closedChangeHandler(){this.direction=null,this.calciteTipManagerToggle.emit()}selectedChangeHandler(){this.showSelectedTip(),this.updateGroupTitle()}connectedCallback(){var e;this.setUpTips(),(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0,subtree:!0})}disconnectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect()}async nextTip(){this.direction="advancing";const e=this.selectedIndex+1;this.selectedIndex=(e+this.total)%this.total}async previousTip(){this.direction="retreating";const e=this.selectedIndex-1;this.selectedIndex=(e+this.total)%this.total}setUpTips(){const e=Array.from(this.el.querySelectorAll("calcite-tip"));if(this.total=e.length,this.total===0)return;const t=this.el.querySelector("calcite-tip[selected]");this.tips=e,this.selectedIndex=t?e.indexOf(t):0,e.forEach(i=>{i.nonDismissible=!0}),this.showSelectedTip(),this.updateGroupTitle()}showSelectedTip(){this.tips.forEach((e,t)=>{const i=this.selectedIndex===t;e.selected=i,e.hidden=!i})}updateGroupTitle(){const t=this.tips[this.selectedIndex].closest("calcite-tip-group");this.groupTitle=(t==null?void 0:t.groupTitle)||this.intlDefaultTitle||vf.defaultGroupTitle}renderPagination(){const e=Fi(this.el),{selectedIndex:t,tips:i,total:n,intlNext:r,intlPrevious:a,intlPaginationLabel:o}=this,s=r||vf.next,l=a||vf.previous,u=o||vf.defaultPaginationLabel;return i.length>1?y("footer",{class:ka.pagination},y("calcite-action",{class:ka.pagePrevious,icon:e==="ltr"?bf.chevronLeft:bf.chevronRight,onClick:this.previousClicked,scale:"m",text:l}),y("span",{class:ka.pagePosition},`${u} ${t+1}/${n}`),y("calcite-action",{class:ka.pageNext,icon:e==="ltr"?bf.chevronRight:bf.chevronLeft,onClick:this.nextClicked,scale:"m",text:s})):null}render(){const{closed:e,direction:t,headingLevel:i,groupTitle:n,selectedIndex:r,intlClose:a,total:o}=this,s=a||vf.close;return o===0?null:y("section",{"aria-hidden":e.toString(),class:ka.container,hidden:e,onKeyUp:this.tipManagerKeyUpHandler,ref:this.storeContainerRef,tabIndex:0},y("header",{class:ka.header},y(Bc,{class:ka.heading,level:i||xN},n),y("calcite-action",{class:ka.close,onClick:this.hideTipManager,scale:"m",text:s},y("calcite-icon",{icon:bf.close,scale:"m"}))),y("div",{class:{[ka.tipContainer]:!0,[ka.tipContainerAdvancing]:!e&&t==="advancing",[ka.tipContainerRetreating]:!e&&t==="retreating"},key:r,tabIndex:0},y("slot",null)),this.renderPagination())}get el(){return this}static get watchers(){return{closed:["closedChangeHandler"],selectedIndex:["selectedChangeHandler"]}}static get style(){return Bte}},CA={container:"container",arrow:"arrow"},Gte=500,tg="data-calcite-tooltip-reference",IA="aria-describedby",Wte='@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block;position:absolute;z-index:999;-webkit-transform:scale(0);transform:scale(0)}.calcite-popper-anim{position:relative;z-index:1;-webkit-transition:var(--calcite-popper-transition);transition:var(--calcite-popper-transition);visibility:hidden;-webkit-transition-property:visibility, opacity, -webkit-transform;transition-property:visibility, opacity, -webkit-transform;transition-property:transform, visibility, opacity;transition-property:transform, visibility, opacity, -webkit-transform;opacity:0;-webkit-box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);border-radius:0.25rem}:host([data-popper-placement^=bottom]) .calcite-popper-anim{-webkit-transform:translateY(-5px);transform:translateY(-5px)}:host([data-popper-placement^=top]) .calcite-popper-anim{-webkit-transform:translateY(5px);transform:translateY(5px)}:host([data-popper-placement^=left]) .calcite-popper-anim{-webkit-transform:translateX(5px);transform:translateX(5px)}:host([data-popper-placement^=right]) .calcite-popper-anim{-webkit-transform:translateX(-5px);transform:translateX(-5px)}:host([data-popper-placement]) .calcite-popper-anim--active{opacity:1;visibility:visible;-webkit-transform:translate(0);transform:translate(0)}:host([data-popper-placement][data-popper-reference-hidden]){pointer-events:none;opacity:0}.arrow,.arrow::before{position:absolute;width:8px;height:8px;z-index:-1}.arrow::before{content:"";--tw-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--calcite-ui-foreground-1)}:host([data-popper-placement^=top]) .arrow{bottom:-4px}:host([data-popper-placement^=bottom]) .arrow{top:-4px}:host([data-popper-placement^=left]) .arrow{right:-4px}:host([data-popper-placement^=right]) .arrow{left:-4px}.container{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:start;justify-content:flex-start;border-radius:0.25rem;background-color:var(--calcite-ui-foreground-1);padding-top:0.75rem;padding-bottom:0.75rem;padding-left:1rem;padding-right:1rem;font-size:var(--calcite-font-size--2);line-height:1.375;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1);overflow:hidden;max-width:20rem;max-height:20rem}.calcite-popper-anim{border-radius:0.25rem;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);background-color:var(--calcite-ui-foreground-1)}.arrow::before{outline:1px solid var(--calcite-ui-border-3)}',Jte=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.offsetDistance=R9,this.offsetSkidding=0,this.open=!1,this.overlayPositioning="absolute",this.placement="auto",this.guid=`calcite-tooltip-${li()}`,this.setUpReferenceElement=()=>{this.removeReferences(),this.effectiveReferenceElement=this.getReferenceElement();const{el:e,referenceElement:t,effectiveReferenceElement:i}=this;t&&!i&&console.warn(`${e.tagName}: reference-element id "${t}" was not found.`,{el:e}),this.addReferences(),this.createPopper()},this.getId=()=>this.el.id||this.guid,this.addReferences=()=>{const{effectiveReferenceElement:e}=this;if(!e)return;const t=this.getId();e.setAttribute(tg,t),e.setAttribute(IA,t)},this.removeReferences=()=>{const{effectiveReferenceElement:e}=this;!e||(e.removeAttribute(tg),e.removeAttribute(IA))},this.show=()=>{this.open=!0},this.hide=()=>{this.open=!1}}offsetDistanceOffsetHandler(){this.reposition()}offsetSkiddingHandler(){this.reposition()}openHandler(){this.reposition()}placementHandler(){this.reposition()}referenceElementHandler(){this.setUpReferenceElement()}componentWillLoad(){this.setUpReferenceElement()}componentDidLoad(){this.reposition()}disconnectedCallback(){this.removeReferences(),this.destroyPopper()}async reposition(){const{popper:e,el:t,placement:i}=this,n=this.getModifiers();e?await vy({el:t,modifiers:n,placement:i,popper:e}):this.createPopper()}getReferenceElement(){const{referenceElement:e,el:t}=this;return(typeof e=="string"?my(t,{id:e}):e)||null}getModifiers(){const{arrowEl:e,offsetDistance:t,offsetSkidding:i}=this,n={name:"arrow",enabled:!0,options:{element:e}},r={name:"offset",enabled:!0,options:{offset:[i,t]}},a={name:"eventListeners",enabled:this.open};return[n,r,a]}createPopper(){this.destroyPopper();const{el:e,placement:t,effectiveReferenceElement:i,overlayPositioning:n}=this,r=this.getModifiers();this.popper=by({el:e,modifiers:r,placement:t,overlayPositioning:n,referenceEl:i})}destroyPopper(){const{popper:e}=this;e&&e.destroy(),this.popper=null}render(){const{effectiveReferenceElement:e,label:t,open:i}=this,n=e&&i,r=!n;return y(ze,{"aria-hidden":r.toString(),"aria-label":t,"calcite-hydrated-hidden":r,id:this.getId(),role:"tooltip"},y("div",{class:{[Qo.animation]:!0,[Qo.animationActive]:n}},y("div",{class:CA.arrow,ref:a=>this.arrowEl=a}),y("div",{class:CA.container},y("slot",null))))}get el(){return this}static get watchers(){return{offsetDistance:["offsetDistanceOffsetHandler"],offsetSkidding:["offsetSkiddingHandler"],open:["openHandler"],placement:["placementHandler"],referenceElement:["referenceElementHandler"]}}static get style(){return Wte}},Kte="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:block}",Yte=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.hoverTimeouts=new WeakMap,this.selector=`[${tg}]`,this.queryTooltip=e=>{const{el:t}=this;if(!e.includes(t))return null;const i=e.find(r=>{var a;return(a=r==null?void 0:r.hasAttribute)===null||a===void 0?void 0:a.call(r,tg)});if(!i)return null;const n=i.getAttribute(tg);return my(t,{id:n})},this.clearHoverTimeout=e=>{const{hoverTimeouts:t}=this;t.has(e)&&(window.clearTimeout(t.get(e)),t.delete(e))},this.closeExistingTooltip=()=>{const{tooltipEl:e}=this;e&&this.toggleTooltip(e,!1)},this.focusTooltip=({tooltip:e,value:t})=>{this.closeExistingTooltip(),t&&this.clearHoverTimeout(e),this.toggleTooltip(e,t)},this.toggleTooltip=(e,t)=>{e.open=t,t&&(this.tooltipEl=e)},this.hoverToggle=({tooltip:e,value:t})=>{const{hoverTimeouts:i}=this;i.delete(e),t&&this.closeExistingTooltip(),this.toggleTooltip(e,t)},this.hoverTooltip=({tooltip:e,value:t})=>{this.clearHoverTimeout(e);const{hoverTimeouts:i}=this,n=window.setTimeout(()=>this.hoverToggle({tooltip:e,value:t}),Gte);i.set(e,n)},this.activeTooltipHover=e=>{const{tooltipEl:t,hoverTimeouts:i}=this,{type:n}=e;!t||(n==="mouseover"&&e.composedPath().includes(t)?this.clearHoverTimeout(t):n==="mouseout"&&!i.has(t)&&this.hoverTooltip({tooltip:t,value:!1}))},this.hoverEvent=(e,t)=>{const i=this.queryTooltip(e.composedPath());this.activeTooltipHover(e),i&&this.hoverTooltip({tooltip:i,value:t})},this.focusEvent=(e,t)=>{const i=this.queryTooltip(e.composedPath());if(!i||i===this.clickedTooltip){this.clickedTooltip=null;return}this.focusTooltip({tooltip:i,value:t})}}render(){return y("slot",null)}keyUpHandler(e){if(e.key==="Escape"){const{tooltipEl:t}=this;t&&(this.clearHoverTimeout(t),this.toggleTooltip(t,!1))}}mouseEnterShow(e){this.hoverEvent(e,!0)}mouseLeaveHide(e){this.hoverEvent(e,!1)}clickHandler(e){const t=this.queryTooltip(e.composedPath());this.clickedTooltip=t,t&&this.toggleTooltip(t,!1)}focusShow(e){this.focusEvent(e,!0)}blurHide(e){this.focusEvent(e,!1)}get el(){return this}static get style(){return Kte}};var St;(function(e){e.Single="single",e.Multi="multi",e.Children="children",e.MultiChildren="multi-children",e.Ancestors="ancestors"})(St||(St={}));const Zte="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block;outline:2px solid transparent;outline-offset:2px}",Xte=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteTreeSelect=W(this,"calciteTreeSelect",7),this.lines=!1,this.inputEnabled=!1,this.scale="m",this.selectionMode=St.Single}componentWillRender(){const e=this.el.parentElement.closest("calcite-tree");this.lines=e?e.lines:this.lines,this.scale=e?e.scale:this.scale,this.selectionMode=e?e.selectionMode:this.selectionMode,this.child=!!e}render(){return y(ze,{"aria-multiselectable":this.child?void 0:(this.selectionMode===St.Multi||this.selectionMode===St.MultiChildren).toString(),role:this.child?void 0:"tree",tabIndex:this.getRootTabIndex()},y("slot",null))}onFocus(){if(!this.child){const e=this.el.querySelector("calcite-tree-item[selected]")||this.el.querySelector("calcite-tree-item");ai(e)}}onFocusIn(e){(e.relatedTarget===this.el||!this.el.contains(e.relatedTarget))&&this.el.removeAttribute("tabindex")}onFocusOut(e){!this.el.contains(e.relatedTarget)&&(this.el.tabIndex=this.getRootTabIndex())}onClick(e){const t=e.target,i=Ka(t.querySelectorAll("calcite-tree-item"));if(this.child)return;if(this.child||(e.preventDefault(),e.stopPropagation()),this.selectionMode===St.Ancestors&&!this.child){this.updateAncestorTree(e);return}const n=this.selectionMode!==null&&(!t.hasChildren||t.hasChildren&&(this.selectionMode===St.Children||this.selectionMode===St.MultiChildren)),r=e.detail.modifyCurrentSelection&&(this.selectionMode===St.Multi||this.selectionMode===St.MultiChildren),a=this.selectionMode===St.MultiChildren||this.selectionMode===St.Children,o=!r&&((this.selectionMode===St.Single||this.selectionMode===St.Multi)&&i.length<=0||this.selectionMode===St.Children||this.selectionMode===St.MultiChildren),s=this.selectionMode===St.Children||this.selectionMode===St.MultiChildren;if(!this.child){const l=[];n&&l.push(t),a&&i.forEach(u=>{l.push(u)}),o&&Ka(this.el.querySelectorAll("calcite-tree-item[selected]")).forEach(h=>{l.includes(h)||(h.selected=!1)}),s&&!e.detail.forceToggle&&(t.expanded=!0),r&&window.getSelection().removeAllRanges(),r&&t.selected||a&&e.detail.forceToggle?l.forEach(u=>{u.selected=!1}):l.forEach(u=>{u.selected=!0})}this.calciteTreeSelect.emit({selected:Ka(this.el.querySelectorAll("calcite-tree-item")).filter(l=>l.selected)})}keyDownHandler(e){var t;const i=this.el.closest("calcite-tree:not([child])"),n=e.target;if(i===this.el&&n.tagName==="CALCITE-TREE-ITEM"&&this.el.contains(n))switch(e.key){case"ArrowDown":const r=n.nextElementSibling;r&&r.matches("calcite-tree-item")&&(r.focus(),e.preventDefault());break;case"ArrowLeft":if(n.hasChildren&&n.expanded){n.expanded=!1,e.preventDefault();break}const a=n.parentElement.closest("calcite-tree-item");if(a&&(!n.hasChildren||n.expanded===!1)){a.focus(),e.preventDefault();break}break;case"ArrowRight":if(!n.hasChildren)break;n.expanded&&document.activeElement===n?((t=n.querySelector("calcite-tree-item"))===null||t===void 0||t.focus(),e.preventDefault()):(n.expanded=!0,e.preventDefault());break;case"ArrowUp":const o=n.previousElementSibling;o&&o.matches("calcite-tree-item")&&(o.focus(),e.preventDefault());break}}updateAncestorTree(e){const t=e.target,i=t.querySelectorAll("calcite-tree-item"),n=[];let r=t.parentElement.closest("calcite-tree-item");for(;r;)n.push(r),r=r.parentElement.closest("calcite-tree-item");t.selected=!t.selected,t.indeterminate=!1,i!=null&&i.length&&i.forEach(a=>{a.selected=t.selected,a.indeterminate=!1}),n&&n.forEach(a=>{const o=Ka(a.querySelectorAll("calcite-tree-item")),s=o.filter(u=>u.selected);if(s.length===0){a.selected=!1,a.indeterminate=!1;return}const l=s.length<o.length;a.indeterminate=l,a.selected=!l}),this.calciteTreeSelect.emit({selected:Ka(this.el.querySelectorAll("calcite-tree-item")).filter(a=>a.selected)})}getRootTabIndex(){return this.child?-1:0}get el(){return this}static get style(){return Zte}},ou={checkboxLabel:"checkbox-label",checkbox:"checkbox",chevron:"chevron",nodeContainer:"node-container",childrenContainer:"children-container",bulletPointIcon:"bullet-point",checkmarkIcon:"checkmark"},EA={children:"children"},wf={bulletPoint:"bullet-point",checkmark:"check",chevronRight:"chevron-right"},Qte='@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block;max-width:100%;cursor:pointer;color:var(--calcite-ui-text-3);outline:2px solid transparent;outline-offset:2px}:host([scale=s]){font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) .node-container{--calcite-tree-padding-y:0.25rem}:host([scale=s]) .node-container .checkbox,:host([scale=s]) .node-container .chevron,:host([scale=s]) .node-container .checkmark,:host([scale=s]) .node-container .bullet-point{margin-inline:0.25rem}:host([scale=m]){font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) .node-container{--calcite-tree-padding-y:0.5rem}:host([scale=m]) .node-container .checkbox,:host([scale=m]) .node-container .chevron,:host([scale=m]) .node-container .checkmark,:host([scale=m]) .node-container .bullet-point{margin-inline:0.5rem}:host([scale=l]){font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .node-container{--calcite-tree-padding-y:0.75rem}:host([scale=l]) .node-container .checkbox,:host([scale=l]) .node-container .chevron,:host([scale=l]) .node-container .checkmark,:host([scale=l]) .node-container .bullet-point{margin-inline:0.75rem}:host([lines]) .children-container:after{position:absolute;top:0px;width:1px;transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;-webkit-transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;height:96%;content:"";background-color:var(--calcite-ui-border-2);z-index:-1}:host(:not([lines])) .node-container:after{display:none}::slotted(*){min-width:0px;max-width:100%;overflow-wrap:break-word;color:inherit;text-decoration:none !important}::slotted(*):hover{text-decoration:none !important}::slotted(a){width:100%;-webkit-text-decoration-line:none;text-decoration-line:none}:host{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}:host(:focus){outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.checkbox{outline:2px solid transparent;outline-offset:2px;line-height:0}.checkbox-label{pointer-events:none;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.children-container{position:relative;height:0px;overflow:hidden;-webkit-margin-start:1.25rem;margin-inline-start:1.25rem;-webkit-transform:scaleY(0);transform:scaleY(0);opacity:0;-webkit-transition:var(--calcite-animation-timing) cubic-bezier(0.215, 0.44, 0.42, 0.88), opacity var(--calcite-animation-timing) cubic-bezier(0.215, 0.44, 0.42, 0.88), all var(--calcite-animation-timing) ease-in-out;transition:var(--calcite-animation-timing) cubic-bezier(0.215, 0.44, 0.42, 0.88), opacity var(--calcite-animation-timing) cubic-bezier(0.215, 0.44, 0.42, 0.88), all var(--calcite-animation-timing) ease-in-out;-webkit-transform-origin:top;transform-origin:top}:host([expanded])>.children-container{-webkit-transform:scaleY(1);transform:scaleY(1);opacity:1;height:auto}.node-container{position:relative;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:var(--calcite-tree-padding-y) 0}.node-container .checkmark,.node-container .bullet-point{opacity:0;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;color:var(--calcite-ui-border-1)}.node-container:hover .checkmark,.node-container:hover .bullet-point,:host([selected]) .node-container:hover .checkmark,:host([selected]) .node-container:hover .bullet-point,:host(:focus) .node-container .checkmark,:host(:focus) .node-container .bullet-point{opacity:1}:host([selected])>.node-container,:host([selected])>.node-container:hover{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}:host([selected])>.node-container .bullet-point,:host([selected])>.node-container .checkmark,:host([selected])>.node-container:hover .bullet-point,:host([selected])>.node-container:hover .checkmark{opacity:1;color:var(--calcite-ui-brand)}:host(:not([has-children])):host([scale=s])>.node-container[data-selection-mode=ancestors] .checkbox{-webkit-padding-start:1.25rem;padding-inline-start:1.25rem}:host(:not([has-children])):host([scale=m])>.node-container[data-selection-mode=ancestors] .checkbox{-webkit-padding-start:1.5rem;padding-inline-start:1.5rem}:host(:not([has-children])):host([scale=l])>.node-container[data-selection-mode=ancestors] .checkbox{-webkit-padding-start:1.75rem;padding-inline-start:1.75rem}:host([has-children])>.node-container[data-selection-mode=ancestors] .checkbox{-webkit-margin-start:0;margin-inline-start:0}:host([has-children])>.node-container .bullet-point,:host([has-children])>.node-container .checkmark{display:none}:host([has-children][expanded]:not([selected]))>.node-container ::slotted(*){font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}:host([has-children][selected])>.node-container[data-selection-mode=children],:host([has-children][selected])>.node-container[data-selection-mode=multi-children]{color:var(--calcite-ui-brand)}.chevron{position:relative;-ms-flex-item-align:center;align-self:center;color:var(--calcite-ui-text-3);-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;-ms-flex:0 0 auto;flex:0 0 auto;-webkit-transform:rotate(0deg);transform:rotate(0deg)}.calcite--rtl .chevron{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host([expanded])>.node-container>.chevron{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host([selected]) .checkmark,:host([selected]) .bullet-point{color:var(--calcite-ui-brand)}',eie=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteTreeItemSelect=W(this,"calciteTreeItemSelect",7),this.selected=!1,this.expanded=!1,this.parentExpanded=!1,this.depth=-1,this.hasChildren=null,this.iconClickHandler=e=>{e.stopPropagation(),this.expanded=!this.expanded},this.childrenClickHandler=e=>e.stopPropagation(),this.updateParentIsExpanded=(e,t)=>{$e(e,EA.children,{all:!0,selector:"calcite-tree-item"}).forEach(n=>n.parentExpanded=t)},this.updateAncestorTree=()=>{if(this.selected&&this.selectionMode===St.Ancestors){const e=[];let t=this.parentTreeItem;for(;t;)e.push(t),t=t.parentElement.closest("calcite-tree-item");e.forEach(i=>i.indeterminate=!0);return}}}expandedHandler(e){this.updateParentIsExpanded(this.el,e)}getselectionMode(){this.isSelectionMultiLike=this.selectionMode===St.Multi||this.selectionMode===St.MultiChildren}connectedCallback(){if(this.parentTreeItem=this.el.parentElement.closest("calcite-tree-item"),this.parentTreeItem){const{expanded:e}=this.parentTreeItem;this.updateParentIsExpanded(this.parentTreeItem,e)}gi(this)}disconnectedCallback(){yi(this)}componentWillRender(){this.hasChildren=!!this.el.querySelector("calcite-tree"),this.depth=0;let e=this.el.closest("calcite-tree");if(!e)return;this.selectionMode=e.selectionMode,this.scale=e.scale||"m",this.lines=e.lines;let t;for(;e&&(t=e.parentElement.closest("calcite-tree"),t!==e);)e=t,this.depth=this.depth+1}componentDidLoad(){this.updateAncestorTree()}render(){const e=Fi(this.el)==="rtl",t=this.selectionMode===St.Single||this.selectionMode===St.Children,i=this.selectionMode===St.Multi||this.selectionMode===St.MultiChildren,n=this.hasChildren?y("calcite-icon",{class:{[ou.chevron]:!0,[Bo.rtl]:e},"data-test-id":"icon",icon:wf.chevronRight,onClick:this.iconClickHandler,scale:"s"}):null,r=y("slot",{key:"default-slot"}),a=this.selectionMode===St.Ancestors?y("label",{class:ou.checkboxLabel,key:"checkbox-label"},y("calcite-checkbox",{checked:this.selected,class:ou.checkbox,"data-test-id":"checkbox",indeterminate:this.hasChildren&&this.indeterminate,scale:this.scale,tabIndex:-1}),r):null,o=t?wf.bulletPoint:i?wf.checkmark:null,s=o?y("calcite-icon",{class:{[ou.bulletPointIcon]:o===wf.bulletPoint,[ou.checkmarkIcon]:o===wf.checkmark,[Bo.rtl]:e},icon:o,scale:"s"}):null,l=!(this.parentExpanded||this.depth===1);return y(ze,{"aria-expanded":this.hasChildren?this.expanded.toString():void 0,"aria-hidden":l.toString(),"aria-selected":this.selected?"true":i?"false":void 0,"calcite-hydrated-hidden":l,role:"treeitem",tabindex:this.parentExpanded||this.depth===1?"0":"-1"},y("div",{class:{[ou.nodeContainer]:!0,[Bo.rtl]:e},"data-selection-mode":this.selectionMode,ref:u=>this.defaultSlotWrapper=u},n,s,a||r),y("div",{class:{[ou.childrenContainer]:!0,[Bo.rtl]:e},"data-test-id":"calcite-tree-children",onClick:this.childrenClickHandler,ref:u=>this.childrenSlotWrapper=u,role:this.hasChildren?"group":void 0},y("slot",{name:EA.children})))}onClick(e){const[t]=N3(this.el,"a");if(t&&e.composedPath()[0].tagName.toLowerCase()!=="a"){const i=t.target===""?"_self":t.target;window.open(t.href,i)}this.calciteTreeItemSelect.emit({modifyCurrentSelection:this.selectionMode===St.Ancestors||this.isSelectionMultiLike,forceToggle:!1})}keyDownHandler(e){let t;switch(e.key){case" ":this.calciteTreeItemSelect.emit({modifyCurrentSelection:this.isSelectionMultiLike,forceToggle:!1}),e.preventDefault();break;case"Enter":const i=Ka(this.el.children).find(o=>o.matches("a"));i?(i.click(),this.selected=!0):this.calciteTreeItemSelect.emit({modifyCurrentSelection:this.isSelectionMultiLike,forceToggle:!1}),e.preventDefault();break;case"Home":t=this.el.closest("calcite-tree:not([child])"),t.querySelector("calcite-tree-item").focus();break;case"End":t=this.el.closest("calcite-tree:not([child])");let r=t.children[t.children.length-1],a=Ka(r.children).find(o=>o.matches("calcite-tree"));for(;a;)r=a.children[t.children.length-1],a=Ka(r.children).find(o=>o.matches("calcite-tree"));r.focus();break}}get el(){return this}static get watchers(){return{expanded:["expandedHandler"],selectionMode:["getselectionMode"]}}static get style(){return Qte}},tie={container:"container",handle:"handle"};var Z3;(function(e){e.grip="grip"})(Z3||(Z3={}));const iie="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:stretch;align-items:stretch;background-color:transparent;font-size:var(--calcite-font-size--1);color:var(--calcite-ui-text-2)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}calcite-value-list-item:last-of-type{--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([filter-enabled]) header{margin-bottom:0.25rem;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:end;justify-content:flex-end;background-color:var(--calcite-ui-foreground-1);--tw-shadow:0 1px 0 var(--calcite-ui-border-3);--tw-shadow-colored:0 1px 0 var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([filter-enabled]) header.sticky-pos{position:-webkit-sticky;position:sticky;top:0px;z-index:10}calcite-filter{margin-bottom:1px}",nie=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteListChange=W(this,"calciteListChange",7),this.calciteListOrderChange=W(this,"calciteListOrderChange",7),this.disabled=!1,this.dragEnabled=!1,this.filterEnabled=!1,this.loading=!1,this.multiple=!1,this.selectionFollowsFocus=!1,this.selectedValues=new Map,this.dataForFilter=[],this.lastSelectedItem=null,this.mutationObserver=Vt("mutation",U9.bind(this)),this.setFilterEl=e=>{this.filterEl=e},this.deselectRemovedItems=nN.bind(this),this.deselectSiblingItems=rN.bind(this),this.selectSiblings=aN.bind(this),this.handleFilter=oN.bind(this),this.getItemData=sN.bind(this),this.keyDownHandler=e=>{const t=e.composedPath().find(o=>{var s;return((s=o.dataset)===null||s===void 0?void 0:s.jsHandle)!==void 0}),i=e.composedPath().find(o=>{var s;return((s=o.tagName)===null||s===void 0?void 0:s.toLowerCase())==="calcite-value-list-item"});if(!t||!i.handleActivated){X9.call(this,e);return}const{items:n}=this;if(e.key!=="ArrowUp"&&e.key!=="ArrowDown"||n.length<=1)return;e.preventDefault();const{el:r}=this,a=Q9(this,i,e.key==="ArrowUp"?"up":"down");if(a===n.length-1)r.appendChild(i);else{const o=r.children[a],s=o===i.nextElementSibling?o.nextElementSibling:o;r.insertBefore(i,s)}this.items=this.getItems(),this.calciteListOrderChange.emit(this.items.map(({value:o})=>o)),requestAnimationFrame(()=>t.focus()),i.handleActivated=!0}}connectedCallback(){G9.call(this),W9.call(this)}componentDidLoad(){this.setUpDragAndDrop()}componentDidRender(){it(this)}disconnectedCallback(){J9.call(this),this.cleanUpDragAndDrop()}calciteListFocusOutHandler(e){Z9.call(this,e)}calciteListItemRemoveHandler(e){eN.call(this,e)}calciteListItemChangeHandler(e){K9.call(this,e)}calciteListItemPropsChangeHandler(e){e.stopPropagation(),this.setUpFilter()}calciteListItemValueChangeHandler(e){Y9.call(this,e)}getItems(){return Array.from(this.el.querySelectorAll("calcite-value-list-item"))}setUpItems(){iN.call(this,"calcite-value-list-item")}setUpFilter(){this.filterEnabled&&(this.dataForFilter=this.getItemData())}setUpDragAndDrop(){this.cleanUpDragAndDrop(),this.dragEnabled&&(this.sortable=Me.create(this.el,{dataIdAttr:"id",handle:`.${tie.handle}`,draggable:"calcite-value-list-item",group:this.group,onSort:()=>{this.items=Array.from(this.el.querySelectorAll("calcite-value-list-item"));const e=this.items.map(t=>t.value);this.calciteListOrderChange.emit(e)}}))}cleanUpDragAndDrop(){var e;(e=this.sortable)===null||e===void 0||e.destroy(),this.sortable=null}async getSelectedItems(){return this.selectedValues}async setFocus(e){return tN.call(this,e)}getIconType(){let e=null;return this.dragEnabled&&(e=Z3.grip),e}render(){return y(lN,{onKeyDown:this.keyDownHandler,props:this})}get el(){return this}static get style(){return iie}},rie={drag:"drag"},Ob={actionsEnd:"actions-end",actionsStart:"actions-start"},aie="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{margin-bottom:1px;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;background-color:var(--calcite-ui-foreground-1);font-size:var(--calcite-font-size--1);color:var(--calcite-ui-text-2);--tw-shadow:0 1px 0 var(--calcite-ui-border-3);--tw-shadow-colored:0 1px 0 var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);-webkit-transition:background-color var(--calcite-animation-timing), -webkit-box-shadow var(--calcite-animation-timing);transition:background-color var(--calcite-animation-timing), -webkit-box-shadow var(--calcite-animation-timing);transition:background-color var(--calcite-animation-timing), box-shadow var(--calcite-animation-timing);transition:background-color var(--calcite-animation-timing), box-shadow var(--calcite-animation-timing), -webkit-box-shadow var(--calcite-animation-timing)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}calcite-pick-list-item{position:relative;margin:0px;-ms-flex-positive:1;flex-grow:1;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([active]),:host([selected]){--tw-shadow:0 0 0 1px var(--calcite-ui-brand);--tw-shadow-colored:0 0 0 1px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.handle{display:-ms-flexbox;display:flex;cursor:move;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;border-style:none;background-color:transparent;padding-top:0px;padding-bottom:0px;padding-left:0.25rem;padding-right:0.25rem;color:var(--calcite-ui-text-1);color:var(--calcite-ui-border-1);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}.handle:hover{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}.handle:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.handle--activated{background-color:var(--calcite-ui-foreground-3);color:var(--calcite-ui-text-1)}.handle calcite-icon{color:inherit}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}",oie=class extends te{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteListItemRemove=W(this,"calciteListItemRemove",7),this.disabled=!1,this.disableDeselect=!1,this.nonInteractive=!1,this.handleActivated=!1,this.icon=null,this.removable=!1,this.selected=!1,this.pickListItem=null,this.guid=`calcite-value-list-item-${li()}`,this.getPickListRef=e=>this.pickListItem=e,this.handleKeyDown=e=>{e.key===" "&&(this.handleActivated=!this.handleActivated)},this.handleBlur=()=>{this.handleActivated=!1},this.handleSelectChange=e=>{this.selected=e.detail.selected}}connectedCallback(){gi(this)}disconnectedCallback(){yi(this)}componentDidRender(){it(this,this.el.closest("calcite-value-list")?"managed":!1)}async toggleSelected(e){this.pickListItem.toggleSelected(e)}async setFocus(){var e;(e=this.pickListItem)===null||e===void 0||e.setFocus()}calciteListItemChangeHandler(e){e.detail.item=this.el}renderActionsEnd(){const{el:e}=this;return $e(e,Ob.actionsEnd)?y("slot",{name:Ob.actionsEnd,slot:Zu.actionsEnd}):null}renderActionsStart(){const{el:e}=this;return $e(e,Ob.actionsStart)?y("slot",{name:Ob.actionsStart,slot:Zu.actionsStart}):null}renderHandle(){const{icon:e}=this;if(e===Od.grip)return y("span",{"aria-pressed":this.handleActivated.toString(),class:{[pr.handle]:!0,[pr.handleActivated]:this.handleActivated},"data-js-handle":!0,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,role:"button",tabindex:"0"},y("calcite-icon",{icon:rie.drag,scale:"s"}))}render(){return y(ze,{id:this.el.id||this.guid},this.renderHandle(),y("calcite-pick-list-item",{description:this.description,disableDeselect:this.disableDeselect,disabled:this.disabled,label:this.label,metadata:this.metadata,nonInteractive:this.nonInteractive,onCalciteListItemChange:this.handleSelectChange,ref:this.getPickListRef,removable:this.removable,selected:this.selected,value:this.value},this.renderActionsStart(),this.renderActionsEnd()))}get el(){return this}static get style(){return aie}},sie=ie(hW,[1,"calcite-accordion",{appearance:[513],iconPosition:[513,"icon-position"],iconType:[513,"icon-type"],scale:[513],selectionMode:[513,"selection-mode"]},[[0,"calciteAccordionItemKeyEvent","calciteAccordionItemKeyEvent"],[0,"calciteAccordionItemRegister","registerCalciteAccordionItem"],[0,"calciteAccordionItemSelect","updateActiveItemOnChange"]]]),lie=ie(kW,[1,"calcite-accordion-item",{active:[1540],itemTitle:[1,"item-title"],itemSubtitle:[1,"item-subtitle"],icon:[513]},[[0,"keydown","keyDownHandler"],[16,"calciteAccordionChange","updateActiveItemOnChange"]]]),cie=ie(CW,[1,"calcite-action",{active:[516],alignment:[513],appearance:[513],compact:[516],disabled:[516],icon:[1],indicator:[516],intlLoading:[1,"intl-loading"],label:[1],loading:[516],scale:[513],text:[1],textEnabled:[516,"text-enabled"]}]),uie=ie(wK,[1,"calcite-action-bar",{expandDisabled:[516,"expand-disabled"],expanded:[1540],intlExpand:[1,"intl-expand"],intlCollapse:[1,"intl-collapse"],overflowActionsDisabled:[4,"overflow-actions-disabled"],position:[513],scale:[513]}]),die=ie(kK,[1,"calcite-action-group",{expanded:[516],layout:[513],columns:[514],intlMore:[1,"intl-more"],menuOpen:[1540,"menu-open"],scale:[513]}]),hie=ie(SK,[1,"calcite-action-menu",{expanded:[516],flipPlacements:[16],label:[1],open:[1540],overlayPositioning:[1,"overlay-positioning"],placement:[513],scale:[513],activeMenuItemIndex:[32]},[[8,"click","closeCalciteActionMenuOnClick"]]]),pie=ie($K,[1,"calcite-action-pad",{expandDisabled:[516,"expand-disabled"],expanded:[1540],layout:[513],intlExpand:[1,"intl-expand"],intlCollapse:[1,"intl-collapse"],position:[513],scale:[513]}]),mie=ie(EK,[1,"calcite-alert",{active:[1540],autoDismiss:[4,"auto-dismiss"],autoDismissDuration:[513,"auto-dismiss-duration"],color:[513],icon:[520],intlClose:[1,"intl-close"],label:[1],placement:[1],scale:[513],queue:[32],queueLength:[32],queued:[32],requestedIcon:[32]},[[8,"calciteAlertSync","alertSync"],[8,"calciteAlertRegister","alertRegister"]]]),fie=ie(FK,[1,"calcite-avatar",{scale:[513],thumbnail:[1],fullName:[1,"full-name"],username:[1],userId:[1,"user-id"],error:[32]}]),gie=ie(jK,[1,"calcite-block",{collapsible:[4],disabled:[516],dragHandle:[516,"drag-handle"],heading:[1],headingLevel:[2,"heading-level"],intlCollapse:[1,"intl-collapse"],intlExpand:[1,"intl-expand"],intlLoading:[1,"intl-loading"],intlOptions:[1,"intl-options"],loading:[516],open:[1540],status:[513],summary:[1]}]),yie=ie(HK,[1,"calcite-block-section",{intlCollapse:[1,"intl-collapse"],intlExpand:[1,"intl-expand"],open:[1540],status:[513],text:[1],toggleDisplay:[513,"toggle-display"]}]),bie=ie(JK,[1,"calcite-button",{alignment:[513],appearance:[513],label:[1],color:[513],disabled:[516],href:[513],iconEnd:[513,"icon-end"],iconFlipRtl:[513,"icon-flip-rtl"],iconStart:[513,"icon-start"],intlLoading:[1,"intl-loading"],loading:[516],name:[1],rel:[1],form:[1],round:[516],scale:[513],splitChild:[520,"split-child"],target:[1],type:[1025],width:[513],hasContent:[32],hasLoader:[32]}]),vie=ie(YK,[1,"calcite-card",{loading:[516],selected:[1540],selectable:[516],intlLoading:[1,"intl-loading"],intlSelect:[1,"intl-select"],intlDeselect:[1,"intl-deselect"]}]),wie=ie(tY,[1,"calcite-checkbox",{checked:[1540],disabled:[516],guid:[1537],hovered:[1540],indeterminate:[1540],label:[1],name:[520],required:[516],scale:[513],value:[8]}]),xie=ie(aY,[1,"calcite-chip",{appearance:[513],color:[513],dismissible:[516],dismissLabel:[1,"dismiss-label"],icon:[513],iconFlipRtl:[516,"icon-flip-rtl"],scale:[513],value:[8]}]),kie=ie(SY,[1,"calcite-color-picker",{allowEmpty:[4,"allow-empty"],appearance:[513],color:[1040],disabled:[516],format:[1],hideHex:[4,"hide-hex"],hideChannels:[4,"hide-channels"],hideSaved:[4,"hide-saved"],intlB:[1,"intl-b"],intlBlue:[1,"intl-blue"],intlDeleteColor:[1,"intl-delete-color"],intlG:[1,"intl-g"],intlGreen:[1,"intl-green"],intlH:[1,"intl-h"],intlHsv:[1,"intl-hsv"],intlHex:[1,"intl-hex"],intlHue:[1,"intl-hue"],intlNoColor:[1,"intl-no-color"],intlR:[1,"intl-r"],intlRed:[1,"intl-red"],intlRgb:[1,"intl-rgb"],intlS:[1,"intl-s"],intlSaturation:[1,"intl-saturation"],intlSaveColor:[1,"intl-save-color"],intlSaved:[1,"intl-saved"],intlV:[1,"intl-v"],intlValue:[1,"intl-value"],scale:[513],storageId:[1,"storage-id"],value:[1025],colorFieldAndSliderInteractive:[32],channelMode:[32],channels:[32],dimensions:[32],savedColors:[32],colorFieldScopeTop:[32],colorFieldScopeLeft:[32],scopeOrientation:[32],hueScopeLeft:[32],hueScopeTop:[32]},[[2,"keydown","handleChannelKeyUpOrDown"],[2,"keyup","handleChannelKeyUpOrDown"]]]),_ie=ie($Y,[1,"calcite-color-picker-hex-input",{allowEmpty:[4,"allow-empty"],intlHex:[1,"intl-hex"],intlNoColor:[1,"intl-no-color"],scale:[513],value:[1537],internalColor:[32]},[[2,"keydown","onInputKeyDown"]]]),Sie=ie(EY,[1,"calcite-color-picker-swatch",{active:[516],color:[1],scale:[513]}]),Die=ie(qZ,[1,"calcite-combobox",{active:[1540],disabled:[516],label:[1],placeholder:[1],maxItems:[2,"max-items"],name:[513],allowCustomValues:[4,"allow-custom-values"],overlayPositioning:[1,"overlay-positioning"],required:[4],selectionMode:[513,"selection-mode"],scale:[513],value:[1025],intlRemoveTag:[1,"intl-remove-tag"],flipPlacements:[16],items:[32],groupItems:[32],selectedItems:[32],visibleItems:[32],needsIcon:[32],activeItemIndex:[32],activeChipIndex:[32],activeDescendant:[32],text:[32]},[[4,"click","documentClickHandler"],[0,"calciteComboboxItemChange","calciteComboboxItemChangeHandler"]]]),$ie=ie(UZ,[1,"calcite-combobox-item",{disabled:[516],selected:[1540],active:[4],ancestors:[1040],guid:[1],icon:[1],textLabel:[513,"text-label"],value:[8],constant:[516]}]),Cie=ie(WZ,[1,"calcite-combobox-item-group",{ancestors:[1040],label:[1]}]),Iie=ie(lX,[1,"calcite-date-picker",{activeRange:[1,"active-range"],value:[1025],headingLevel:[2,"heading-level"],valueAsDate:[1040],startAsDate:[1040],endAsDate:[1040],minAsDate:[1040],maxAsDate:[1040],min:[1025],max:[1025],intlPrevMonth:[1,"intl-prev-month"],intlNextMonth:[1,"intl-next-month"],intlYear:[1,"intl-year"],locale:[1],scale:[513],range:[516],start:[1025],end:[1025],proximitySelectionDisabled:[4,"proximity-selection-disabled"],activeDate:[32],activeStartDate:[32],activeEndDate:[32],localeData:[32],hoverRange:[32]}]),Eie=ie(uX,[1,"calcite-date-picker-day",{day:[2],disabled:[516],currentMonth:[516,"current-month"],selected:[516],highlighted:[516],range:[516],startOfRange:[516,"start-of-range"],endOfRange:[516,"end-of-range"],rangeHover:[516,"range-hover"],active:[516],localeData:[16],scale:[513],value:[16]},[[1,"mouseover","mouseoverHandler"]]]),Tie=ie(hX,[1,"calcite-date-picker-month",{selectedDate:[16],activeDate:[16],startDate:[16],endDate:[16],min:[16],max:[16],scale:[513],localeData:[16],hoverRange:[16]},[[1,"mouseout","mouseoutHandler"]]]),Mie=ie(mX,[1,"calcite-date-picker-month-header",{selectedDate:[16],activeDate:[16],headingLevel:[2,"heading-level"],min:[16],max:[16],locale:[1],intlPrevMonth:[1,"intl-prev-month"],intlNextMonth:[1,"intl-next-month"],intlYear:[1,"intl-year"],scale:[513],localeData:[16],nextMonthDate:[32],prevMonthDate:[32]}]),Aie=ie(yX,[1,"calcite-dropdown",{active:[1540],disableCloseOnSelect:[516,"disable-close-on-select"],disabled:[516],flipPlacements:[16],maxItems:[2,"max-items"],overlayPositioning:[1,"overlay-positioning"],placement:[513],scale:[513],selectedItems:[1040],type:[513],width:[513]},[[8,"click","closeCalciteDropdownOnClick"],[0,"calciteDropdownCloseRequest","closeCalciteDropdownOnEvent"],[8,"calciteDropdownOpen","closeCalciteDropdownOnOpenEvent"],[1,"mouseenter","mouseEnterHandler"],[1,"mouseleave","mouseLeaveHandler"],[0,"calciteDropdownItemKeyEvent","calciteDropdownItemKeyEvent"],[0,"calciteDropdownItemSelect","handleItemSelect"]]]),Oie=ie(vX,[1,"calcite-dropdown-group",{groupTitle:[513,"group-title"],selectionMode:[513,"selection-mode"],scale:[513]},[[0,"calciteDropdownItemSelect","updateActiveItemOnChange"]]]),Pie=ie(xX,[1,"calcite-dropdown-item",{active:[1540],iconFlipRtl:[513,"icon-flip-rtl"],iconStart:[513,"icon-start"],iconEnd:[513,"icon-end"],href:[513],label:[1],rel:[1],target:[1]},[[0,"click","onClick"],[0,"keydown","keyDownHandler"],[16,"calciteDropdownItemChange","updateActiveItemOnChange"]]]),Lie=ie(DX,[1,"calcite-fab",{appearance:[513],color:[513],disabled:[516],icon:[1],label:[1],loading:[516],scale:[513],text:[1],textEnabled:[516,"text-enabled"]}]),Rie=ie(IX,[1,"calcite-filter",{items:[1040],disabled:[516],filteredItems:[1040],intlClear:[1,"intl-clear"],intlLabel:[1,"intl-label"],placeholder:[1],scale:[513],value:[1025]}]),Fie=ie(TX,[1,"calcite-flow",{panelCount:[32],flowDirection:[32],panels:[32]},[[0,"calcitePanelBackClick","handleCalcitePanelBackClick"]]]),Nie=ie(RX,[1,"calcite-graph",{data:[16],colorStops:[16],highlightMin:[2,"highlight-min"],highlightMax:[2,"highlight-max"],min:[2],max:[2]}]),zie=ie(zX,[1,"calcite-handle",{activated:[1540],textTitle:[513,"text-title"]}]),jie=ie(BX,[1,"calcite-icon",{icon:[513],flipRtl:[516,"flip-rtl"],scale:[513],textLabel:[1,"text-label"],pathData:[32],visible:[32]}]),Vie=ie(GX,[1,"calcite-inline-editable",{disabled:[516],editingEnabled:[1540,"editing-enabled"],loading:[1540],controls:[516],intlEnableEditing:[513,"intl-enable-editing"],intlCancelEditing:[513,"intl-cancel-editing"],intlConfirmChanges:[513,"intl-confirm-changes"],scale:[1537],afterConfirm:[16]},[[0,"calciteInputBlur","blurHandler"]]]),Hie=ie(KX,[1,"calcite-input",{alignment:[513],autofocus:[4],clearable:[516],disabled:[516],groupSeparator:[4,"group-separator"],hidden:[4],icon:[520],intlLoading:[1,"intl-loading"],iconFlipRtl:[516,"icon-flip-rtl"],label:[1],loading:[516],locale:[1],localeFormat:[4,"locale-format"],max:[514],min:[514],maxlength:[514],maxLength:[514,"max-length"],minLength:[514,"min-length"],name:[513],numberButtonType:[513,"number-button-type"],placeholder:[1],prefixText:[1,"prefix-text"],readOnly:[4,"read-only"],required:[4],scale:[1537],status:[1537],step:[520],suffixText:[1,"suffix-text"],editingEnabled:[1540,"editing-enabled"],type:[513],value:[1025],localizedValue:[32]}]),qie=ie(ZX,[1,"calcite-input-date-picker",{disabled:[516],value:[1025],flipPlacements:[16],headingLevel:[2,"heading-level"],valueAsDate:[1040],startAsDate:[1040],endAsDate:[1040],minAsDate:[1040],maxAsDate:[1040],min:[1025],max:[1025],active:[1540],name:[1],intlPrevMonth:[1,"intl-prev-month"],intlNextMonth:[1,"intl-next-month"],intlYear:[1,"intl-year"],locale:[1],scale:[513],range:[516],required:[516],start:[1025],end:[1025],overlayPositioning:[1,"overlay-positioning"],proximitySelectionDisabled:[4,"proximity-selection-disabled"],layout:[513],focusedInput:[32],localeData:[32]},[[0,"calciteDatePickerChange","handleDateOrRangeChange"],[0,"calciteDatePickerRangeChange","handleDateOrRangeChange"],[0,"calciteDaySelect","calciteDaySelectHandler"]]]),Bie=ie(QX,[1,"calcite-input-message",{active:[516],icon:[520],scale:[1537],status:[1537],type:[513]}]),Uie=ie(rQ,[1,"calcite-input-time-picker",{active:[1540],disabled:[516],intlHour:[1,"intl-hour"],intlHourDown:[1,"intl-hour-down"],intlHourUp:[1,"intl-hour-up"],intlMeridiem:[1,"intl-meridiem"],intlMeridiemDown:[1,"intl-meridiem-down"],intlMeridiemUp:[1,"intl-meridiem-up"],intlMinute:[1,"intl-minute"],intlMinuteDown:[1,"intl-minute-down"],intlMinuteUp:[1,"intl-minute-up"],intlSecond:[1,"intl-second"],intlSecondDown:[1,"intl-second-down"],intlSecondUp:[1,"intl-second-up"],locale:[1025,"lang"],name:[1],required:[516],scale:[513],step:[2],value:[1025],localizedValue:[32]},[[0,"click","clickHandler"],[0,"keyup","keyUpHandler"],[0,"calciteTimePickerBlur","timePickerBlurHandler"],[0,"calciteTimePickerFocus","timePickerFocusHandler"]]]),Gie=ie(sQ,[1,"calcite-label",{alignment:[513],status:[513],for:[513],scale:[513],layout:[513],disableSpacing:[4,"disable-spacing"],disabled:[516]}]),Wie=ie(cQ,[1,"calcite-link",{disabled:[516],download:[520],href:[513],iconEnd:[513,"icon-end"],iconFlipRtl:[513,"icon-flip-rtl"],iconStart:[513,"icon-start"],rel:[1],target:[1]}]),Jie=ie(hQ,[1,"calcite-list",{disabled:[516],headingLevel:[2,"heading-level"]}]),Kie=ie(mQ,[1,"calcite-list-item",{nonInteractive:[516,"non-interactive"],description:[1],disabled:[516],label:[1]}]),Yie=ie(yQ,[1,"calcite-list-item-group",{heading:[513],headingLevel:[2,"heading-level"]}]),Zie=ie(vQ,[1,"calcite-loader",{active:[516],inline:[516],label:[1],scale:[513],type:[513],value:[2],text:[1],noPadding:[4,"no-padding"]}]),Xie=ie($Q,[1,"calcite-modal",{active:[1540],beforeClose:[16],disableCloseButton:[4,"disable-close-button"],disableOutsideClose:[4,"disable-outside-close"],intlClose:[1,"intl-close"],docked:[516],firstFocus:[16],disableEscape:[4,"disable-escape"],scale:[513],width:[520],fullscreen:[516],color:[513],backgroundColor:[513,"background-color"],noPadding:[4,"no-padding"],hasFooter:[32]},[[8,"keyup","handleEscape"]]]),Qie=ie(EQ,[1,"calcite-notice",{active:[1540],color:[513],dismissible:[516],icon:[520],intlClose:[1,"intl-close"],scale:[513],width:[513]}]),ene=ie(MQ,[1,"calcite-option",{disabled:[516],label:[1025],selected:[516],value:[1032]}]),tne=ie(OQ,[1,"calcite-option-group",{disabled:[516],label:[1]}]),ine=ie(LQ,[1,"calcite-pagination",{num:[2],start:[1026],total:[2],textLabelNext:[1,"text-label-next"],textLabelPrevious:[1,"text-label-previous"],scale:[513]}]),nne=ie(NQ,[1,"calcite-panel",{dismissed:[1540],beforeBack:[16],disabled:[516],dismissible:[516],headingLevel:[2,"heading-level"],showBackButton:[516,"show-back-button"],intlBack:[1,"intl-back"],heightScale:[513,"height-scale"],widthScale:[513,"width-scale"],loading:[516],intlClose:[1,"intl-close"],intlOptions:[1,"intl-options"],heading:[1],summary:[1],menuOpen:[516,"menu-open"]}]),rne=ie(WQ,[1,"calcite-pick-list",{disabled:[516],filterEnabled:[516,"filter-enabled"],filterPlaceholder:[513,"filter-placeholder"],headingLevel:[2,"heading-level"],loading:[516],multiple:[516],selectionFollowsFocus:[4,"selection-follows-focus"],selectedValues:[32],dataForFilter:[32]},[[0,"calciteListItemRemove","calciteListItemRemoveHandler"],[0,"calciteListItemChange","calciteListItemChangeHandler"],[0,"calciteListItemPropsChange","calciteListItemPropsChangeHandler"],[0,"calciteListItemValueChange","calciteListItemValueChangeHandler"],[0,"focusout","calciteListFocusOutHandler"]]]),ane=ie(KQ,[1,"calcite-pick-list-group",{groupTitle:[513,"group-title"],headingLevel:[2,"heading-level"]}]),one=ie(XQ,[1,"calcite-pick-list-item",{description:[513],disabled:[516],disableDeselect:[4,"disable-deselect"],nonInteractive:[516,"non-interactive"],icon:[513],label:[513],metadata:[16],removable:[516],selected:[1540],intlRemove:[513,"intl-remove"],value:[8]}]),sne=ie(nee,[1,"calcite-popover",{closeButton:[516,"close-button"],dismissible:[516],disableFlip:[516,"disable-flip"],disablePointer:[516,"disable-pointer"],flipPlacements:[16],heading:[1],headingLevel:[2,"heading-level"],label:[1],offsetDistance:[514,"offset-distance"],offsetSkidding:[514,"offset-skidding"],open:[1540],overlayPositioning:[1,"overlay-positioning"],placement:[513],referenceElement:[1,"reference-element"],intlClose:[1,"intl-close"],effectiveReferenceElement:[32]}]),lne=ie(aee,[1,"calcite-popover-manager",{selector:[1],autoClose:[516,"auto-close"]},[[10,"click","closeOpenPopovers"]]]),cne=ie(see,[1,"calcite-progress",{type:[1],value:[2],label:[1],text:[1],reversed:[4]}]),une=ie(uee,[1,"calcite-radio-button",{checked:[1540],disabled:[516],focused:[1540],guid:[1537],hidden:[516],hovered:[1540],label:[1],name:[513],required:[516],scale:[513],value:[1032]},[[1,"mouseenter","mouseenter"],[1,"mouseleave","mouseleave"]]]),dne=ie(hee,[1,"calcite-radio-button-group",{disabled:[516],hidden:[516],layout:[513],name:[513],required:[516],scale:[513]},[[0,"calciteRadioButtonChange","radioButtonChangeHandler"]]]),hne=ie(mee,[1,"calcite-radio-group",{appearance:[513],disabled:[516],required:[516],layout:[513],name:[1],scale:[513],value:[1025],selectedItem:[1040],width:[513]},[[0,"calciteRadioGroupItemChange","handleSelected"],[0,"keydown","handleKeyDown"]]]),pne=ie(bee,[1,"calcite-radio-group-item",{checked:[1540],icon:[513],iconFlipRtl:[516,"icon-flip-rtl"],iconPosition:[513,"icon-position"],value:[1032]}]),mne=ie(wee,[1,"calcite-rating",{scale:[513],value:[1538],readOnly:[516,"read-only"],disabled:[516],showChip:[516,"show-chip"],count:[514],average:[514],name:[513],intlRating:[1,"intl-rating"],intlStars:[1,"intl-stars"],required:[516],hoverValue:[32],focusValue:[32],hasFocus:[32]},[[0,"blur","blurHandler"]]]),fne=ie(_ee,[1,"calcite-scrim",{intlLoading:[1,"intl-loading"],loading:[516]}]),gne=ie($ee,[1,"calcite-select",{disabled:[516],label:[1],name:[1],required:[516],scale:[513],value:[1025],selectedOption:[1040],width:[513]},[[0,"calciteOptionChange","handleOptionOrGroupChange"],[0,"calciteOptionGroupChange","handleOptionOrGroupChange"]]]),yne=ie(Iee,[1,"calcite-shell",{contentBehind:[516,"content-behind"]}]),bne=ie(Tee,[1,"calcite-shell-center-row",{detached:[516],heightScale:[513,"height-scale"],position:[513]}]),vne=ie(Oee,[1,"calcite-shell-panel",{collapsed:[516],detached:[516],detachedHeightScale:[513,"detached-height-scale"],widthScale:[513,"width-scale"],position:[513],intlResize:[1,"intl-resize"],resizable:[516],contentWidth:[32]}]),wne=ie(Lee,[1,"calcite-slider",{disabled:[516],hasHistogram:[1540,"has-histogram"],histogram:[16],histogramStops:[16],labelHandles:[516,"label-handles"],labelTicks:[516,"label-ticks"],max:[514],maxLabel:[1,"max-label"],maxValue:[1026,"max-value"],min:[514],minLabel:[1,"min-label"],minValue:[1026,"min-value"],mirrored:[516],name:[513],pageStep:[2,"page-step"],precise:[4],required:[516],snap:[4],step:[2],ticks:[2],value:[1538],scale:[1],activeProp:[32],minMaxValueRange:[32],minValueDragRange:[32],maxValueDragRange:[32],tickValues:[32]},[[0,"keydown","keyDownHandler"],[0,"click","clickHandler"],[1,"pointerdown","pointerDownHandler"]]]),xne=ie(ute,[1,"calcite-sortable-list",{dragSelector:[1,"drag-selector"],group:[1],handleSelector:[1,"handle-selector"],layout:[1],disabled:[516],loading:[516],handleActivated:[32]},[[0,"calciteHandleNudge","calciteHandleNudgeHandler"]]]),kne=ie(hte,[1,"calcite-split-button",{appearance:[513],color:[513],disabled:[516],active:[1540],dropdownIconType:[513,"dropdown-icon-type"],dropdownLabel:[513,"dropdown-label"],loading:[516],overlayPositioning:[1,"overlay-positioning"],primaryIconEnd:[513,"primary-icon-end"],primaryIconFlipRtl:[513,"primary-icon-flip-rtl"],primaryIconStart:[513,"primary-icon-start"],primaryLabel:[513,"primary-label"],primaryText:[513,"primary-text"],scale:[513],width:[513]}]),_ne=ie(mte,[1,"calcite-stepper",{icon:[516],layout:[513],numbered:[516],scale:[513],requestedContent:[1040]},[[0,"calciteStepperItemKeyEvent","calciteStepperItemKeyEvent"],[0,"calciteStepperItemRegister","registerItem"],[0,"calciteStepperItemSelect","updateItem"]]]),Sne=ie(gte,[1,"calcite-stepper-item",{active:[1540],complete:[516],error:[4],disabled:[516],itemTitle:[1,"item-title"],itemSubtitle:[1,"item-subtitle"],layout:[1537],icon:[1028],numbered:[1028],scale:[1537]},[[0,"keydown","keyDownHandler"],[16,"calciteStepperItemChange","updateActiveItemOnChange"]]]),Dne=ie(bte,[1,"calcite-switch",{disabled:[516],label:[1],name:[513],scale:[513],switched:[1028],checked:[1540],value:[8]}]),$ne=ie(wte,[1,"calcite-tab",{tab:[513],active:[1540],scale:[1537],labeledBy:[32]},[[16,"calciteTabChange","tabChangeHandler"]]]),Cne=ie(kte,[1,"calcite-tab-nav",{storageId:[1,"storage-id"],syncId:[1,"sync-id"],scale:[1537],layout:[1537],position:[1537],bordered:[1540],indicatorOffset:[1026,"indicator-offset"],indicatorWidth:[1026,"indicator-width"],selectedTab:[32],selectedTabEl:[32]},[[9,"resize","resizeHandler"],[0,"calciteTabsFocusPrevious","focusPreviousTabHandler"],[0,"calciteTabsFocusNext","focusNextTabHandler"],[0,"calciteTabsActivate","activateTabHandler"],[0,"calciteTabTitleRegister","updateTabTitles"],[16,"calciteTabChange","globalTabChangeHandler"]]]),Ine=ie(Ste,[1,"calcite-tab-title",{active:[1540],disabled:[516],iconEnd:[513,"icon-end"],iconFlipRtl:[513,"icon-flip-rtl"],iconStart:[513,"icon-start"],layout:[1537],position:[1537],scale:[1537],bordered:[1540],tab:[513],controls:[32],hasText:[32]},[[16,"calciteTabChange","tabChangeHandler"],[0,"click","onClick"],[0,"keydown","keyDownHandler"]]]),Ene=ie(Cte,[1,"calcite-tabs",{layout:[513],position:[513],scale:[513],bordered:[1540],titles:[32],tabs:[32]},[[0,"calciteTabTitleRegister","calciteTabTitleRegister"],[16,"calciteTabTitleUnregister","calciteTabTitleUnregister"],[0,"calciteTabRegister","calciteTabRegister"],[16,"calciteTabUnregister","calciteTabUnregister"]]]),Tne=ie(Ete,[1,"calcite-tile",{active:[516],description:[513],disabled:[516],embed:[516],focused:[516],heading:[513],hidden:[516],href:[513],icon:[513]}]),Mne=ie(Mte,[1,"calcite-tile-select",{checked:[1540],description:[513],disabled:[516],heading:[513],hidden:[516],icon:[513],name:[520],inputEnabled:[516,"input-enabled"],inputAlignment:[513,"input-alignment"],type:[513],value:[8],width:[513],focused:[32]},[[0,"calciteCheckboxChange","checkboxChangeHandler"],[0,"calciteInternalCheckboxFocus","checkboxFocusBlurHandler"],[0,"calciteInternalCheckboxBlur","checkboxFocusBlurHandler"],[0,"calciteRadioButtonChange","radioButtonChangeHandler"],[0,"calciteInternalRadioButtonCheckedChange","radioButtonCheckedChangeHandler"],[0,"calciteInternalRadioButtonFocus","radioButtonFocusBlurHandler"],[0,"calciteInternalRadioButtonBlur","radioButtonFocusBlurHandler"],[0,"click","click"],[1,"mouseenter","mouseenter"],[1,"mouseleave","mouseleave"]]]),Ane=ie(Ote,[1,"calcite-tile-select-group",{disabled:[516],layout:[513]}]),One=ie(Rte,[1,"calcite-time-picker",{intlHour:[1,"intl-hour"],intlHourDown:[1,"intl-hour-down"],intlHourUp:[1,"intl-hour-up"],intlMeridiem:[1,"intl-meridiem"],intlMeridiemDown:[1,"intl-meridiem-down"],intlMeridiemUp:[1,"intl-meridiem-up"],intlMinute:[1,"intl-minute"],intlMinuteDown:[1,"intl-minute-down"],intlMinuteUp:[1,"intl-minute-up"],intlSecond:[1,"intl-second"],intlSecondDown:[1,"intl-second-down"],intlSecondUp:[1,"intl-second-up"],locale:[1025,"lang"],scale:[1],step:[2],value:[1025],hour:[32],hourCycle:[32],localizedHour:[32],localizedHourSuffix:[32],localizedMeridiem:[32],localizedMinute:[32],localizedMinuteSuffix:[32],localizedSecond:[32],localizedSecondSuffix:[32],meridiem:[32],minute:[32],second:[32],showSecond:[32]},[[0,"blur","hostBlurHandler"],[0,"focus","hostFocusHandler"],[0,"keydown","keyDownHandler"]]]),Pne=ie(Vte,[1,"calcite-tip",{dismissed:[1540],nonDismissible:[516,"non-dismissible"],heading:[1],headingLevel:[2,"heading-level"],selected:[516],intlClose:[1,"intl-close"]}]),Lne=ie(qte,[1,"calcite-tip-group",{groupTitle:[1,"group-title"]}]),Rne=ie(Ute,[1,"calcite-tip-manager",{closed:[1540],headingLevel:[2,"heading-level"],intlClose:[1,"intl-close"],intlDefaultTitle:[1,"intl-default-title"],intlNext:[1,"intl-next"],intlPaginationLabel:[1,"intl-pagination-label"],intlPrevious:[1,"intl-previous"],selectedIndex:[32],tips:[32],total:[32],direction:[32],groupTitle:[32]}]),Fne=ie(Jte,[1,"calcite-tooltip",{label:[1],offsetDistance:[514,"offset-distance"],offsetSkidding:[514,"offset-skidding"],open:[516],overlayPositioning:[1,"overlay-positioning"],placement:[513],referenceElement:[1,"reference-element"],effectiveReferenceElement:[32]}]),Nne=ie(Yte,[1,"calcite-tooltip-manager",{selector:[1]},[[4,"keyup","keyUpHandler"],[3,"mouseover","mouseEnterShow"],[3,"mouseout","mouseLeaveHide"],[2,"click","clickHandler"],[2,"focus","focusShow"],[2,"blur","blurHide"]]]),zne=ie(Xte,[1,"calcite-tree",{lines:[1540],inputEnabled:[4,"input-enabled"],child:[1540],scale:[1537],selectionMode:[1537,"selection-mode"]},[[0,"focus","onFocus"],[0,"focusin","onFocusIn"],[0,"focusout","onFocusOut"],[0,"calciteTreeItemSelect","onClick"],[0,"keydown","keyDownHandler"]]]),jne=ie(eie,[1,"calcite-tree-item",{selected:[1540],expanded:[1540],parentExpanded:[4,"parent-expanded"],depth:[1538],hasChildren:[1540,"has-children"],lines:[1540],inputEnabled:[4,"input-enabled"],scale:[1537],indeterminate:[516],selectionMode:[1025,"selection-mode"]},[[0,"click","onClick"],[0,"keydown","keyDownHandler"]]]),Vne=ie(nie,[1,"calcite-value-list",{disabled:[516],dragEnabled:[516,"drag-enabled"],filterEnabled:[516,"filter-enabled"],filterPlaceholder:[513,"filter-placeholder"],group:[1],loading:[516],multiple:[516],selectionFollowsFocus:[4,"selection-follows-focus"],selectedValues:[32],dataForFilter:[32]},[[0,"focusout","calciteListFocusOutHandler"],[0,"calciteListItemRemove","calciteListItemRemoveHandler"],[0,"calciteListItemChange","calciteListItemChangeHandler"],[0,"calciteListItemPropsChange","calciteListItemPropsChangeHandler"],[0,"calciteListItemValueChange","calciteListItemValueChangeHandler"]]]),Hne=ie(oie,[1,"calcite-value-list-item",{description:[513],disabled:[516],disableDeselect:[4,"disable-deselect"],nonInteractive:[516,"non-interactive"],handleActivated:[1028,"handle-activated"],icon:[513],label:[513],metadata:[16],removable:[516],selected:[1540],value:[8]},[[0,"calciteListItemChange","calciteListItemChangeHandler"]]]),qne=e=>{typeof customElements!="undefined"&&[sie,lie,cie,uie,die,hie,pie,mie,fie,gie,yie,bie,vie,wie,xie,kie,_ie,Sie,Die,$ie,Cie,Iie,Eie,Tie,Mie,Aie,Oie,Pie,Lie,Rie,Fie,Nie,zie,jie,Vie,Hie,qie,Bie,Uie,Gie,Wie,Jie,Kie,Yie,Zie,Xie,Qie,ene,tne,ine,nne,rne,ane,one,sne,lne,cne,une,dne,hne,pne,mne,fne,gne,yne,bne,vne,wne,xne,kne,_ne,Sne,Dne,$ne,Cne,Ine,Ene,Tne,Mne,Ane,One,Pne,Lne,Rne,Fne,Nne,zne,jne,Vne,Hne].forEach(t=>{customElements.get(t.is)||customElements.define(t.is,t,e)})},wh=[];function kN(e,t){return{subscribe:_N(e,t).subscribe}}function _N(e,t=Ve){let i;const n=new Set;function r(s){if(fi(e,s)&&(e=s,i)){const l=!wh.length;for(const u of n)u[1](),wh.push(u,e);if(l){for(let u=0;u<wh.length;u+=2)wh[u][0](wh[u+1]);wh.length=0}}}function a(s){r(s(e))}function o(s,l=Ve){const u=[s,l];return n.add(u),n.size===1&&(i=t(r)||Ve),s(e),()=>{n.delete(u),n.size===0&&(i(),i=null)}}return{set:r,update:a,subscribe:o}}function SN(e,t,i){const n=!Array.isArray(e),r=n?[e]:e,a=t.length<2;return kN(i,o=>{let s=!1;const l=[];let u=0,h=Ve;const m=()=>{if(u)return;h();const g=t(n?l[0]:l,o);a?o(g):h=mC(g)?g:Ve},f=r.map((g,b)=>dG(g,v=>{l[b]=v,u&=~(1<<b),s&&m()},()=>{u|=1<<b}));return s=!0,m(),function(){Cm(f),h()}})}function Bne(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var i,n,r,a,o=[],s="",l=e.split("/");for(l[0]||l.shift();r=l.shift();)i=r[0],i==="*"?(o.push("wild"),s+="/(.*)"):i===":"?(n=r.indexOf("?",1),a=r.indexOf(".",1),o.push(r.substring(1,~n?n:~a?a:r.length)),s+=!!~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(s+=(~n?"?":"")+"\\"+r.substring(a))):s+="/"+r;return{keys:o,pattern:new RegExp("^"+s+(t?"(?=$|/)":"/?$"),"i")}}function Une(e){let t,i,n;const r=[e[2]];var a=e[0];function o(s){let l={};for(let u=0;u<r.length;u+=1)l=dy(l,r[u]);return{props:l}}return a&&(t=new a(o()),t.$on("routeEvent",e[7])),{c(){t&&Ye(t.$$.fragment),i=Hc()},m(s,l){t&&Ge(t,s,l),ve(s,i,l),n=!0},p(s,l){const u=l&4?Vx(r,[FF(s[2])]):{};if(a!==(a=s[0])){if(t){oa();const h=t;be(h.$$.fragment,1,0,()=>{We(h,1)}),sa()}a?(t=new a(o()),t.$on("routeEvent",s[7]),Ye(t.$$.fragment),me(t.$$.fragment,1),Ge(t,i.parentNode,i)):t=null}else a&&t.$set(u)},i(s){n||(t&&me(t.$$.fragment,s),n=!0)},o(s){t&&be(t.$$.fragment,s),n=!1},d(s){s&&fe(i),t&&We(t,s)}}}function Gne(e){let t,i,n;const r=[{params:e[1]},e[2]];var a=e[0];function o(s){let l={};for(let u=0;u<r.length;u+=1)l=dy(l,r[u]);return{props:l}}return a&&(t=new a(o()),t.$on("routeEvent",e[6])),{c(){t&&Ye(t.$$.fragment),i=Hc()},m(s,l){t&&Ge(t,s,l),ve(s,i,l),n=!0},p(s,l){const u=l&6?Vx(r,[l&2&&{params:s[1]},l&4&&FF(s[2])]):{};if(a!==(a=s[0])){if(t){oa();const h=t;be(h.$$.fragment,1,0,()=>{We(h,1)}),sa()}a?(t=new a(o()),t.$on("routeEvent",s[6]),Ye(t.$$.fragment),me(t.$$.fragment,1),Ge(t,i.parentNode,i)):t=null}else a&&t.$set(u)},i(s){n||(t&&me(t.$$.fragment,s),n=!0)},o(s){t&&be(t.$$.fragment,s),n=!1},d(s){s&&fe(i),t&&We(t,s)}}}function Wne(e){let t,i,n,r;const a=[Gne,Une],o=[];function s(l,u){return l[1]?0:1}return t=s(e),i=o[t]=a[t](e),{c(){i.c(),n=Hc()},m(l,u){o[t].m(l,u),ve(l,n,u),r=!0},p(l,[u]){let h=t;t=s(l),t===h?o[t].p(l,u):(oa(),be(o[h],1,1,()=>{o[h]=null}),sa(),i=o[t],i?i.p(l,u):(i=o[t]=a[t](l),i.c()),me(i,1),i.m(n.parentNode,n))},i(l){r||(me(i),r=!0)},o(l){be(i),r=!1},d(l){o[t].d(l),l&&fe(n)}}}function TA(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const i=t.indexOf("?");let n="";return i>-1&&(n=t.substr(i+1),t=t.substr(0,i)),{location:t,querystring:n}}const GC=kN(null,function(t){t(TA());const i=()=>{t(TA())};return window.addEventListener("hashchange",i,!1),function(){window.removeEventListener("hashchange",i,!1)}});SN(GC,e=>e.location);SN(GC,e=>e.querystring);const MA=_N(void 0);function Jne(e,t,i){let{routes:n={}}=t,{prefix:r=""}=t,{restoreScrollState:a=!1}=t;class o{constructor(_,I){if(!I||typeof I!="function"&&(typeof I!="object"||I._sveltesparouter!==!0))throw Error("Invalid component object");if(!_||typeof _=="string"&&(_.length<1||_.charAt(0)!="/"&&_.charAt(0)!="*")||typeof _=="object"&&!(_ instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:O,keys:R}=Bne(_);this.path=_,typeof I=="object"&&I._sveltesparouter===!0?(this.component=I.component,this.conditions=I.conditions||[],this.userData=I.userData,this.props=I.props||{}):(this.component=()=>Promise.resolve(I),this.conditions=[],this.props={}),this._pattern=O,this._keys=R}match(_){if(r){if(typeof r=="string")if(_.startsWith(r))_=_.substr(r.length)||"/";else return null;else if(r instanceof RegExp){const H=_.match(r);if(H&&H[0])_=_.substr(H[0].length)||"/";else return null}}const I=this._pattern.exec(_);if(I===null)return null;if(this._keys===!1)return I;const O={};let R=0;for(;R<this._keys.length;){try{O[this._keys[R]]=decodeURIComponent(I[R+1]||"")||null}catch{O[this._keys[R]]=null}R++}return O}async checkConditions(_){for(let I=0;I<this.conditions.length;I++)if(!await this.conditions[I](_))return!1;return!0}}const s=[];n instanceof Map?n.forEach((C,_)=>{s.push(new o(_,C))}):Object.keys(n).forEach(C=>{s.push(new o(C,n[C]))});let l=null,u=null,h={};const m=yG();async function f(C,_){await bG(),m(C,_)}let g=null,b=null;a&&(b=C=>{C.state&&C.state.__svelte_spa_router_scrollY?g=C.state:g=null},window.addEventListener("popstate",b),fG(()=>{g?window.scrollTo(g.__svelte_spa_router_scrollX,g.__svelte_spa_router_scrollY):window.scrollTo(0,0)}));let v=null,w=null;const x=GC.subscribe(async C=>{v=C;let _=0;for(;_<s.length;){const I=s[_].match(C.location);if(!I){_++;continue}const O={route:s[_].path,location:C.location,querystring:C.querystring,userData:s[_].userData,params:I&&typeof I=="object"&&Object.keys(I).length?I:null};if(!await s[_].checkConditions(O)){i(0,l=null),w=null,f("conditionsFailed",O);return}f("routeLoading",Object.assign({},O));const R=s[_].component;if(w!=R){R.loading?(i(0,l=R.loading),w=R,i(1,u=R.loadingParams),i(2,h={}),f("routeLoaded",Object.assign({},O,{component:l,name:l.name,params:u}))):(i(0,l=null),w=null);const H=await R();if(C!=v)return;i(0,l=H&&H.default||H),w=R}I&&typeof I=="object"&&Object.keys(I).length?i(1,u=I):i(1,u=null),i(2,h=s[_].props),f("routeLoaded",Object.assign({},O,{component:l,name:l.name,params:u})).then(()=>{MA.set(u)});return}i(0,l=null),w=null,MA.set(void 0)});gG(()=>{x(),b&&window.removeEventListener("popstate",b)});function S(C){VT.call(this,e,C)}function E(C){VT.call(this,e,C)}return e.$$set=C=>{"routes"in C&&i(3,n=C.routes),"prefix"in C&&i(4,r=C.prefix),"restoreScrollState"in C&&i(5,a=C.restoreScrollState)},e.$$.update=()=>{e.$$.dirty&32&&(history.scrollRestoration=a?"manual":"auto")},[l,u,h,n,r,a,S,E]}class Kne extends Di{constructor(t){super();Si(this,t,Jne,Wne,fi,{routes:3,prefix:4,restoreScrollState:5})}}function Yne(e){let t;return{c(){t=ee("header"),t.innerHTML=`<nav class="flex justify contents-between w-full h-18 svelte-nnnmg8"><ul class="svelte-nnnmg8"><li class="svelte-nnnmg8"><a href="#/" class="svelte-nnnmg8">Home</a></li> 
			<li class="svelte-nnnmg8"><a href="#/meet" class="svelte-nnnmg8">Meet</a></li> 
			<li class="svelte-nnnmg8"><a href="#/bytes" class="svelte-nnnmg8">Read</a></li> 
			<li class="svelte-nnnmg8"><a href="#/lists" class="svelte-nnnmg8">Browse</a></li> 
			<li class="svelte-nnnmg8"><a href="#/contact" class="svelte-nnnmg8">Reach</a></li></ul></nav>`,j(t,"class","flex z-50 sticky")},m(i,n){ve(i,t,n)},p:Ve,i:Ve,o:Ve,d(i){i&&fe(t)}}}class _y extends Di{constructor(t){super();Si(this,t,null,Yne,fi,{})}}var WC="/assets/bhhs-seal.bdf71871.png";function Zne(e){let t,i,n=[{id:i="path-"+e[0]},e[1]],r={};for(let a=0;a<n.length;a+=1)r=dy(r,n[a]);return{c(){t=zx("path"),sw(t,r)},m(a,o){ve(a,t,o)},p(a,[o]){sw(t,r=Vx(n,[o&1&&i!==(i="path-"+a[0])&&{id:i},o&2&&a[1]]))},i:Ve,o:Ve,d(a){a&&fe(t)}}}function Xne(e,t,i){let{id:n}=t,{data:r={}}=t;return e.$$set=a=>{"id"in a&&i(0,n=a.id),"data"in a&&i(1,r=a.data)},[n,r]}class Qne extends Di{constructor(t){super();Si(this,t,Xne,Zne,fi,{id:0,data:1})}}function ere(e){let t,i,n=[{id:i="polygon-"+e[0]},e[1]],r={};for(let a=0;a<n.length;a+=1)r=dy(r,n[a]);return{c(){t=zx("polygon"),sw(t,r)},m(a,o){ve(a,t,o)},p(a,[o]){sw(t,r=Vx(n,[o&1&&i!==(i="polygon-"+a[0])&&{id:i},o&2&&a[1]]))},i:Ve,o:Ve,d(a){a&&fe(t)}}}function tre(e,t,i){let{id:n}=t,{data:r={}}=t;return e.$$set=a=>{"id"in a&&i(0,n=a.id),"data"in a&&i(1,r=a.data)},[n,r]}class ire extends Di{constructor(t){super();Si(this,t,tre,ere,fi,{id:0,data:1})}}function nre(e){let t;return{c(){t=zx("g")},m(i,n){ve(i,t,n),t.innerHTML=e[0]},p(i,[n]){n&1&&(t.innerHTML=i[0])},i:Ve,o:Ve,d(i){i&&fe(t)}}}function rre(e,t,i){let n=870711;function r(){return n+=1,`fa-${n.toString(16)}`}let a,{data:o}=t;function s(l){if(!l||!l.raw)return null;let u=l.raw;const h={};return u=u.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,(m,f)=>{const g=r();return h[f]=g,` id="${g}"`}),u=u.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,(m,f,g,b)=>{const v=f||b;return!v||!h[v]?m:`#${h[v]}`}),u}return e.$$set=l=>{"data"in l&&i(1,o=l.data)},e.$$.update=()=>{e.$$.dirty&2&&i(0,a=s(o))},[a,o]}class are extends Di{constructor(t){super();Si(this,t,rre,nre,fi,{data:1})}}function ore(e){let t,i,n,r;const a=e[13].default,o=IF(a,e,e[12],null);return{c(){t=zx("svg"),o&&o.c(),j(t,"version","1.1"),j(t,"class",i="fa-icon "+e[0]+" svelte-roizm6"),j(t,"x",e[8]),j(t,"y",e[9]),j(t,"width",e[1]),j(t,"height",e[2]),j(t,"aria-label",e[11]),j(t,"role",n=e[11]?"img":"presentation"),j(t,"viewBox",e[3]),j(t,"style",e[10]),go(t,"fa-spin",e[4]),go(t,"fa-pulse",e[6]),go(t,"fa-inverse",e[5]),go(t,"fa-flip-horizontal",e[7]==="horizontal"),go(t,"fa-flip-vertical",e[7]==="vertical")},m(s,l){ve(s,t,l),o&&o.m(t,null),r=!0},p(s,[l]){o&&o.p&&(!r||l&4096)&&MF(o,a,s,s[12],r?TF(a,s[12],l,null):AF(s[12]),null),(!r||l&1&&i!==(i="fa-icon "+s[0]+" svelte-roizm6"))&&j(t,"class",i),(!r||l&256)&&j(t,"x",s[8]),(!r||l&512)&&j(t,"y",s[9]),(!r||l&2)&&j(t,"width",s[1]),(!r||l&4)&&j(t,"height",s[2]),(!r||l&2048)&&j(t,"aria-label",s[11]),(!r||l&2048&&n!==(n=s[11]?"img":"presentation"))&&j(t,"role",n),(!r||l&8)&&j(t,"viewBox",s[3]),(!r||l&1024)&&j(t,"style",s[10]),l&17&&go(t,"fa-spin",s[4]),l&65&&go(t,"fa-pulse",s[6]),l&33&&go(t,"fa-inverse",s[5]),l&129&&go(t,"fa-flip-horizontal",s[7]==="horizontal"),l&129&&go(t,"fa-flip-vertical",s[7]==="vertical")},i(s){r||(me(o,s),r=!0)},o(s){be(o,s),r=!1},d(s){s&&fe(t),o&&o.d(s)}}}function sre(e,t,i){let{$$slots:n={},$$scope:r}=t,{class:a}=t,{width:o}=t,{height:s}=t,{box:l}=t,{spin:u=!1}=t,{inverse:h=!1}=t,{pulse:m=!1}=t,{flip:f=null}=t,{x:g=void 0}=t,{y:b=void 0}=t,{style:v=void 0}=t,{label:w=void 0}=t;return e.$$set=x=>{"class"in x&&i(0,a=x.class),"width"in x&&i(1,o=x.width),"height"in x&&i(2,s=x.height),"box"in x&&i(3,l=x.box),"spin"in x&&i(4,u=x.spin),"inverse"in x&&i(5,h=x.inverse),"pulse"in x&&i(6,m=x.pulse),"flip"in x&&i(7,f=x.flip),"x"in x&&i(8,g=x.x),"y"in x&&i(9,b=x.y),"style"in x&&i(10,v=x.style),"label"in x&&i(11,w=x.label),"$$scope"in x&&i(12,r=x.$$scope)},[a,o,s,l,u,h,m,f,g,b,v,w,r,n]}class lre extends Di{constructor(t){super();Si(this,t,sre,ore,fi,{class:0,width:1,height:2,box:3,spin:4,inverse:5,pulse:6,flip:7,x:8,y:9,style:10,label:11})}}function AA(e,t,i){const n=e.slice();return n[24]=t[i],n[26]=i,n}function OA(e,t,i){const n=e.slice();return n[27]=t[i],n[26]=i,n}function PA(e){let t,i,n,r,a=e[6].paths&&LA(e),o=e[6].polygons&&FA(e),s=e[6].raw&&zA(e);return{c(){a&&a.c(),t=De(),o&&o.c(),i=De(),s&&s.c(),n=Hc()},m(l,u){a&&a.m(l,u),ve(l,t,u),o&&o.m(l,u),ve(l,i,u),s&&s.m(l,u),ve(l,n,u),r=!0},p(l,u){l[6].paths?a?(a.p(l,u),u&64&&me(a,1)):(a=LA(l),a.c(),me(a,1),a.m(t.parentNode,t)):a&&(oa(),be(a,1,1,()=>{a=null}),sa()),l[6].polygons?o?(o.p(l,u),u&64&&me(o,1)):(o=FA(l),o.c(),me(o,1),o.m(i.parentNode,i)):o&&(oa(),be(o,1,1,()=>{o=null}),sa()),l[6].raw?s?(s.p(l,u),u&64&&me(s,1)):(s=zA(l),s.c(),me(s,1),s.m(n.parentNode,n)):s&&(oa(),be(s,1,1,()=>{s=null}),sa())},i(l){r||(me(a),me(o),me(s),r=!0)},o(l){be(a),be(o),be(s),r=!1},d(l){a&&a.d(l),l&&fe(t),o&&o.d(l),l&&fe(i),s&&s.d(l),l&&fe(n)}}}function LA(e){let t,i,n=e[6].paths,r=[];for(let o=0;o<n.length;o+=1)r[o]=RA(OA(e,n,o));const a=o=>be(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();t=Hc()},m(o,s){for(let l=0;l<r.length;l+=1)r[l].m(o,s);ve(o,t,s),i=!0},p(o,s){if(s&64){n=o[6].paths;let l;for(l=0;l<n.length;l+=1){const u=OA(o,n,l);r[l]?(r[l].p(u,s),me(r[l],1)):(r[l]=RA(u),r[l].c(),me(r[l],1),r[l].m(t.parentNode,t))}for(oa(),l=n.length;l<r.length;l+=1)a(l);sa()}},i(o){if(!i){for(let s=0;s<n.length;s+=1)me(r[s]);i=!0}},o(o){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)be(r[s]);i=!1},d(o){hy(r,o),o&&fe(t)}}}function RA(e){let t,i;return t=new Qne({props:{id:e[26],data:e[27]}}),{c(){Ye(t.$$.fragment)},m(n,r){Ge(t,n,r),i=!0},p(n,r){const a={};r&64&&(a.data=n[27]),t.$set(a)},i(n){i||(me(t.$$.fragment,n),i=!0)},o(n){be(t.$$.fragment,n),i=!1},d(n){We(t,n)}}}function FA(e){let t,i,n=e[6].polygons,r=[];for(let o=0;o<n.length;o+=1)r[o]=NA(AA(e,n,o));const a=o=>be(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();t=Hc()},m(o,s){for(let l=0;l<r.length;l+=1)r[l].m(o,s);ve(o,t,s),i=!0},p(o,s){if(s&64){n=o[6].polygons;let l;for(l=0;l<n.length;l+=1){const u=AA(o,n,l);r[l]?(r[l].p(u,s),me(r[l],1)):(r[l]=NA(u),r[l].c(),me(r[l],1),r[l].m(t.parentNode,t))}for(oa(),l=n.length;l<r.length;l+=1)a(l);sa()}},i(o){if(!i){for(let s=0;s<n.length;s+=1)me(r[s]);i=!0}},o(o){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)be(r[s]);i=!1},d(o){hy(r,o),o&&fe(t)}}}function NA(e){let t,i;return t=new ire({props:{id:e[26],data:e[24]}}),{c(){Ye(t.$$.fragment)},m(n,r){Ge(t,n,r),i=!0},p(n,r){const a={};r&64&&(a.data=n[24]),t.$set(a)},i(n){i||(me(t.$$.fragment,n),i=!0)},o(n){be(t.$$.fragment,n),i=!1},d(n){We(t,n)}}}function zA(e){let t,i,n;function r(o){e[15](o)}let a={};return e[6]!==void 0&&(a.data=e[6]),t=new are({props:a}),A3.push(()=>xG(t,"data",r)),{c(){Ye(t.$$.fragment)},m(o,s){Ge(t,o,s),n=!0},p(o,s){const l={};!i&&s&64&&(i=!0,l.data=o[6],vG(()=>i=!1)),t.$set(l)},i(o){n||(me(t.$$.fragment,o),n=!0)},o(o){be(t.$$.fragment,o),n=!1},d(o){We(t,o)}}}function cre(e){let t,i,n=e[6]&&PA(e);return{c(){n&&n.c(),t=Hc()},m(r,a){n&&n.m(r,a),ve(r,t,a),i=!0},p(r,a){r[6]?n?(n.p(r,a),a&64&&me(n,1)):(n=PA(r),n.c(),me(n,1),n.m(t.parentNode,t)):n&&(oa(),be(n,1,1,()=>{n=null}),sa())},i(r){i||(me(n),i=!0)},o(r){be(n),i=!1},d(r){n&&n.d(r),r&&fe(t)}}}function ure(e){let t;const i=e[14].default,n=IF(i,e,e[16],null),r=n||cre(e);return{c(){r&&r.c()},m(a,o){r&&r.m(a,o),t=!0},p(a,o){n?n.p&&(!t||o&65536)&&MF(n,i,a,a[16],t?TF(i,a[16],o,null):AF(a[16]),null):r&&r.p&&(!t||o&64)&&r.p(a,t?o:-1)},i(a){t||(me(r,a),t=!0)},o(a){be(r,a),t=!1},d(a){r&&r.d(a)}}}function dre(e){let t,i;return t=new lre({props:{label:e[5],width:e[7],height:e[8],box:e[10],style:e[9],spin:e[1],flip:e[4],inverse:e[2],pulse:e[3],class:e[0],$$slots:{default:[ure]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment)},m(n,r){Ge(t,n,r),i=!0},p(n,[r]){const a={};r&32&&(a.label=n[5]),r&128&&(a.width=n[7]),r&256&&(a.height=n[8]),r&1024&&(a.box=n[10]),r&512&&(a.style=n[9]),r&2&&(a.spin=n[1]),r&16&&(a.flip=n[4]),r&4&&(a.inverse=n[2]),r&8&&(a.pulse=n[3]),r&1&&(a.class=n[0]),r&65600&&(a.$$scope={dirty:r,ctx:n}),t.$set(a)},i(n){i||(me(t.$$.fragment,n),i=!0)},o(n){be(t.$$.fragment,n),i=!1},d(n){We(t,n)}}}let jA=1;function hre(e){if("iconName"in e&&"icon"in e){let t={},i=e.icon,n=e.iconName,r=i[0],a=i[1],o=i[4],s={width:r,height:a,paths:[{d:o}]};return t[n]=s,t}return e}function pre(e,t,i){let{$$slots:n={},$$scope:r}=t,{class:a=""}=t,{data:o}=t,{scale:s=1}=t,{spin:l=!1}=t,{inverse:u=!1}=t,{pulse:h=!1}=t,{flip:m=null}=t,{label:f=null}=t,g=null,{style:b=null}=t,v,w,x,S;function E(){if(typeof o=="undefined")return;const U=hre(o),[ce]=Object.keys(U),ne=U[ce];ne.paths||(ne.paths=[]),ne.d&&ne.paths.push({d:ne.d}),ne.polygons||(ne.polygons=[]),ne.points&&ne.polygons.push({points:ne.points}),i(6,g=ne)}function C(){let U=1;return typeof s!="undefined"&&(U=Number(s)),isNaN(U)||U<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.'),jA):U*jA}function _(){return g?`0 0 ${g.width} ${g.height}`:`0 0 ${v} ${w}`}function I(){return g?Math.max(g.width,g.height)/16:1}function O(){return g?g.width/I()*C():0}function R(){return g?g.height/I()*C():0}function H(){let U="";b!==null&&(U+=b);let ce=C();return ce===1?U.length===0?void 0:U:(U!==""&&!U.endsWith(";")&&(U+="; "),`${U}font-size: ${ce}em`)}function Y(U){g=U,i(6,g)}return e.$$set=U=>{"class"in U&&i(0,a=U.class),"data"in U&&i(11,o=U.data),"scale"in U&&i(12,s=U.scale),"spin"in U&&i(1,l=U.spin),"inverse"in U&&i(2,u=U.inverse),"pulse"in U&&i(3,h=U.pulse),"flip"in U&&i(4,m=U.flip),"label"in U&&i(5,f=U.label),"style"in U&&i(13,b=U.style),"$$scope"in U&&i(16,r=U.$$scope)},e.$$.update=()=>{e.$$.dirty&14336&&(E(),i(7,v=O()),i(8,w=R()),i(9,x=H()),i(10,S=_()))},[a,l,u,h,m,f,g,v,w,x,S,o,s,b,n,Y,r]}class Jo extends Di{constructor(t){super();Si(this,t,pre,dre,fi,{class:0,data:11,scale:12,spin:1,inverse:2,pulse:3,flip:4,label:5,style:13})}}var mre={"external-link":{width:1792,height:1792,paths:[{d:"M1408 928v320q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h704q14 0 23 9t9 23v64q0 14-9 23t-23 9h-704q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-320q0-14 9-23t23-9h64q14 0 23 9t9 23zM1792 64v512q0 26-19 45t-45 19-45-19l-176-176-652 652q-10 10-23 10t-23-10l-114-114q-10-10-10-23t10-23l652-652-176-176q-19-19-19-45t19-45 45-19h512q26 0 45 19t19 45z"}]}},DN={phone:{width:1408,height:1792,paths:[{d:"M1408 1240q0 27-10 70.5t-21 68.5q-21 50-122 106-94 51-186 51-27 0-53-3.5t-57.5-12.5-47-14.5-55.5-20.5-49-18q-98-35-175-83-127-79-264-216t-216-264q-48-77-83-175-3-9-18-49t-20.5-55.5-14.5-47-12.5-57.5-3.5-53q0-92 51-186 56-101 106-122 25-11 68.5-21t70.5-10q14 0 21 3 18 6 53 76 11 19 30 54t35 63.5 31 53.5q3 4 17.5 25t21.5 35.5 7 28.5q0 20-28.5 50t-62 55-62 53-28.5 46q0 9 5 22.5t8.5 20.5 14 24 11.5 19q76 137 174 235t235 174q2 1 19 11.5t24 14 20.5 8.5 22.5 5q18 0 46-28.5t53-62 55-62 50-28.5q14 0 28.5 7t35.5 21.5 25 17.5q25 15 53.5 31t63.5 35 54 30q70 35 76 53 3 7 3 21z"}]}},fre={globe:{width:1536,height:1792,paths:[{d:"M768 128q209 0 385.5 103t279.5 279.5 103 385.5-103 385.5-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103zM1042 649q-2 1-9.5 9.5t-13.5 9.5q2 0 4.5-5t5-11 3.5-7q6-7 22-15 14-6 52-12 34-8 51 11-2-2 9.5-13t14.5-12q3-2 15-4.5t15-7.5l2-22q-12 1-17.5-7t-6.5-21q0 2-6 8 0-7-4.5-8t-11.5 1-9 1q-10-3-15-7.5t-8-16.5-4-15q-2-5-9.5-11t-9.5-10q-1-2-2.5-5.5t-3-6.5-4-5.5-5.5-2.5-7 5-7.5 10-4.5 5q-3-2-6-1.5t-4.5 1-4.5 3-5 3.5q-3 2-8.5 3t-8.5 2q15-5-1-11-10-4-16-3 9-4 7.5-12t-8.5-14h5q-1-4-8.5-8.5t-17.5-8.5-13-6q-8-5-34-9.5t-33-0.5q-5 6-4.5 10.5t4 14 3.5 12.5q1 6-5.5 13t-6.5 12q0 7 14 15.5t10 21.5q-3 8-16 16t-16 12q-5 8-1.5 18.5t10.5 16.5q2 2 1.5 4t-3.5 4.5-5.5 4-6.5 3.5l-3 2q-11 5-20.5-6t-13.5-26q-7-25-16-30-23-8-29 1-5-13-41-26-25-9-58-4 6-1 0-15-7-15-19-12 3-6 4-17.5t1-13.5q3-13 12-23 1-1 7-8.5t9.5-13.5 0.5-6q35 4 50-11 5-5 11.5-17t10.5-17q9-6 14-5.5t14.5 5.5 14.5 5q14 1 15.5-11t-7.5-20q12 1 3-17-4-7-8-9-12-4-27 5-8 4 2 8-1-1-9.5 10.5t-16.5 17.5-16-5q-1-1-5.5-13.5t-9.5-13.5q-8 0-16 15 3-8-11-15t-24-8q19-12-8-27-7-4-20.5-5t-19.5 4q-5 7-5.5 11.5t5 8 10.5 5.5 11.5 4 8.5 3q14 10 8 14-2 1-8.5 3.5t-11.5 4.5-6 4q-3 4 0 14t-2 14q-5-5-9-17.5t-7-16.5q7 9-25 6l-10-1q-4 0-16 2t-20.5 1-13.5-8q-4-8 0-20 1-4 4-2-4-3-11-9.5t-10-8.5q-46 15-94 41 6 1 12-1 5-2 13-6.5t10-5.5q34-14 42-7l5-5q14 16 20 25-7-4-30-1-20 6-22 12 7 12 5 18-4-3-11.5-10t-14.5-11-15-5q-16 0-22 1-146 80-235 222 7 7 12 8 4 1 5 9t2.5 11 11.5-3q9 8 3 19 1-1 44 27 19 17 21 21 3 11-10 18-1-2-9-9t-9-4q-3 5 0.5 18.5t10.5 12.5q-7 0-9.5 16t-2.5 35.5-1 23.5l2 1q-3 12 5.5 34.5t21.5 19.5q-13 3 20 43 6 8 8 9 3 2 12 7.5t15 10 10 10.5q4 5 10 22.5t14 23.5q-2 6 9.5 20t10.5 23q-1 0-2.5 1t-2.5 1q3 7 15.5 14t15.5 13q1 3 2 10t3 11 8 2q2-20-24-62-15-25-17-29-3-5-5.5-15.5t-4.5-14.5q2 0 6 1.5t8.5 3.5 7.5 4 2 3q-3 7 2 17.5t12 18.5 17 19 12 13q6 6 14 19.5t0 13.5q9 0 20 10.5t17 19.5q5 8 8 26t5 24q2 7 8.5 13.5t12.5 9.5l16 8t13 7q5 2 18.5 10.5t21.5 11.5q10 4 16 4t14.5-2.5 13.5-3.5q15-2 29 15t21 21q36 19 55 11-2 1 0.5 7.5t8 15.5 9 14.5 5.5 8.5q5 6 18 15t18 15q6-4 7-9-3 8 7 20t18 10q14-3 14-32-31 15-49-18 0-1-2.5-5.5t-4-8.5-2.5-8.5 0-7.5 5-3q9 0 10-3.5t-2-12.5-4-13q-1-8-11-20t-12-15q-5 9-16 8t-16-9q0 1-1.5 5.5t-1.5 6.5q-13 0-15-1 1-3 2.5-17.5t3.5-22.5q1-4 5.5-12t7.5-14.5 4-12.5-4.5-9.5-17.5-2.5q-19 1-26 20-1 3-3 10.5t-5 11.5-9 7q-7 3-24 2t-24-5q-13-8-22.5-29t-9.5-37q0-10 2.5-26.5t3-25-5.5-24.5q3-2 9-9.5t10-10.5q2-1 4.5-1.5t4.5 0 4-1.5 3-6q-1-1-4-3-3-3-4-3 7 3 28.5-1.5t27.5 1.5q15 11 22-2 0-1-2.5-9.5t-0.5-13.5q5 27 29 9 3 3 15.5 5t17.5 5q3 2 7 5.5t5.5 4.5 5-0.5 8.5-6.5q10 14 12 24 11 40 19 44 7 3 11 2t4.5-9.5 0-14-1.5-12.5l-1-8v-18l-1-8q-15-3-18.5-12t1.5-18.5 15-18.5q1-1 8-3.5t15.5-6.5 12.5-8q21-19 15-35 7 0 11-9-1 0-5-3t-7.5-5-4.5-2q9-5 2-16 5-3 7.5-11t7.5-10q9 12 21 2 8-8 1-16 5-7 20.5-10.5t18.5-9.5q7 2 8-2t1-12 3-12q4-5 15-9t13-5l17-11q3-4 0-4 18 2 31-11 10-11-6-20 3-6-3-9.5t-15-5.5q3-1 11.5-0.5t10.5-1.5q15-10-7-16-17-5-43 12zM879 1526q206-36 351-189-3-3-12.5-4.5t-12.5-3.5q-18-7-24-8 1-7-2.5-13t-8-9-12.5-8-11-7q-2-2-7-6t-7-5.5-7.5-4.5-8.5-2-10 1l-3 1q-3 1-5.5 2.5t-5.5 3-4 3 0 2.5q-21-17-36-22-5-1-11-5.5t-10.5-7-10-1.5-11.5 7q-5 5-6 15t-2 13q-7-5 0-17.5t2-18.5q-3-6-10.5-4.5t-12 4.5-11.5 8.5-9 6.5-8.5 5.5-8.5 7.5q-3 4-6 12t-5 11q-2-4-11.5-6.5t-9.5-5.5q2 10 4 35t5 38q7 31-12 48-27 25-29 40-4 22 12 26 0 7-8 20.5t-7 21.5q0 6 2 16z"}]}},$N={spinner:{width:1792,height:1792,paths:[{d:"M526 1394q0 53-37.5 90.5t-90.5 37.5q-52 0-90-38t-38-90q0-53 37.5-90.5t90.5-37.5 90.5 37.5 37.5 90.5zM1024 1600q0 53-37.5 90.5t-90.5 37.5-90.5-37.5-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zM320 896q0 53-37.5 90.5t-90.5 37.5-90.5-37.5-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zM1522 1394q0 52-38 90t-90 38q-53 0-90.5-37.5t-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zM558 398q0 66-47 113t-113 47-113-47-47-113 47-113 113-47 113 47 47 113zM1728 896q0 53-37.5 90.5t-90.5 37.5-90.5-37.5-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zM1088 192q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zM1618 398q0 93-66 158.5t-158 65.5q-93 0-158.5-65.5t-65.5-158.5q0-92 65.5-158t158.5-66q92 0 158 66t66 158z"}]}},CN={instagram:{width:1536,height:1792,paths:[{d:"M1024 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zM1162 896q0 164-115 279t-279 115-279-115-115-279 115-279 279-115 279 115 115 279zM1270 486q0 38-27 65t-65 27-65-27-27-65 27-65 65-27 65 27 27 65zM768 266q-7 0-76.5-0.5t-105.5 0-96.5 3-103 10-71.5 18.5q-50 20-88 58t-58 88q-11 29-18.5 71.5t-10 103-3 96.5 0 105.5 0.5 76.5-0.5 76.5 0 105.5 3 96.5 10 103 18.5 71.5q20 50 58 88t88 58q29 11 71.5 18.5t103 10 96.5 3 105.5 0 76.5-0.5 76.5 0.5 105.5 0 96.5-3 103-10 71.5-18.5q50-20 88-58t58-88q11-29 18.5-71.5t10-103 3-96.5 0-105.5-0.5-76.5 0.5-76.5 0-105.5-3-96.5-10-103-18.5-71.5q-20-50-58-88t-88-58q-29-11-71.5-18.5t-103-10-96.5-3-105.5 0-76.5 0.5zM1536 896q0 229-5 317-10 208-124 322t-322 124q-88 5-317 5t-317-5q-208-10-322-124t-124-322q-5-88-5-317t5-317q10-208 124-322t322-124q88-5 317-5t317 5q208 10 322 124t124 322q5 88 5 317z"}]}},IN={at:{width:1536,height:1792,paths:[{d:"M972 775q0-108-53.5-169t-147.5-61q-63 0-124 30.5t-110 84.5-79.5 137-30.5 180q0 112 53.5 173t150.5 61q96 0 176-66.5t122.5-166 42.5-203.5zM1536 896q0 111-37 197t-98.5 135-131.5 74.5-145 27.5q-6 0-15.5 0.5t-16.5 0.5q-95 0-142-53-28-33-33-83-52 66-131.5 110t-173.5 44q-161 0-249.5-95.5t-88.5-269.5q0-157 66-290t179-210.5 246-77.5q87 0 155 35.5t106 99.5l2-19 11-56q1-6 5.5-12t9.5-6h118q5 0 13 11 5 5 3 16l-120 614q-5 24-5 48 0 39 12.5 52t44.5 13q28-1 57-5.5t73-24 77-50 57-89.5 24-137q0-292-174-466t-466-174q-130 0-248.5 51t-204 136.5-136.5 204-51 248.5 51 248.5 136.5 204 204 136.5 248.5 51q228 0 405-144 11-9 24-8t21 12l41 49q8 12 7 24-2 13-12 22-102 83-227.5 128t-258.5 45q-156 0-298-61t-245-164-164-245-61-298 61-298 164-245 245-164 298-61q344 0 556 212t212 556z"}]}};function gre(e){let t,i,n,r,a,o,s,l,u,h,m,f,g,b,v,w,x,S,E;return h=new Jo({props:{data:DN,scale:2,label:"Call"}}),b=new Jo({props:{data:CN,scale:2,label:"Instagram"}}),S=new Jo({props:{data:IN,scale:2,label:"Email"}}),{c(){t=ee("aside"),i=ee("ul"),n=ee("li"),r=ee("a"),a=ee("img"),s=De(),l=ee("li"),u=ee("a"),Ye(h.$$.fragment),m=De(),f=ee("li"),g=ee("a"),Ye(b.$$.fragment),v=De(),w=ee("li"),x=ee("a"),Ye(S.$$.fragment),j(a,"class","w-14"),Td(a.src,o=WC)||j(a,"src",o),j(a,"alt","BHHS Seal"),j(r,"href","https://emma.myhomecharleston.com"),j(r,"target","_blank"),j(n,"class","hover:bg-gray-200 p-3 rounded-full shadow-neumolight"),j(u,"href","tel:+18433888118"),j(u,"class","bhhs bhhs-button"),j(l,"class","hover:bg-gray-200 p-6 rounded-full shadow-neumolight"),j(g,"href","https://instagram.com/coastal_vantage"),j(g,"target","_blank"),j(g,"class","bhhs bhhs-button"),j(f,"class","hover:bg-gray-200 p-6 rounded-full shadow-neumolight"),j(x,"href","mailto: hello@coastal-vantage.com?subject=Hello%20Coastal%20Vantage"),j(x,"class","bhhs bhhs-button"),j(w,"class","transition duration-300 hover:bg-gray-200 p-6 rounded-full shadow-neumolight"),j(i,"class","hidden sm:block text-center content-center"),j(t,"class","fixed mt-16 md:mt-32 py-3 ml-3 px-3 z-10")},m(C,_){ve(C,t,_),G(t,i),G(i,n),G(n,r),G(r,a),G(i,s),G(i,l),G(l,u),Ge(h,u,null),G(i,m),G(i,f),G(f,g),Ge(b,g,null),G(i,v),G(i,w),G(w,x),Ge(S,x,null),E=!0},p:Ve,i(C){E||(me(h.$$.fragment,C),me(b.$$.fragment,C),me(S.$$.fragment,C),E=!0)},o(C){be(h.$$.fragment,C),be(b.$$.fragment,C),be(S.$$.fragment,C),E=!1},d(C){C&&fe(t),We(h),We(b),We(S)}}}class Sy extends Di{constructor(t){super();Si(this,t,null,gre,fi,{})}}var yre="/assets/ep.48573f80.svg";function bre(e){let t,i,n,r,a,o,s,l,u,h,m,f,g,b,v,w,x,S,E,C,_,I,O,R,H,Y,U,ce,ne,se,Je,pe,Te;return a=new Jo({props:{data:DN,scale:2,label:"Call"}}),b=new Jo({props:{data:CN,scale:2,label:"Instagram"}}),S=new Jo({props:{data:IN,scale:2,label:"Email"}}),{c(){t=ee("footer"),i=ee("div"),n=ee("button"),r=ee("a"),Ye(a.$$.fragment),o=De(),s=ee("button"),l=ee("a"),u=ee("img"),m=De(),f=ee("button"),g=ee("a"),Ye(b.$$.fragment),v=De(),w=ee("button"),x=ee("a"),Ye(S.$$.fragment),E=De(),C=ee("div"),_=ee("div"),I=jt("\xA9"),O=jt(e[0]),R=jt(` BHH Affiliates, LLC. An independently owned and operated franchisee of BHH Affiliates,
			LLC. Berkshire Hathaway HomeServices and the Berkshire Hathaway
			HomeServices symbol are registered service marks of Columbia Insurance Company, a Berkshire
			Hathaway affiliate. Equal Housing Opportunity.
			`),H=ee("div"),Y=jt("\xA9"),U=jt(e[0]),ce=jt(` Coastal Vantage, LLC.
				`),ne=ee("img"),Je=De(),pe=ee("a"),pe.innerHTML='Developed by <span class="font-semibold">MapMazeLu.</span>',j(r,"href","tel:+18433888118"),j(r,"class","bhhs bhhs-button"),j(n,"class","bg-gray-100 hover:bg-blue-200 text-gray-800 py-2 px-3 rounded-full shadow-neumodark"),j(u,"class","w-8"),Td(u.src,h=WC)||j(u,"src",h),j(u,"alt","BHHS Logo"),j(l,"href","https://emma.myhomecharleston.com"),j(l,"target","_blank"),j(s,"class","bg-gray-100 hover:bg-blue-200 text-gray-800 p-2 rounded-full shadow-neumodark"),j(g,"href","https://instagram.com/coastal_vantage"),j(g,"target","_blank"),j(g,"class","bhhs bhhs-button"),j(f,"class","bg-gray-100 hover:bg-blue-200 text-gray-800 py-2 px-3 rounded-full shadow-neumodark"),j(x,"href","mailto:hello@coastal-vantage.com?subject=Hello%20Coastal%20Vantage"),j(x,"class","bhhs bhhs-button"),j(w,"class","bg-gray-100 hover:bg-blue-200 text-gray-800 py-2 px-3 rounded-full shadow-neumodark"),j(i,"class","grid grid-cols-4 sm:hidden place-items-center"),j(ne,"class","w-10 inline"),Td(ne.src,se=yre)||j(ne,"src",se),j(ne,"alt","MapMazeLu Portfolio"),j(pe,"class","button text-gray-600 transition ease-in-out hover:-translate-x-2 hover:scale-110 duration-300"),j(pe,"href","https://emmalu.github.io/portfolio"),j(pe,"target","_blank"),j(H,"class","pt-2"),j(_,"class","text-xxs"),j(C,"class","grid grid-cols-1 pt-3"),j(t,"class","flex flex-col relative pt-4 px-4 sm:px-20")},m(tt,Ht){ve(tt,t,Ht),G(t,i),G(i,n),G(n,r),Ge(a,r,null),G(i,o),G(i,s),G(s,l),G(l,u),G(i,m),G(i,f),G(f,g),Ge(b,g,null),G(i,v),G(i,w),G(w,x),Ge(S,x,null),G(t,E),G(t,C),G(C,_),G(_,I),G(_,O),G(_,R),G(_,H),G(H,Y),G(H,U),G(H,ce),G(H,ne),G(H,Je),G(H,pe),Te=!0},p:Ve,i(tt){Te||(me(a.$$.fragment,tt),me(b.$$.fragment,tt),me(S.$$.fragment,tt),Te=!0)},o(tt){be(a.$$.fragment,tt),be(b.$$.fragment,tt),be(S.$$.fragment,tt),Te=!1},d(tt){tt&&fe(t),We(a),We(b),We(S)}}}function vre(e){var t=new Date().getFullYear();return[t]}class Dy extends Di{constructor(t){super();Si(this,t,vre,bre,fi,{})}}var EN="/assets/bhhs-cover.9ba16d44.png",wre="/assets/logo-am.0dc2b109.svg";function xre(e){let t,i,n,r,a,o,s,l,u,h,m,f,g,b,v,w,x,S,E;return i=new _y({}),r=new Sy({}),S=new Dy({}),{c(){t=De(),Ye(i.$$.fragment),n=De(),Ye(r.$$.fragment),a=De(),o=ee("main"),s=ee("div"),l=ee("div"),u=ee("img"),m=De(),f=ee("div"),g=ee("img"),v=De(),w=ee("div"),w.innerHTML='<div class="w-11/12 sm:w-1/3 rounded-xl drop-shadow-xl bg-gray-100 h-18 contents-center"><div class="py-7 text-center text-sm sm:text-md">A <span class="animate-pulse cycle font-semibold"></span> view of our Lowcountry</div></div>',x=De(),Ye(S.$$.fragment),document.title="Home",j(u,"class","w-72 sm:w-96"),Td(u.src,h=EN)||j(u,"src",h),j(u,"alt","BHHS logo"),j(l,"class","col-span-1"),j(g,"class","w-36 sm:w-48"),Td(g.src,b=wre)||j(g,"src",b),j(g,"alt","Coastal Vantage logo"),j(f,"class","col-span-1 pt-6"),j(s,"class","grid grid-cols-1 py-1 place-items-center text-center"),j(w,"class","flex justify-center"),j(o,"class","main py-7 sm:py-12 align-middle")},m(C,_){ve(C,t,_),Ge(i,C,_),ve(C,n,_),Ge(r,C,_),ve(C,a,_),ve(C,o,_),G(o,s),G(s,l),G(l,u),G(s,m),G(s,f),G(f,g),G(o,v),G(o,w),ve(C,x,_),Ge(S,C,_),E=!0},p:Ve,i(C){E||(me(i.$$.fragment,C),me(r.$$.fragment,C),me(S.$$.fragment,C),E=!0)},o(C){be(i.$$.fragment,C),be(r.$$.fragment,C),be(S.$$.fragment,C),E=!1},d(C){C&&fe(t),We(i,C),C&&fe(n),We(r,C),C&&fe(a),C&&fe(o),C&&fe(x),We(S,C)}}}class kre extends Di{constructor(t){super();Si(this,t,null,xre,fi,{})}}function _re(e){let t,i,n,r,a,o,s,l,u;return{c(){t=ee("div"),i=ee("div"),n=ee("div"),r=ee("img"),o=De(),s=ee("div"),s.innerHTML='Coastal Vantage is part of the <strong class="bhhs">Berkshire Hathaway HomeServices Carolina Sun</strong> Real Estate team.',l=De(),u=ee("div"),u.innerHTML=`<div class="col-span-1"><a href="/reach" class="button bg-yellow-400 bhhs hover:bg-gray-100 hover:outline-1 hover:outline-black font-medium rounded-lg shadow-md text-sm px-5 py-2.5 text-center mr-3 mb-3">Contact Info<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></a></div> 
		<div class="col-span-1"><a href="https://emma.myhomecharleston.com" target="_blank" class="button bg-blue-900 text-white hover:bg-blue-300 hover:text-blue-900 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg shadow-md text-sm px-5 py-2.5 text-center mr-3 mb-3"><span class="hidden sm:inline">BHHS</span> Properties <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></a></div>`,Td(r.src,a=WC)||j(r,"src",a),j(r,"alt","BHHS Seal"),j(r,"class","responsive w-full"),j(n,"class","col-span-1"),j(s,"class","col-span-3"),j(i,"class","grid grid-cols-4 items-center gap-2"),j(u,"class","grid grid-cols-2 py-4"),j(t,"class","pt-3 leading-5 sm:text-lg sm:leading-6")},m(h,m){ve(h,t,m),G(t,i),G(i,n),G(n,r),G(i,o),G(i,s),G(t,l),G(t,u)},p:Ve,i:Ve,o:Ve,d(h){h&&fe(t)}}}class Sre extends Di{constructor(t){super();Si(this,t,null,_re,fi,{})}}function Dre(e){let t,i,n,r,a,o,s,l,u,h,m,f,g,b,v,w,x,S,E,C,_;return i=new _y({}),r=new Sy({}),S=new Sre({}),C=new Dy({}),{c(){t=De(),Ye(i.$$.fragment),n=De(),Ye(r.$$.fragment),a=De(),o=ee("main"),s=ee("div"),l=ee("div"),u=ee("div"),h=De(),m=ee("div"),f=ee("div"),g=ee("div"),g.innerHTML='<p class="text-2xl font-extrabold">Meet <span class="text-blue-900">Coastal Vantage</span></p>',b=De(),v=ee("div"),w=ee("div"),w.innerHTML=`<p>We know. You&#39;ve fallen in <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline bhhs" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"></path></svg> love with the coast!</p> 
							<p>The goal is simple: to help you navigate the process of finding <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline bhhs" viewBox="0 0 20 20" fill="currentColor"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"></path></svg> home.</p> 
							<p>What can you count on?</p> 
							<ul class="list-disc space-y-2"><li class="flex items-start"><span class="h-6 flex items-center sm:h-7"><svg class="flex-shrink-0 h-5 w-5 text-bhhs" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg></span> 
									<p class="ml-2"><strong>Footage</strong> of favorite places &amp; hidden gems</p></li> 
								<li class="flex items-start"><span class="h-6 flex items-center sm:h-7"><svg class="flex-shrink-0 h-5 w-5 text-bhhs" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg></span> 
									<p class="ml-2"><strong>Neighborhood-focused</strong> data &amp; resources</p></li> 
								<li class="flex items-start"><span class="h-6 flex items-center sm:h-7"><svg class="flex-shrink-0 h-5 w-5 text-bhhs" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg></span> 
									<p class="ml-2">Local expertise focused on <strong>resiliency &amp; preparedness</strong></p></li> 
								<li class="flex items-start"><span class="h-6 flex items-center sm:h-7"><svg class="flex-shrink-0 h-5 w-5 text-bhhs" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg></span> 
									<p class="ml-2">A little <strong>peace</strong> of mind
										<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></p></li></ul>`,x=De(),Ye(S.$$.fragment),E=De(),Ye(C.$$.fragment),document.title="Meet",j(u,"class","cv absolute inset-0 bg-gradient-to-r from-yellow-400 to-blue-900 shadow-lg"),j(w,"class","py-3 text-base leading-5 space-y-4 text-gray-700 sm:text-lg sm:leading-6"),j(v,"class","divide-y divide-blue-900"),j(f,"class","max-w-md mx-auto"),j(m,"class","glass relative px-4 py-4 bg-gray-200 shadow-lg sm:p-16"),j(l,"class","relative py-4 sm:max-w-xl sm:mx-auto"),j(s,"class","max-h-screen bg-transparent py-7 sm:py-10"),j(o,"class","main align-middle")},m(I,O){ve(I,t,O),Ge(i,I,O),ve(I,n,O),Ge(r,I,O),ve(I,a,O),ve(I,o,O),G(o,s),G(s,l),G(l,u),G(l,h),G(l,m),G(m,f),G(f,g),G(f,b),G(f,v),G(v,w),G(v,x),Ge(S,v,null),ve(I,E,O),Ge(C,I,O),_=!0},p:Ve,i(I){_||(me(i.$$.fragment,I),me(r.$$.fragment,I),me(S.$$.fragment,I),me(C.$$.fragment,I),_=!0)},o(I){be(i.$$.fragment,I),be(r.$$.fragment,I),be(S.$$.fragment,I),be(C.$$.fragment,I),_=!1},d(I){I&&fe(t),We(i,I),I&&fe(n),We(r,I),I&&fe(a),I&&fe(o),We(S),I&&fe(E),We(C,I)}}}class $re extends Di{constructor(t){super();Si(this,t,null,Dre,fi,{})}}function c(e,t,i,n){var r,a=arguments.length,o=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,i):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,i,o):r(t,i))||o);return a>3&&o&&Object.defineProperty(t,i,o),o}function Cre(e){return e&&e.release&&typeof e.release=="function"}function Ire(e){return e&&e.acquire&&typeof e.acquire=="function"}class no{constructor(t,i,n,r=1,a=0){if(this.ctor=t,this.acquireFunction=i,this.releaseFunction=n,this.allocationSize=r,this._pool=new Array(a),this._initialSize=a,this.ctor)for(let o=0;o<a;o++)this._pool[o]=new this.ctor;this.allocationSize=Math.max(r,1)}destroy(){this.prune(0)}acquire(...t){let i;if(no.test.disabled)i=new this.ctor;else{if(this._pool.length===0){const n=this.allocationSize;for(let r=0;r<n;r++)this._pool[r]=new this.ctor}i=this._pool.pop()}return this.acquireFunction?this.acquireFunction(i,...t):Ire(i)&&i.acquire(...t),i}release(t){t&&!no.test.disabled&&(this.releaseFunction?this.releaseFunction(t):Cre(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let i=t;i<this._pool.length;++i){const n=this._pool[i];this._dispose(n)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}}no.test={disabled:!1};function Ere(e){e.length=0}class Cn{constructor(t=50,i=50){this._pool=new no(Array,void 0,Ere,i,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return K_.acquire()}static release(t){return K_.release(t)}static prune(){K_.prune()}}const K_=new Cn(100);var VA,HA;let el;var qA,BA;(VA=globalThis.dojoConfig)!=null&&VA.has||(HA=globalThis.esriConfig)!=null&&HA.has?el=$($({},(qA=globalThis.dojoConfig)==null?void 0:qA.has),(BA=globalThis.esriConfig)==null?void 0:BA.has):el={};function q(e){return typeof el[e]=="function"?el[e]=el[e](globalThis):el[e]}q.add=(e,t,i,n)=>((n||el[e]===void 0)&&(el[e]=t),i&&q(e)),q.cache=el,q.add("esri-deprecation-warnings",!0),(()=>{var e;q.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const t=typeof window!="undefined"&&typeof location!="undefined"&&typeof document!="undefined"&&window.location===location&&window.document===document;if(q.add("host-browser",t),q.add("host-node",typeof globalThis.process=="object"&&((e=globalThis.process.versions)==null?void 0:e.node)&&globalThis.process.versions.v8),q.add("dom",t),q("host-browser")){const i=navigator,n=i.userAgent,r=i.appVersion,a=parseFloat(r);if(q.add("wp",parseFloat(n.split("Windows Phone")[1])||void 0),q.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),q.add("khtml",r.includes("Konqueror")?a:void 0),q.add("edge",parseFloat(n.split("Edge/")[1])||void 0),q.add("opr",parseFloat(n.split("OPR/")[1])||void 0),q.add("webkit",!q("wp")&&!q("edge")&&parseFloat(n.split("WebKit/")[1])||void 0),q.add("chrome",!q("edge")&&!q("opr")&&parseFloat(n.split("Chrome/")[1])||void 0),q.add("android",!q("wp")&&parseFloat(n.split("Android ")[1])||void 0),q.add("safari",!r.includes("Safari")||q("wp")||q("chrome")||q("android")||q("edge")||q("opr")?void 0:parseFloat(r.split("Version/")[1])),q.add("mac",r.includes("Macintosh")),!q("wp")&&n.match(/(iPhone|iPod|iPad)/)){const o=RegExp.$1.replace(/P/,"p"),s=n.match(/OS ([\d_]+)/)?RegExp.$1:"1",l=parseFloat(s.replace(/_/,".").replace(/_/g,""));q.add(o,l),q.add("ios",l)}q.add("trident",parseFloat(r.split("Trident/")[1])||void 0),q("webkit")||(!n.includes("Gecko")||q("wp")||q("khtml")||q("trident")||q("edge")||q.add("mozilla",a),q("mozilla")&&q.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),i=/iPhone/i.test(e);t&&q.add("esri-mobile",t),i&&q.add("esri-iPhone",i),q.add("esri-geolocation",!!navigator.geolocation)}q.add("esri-canvas-svg-support",!q("trident")),q.add("esri-wasm","WebAssembly"in globalThis),q.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),q.add("esri-atomics","Atomics"in globalThis),q.add("esri-workers","Worker"in globalThis),q.add("web-feat:cache","caches"in globalThis),q.add("esri-workers-arraybuffer-transfer",!q("safari")||Number(q("safari"))>=12),q.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),q.add("featurelayer-simplify-payload-size-factors",[1,1,4]),q.add("featurelayer-snapshot-enabled",!0),q.add("featurelayer-snapshot-point-min-threshold",8e4),q.add("featurelayer-snapshot-point-max-threshold",4e5),q.add("featurelayer-snapshot-point-coverage",.1),q.add("featurelayer-advanced-symbols",!1),q.add("featurelayer-pbf",!0),q.add("featurelayer-pbf-statistics",!1),q.add("feature-layers-workers",!0),q.add("feature-polyline-generalization-factor",1),q.add("mapview-transitions-duration",200),q.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),q.add("mapserver-pbf-enabled",!1),q("host-webworker")||q("host-browser")&&(q.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),q.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{q.add("esri-image-decode",!0,!0,!0)}).catch(()=>{q.add("esri-image-decode",!1,!0,!0)})}return!1}),q.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();const UA=new Set;function Tre(e,t,i=!1){i&&UA.has(t)||(i&&UA.add(t),e.warn(`\u{1F6D1} DEPRECATED - ${t}`))}function Fh(e,t,i={}){if(q("esri-deprecation-warnings")){const{moduleName:n}=i;Yx(e,`Function: ${(n?n+"::":"")+t+"()"}`,i)}}function Mre(e,t,i={}){if(q("esri-deprecation-warnings")){const{moduleName:n}=i;Yx(e,`Property: ${(n?n+"::":"")+t}`,i)}}function Yx(e,t,i={}){if(q("esri-deprecation-warnings")){const{replacement:n,version:r,see:a,warnOnce:o}=i;let s=t;n&&(s+=`
	\u{1F6E0}\uFE0F Replacement: ${n}`),r&&(s+=`
	\u2699\uFE0F Version: ${r}`),a&&(s+=`
	\u{1F517} See ${a} for more details.`),Tre(e,s,o)}}const Are=null;function T(e){return e!=null}function V(e){return e==null}function eEe(e){return e===void 0}function gc(e,t){return T(e)?t(e):Are}function tEe(e){return e}function Ore(e,t){if(V(e))throw new Error(t);return e}function JC(e,t){return T(e)?e:typeof t=="function"?t():t}function iEe(e,t){return T(e)?e:t}function Ho(e){return T(e)&&e.destroy(),null}function nEe(e){return T(e)&&e.dispose(),null}function Xd(e){return T(e)&&e.remove(),null}function X3(e){return T(e)&&e.abort(),null}function rEe(e){return T(e)&&e.release(),null}function Pre(e){return null}function aEe(e,t){const i=new Array;for(const n of e)i.push(Jf(n,null,t));return i}function oEe(e,t){for(const i of e)gc(i,t)}function Jf(e,t,i){return T(e)?i(e):t}function sEe(e){return e.filter(t=>T(t))}function TN(e,...t){let i=e;for(let n=0;n<t.length&&i;++n)i=i[t[n]];return i}function lEe(e){return e}class Wa{constructor(t=1){this._seed=t}set seed(t){this._seed=t==null?Math.random()*Wa._m:t}getInt(){return this._seed=(Wa._a*this._seed+Wa._c)%Wa._m,this._seed}getFloat(){return this.getInt()/(Wa._m-1)}getIntRange(t,i){return Math.round(this.getFloatRange(t,i))}getFloatRange(t,i){const n=i-t;return t+this.getInt()/Wa._m*n}}Wa._m=2147483647,Wa._a=48271,Wa._c=0;function MN(e,t,i){if(V(e)&&V(t))return!0;if(V(e)||V(t)||e.length!==t.length)return!1;if(i){for(let n=0;n<e.length;n++)if(!i(e[n],t[n]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function cEe(e){return e&&typeof e.length=="number"}const Lre=!!Array.prototype.fill;function uEe(e,t){if(Lre)return new Array(e).fill(t);const i=new Array(e);for(let n=0;n<e;n++)i[n]=t;return i}function dEe(e,t){t===void 0&&(t=e,e=0);const i=new Array(t-e);for(let n=e;n<t;n++)i[n-e]=n;return i}class AN{constructor(){this.last=0}}const ON=new AN;function PN(e,t,i,n){n=n||ON;const r=Math.max(0,n.last-10);for(let o=r;o<i;++o)if(e[o]===t)return n.last=o,o;const a=Math.min(r,i);for(let o=0;o<a;++o)if(e[o]===t)return n.last=o,o;return-1}function LN(e,t,i,n){const r=i==null?e.length:i,a=PN(e,t,r,n);if(a!==-1)return e[a]=e[r-1],i==null&&e.pop(),t}const _a=new Set;function Rre(e,t,i=e.length,n=t.length,r,a){if(n===0||i===0)return i;_a.clear();for(let s=0;s<n;++s)_a.add(t[s]);r=r||ON;const o=Math.max(0,r.last-10);for(let s=o;s<i;++s)if(_a.has(e[s])&&(a&&a.push(e[s]),_a.delete(e[s]),e[s]=e[i-1],--i,--s,_a.size===0||i===0))return _a.clear(),i;for(let s=0;s<o;++s)if(_a.has(e[s])&&(a&&a.push(e[s]),_a.delete(e[s]),e[s]=e[i-1],--i,--s,_a.size===0||i===0))return _a.clear(),i;return _a.clear(),i}new Wa;function Fre(e,t){const i=e.indexOf(t);return i!==-1?(e.splice(i,1),t):null}function hEe(e,t){if(e.forEach)e.forEach(t);else for(let i=0;i<e.length;i++)t(e[i],i,e)}function Nre(e,t,i){if(e.slice)return e.slice(t,i);t===void 0?t=0:(t<0&&(t+=e.length),t=Math.min(e.length,Math.max(0,t))),i===void 0?i=e.length:(i<0&&(i+=e.length),i=Math.min(e.length,Math.max(0,i)));const n=Math.max(0,i-t),r=new e.constructor(n);for(let a=0;a<n;a++)r[a]=e[t+a];return r}function pEe(e){return e instanceof ArrayBuffer||e&&e.constructor&&e.constructor.name==="ArrayBuffer"}function zre(e){return e instanceof Int8Array||e&&e.constructor&&e.constructor.name==="Int8Array"}function jre(e){return e instanceof Uint8Array||e&&e.constructor&&e.constructor.name==="Uint8Array"}function Vre(e){return e instanceof Uint8ClampedArray||e&&e.constructor&&e.constructor.name==="Uint8ClampedArray"}function Hre(e){return e instanceof Int16Array||e&&e.constructor&&e.constructor.name==="Int16Array"}function qre(e){return e instanceof Uint16Array||e&&e.constructor&&e.constructor.name==="Uint16Array"}function Bre(e){return e instanceof Int32Array||e&&e.constructor&&e.constructor.name==="Int32Array"}function Ure(e){return e instanceof Uint32Array||e&&e.constructor&&e.constructor.name==="Uint32Array"}function Gre(e){return e instanceof Float32Array||e&&e.constructor&&e.constructor.name==="Float32Array"}function Wre(e){return e instanceof Float64Array||e&&e.constructor&&e.constructor.name==="Float64Array"}function RN(e,t){let i;if(t)for(i in e)e.hasOwnProperty(i)&&(e[i]===void 0?delete e[i]:e[i]instanceof Object&&RN(e[i],!0));else for(i in e)e.hasOwnProperty(i)&&e[i]===void 0&&delete e[i];return e}function z(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=jN(e);if(T(t))return t;if(FN(e))return e.clone();if(NN(e))return e.map(z);if(zN(e))return e.clone();const i={};for(const n of Object.getOwnPropertyNames(e))i[n]=z(e[n]);return i}function Q3(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=jN(e);if(T(t))return t;if(NN(e)){let i=!0;const n=e.map(r=>{const a=Q3(r);return r!=null&&a==null&&(i=!1),a});return i?n:null}if(FN(e))return e.clone();if(!zN(e)){const i=new(Object.getPrototypeOf(e)).constructor;for(const n of Object.getOwnPropertyNames(e)){const r=e[n],a=Q3(r);if(r!=null&&a==null)return null;i[n]=a}return i}return null}function FN(e){return typeof e.clone=="function"}function NN(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function zN(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function jN(e){if(zre(e)||jre(e)||Vre(e)||Hre(e)||qre(e)||Bre(e)||Ure(e)||Gre(e)||Wre(e))return Nre(e);if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;return e.forEach((i,n)=>{t.set(n,z(i))}),t}if(e instanceof Set){const t=new Set;return e.forEach(i=>{t.add(z(i))}),t}return null}function Zx(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof(e||{}).getTime=="function"&&typeof(t||{}).getTime=="function"&&e.getTime()===t.getTime()||!1}function VN(e,t,i=!1){return qN(e,t,i)}function Mm(e,t){if(t!=null)return t[e]||HN(e.split("."),!1,t)}function Ir(e,t,i){const n=e.split("."),r=n.pop(),a=HN(n,!0,i);a&&r&&(a[r]=t)}function HN(e,t,i){let n=i;for(const r of e){if(n==null)return;if(!(r in n)){if(!t)return;n[r]={}}n=n[r]}return n}function qN(e,t,i){return t?Object.keys(t).reduce(function(n,r){let a=n[r],o=t[r];return a===o?n:a===void 0?(n[r]=z(o),n):(Array.isArray(o)||Array.isArray(n)?(a=a?Array.isArray(a)?n[r]=a.concat():n[r]=[a]:n[r]=[],o&&(Array.isArray(o)||(o=[o]),i?o.forEach(s=>{a.indexOf(s)===-1&&a.push(s)}):n[r]=o.concat())):o&&typeof o=="object"?n[r]=qN(a,o,i):n.hasOwnProperty(r)&&!t.hasOwnProperty(r)||(n[r]=o),n)},e||{}):e}var GA;const vt={apiKey:void 0,applicationUrl:(GA=globalThis.location)==null?void 0:GA.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(VN(vt,globalThis.esriConfig,!0),delete vt.has),!vt.assetsPath){const e="4.23.5";vt.assetsPath=`https://js.arcgis.com/${e.slice(0,-2)}/@arcgis/core/assets`}vt.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(vt,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),vt.request.corsEnabledServers=[],vt.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0};const Jre=/\{([^\}]+)\}/g;function WA(e){return e==null?"":e}function ts(e,t){return e.replace(Jre,typeof t=="object"?(i,n)=>WA(Mm(n,t)):(i,n)=>WA(t(n)))}function BN(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,i=>t&&t.indexOf(i)!==-1?i:`\\${i}`)}function KC(e){let t=0;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t}function mEe(e){return new DOMParser().parseFromString(e||"","text/html").body.innerText||""}const JA={info:0,warn:1,error:2,none:3};class Q{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,Q._loggers[this.module]=this;const i=this.module.lastIndexOf(".");i!==-1&&(this._parent=Q.getLogger(this.module.slice(0,i)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){const t=this;return{loggedMessages:t._loggedMessages,clearLoggedWarnings:()=>t._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(t={}){const i=Q._loggers;return Q._loggers=t,i},set throttlingDisabled(t){Q._throttlingDisabled=t}}}static getLogger(t){let i=Q._loggers[t];return i||(i=new Q({module:t})),i}_log(t,i,...n){if(!!this._matchLevel(t)){if(i!=="always"&&!Q._throttlingDisabled){const r=this._argsToKey(n),a=this._loggedMessages[t].get(r);if(i==="once"&&a!=null||i==="oncePerTick"&&a&&a>=Q._tickCounter)return;this._loggedMessages[t].set(r,Q._tickCounter),Q._scheduleTickCounterIncrement()}for(const r of vt.log.interceptors)if(r(t,this.module,...n))return;this._inheritedWriter()(t,this.module,...n)}}_parentWithMember(t,i){let n=this;for(;T(n);){const r=n[t];if(T(r))return r;n=n.parent}return i}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(t,i,...n){console[t](`[${i}]`,...n)}_matchLevel(t){const i=vt.log.level?vt.log.level:"warn";return JA[this._parentWithMember("level",i)]<=JA[t]}_argsToKey(...t){const i=(n,r)=>typeof r!="object"||Array.isArray(r)?r:"[Object]";return KC(JSON.stringify(t,i))}static _scheduleTickCounterIncrement(){Q._tickCounterScheduled||(Q._tickCounterScheduled=!0,Promise.resolve().then(()=>{Q._tickCounter++,Q._tickCounterScheduled=!1}))}}Q._loggers={},Q._tickCounter=0,Q._tickCounterScheduled=!1,Q._throttlingDisabled=!1;function Xx(e){return Am(()=>e.forEach(t=>T(t)&&t.remove()))}function Am(e){return{remove:()=>{e&&(e(),e=void 0)}}}function Mn(e){return e?e.__accessor__?e.__accessor__:e.propertyInvalidated?e:null:null}function Kre(e,t){return e!=null&&e.metadatas&&e.metadatas[t]!=null}function Uv(e,t,i){return i?_w(e,t,{policy:i,path:""}):_w(e,t,null)}function _w(e,t,i){return t?Object.keys(t).reduce(function(n,r){let a=null,o="merge";if(i&&(a=i.path?`${i.path}.${r}`:r,o=i.policy(a)),o==="replace")return n[r]=t[r],n;if(n[r]===void 0)return n[r]=z(t[r]),n;let s=n[r],l=t[r];if(s===l)return n;if(Array.isArray(l)||Array.isArray(n))s=s?Array.isArray(s)?n[r]=s.concat():n[r]=[s]:n[r]=[],l&&(Array.isArray(l)||(l=[l]),l.forEach(u=>{s.indexOf(u)===-1&&s.push(u)}));else if(l&&typeof l=="object")if(i){const u=i.path;i.path=a,n[r]=_w(s,l,i),i.path=u}else n[r]=_w(s,l,null);else n.hasOwnProperty(r)&&!t.hasOwnProperty(r)||(n[r]=l);return n},e||{}):e}function UN(e){return Array.isArray(e)?e:e.split(".")}function KA(e){return e.indexOf(",")>-1?e.split(",").map(t=>t.trim()):[e.trim()]}function Yre(e){if(Array.isArray(e)){const t=[];for(const i of e)t.push(...KA(i));return t}return KA(e)}function GN(e,t,i,n){const r=Yre(t);if(r.length!==1){const a=r.map(o=>n(e,o,i));return Xx(a)}return n(e,r[0],i)}function WN(e){let t=!1;return()=>{t||(t=!0,e())}}function JN(e,t){const i=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const r=parseInt(i,10);if(!isNaN(r))return Array.isArray(t)?t[r]:t.getItemAt(r)}const n=Mn(t);return Kre(n,i)?n.get(i):t[i]}function KN(e,t,i){if(e==null)return e;const n=JN(t[i],e);return!n&&i<t.length-1?void 0:i===t.length-1?n:KN(n,t,i+1)}function $y(e,t,i=0){return typeof t=="string"&&t.indexOf(".")===-1?JN(t,e):KN(e,UN(t),i)}function Sw(e,t){return $y(e,t)}function YA(e,t){return $y(t,e)!==void 0}var qo;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED"})(qo||(qo={}));class ZA{constructor(t){this.autoDestroy=!1,this.properties=t}}function Cy(e){let t=e.constructor.__accessorMetadata__;const i=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!i){const n=Object.create(t.properties),r=t.autoDestroy;for(const a in n)n[a]=z(n[a]);t=new ZA(n),t.autoDestroy=r,Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t=new ZA({}),Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function Zre(e){return Cy(e).properties}function Qx(e,t){const i=Zre(e);let n=i[t];return n||(n=i[t]={}),n}function Xre(e,t){return Uv(e,t,eae)}const Qre=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function eae(e){return Qre.test(e)?"replace":"merge"}var Xe;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.USER=6]="USER"})(Xe||(Xe={}));const e5=Xe.USER+1;function wc(e){switch(e){case"defaults":return Xe.DEFAULTS;case"service":return Xe.SERVICE;case"portal-item":return Xe.PORTAL_ITEM;case"web-scene":return Xe.WEB_SCENE;case"web-map":return Xe.WEB_MAP;case"user":return Xe.USER}}function Dw(e){switch(e){case Xe.DEFAULTS:return"defaults";case Xe.SERVICE:return"service";case Xe.PORTAL_ITEM:return"portal-item";case Xe.WEB_SCENE:return"web-scene";case Xe.WEB_MAP:return"web-map";case Xe.USER:return"user"}return void 0}function tae(e){return Dw(e)}var yt;(function(e){e[e.Dirty=1]="Dirty",e[e.Overriden=2]="Overriden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(yt||(yt={}));let $w,Kf=[];const iae=Q.getLogger("esri.core.Accessor");function je(e){$w!==void 0&&$w.onObservableAccessed(e)}let Gv=!1,Wv=!1;function ll(e,t,i){if(Gv)return YC(e,t,i);YN(e);const n=t.call(i);return ZN(),n}function nae(e,t){return ll(void 0,e,t)}function YC(e,t,i){const n=Gv;Gv=!0,YN(e);let r=null;try{r=t.call(i)}catch(a){Wv&&iae.error(a)}return ZN(),Gv=n,r}function YN(e){$w=e,Kf.push(e)}function ZN(){const e=Kf.pop();$w=Kf.length>0?Kf[Kf.length-1]:void 0,e!==void 0&&e.onTrackingEnd()}function XN(e,t){if(t.flags&yt.DepTrackingInitialized)return;const i=Wv;Wv=!1,t.flags&yt.AutoTracked?YC(t,t.metadata.get,e):QN(e,t),Wv=i}const rae=[];function QN(e,t){t.flags&yt.ExplicitlyTracking||(t.flags|=yt.ExplicitlyTracking,YC(t,()=>{const i=t.metadata.dependsOn||rae;for(const n of i)if(typeof n=="string"&&n.indexOf(".")===-1)XA(e,n,!1);else{const r=UN(n);for(let a=0,o=e;a<r.length&&o!=null&&typeof o=="object";++a)o=XA(o,r[a],a!==r.length-1)}}),t.flags&=~yt.ExplicitlyTracking)}function XA(e,t,i){const n=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const o=parseInt(n,10);if(!isNaN(o))return Array.isArray(e)?e[o]:e.getItemAt(o)}const r=Mn(e),a=r==null?void 0:r.properties.get(n);return a&&(je(a),XN(e,a)),i?e[n]:void 0}class e6{constructor(t,i){this._observers=t,this._observer=i}remove(){Fre(this._observers,this._observer)}}class QA{constructor(t,i,n){this.properties=t,this.propertyName=i,this.metadata=n,this._observers=null,this._accessed=null,this._handles=null,this.flags=yt.Dirty|(n.nonNullable?yt.NonNullable:0)|(n.hasOwnProperty("value")?yt.HasDefaultValue:0)|(n.get===void 0?yt.DepTrackingInitialized:0)|(n.dependsOn===void 0?yt.AutoTracked:0)}destroy(){this._accessed=null,this._observers=null,this._clearObservationHandles()}getComputed(){je(this);const t=this.properties.store,i=this.propertyName,n=this.flags,r=t.get(i);if(n&yt.Computing||~n&yt.Dirty&&t.has(i))return r;this.flags|=yt.Computing;const a=this.properties.host;let o;n&yt.AutoTracked?o=ll(this,this.metadata.get,a):(QN(a,this),o=this.metadata.get.call(a)),t.set(i,o,Xe.COMPUTED);const s=t.get(i);return s===r?this.flags&=~yt.Dirty:nae(this.commit,this),this.flags&=~yt.Computing,s}onObservableAccessed(t){t!==this&&(this._accessed===null&&(this._accessed=[]),this._accessed.includes(t)||this._accessed.push(t))}onTrackingEnd(){this._clearObservationHandles(),this.flags|=yt.DepTrackingInitialized;const t=this._accessed;if(t===null)return;let i=this._handles;i===null&&(i=this._handles=[]);for(let n=0;n<t.length;++n)i.push(t[n].observe(this));t.length=0}observe(t){return this._observers===null&&(this._observers=[]),this._observers.includes(t)||this._observers.push(t),new e6(this._observers,t)}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}onInvalidated(){~this.flags&yt.Overriden&&(this.flags|=yt.Dirty);const t=this._observers;if(t!==null)for(let i=0;i<t.length;++i)t[i].onInvalidated()}commit(){this.flags&=~yt.Dirty,this.onCommitted()}onCommitted(){if(this._observers===null)return;const t=this._observers.slice();for(let i=0;i<t.length;++i)t[i].onCommitted()}_clearObservationHandles(){const t=this._handles;if(t!==null){for(let i=0;i<t.length;++i)t[i].remove();t.length=0}}}class ZC{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new ZC;return this._values.forEach((n,r)=>{t&&t.has(r)||i.set(r,z(n))}),i}get(t){return this._values.get(t)}originOf(){return Xe.USER}keys(){return[...this._values.keys()]}set(t,i){this._values.set(t,i)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}}function Pb(e,t,i){return e!==void 0}function eO(e,t,i,n){return e!==void 0&&(!(i==null&&e.flags&yt.NonNullable)||(n.lifecycle,qo.INITIALIZING,!1))}function aae(e){return e&&typeof e.destroy=="function"}Q.getLogger("esri.core.accessorSupport.Properties");class oae{constructor(t){this.host=t,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=qo.INITIALIZING,this.store=new ZC,this._origin=Xe.USER;const i=this.host.constructor.__accessorMetadata__,n=i.properties;for(const r in n){const a=new QA(this,r,n[r]);this.properties.set(r,a)}this.metadatas=n,this._autoDestroy=i.autoDestroy}initialize(){this.lifecycle=qo.CONSTRUCTING}constructed(){this.lifecycle=qo.CONSTRUCTED}destroy(){if(this.destroyed=!0,this._autoDestroy)for(const[t,i]of this.properties){const n=this.internalGet(t);n&&aae(n)&&(n.destroy(),~i.flags&yt.NonNullable&&this._internalSet(i,null)),i.destroy()}else for(const[t,i]of this.properties)i.destroy()}get initialized(){return this.lifecycle!==qo.INITIALIZING}get(t){const i=this.properties.get(t);if(i.metadata.get)return i.getComputed();je(i);const n=this.store;return n.has(t)?n.get(t):i.metadata.value}originOf(t){const i=this.store.originOf(t);if(i===void 0){const n=this.properties.get(t);if(n!==void 0&&n.flags&yt.HasDefaultValue)return"defaults"}return Dw(i)}has(t){return!!this.properties.has(t)&&this.store.has(t)}keys(){return[...this.properties.keys()]}internalGet(t){const i=this.properties.get(t);if(Pb(i))return this.store.has(t)?this.store.get(t):i.metadata.value}internalSet(t,i){const n=this.properties.get(t);Pb(n)&&this._internalSet(n,i)}getDependsInfo(t,i,n){const r=this.properties.get(i);if(!Pb(r))return"";const a=new Set,o=ll({onObservableAccessed:l=>a.add(l),onTrackingEnd:()=>{}},()=>{var l;return(l=r.metadata.get)==null?void 0:l.call(t)});let s=`${n}${t.declaredClass.split(".").pop()}.${i}: ${o}
`;if(a.size===0)return s;n+="  ";for(const l of a){if(!(l instanceof QA))continue;const u=l.properties.host,h=l.propertyName,m=Mn(u);s+=m?m.getDependsInfo(u,h,n):`${n}${h}: undefined
`}return s}setAtOrigin(t,i,n){const r=this.properties.get(t);if(Pb(r))return this._setAtOrigin(r,i,n)}isOverridden(t){const i=this.properties.get(t);return i!==void 0&&!!(i.flags&yt.Overriden)}clearOverride(t){const i=this.properties.get(t);i!==void 0&&i.flags&yt.Overriden&&(i.flags&=~yt.Overriden,i.notifyChange())}override(t,i){const n=this.properties.get(t);if(!eO(n,t,i,this))return;const r=n.metadata.cast;if(r){const a=this._cast(r,i),{valid:o,value:s}=a;if(Y_.release(a),!o)return;i=s}n.flags|=yt.Overriden,this._internalSet(n,i)}set(t,i){const n=this.properties.get(t);if(!eO(n,t,i,this))return;const r=n.metadata.cast;if(r){const o=this._cast(r,i),{valid:s,value:l}=o;if(Y_.release(o),!s)return;i=l}const a=n.metadata.set;a?a.call(this.host,i):this._internalSet(n,i)}setDefaultOrigin(t){this._origin=wc(t)}getDefaultOrigin(){return Dw(this._origin)}notifyChange(t){const i=this.properties.get(t);i!==void 0&&i.notifyChange()}invalidate(t){const i=this.properties.get(t);i!==void 0&&i.invalidate()}commit(t){const i=this.properties.get(t);i!==void 0&&i.commit()}_internalSet(t,i){const n=this.lifecycle!==qo.INITIALIZING?this._origin:Xe.DEFAULTS;this._setAtOrigin(t,i,n)}_setAtOrigin(t,i,n){const r=this.store,a=t.propertyName;r.has(a,n)&&Zx(i,r.get(a))&&~t.flags&yt.Overriden&&n===r.originOf(a)||(t.invalidate(),r.set(a,i,n),t.commit(),XN(this.host,t))}_cast(t,i){const n=Y_.acquire();return n.valid=!0,n.value=i,t&&(n.value=t.call(this.host,i,n)),n}}class sae{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}}const Y_=new no(sae);function lae(e,t){return e.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(i,n){if(n==="")return"$";const r=Mm(n,t),a=r==null?"":r;if(a===void 0)throw new Error(`could not find key "${n}" in template`);return a.toString()})}class ek{constructor(t,i,n){this.name=t,this.details=n,this.message=void 0,this instanceof ek&&(this.message=i&&lae(i,n)||"")}toString(){return"["+this.name+"]: "+this.message}}class L extends ek{constructor(t,i,n){if(super(t,i,n),!(this instanceof L))return new L(t,i,n)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,i)=>{if(i&&typeof i=="object"&&typeof i.toJSON=="function")return i;try{return z(i)}catch{return"[object]"}}))}}catch(t){throw Q.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new L(t.name,t.message,t.details)}}L.prototype.type="error";function Cw(e,t,i){if(e&&t)if(typeof t=="object")for(const n of Object.getOwnPropertyNames(t))Cw(e,n,t[n]);else{if(t.indexOf(".")!==-1){const r=t.split("."),a=r.splice(r.length-1,1)[0];return void Cw(Sw(e,r),a,i)}const n=e.__accessor__;n!=null&&cae(t,n),e[t]=i}}function cae(e,t){if(q("esri-unknown-property-errors")&&!uae(e,t))throw new L("set:unknown-property",dae(e,t))}function uae(e,t){return t.metadatas[e]!=null}function dae(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}Q.getLogger("esri.core.accessorSupport.set");class hae extends no{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=Pre(this._set)}acquire(...t){const i=super.acquire(...t);return this._set.delete(i),i}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}}const Lb=[];function Iw(e){Lb.push(e),Lb.length===1&&queueMicrotask(()=>{const t=Lb.slice();Lb.length=0;for(const i of t)i()})}const pae=29;class ig{constructor(t,i=pae){this.name=t,this._counter=0,this._items=new Array(i)}record(t){this._items[++this._counter%this._items.length]=t}get median(){return this._items.slice().sort((t,i)=>t-i)[Math.floor(this._items.length/2)]}get average(){return this._items.reduce((t,i)=>t+i,0)/this._items.length}get last(){return this._items[this._counter%this._items.length]}}var t5;(function(e){const t=(a,o,s,l)=>{let u=o,h=o;const m=s>>>1,f=a[u-1];for(;h<=m;){h=u<<1,h<s&&l(a[h-1],a[h])<0&&++h;const g=a[h-1];if(l(g,f)<=0)break;a[u-1]=g,u=h}a[u-1]=f},i=(a,o)=>a<o?-1:a>o?1:0;function n(a,o,s,l){o===void 0&&(o=0),s===void 0&&(s=a.length),l===void 0&&(l=i);for(let h=s>>>1;h>o;h--)t(a,h,s,l);const u=o+1;for(let h=s-1;h>o;h--){const m=a[o];a[o]=a[h],a[h]=m,t(a,u,h,l)}}function*r(a,o,s,l){o===void 0&&(o=0),s===void 0&&(s=a.length),l===void 0&&(l=i);for(let h=s>>>1;h>o;h--)t(a,h,s,l),yield;const u=o+1;for(let h=s-1;h>o;h--){const m=a[o];a[o]=a[h],a[h]=m,t(a,u,h,l),yield}}e.sort=n,e.iterableSort=r})(t5||(t5={}));const tO=t5,mae=1.5,fae=1.1;class _d{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new AN,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>iO(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const i=new Array;for(let n=0;n<this._length;n++){const r=this.data[n];t(r)&&i.push(r)}return i}getItemAt(t){if(!(t<0||t>=this._length))return this.data[t]}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let i=t;i<this._length;++i)this.data[i]=this._deallocator(this.data[i]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,i=t.length){for(let n=0;n<i;n++)this.data[this._length++]=t[n]}fill(t,i){for(let n=0;n<i;n++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,iO(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const i=PN(this.data,t,this.length,this._hint);if(i!==-1)return this.data.splice(i,1),this.length=this.length-1,t}removeUnordered(t){const i=LN(this.data,t,this.length,this._hint);return i!==void 0&&(this.length=this.length-1),this._shrink(),i}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,i=t.length,n){this.length=Rre(this.data,t,this.length,i,this._hint,n),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,i){t>=this.length||i>=this.length||t===i||([this.data[t],this.data[i]]=[this.data[i],this.data[t]])}sort(t){tO.sort(this.data,0,this.length,t)}iterableSort(t){return tO.iterableSort(this.data,0,this.length,t)}some(t,i){for(let n=0;n<this.length;++n)if(t.call(i,this.data[n],n,this.data))return!0;return!1}filterInPlace(t,i){let n=0;for(let r=0;r<this._length;++r){const a=this.data[r];t.call(i,a,r,this.data)&&(this.data[r]=this.data[n],this.data[n]=a,n++)}if(this._deallocator)for(let r=n;r<this._length;r++)this.data[r]=this._deallocator(this.data[r]);return this._length=n,this._shrink(),this}forAll(t,i){const n=this.length,r=this.data;for(let a=0;a<n;++a)t.call(i,r[a],a,r)}forEach(t,i){for(let n=0;n<this.length;++n)t.call(i,this.data[n],n,this.data)}map(t,i){const n=new Array(this.length);for(let r=0;r<this.length;++r)n[r]=t.call(i,this.data[r],r,this.data);return n}reduce(t,i){let n=i;for(let r=0;r<this.length;++r)n=t(n,this.data[r],r,this.data);return n}has(t){const i=this.length,n=this.data;for(let r=0;r<i;++r)if(n[r]===t)return!0;return!1}}function iO(e){e.data.length>mae*e.length&&(e.data.length=Math.floor(e.length*fae))}function gae(e){return{setTimeout:(t,i)=>{const n=e.setTimeout(t,i);return{remove:()=>e.clearTimeout(n)}}}}const Iy=gae(globalThis);function tk(e){return e&&(typeof e.on=="function"||typeof e.addEventListener=="function")}function ik(e,t,i){if(!tk(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,i);if(Array.isArray(t)){const n=t.slice();for(const r of n)e.addEventListener(r,i);return{remove(){for(const r of n)e.removeEventListener(r,i)}}}return e.addEventListener(t,i),{remove(){e.removeEventListener(t,i)}}}function t6(e,t,i){if(!tk(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,i);const n=ik(e,t,r=>{n.remove(),i.call(e,r)});return{remove(){n.remove()}}}const yae={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function Xu({key:e}){return yae[e]||e}function i6(e){return Promise.all(e)}function XC(e){return new Promise((t,i)=>{try{e(t,i)}catch(n){Promise.resolve().then(()=>i(n))}})}function hi(e="Aborted"){return new L("AbortError",e)}function pi(e,t="Aborted"){if(is(e))throw hi(t)}function nk(e){return T(e)?"aborted"in e?e:e.signal:e}function is(e){const t=nk(e);return T(t)&&t.aborted}function Ey(e){if(ma(e))throw e}function i5(e){if(!ma(e))throw e}function ro(e,t){const i=nk(e);if(!V(i)){if(!i.aborted)return t6(i,"abort",()=>t());t()}}function rk(e,t){const i=nk(e);if(!V(i))return pi(i),t6(i,"abort",()=>t(hi()))}function n6(e,t){const i=nk(t);return V(i)?e:new Promise((n,r)=>{let a=ro(t,()=>r(hi()));const o=()=>a=Xd(a);e.then(o,o),e.then(n,r)})}function ma(e){return e&&e.name==="AbortError"}function n5(e){return e.catch(t=>{if(!ma(t))throw t})}function cl(){let e=null;const t=new Promise((i,n)=>{e={promise:void 0,resolve:i,reject:n}});return e.promise=t,e}function Zn(e){if(!e)return;if(typeof e.forEach!="function"){const i=Object.keys(e);return Zn(i.map(n=>e[n])).then(n=>{const r={};return i.forEach((a,o)=>r[a]=n[o]),r})}const t=e;return XC(i=>{const n=[];let r=t.length;r===0&&i(n),t.forEach(a=>{const o={promise:a||Promise.resolve(a)};n.push(o),o.promise.then(s=>{o.value=s}).catch(s=>{o.error=s}).then(()=>{--r,r===0&&i(n)})})})}function bae(e){return Zn(e).then(t=>t.filter(i=>!!i.value).map(i=>i.value))}function nO(e){return Promise.reject(e)}function wp(e){return Promise.resolve(e)}function QC(e,t,i){const n=new AbortController;return ro(i,()=>n.abort()),new Promise((r,a)=>{let o=setTimeout(()=>{o=0,r(t)},e);ro(n,()=>{o&&(clearTimeout(o),a(hi()))})})}function ml(e){return e&&typeof e.then=="function"}function r5(e){return ml(e)?e:Promise.resolve(e)}function r6(e,t=-1){let i,n,r,a,o=null;const s=(...l)=>{if(i){n=l,a&&a.reject(hi()),a=cl();const f=a.promise;if(o){const g=o;o=null,g.abort()}return f}if(r=a||cl(),a=null,t>0){const f=new AbortController;i=r5(e(...l,f.signal));const g=i;QC(t).then(()=>{i===g&&(a?f.abort():o=f)})}else i=1,i=r5(e(...l));const u=()=>{const f=n;n=r=i=o=null,f!=null&&s(...f)},h=i,m=r;return h.then(u,u),h.then(m.resolve,m.reject),m.promise};return s}function vae(){let e,t;const i=new Promise((r,a)=>{e=r,t=a}),n=r=>{e(r)};return n.resolve=r=>e(r),n.reject=r=>t(r),n.timeout=(r,a)=>Iy.setTimeout(()=>n.reject(a),r),n.promise=i,n}function a6(e,t){let i,n=new AbortController;const r=e(n.signal);let a={promise:r,finished:!1,abort:()=>{n&&(n.abort(),n=null)}};const o=()=>{a&&(a.finished=!0,a=null),T(i)&&(i.remove(),i=null),n=null};return r.then(o,o),i=ro(t,()=>{T(a)&&a.abort()}),a}function fEe(e){return Promise.resolve().then(()=>{pi(e)})}function gEe(e){return e}class wae{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}}class xae{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}}let a5=0;const xf={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},o5=["prepare","preRender","render","postRender","update","finish"],s5=[],Pd=new _d;class kae{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}}const Ew={frameTasks:Pd,willDispatch:!1,clearFrameTasks:_ae,dispatch:l6,executeFrameTasks:Sae};function Ty(e){const t=new xae(e);return s5.push(t),Ew.willDispatch||(Ew.willDispatch=!0,Iw(l6)),t}function lm(e){const t=new wae(e);return Pd.push(t),Tw==null&&(a5=performance.now(),Tw=requestAnimationFrame(o6)),new kae(t)}let Tw=null;function _ae(e=!1){Pd.forAll(t=>{t.removed=!0}),e&&s6()}function o6(){const e=performance.now();Tw=null,Tw=Pd.length>0?requestAnimationFrame(o6):null,Ew.executeFrameTasks(e)}function Sae(e){const t=e-a5;a5=e;const i=1e3/60,n=Math.max(0,t-i);for(let r=0;r<o5.length;r++){const a=performance.now(),o=o5[r];Pd.forAll(s=>{var l;s.paused||s.removed||(r===0&&s.ticks++,s.phases[o]&&(xf.time=e,xf.deltaTime=s.ticks===0?0:t,xf.elapsedFrameTime=performance.now()-e,xf.frameDuration=i-n,(l=s.phases[o])==null||l.call(s,xf)))}),Dae[r].record(performance.now()-a)}s6(),$ae.record(performance.now()-e)}const Rb=new _d;function s6(){Pd.forAll(e=>{e.removed&&Rb.push(e)}),Pd.removeUnorderedMany(Rb.data,Rb.length),Rb.clear()}function l6(){for(;s5.length;){const e=s5.shift();e.isActive&&e.callback()}Ew.willDispatch=!1}function yEe(e=1,t){const i=vae(),n=()=>{is(t)?i.reject(hi()):e===0?i():(--e,Iw(()=>n()))};return n(),i.promise}const Dae=o5.map(e=>new ig(e)),$ae=new ig("total");let Cae=0;function ng(){return++Cae}class ak{constructor(t){this._notify=t,this._accessed=[],this._handles=[],this._invalidCount=0}destroy(){this._accessed.length=0,this.clear()}onInvalidated(){this._invalidCount++}onCommitted(){const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}onObservableAccessed(t){this._accessed.includes(t)||this._accessed.push(t)}onTrackingEnd(){const t=this._handles,i=this._accessed;for(let n=0;n<i.length;++n)t.push(i[n].observe(this));i.length=0}clear(){const t=this._handles;for(let i=0;i<t.length;++i)t[i].remove();t.length=0}}let Np=!1;const Mw=[];function c6(e,t){let i=new ak(a),n=null,r=!1;function a(){if(!i||r)return;if(Np)return void h6(a);const s=n;i.clear(),Np=!0,r=!0,n=ll(i,e),r=!1,Np=!1,t(n,s),p6()}function o(){i&&(i.destroy(),i=null,n=null)}return r=!0,n=ll(i,e),r=!1,{remove:o}}function u6(e,t){let i=new ak(r),n=null;function r(){t(n,o)}function a(){i&&(i.destroy(),i=null),n=null}function o(){return i?(i.clear(),n=ll(i,e),n):null}return o(),{remove:a}}function d6(e){let t=new ak(n),i=!1;function n(){t&&!i&&(Np?h6(n):(t.clear(),Np=!0,i=!0,ll(t,e),i=!1,Np=!1,p6()))}function r(){t&&(t.destroy(),t=null)}return i=!0,ll(t,e),i=!1,{remove:r}}function h6(e){Mw.includes(e)||Mw.unshift(e)}function p6(){for(;Mw.length;)Mw.pop()()}var rg;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(rg||(rg={}));class Pg{constructor(){this.uid=ng(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,i,n,r,a){return this.pool.acquire(rg.Untracked,t,i,n,r,a,Zx)}static acquireTracked(t,i,n,r){return this.pool.acquire(rg.Tracked,t,i,n,null,null,r)}notify(t,i){this.type===rg.Untracked?this.callback.call(this.target,t,i,this.path,this.target):this.callback.call(null,t,i)}acquire(t,i,n,r,a,o,s){this.uid=ng(),this.removed=!1,this.type=t,this.oldValue=i,this.callback=n,this.getValue=r,this.target=a,this.path=o,this.equals=s}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=ng(),this.removed=!0}}Pg.pool=new hae(Pg);const Jv=new Cn,Ec=new Set;let Aw;function Ow(e){Ec.delete(e),Ec.add(e),Aw||(Aw=Ty(Tae))}function Iae(e){if(e.removed)return;const t=e.oldValue,i=e.getValue();e.equals(t,i)||(e.oldValue=i,e.notify(i,t))}function Eae(e){for(const t of Ec.values())t.target===e&&(t.removed=!0)}function Tae(){let e=10;for(;Aw&&e--;){Aw=null;const t=Mae(),i=Jv.acquire();for(const n of t){const r=n.uid;Iae(n),r===n.uid&&n.removed&&i.push(n)}for(const n of Ec)n.removed&&(i.push(n),Ec.delete(n));for(const n of i)Pg.pool.release(n);Jv.release(i),Jv.release(t),Aae.forEach(n=>n())}}function Mae(){const e=Jv.acquire();e.length=Ec.size;let t=0;for(const i of Ec)e[t]=i,++t;return Ec.clear(),e}const Aae=new Set;function Oae(e,t,i){let n=GN(e,t,i,(r,a,o)=>{let s,l,u=u6(()=>$y(r,a),(h,m)=>{r.__accessor__.destroyed||s&&s.uid!==l?n.remove():(s||(s=Pg.acquireUntracked(h,o,m,r,a),l=s.uid),Ow(s))});return{remove:WN(()=>{u.remove(),s&&(s.uid!==l||s.removed||(s.removed=!0,Ow(s)),s=null),n=u=null})}});return n}function Pae(e,t,i){const n=GN(e,t,i,(r,a,o)=>{let s=!1;return c6(()=>$y(r,a),(l,u)=>{r.__accessor__.destroyed?n.remove():s||(s=!0,Zx(u,l)||o.call(r,l,u,a,r),s=!1)})});return n}function Lae(e,t,i,n=!1){return!e.__accessor__||e.__accessor__.destroyed?{remove(){}}:n?Pae(e,t,i):Oae(e,t,i)}function Rae(e,t,i){let n,r,a=u6(e,(o,s)=>{n&&n.uid!==r?a.remove():(n||(n=Pg.acquireTracked(o,t,s,i),r=n.uid),Ow(n))});return{remove:WN(()=>{a.remove(),n&&(n.uid!==r||n.removed||(n.removed=!0,Ow(n)),n=null),a=null})}}function Fae(e,t,i){let n=!1;return c6(e,(r,a)=>{n||(n=!0,i(a,r)||t(r,a),n=!1)})}function Nae(e,t,i=!1,n=Zx){return i?Fae(e,t,n):Rae(e,t,n)}function ok(e,t){for(const[i,n]of e)if(t(n,i))return!0;return!1}function zae(e,t,i){const n=e.get(t);if(n!==void 0)return n;const r=i();return e.set(t,r),r}const zp=Q.getLogger("esri.core.Accessor");function jae(e){return e==null?e:new Date(e)}function Vae(e){return e==null?e:!!e}function My(e){return e==null?e:e.toString()}function ia(e){return e==null?e:(e=parseFloat(e),isNaN(e)?0:e)}function eI(e){return e==null?e:Math.round(parseFloat(e))}function m6(e){return e&&e.constructor&&e.constructor.__accessorMetadata__!==void 0}function Pw(e,t){return t!=null&&e&&!(t instanceof e)}function f6(e){return e&&"isCollection"in e}function rO(e){return e&&e.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function Hae(e,t){if(!t||!t.constructor||!f6(t.constructor))return l5(e,t)?t:new e(t);const i=rO(e.prototype.itemType),n=rO(t.constructor.prototype.itemType);return i?n?i===n?t:i.prototype.isPrototypeOf(n.prototype)?new e(t):(l5(e,t),t):new e(t):t}function l5(e,t){return!!m6(t)&&(zp.error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+sk(e)+"'"),!0)}function tI(e,t){return t==null?t:f6(e)?Hae(e,t):Pw(e,t)?l5(e,t)?t:new e(t):t}function sk(e){return e&&e.prototype&&e.prototype.declaredClass||"unknown"}const qae=new WeakMap;function Bae(e){switch(e){case Number:return ia;case $t:return eI;case Boolean:return Vae;case String:return My;case Date:return jae;default:return zae(qae,e,()=>tI.bind(null,e))}}function mi(e,t){const i=Bae(e);return arguments.length===1?i:i(t)}function Lg(e,t,i){return arguments.length===1?Lg.bind(null,e):t&&(Array.isArray(t)?t.map(n=>e(n,i)):[e(t,i)])}function Uae(e,t){return arguments.length===1?Lg(mi.bind(null,e)):Lg(mi.bind(null,e),t)}function g6(e,t,i){return t!==0&&Array.isArray(i)?i.map(n=>g6(e,t-1,n)):e(i)}function Lw(e,t,i){if(arguments.length===2)return Lw.bind(null,e,t);if(!i)return i;let n=t,r=i=g6(e,t,i);for(;n>0&&Array.isArray(r);)n--,r=r[0];if(r!==void 0)for(let a=0;a<n;a++)i=[i];return i}function Gae(e,t,i){return arguments.length===2?Lw(mi.bind(null,e),t):Lw(mi.bind(null,e),t,i)}function y6(e){return!!Array.isArray(e)&&!e.some(t=>{const i=typeof t;return!(i==="string"||i==="number"||i==="function"&&e.length>1)})}function c5(e,t){if(arguments.length===2)return c5(e).call(null,t);const i=new Set,n=e.filter(s=>typeof s!="function"),r=e.filter(s=>typeof s=="function");for(const s of e)typeof s!="string"&&typeof s!="number"||i.add(s);let a=null,o=null;return(s,l)=>{if(s==null)return s;const u=typeof s,h=u==="string"||u==="number";return h&&(i.has(s)||r.some(m=>u==="string"&&m===String||u==="number"&&m===Number))||u==="object"&&r.some(m=>!Pw(s,m))?s:(h&&n.length?(a||(a=n.map(m=>typeof m=="string"?`'${m}'`:`${m}`).join(", ")),zp.error("Accessor#set",`'${s}' is not a valid value for this property, only the following values are valid: ${a}`)):typeof s=="object"&&r.length?(o||(o=r.map(m=>sk(m)).join(", ")),zp.error("Accessor#set",`'${s}' is not a valid value for this property, value must be one of ${o}`)):zp.error("Accessor#set",`'${s}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function ns(e,t){if(arguments.length===2)return ns(e).call(null,t);const i={},n=[],r=[];for(const l in e.typeMap){const u=e.typeMap[l];i[l]=mi(u),n.push(sk(u)),r.push(l)}const a=()=>`'${n.join("', '")}'`,o=()=>`'${r.join("', '")}'`,s=typeof e.key=="string"?l=>l[e.key]:e.key;return l=>{if(e.base&&!Pw(e.base,l)||l==null)return l;const u=s(l)||e.defaultKeyValue,h=i[u];if(!h)return zp.error("Accessor#set",`Invalid property value, value needs to be one of ${a()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!Pw(e.typeMap[u],l))return l;if(typeof e.key=="string"&&!m6(l)){const m={};for(const f in l)f!==e.key&&(m[f]=l[f]);return h(m)}return h(l)}}class $t{}const bEe={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function Wae(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function b6(e){switch(e.type){case"native":return mi(e.value);case"array":return Lg(b6(e.value));case"one-of":return Jae(e);default:return null}}function Jae(e){let t=null;return(i,n)=>d5(i,e)?i:(t==null&&(t=u5(e)),zp.error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),n&&(n.valid=!1),null)}function u5(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case $t:return"integer";case Date:return"date";default:return sk(e.value)}case"array":return`array of ${u5(e.value)}`;case"one-of":{const t=e.values.map(i=>u5(i));return`one of ${t.slice(0,t.length-1)} or ${t[t.length-1]}`}}return"unknown"}function d5(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case $t:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string"}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(i=>!d5(i,t.value));case"one-of":return t.values.some(i=>d5(e,i))}}function d(e={}){return(t,i)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${i}. Accessor does not support static properties.`);const n=Object.getOwnPropertyDescriptor(t,i),r=Qx(t,i);n&&(n.get||n.set?(r.get=n.get||r.get,r.set=n.set||r.set):"value"in n&&("value"in e&&Q.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${i}" on "${t.constructor.name}" already defined in the metadata`,e),r.value=e.value=n.value)),e.readOnly!=null&&(r.readOnly=e.readOnly);const a=e.aliasOf;if(a){const l=typeof a=="string"?a:a.source,u=typeof a=="string"?null:a.overridable===!0;let h;r.dependsOn=[l],r.get=function(){let m=Sw(this,l);if(typeof m=="function"){h||(h=l.split(".").slice(0,-1).join("."));const f=Sw(this,h);f&&(m=m.bind(f))}return m},r.readOnly||(r.set=u?function(m){m!==void 0?this._override(i,m):this._clearOverride(i)}:function(m){Cw(this,l,m)})}const o=e.type,s=e.types;r.cast||(o?r.cast=Kae(o):s&&(Array.isArray(s)?r.cast=Lg(ns(s[0])):r.cast=ns(s))),e.range&&(r.cast=Yae(r.cast,e.range)),Xre(r,e)}}function v6(e,t,i){const n=Qx(e,i);n.json||(n.json={});let r=n.json;return t!==void 0&&(r.origins||(r.origins={}),r.origins[t]||(r.origins[t]={}),r=r.origins[t]),r}function Kae(e){let t=0,i=e;if(Wae(e))return b6(e);for(;Array.isArray(i)&&i.length===1&&typeof i[0]!="string"&&typeof i[0]!="number";)i=i[0],t++;const n=i;if(y6(n))return t===0?c5(n):Lw(c5(n),t);if(t===1)return Uae(n);if(t>1)return Gae(n,t);const r=e;return r.from?r.from:mi(r)}function Yae(e,t){return i=>{let n=+e(i);return t.step!=null&&(n=Math.round(n/t.step)*t.step),t.min!=null&&(n=Math.max(t.min,n)),t.max!=null&&(n=Math.min(t.max,n)),n}}function Zae(e){if(e.json&&e.json.origins){const t=e.json.origins,i={"web-document":["web-scene","web-map"]};for(const n in i)if(t[n]){const r=t[n];i[n].forEach(a=>{t[a]=r}),delete t[n]}}}class An extends ek{constructor(t,i,n){if(super(t,i,n),!(this instanceof An))return new An(t,i,n)}}An.prototype.type="warning";function w6(e){return!!e&&e.prototype&&e.prototype.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const h5=Q.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function aO(e,t,i){var n,r;e&&(!i&&!t.read||(n=t.read)!=null&&n.reader||((r=t.read)==null?void 0:r.enabled)===!1||eoe(e)&&Ir("read.reader",Om(e),t))}function Om(e){var t;const i=(t=e.ndimArray)!=null?t:0;if(i>1)return Qae(e);if(i===1)return oO(e);if("type"in e&&k6(e.type)){var n,r;const a=(n=e.type.prototype)==null||(r=n.itemType)==null?void 0:r.Type,o=oO(typeof a=="function"?{type:a}:{types:a});return(s,l,u)=>{const h=o(s,l,u);return h&&new e.type(h)}}return iI(e)}function iI(e){return"type"in e?Xae(e.type):toe(e.types)}function Xae(e){return e.prototype.read?(t,i,n)=>{if(t==null)return t;const r=typeof t;if(r!=="object")return void h5.error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${r}'`);const a=new e;return a.read(t,n),a}:e.fromJSON}function x6(e,t,i,n){return n!==0&&Array.isArray(t)?t.map(r=>x6(e,r,i,n-1)):e(t,void 0,i)}function Qae(e){var t;const i=iI(e),n=x6.bind(null,i),r=(t=e.ndimArray)!=null?t:0;return(a,o,s)=>{if(a==null)return a;a=n(a,s,r);let l=r,u=a;for(;l>0&&Array.isArray(u);)l--,u=u[0];if(u!==void 0)for(let h=0;h<l;h++)a=[a];return a}}function oO(e){const t=iI(e);return(i,n,r)=>{if(i==null)return i;if(Array.isArray(i)){const o=[];for(const s of i){const l=t(s,void 0,r);l!==void 0&&o.push(l)}return o}const a=t(i,void 0,r);return a!==void 0?[a]:void 0}}function k6(e){if(!w6(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?nI(t.Type):_6(t.Type))}function eoe(e){return"types"in e?_6(e.types):nI(e.type)}function nI(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||k6(e))}function _6(e){for(const t in e.typeMap)if(!nI(e.typeMap[t]))return!1;return!0}function toe(e){var t;let i=null;const n=(t=e.errorContext)!=null?t:"type";return(r,a,o)=>{if(r==null)return r;const s=typeof r;if(s!=="object")return void h5.error(`Expected JSON value of type 'object' to deserialize, but got '${s}'`);i||(i=ioe(e));const l=e.key;if(typeof l!="string")return;const u=r[l],h=u?i[u]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!h){const f=`Type '${u||"unknown"}' is not supported`;return o&&o.messages&&r&&o.messages.push(new An(`${n}:unsupported`,f,{definition:r,context:o})),void h5.error(f)}const m=new h;return m.read(r,o),m}}function ioe(e){const t={};for(const r in e.typeMap){var i,n;const a=e.typeMap[r],o=Cy(a.prototype);if(typeof e.key=="function")continue;const s=o.properties[e.key];if(!s)continue;(i=s.json)!=null&&i.type&&Array.isArray(s.json.type)&&s.json.type.length===1&&typeof s.json.type[0]=="string"&&(t[s.json.type[0]]=a);const l=(n=s.json)==null?void 0:n.write;if(!l||!l.writer){t[r]=a;continue}const u=l.target,h=typeof u=="string"?u:e.key,m={};l.writer(r,m,h),m[h]&&(t[m[h]]=a)}return t}function noe(e){if(e.json||(e.json={}),lO(e.json),cO(e.json),sO(e.json),e.json.origins)for(const t in e.json.origins)lO(e.json.origins[t]),cO(e.json.origins[t]),sO(e.json.origins[t]);return!0}function sO(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function lO(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function cO(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}const roe=Q.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer");function uO(e,t){var i;if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const n=(i=e==null?void 0:e.ndimArray)!=null?i:0;e&&(n===1||"type"in e&&w6(e.type))?t.write.writer=soe:n>1?t.write.writer=loe(n):t.types?Array.isArray(t.types)?t.write.writer=ooe(t.types[0]):t.write.writer=aoe(t.types):t.write.writer=Rg}function aoe(e){return(t,i,n,r)=>t?S6(t,e,r)?Rg(t,i,n,r):void 0:Rg(t,i,n,r)}function S6(e,t,i){for(const a in t.typeMap)if(e instanceof t.typeMap[a])return!0;if(i!=null&&i.messages){var n,r;const a=(n=t.errorContext)!=null?n:"type",o=`Values of type '${(r=typeof t.key!="function"?e[t.key]:e.declaredClass)!=null?r:"Unknown"}' cannot be written`;i&&i.messages&&e&&i.messages.push(new L(`${a}:unsupported`,o,{definition:e,context:i})),roe.error(o)}return!1}function ooe(e){return(t,i,n,r)=>!t||!Array.isArray(t)?Rg(t,i,n,r):Rg(t.filter(a=>S6(a,e,r)),i,n,r)}function Rg(e,t,i,n){Ir(i,Rw(e,n),t)}function Rw(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?Fw(e):e}function Fw(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function soe(e,t,i,n){let r;e===null?r=null:e&&typeof e.map=="function"?(r=e.map(a=>Rw(a,n)),typeof r.toArray=="function"&&(r=r.toArray())):r=[Rw(e,n)],Ir(i,r,t)}function D6(e,t,i){return i!==0&&Array.isArray(e)?e.map(n=>D6(n,t,i-1)):Rw(e,t)}function loe(e){return function(t,i,n,r){let a;if(t===null)a=null;else{a=D6(t,r,e);let o=e,s=a;for(;o>0&&Array.isArray(s);)o--,s=s[0];if(s!==void 0)for(let l=0;l<o;l++)a=[a]}Ir(n,a,i)}}function p5(e,t){return rI(e,"read",t)}function $6(e,t){return rI(e,"write",t)}function rI(e,t,i){let n=e&&e.json;if(e&&e.json&&e.json.origins&&i){const r=e.json.origins[i.origin];r&&(t==="any"||t in r)&&(n=r)}return n}function coe(e){const t=uoe(e);if(e.json.origins)for(const i in e.json.origins){const n=e.json.origins[i],r=n.types?doe(n):t;aO(r,n,!1),n.types&&!n.write&&e.json.write&&e.json.write.enabled&&(n.write=$({},e.json.write)),uO(r,n)}aO(t,e.json,!0),uO(t,e.json)}function uoe(e){return e.json.types?m5(e.json):e.type?C6(e):m5(e)}function doe(e){return e.type?C6(e):m5(e)}function C6(e){if(!e.type)return;let t=0,i=e.type;for(;Array.isArray(i)&&!y6(i);)i=i[0],t++;return{type:i,ndimArray:t}}function m5(e){if(!e.types)return;let t=0,i=e.types;for(;Array.isArray(i);)i=i[0],t++;return{types:i,ndimArray:t}}function hoe(e){noe(e)&&(Zae(e),coe(e))}const Z_=new Set,X_=new Set;function D(e){return t=>{t.prototype.declaredClass=e,moe(t);const i=[],n=[];let r=t.prototype;for(;r;)r.hasOwnProperty("initialize")&&!Z_.has(r.initialize)&&(Z_.add(r.initialize),i.push(r.initialize)),r.hasOwnProperty("destroy")&&!X_.has(r.destroy)&&(X_.add(r.destroy),n.push(r.destroy)),r=Object.getPrototypeOf(r);Z_.clear(),X_.clear();class a extends t{constructor(...s){if(super(...s),this.constructor===a&&typeof this.postscript=="function"){if(i.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=i.length-1;l>=0;l--)i[l].call(this)}}),n.length){let l=!1;Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){l=!0;for(let u=0;u<n.length;u++)n[u].call(this)}}})}this.postscript(...s)}}}return a.__accessorMetadata__=Cy(t.prototype),a.prototype.declaredClass=e,a}}function poe(e,t){return t.get==null?function(){const i=this.__accessor__.properties.get(e);if(i===void 0)return;je(i);const n=this.__accessor__.store;return n.has(e)?n.get(e):i.metadata.value}:function(){const i=this.__accessor__.properties.get(e);if(i!==void 0)return i.getComputed()}}function moe(e){const t=e.prototype,i=Cy(t).properties,n={};for(const r of Object.getOwnPropertyNames(i)){const a=i[r];hoe(a),n[r]={enumerable:!0,configurable:!0,get:poe(r,a),set(o){const s=this.__accessor__;if(s!==void 0){if(!Object.isFrozen(this)){if(s.initialized&&a.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${r}' of ${this.declaredClass}`);if(s.lifecycle===qo.CONSTRUCTED&&a.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${r}' of ${this.declaredClass}`);s.set(r,o)}}else Object.defineProperty(this,r,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(e.prototype,n)}function foe(e){if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor&&e.constructor.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}class ge{constructor(...t){if(this.constructor===ge)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new oae(this)}),t.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,t))}static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:i,declaredClass:n,constructor:r}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const a=this;class o extends a{constructor(...l){super(...l),this.inherited=null,r&&r.apply(this,l)}}Cy(o.prototype);for(const s in t){const l=t[s];o.prototype[s]=typeof l=="function"?function(...u){const h=this.inherited;let m;this.inherited=function(...f){if(a.prototype[s])return a.prototype[s].apply(this,f)};try{m=l.apply(this,u)}catch(f){throw this.inherited=h,f}return this.inherited=h,m}:t[s]}for(const s in i){const l=foe(i[s]);d(l)(o.prototype,s)}return D(n)(o)}postscript(t){const i=this.__accessor__,n=i.ctorArgs||t;i.initialize(),n&&(this.set(n),i.ctorArgs=null),i.constructed(),this.initialize()}initialize(){}destroy(){this.destroyed||(Eae(this),this.__accessor__.destroy())}get initialized(){return this.__accessor__&&this.__accessor__.initialized||!1}get constructed(){return this.__accessor__&&this.__accessor__.lifecycle===qo.CONSTRUCTED||!1}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(t){this.get(t)}get(t){return Sw(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}isInstanceOf(t){return Fh(Q.getLogger(this.declaredClass),"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"}),this instanceof t}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,i){return Cw(this,t,i),this}watch(t,i,n){return Lae(this,t,i,n)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_override(t,i){return this.__accessor__.override(t,i)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,i){return this.__accessor__.internalSet(t,i),this}}class jp{constructor(){this._emitter=new jp.EventEmitter(this)}emit(t,i){return this._emitter.emit(t,i)}on(t,i){return this._emitter.on(t,i)}once(t,i){return this._emitter.once(t,i)}hasEventListener(t){return this._emitter.hasEventListener(t)}}(function(e){class t{constructor(r=null){this.target=r,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear(),this._listenersMap=null}emit(r,a){const o=this._listenersMap&&this._listenersMap.get(r);if(!o)return!1;const s=this.target||this;return[...o].forEach(l=>{l.call(s,a)}),o.length>0}on(r,a){if(Array.isArray(r)){const s=r.map(l=>this.on(l,a));return Xx(s)}if(r.indexOf(",")>-1)throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const o=this._listenersMap.get(r)||[];return o.push(a),this._listenersMap.set(r,o),{remove:()=>{const s=this._listenersMap&&this._listenersMap.get(r)||[],l=s.indexOf(a);l>=0&&s.splice(l,1)}}}once(r,a){const o=this.on(r,s=>{o.remove(),a.call(null,s)});return o}hasEventListener(r){const a=this._listenersMap&&this._listenersMap.get(r);return a!=null&&a.length>0}}e.EventEmitter=t,e.EventedMixin=n=>{let r=class extends n{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(a,o){return this._emitter.emit(a,o)}on(a,o){return this._emitter.on(a,o)}once(a,o){return this._emitter.once(a,o)}hasEventListener(a){return this._emitter.hasEventListener(a)}};return r=c([D("esri.core.Evented")],r),r};let i=class extends ge{constructor(){super(...arguments),this._emitter=new jp.EventEmitter(this)}destroy(){this._emitter.clear()}emit(n,r){return this._emitter.emit(n,r)}on(n,r){return this._emitter.on(n,r)}once(n,r){return this._emitter.once(n,r)}hasEventListener(n){return this._emitter.hasEventListener(n)}};i=c([D("esri.core.Evented")],i),e.EventedAccessor=i})(jp||(jp={}));const Gc=jp;var ct;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(ct||(ct={}));function aI(e){return(t,i)=>{t[i]=e}}class goe{constructor(){this._observers=[]}observe(t){return this._observers.includes(t)||this._observers.push(t),new e6(this._observers,t)}notify(){const t=this._observers.slice();for(let i=0;i<t.length;++i){const n=t[i];n.onInvalidated(),n.onCommitted()}}}var Ys;class yoe{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}}const zr=new no(yoe,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1}),boe=()=>{};function Q_(e){return e?e instanceof Qu?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function e2(e){if(e&&e.length)return e[0]}function voe(e,t,i,n){const r=Math.min(e.length-i,t.length-n);let a=0;for(;a<r&&e[i+a]===t[n+a];)a++;return a}function I6(e,t,i,n){t&&t.forEach((r,a,o)=>{e.push(r),I6(e,i.call(n,r,a,o),i,n)})}const xl=new Set,kl=new Set,_l=new Set,t2=new Map;let woe=0,Qu=Ys=class extends Gc.EventedAccessor{constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new goe,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:woe++})}static isCollection(e){return e!=null&&e instanceof Ys}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof Ys?{items:e}:e:{}}destroy(){this.removeAll()}*[Symbol.iterator](){yield*this.items}get items(){return je(this._observable),this._items}set items(e){this._emitBeforeChanges(ct.ADD)||(this._splice(0,this.length,Q_(e)),this._emitAfterChanges(ct.ADD))}hasEventListener(e){return e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if(e==="change"){const i=this._chgListeners,n={removed:!1,callback:t};return i.push(n),this._notifications&&this._notifications.push({listeners:i.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=boe,n.removed=!0,i.splice(i.indexOf(n),1)}}}return this._emitter.on(e,t)}once(e,t){const i=this.on(e,t);return{remove(){i.remove()}}}add(e,t){if(je(this._observable),this._emitBeforeChanges(ct.ADD))return this;const i=this.getNextIndex(t!=null?t:null);return this._splice(i,0,[e]),this._emitAfterChanges(ct.ADD),this}addMany(e,t=this._items.length){if(je(this._observable),!e||!e.length)return this;if(this._emitBeforeChanges(ct.ADD))return this;const i=this.getNextIndex(t);return this._splice(i,0,Q_(e)),this._emitAfterChanges(ct.ADD),this}at(e){if(je(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(je(this._observable),!this.length||this._emitBeforeChanges(ct.REMOVE))return[];const e=this._splice(0,this.length)||[];return this._emitAfterChanges(ct.REMOVE),e}clone(){return je(this._observable),this._createNewInstance({items:this._items.map(z)})}concat(...e){je(this._observable);const t=e.map(Q_);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(je(this._observable),!this.length||this._emitBeforeChanges(ct.REMOVE))return;const i=this._splice(0,this.length),n=i.length;for(let r=0;r<n;r++)e.call(t,i[r],r,i);this._emitAfterChanges(ct.REMOVE)}every(e,t){return je(this._observable),this._items.every(e,t)}filter(e,t){let i;return je(this._observable),i=arguments.length===2?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:i})}find(e,t){return je(this._observable),this._items.find(e,t)}findIndex(e,t){return je(this._observable),this._items.findIndex(e,t)}flatten(e,t){je(this._observable);const i=[];return I6(i,this,e,t),new Ys(i)}forEach(e,t){return je(this._observable),this._items.forEach(e,t)}getItemAt(e){return je(this._observable),this._items[e]}getNextIndex(e){je(this._observable);const t=this.length;return(e=e==null?t:e)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return je(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return je(this._observable),this._items.indexOf(e,t)}join(e=","){return je(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return je(this._observable),this._items.lastIndexOf(e,t)}map(e,t){je(this._observable);const i=this._items.map(e,t);return new Ys({items:i})}reorder(e,t=this.length-1){je(this._observable);const i=this.indexOf(e);if(i!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),i!==t){if(this._emitBeforeChanges(ct.MOVE))return e;this._splice(i,1),this._splice(t,0,[e]),this._emitAfterChanges(ct.MOVE)}return e}}pop(){if(je(this._observable),!this.length||this._emitBeforeChanges(ct.REMOVE))return;const e=e2(this._splice(this.length-1,1));return this._emitAfterChanges(ct.REMOVE),e}push(...e){return je(this._observable),this._emitBeforeChanges(ct.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(ct.ADD)),this.length}reduce(e,t){je(this._observable);const i=this._items;return arguments.length===2?i.reduce(e,t):i.reduce(e)}reduceRight(e,t){je(this._observable);const i=this._items;return arguments.length===2?i.reduceRight(e,t):i.reduceRight(e)}remove(e){return je(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(je(this._observable),e<0||e>=this.length||this._emitBeforeChanges(ct.REMOVE))return;const t=e2(this._splice(e,1));return this._emitAfterChanges(ct.REMOVE),t}removeMany(e){if(je(this._observable),!e||!e.length||this._emitBeforeChanges(ct.REMOVE))return[];const t=e instanceof Ys?e.toArray():e,i=this._items,n=[],r=t.length;for(let a=0;a<r;a++){const o=t[a],s=i.indexOf(o);if(s>-1){const l=1+voe(t,i,a+1,s+1),u=this._splice(s,l);u&&u.length>0&&n.push.apply(n,u),a+=l-1}}return this._emitAfterChanges(ct.REMOVE),n}reverse(){if(je(this._observable),this._emitBeforeChanges(ct.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(ct.MOVE),this}shift(){if(je(this._observable),!this.length||this._emitBeforeChanges(ct.REMOVE))return;const e=e2(this._splice(0,1));return this._emitAfterChanges(ct.REMOVE),e}slice(e=0,t=this.length){return je(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return je(this._observable),this._items.some(e,t)}sort(e){if(je(this._observable),!this.length||this._emitBeforeChanges(ct.MOVE))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(ct.MOVE),this}splice(e,t,...i){je(this._observable);const n=(t?ct.REMOVE:0)|(i.length?ct.ADD:0);if(this._emitBeforeChanges(n))return[];const r=this._splice(e,t,i)||[];return this._emitAfterChanges(n),r}toArray(){return je(this._observable),this._items.slice()}toJSON(){return je(this._observable),this.toArray()}toLocaleString(){return je(this._observable),this._items.toLocaleString()}toString(){return je(this._observable),this._items.toString()}unshift(...e){return je(this._observable),!e.length||this._emitBeforeChanges(ct.ADD)||(this._splice(0,0,e),this._emitAfterChanges(ct.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,i){const n=this._items,r=this.itemType;let a,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=Ty(()=>this._dispatchChange())),t){if(o=n.splice(e,t),this.hasEventListener("before-remove")){const s=zr.acquire();s.target=this,s.cancellable=!0;for(let l=0,u=o.length;l<u;l++)a=o[l],s.reset(a),this.emit("before-remove",s),s.defaultPrevented&&(o.splice(l,1),n.splice(e,0,a),e+=1,l-=1,u-=1);zr.release(s)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const s=zr.acquire();s.target=this,s.cancellable=!1;const l=o.length;for(let u=0;u<l;u++)s.reset(o[u]),this.emit("after-remove",s);zr.release(s)}}if(i&&i.length){if(r){const h=[];for(const m of i){const f=r.ensureType(m);f==null&&m!=null||h.push(f)}i=h}const s=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),u=e===this.length;if(s||l){const h=zr.acquire();h.target=this,h.cancellable=!0;const m=zr.acquire();m.target=this,m.cancellable=!1;for(const f of i)s?(h.reset(f),this.emit("before-add",h),h.defaultPrevented||(u?n.push(f):n.splice(e++,0,f),this._set("length",n.length),l&&(m.reset(f),this.emit("after-add",m)))):(u?n.push(f):n.splice(e++,0,f),this._set("length",n.length),m.reset(f),this.emit("after-add",m));zr.release(m),zr.release(h)}else{if(u)for(const h of i)n.push(h);else n.splice(e,0,...i);this._set("length",n.length)}}return(i&&i.length||o&&o.length)&&this._notifyChangeEvent(i,o),o}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const i=zr.acquire();i.target=this,i.cancellable=!0,i.type=e,this.emit("before-changes",i),t=i.defaultPrevented,zr.release(i)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=zr.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),zr.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const i=t.changes;xl.clear(),kl.clear(),_l.clear();for(const{added:l,removed:u}of i){if(l)if(_l.size===0&&kl.size===0)for(const h of l)xl.add(h);else for(const h of l)kl.has(h)?(_l.add(h),kl.delete(h)):_l.has(h)||xl.add(h);if(u)if(_l.size===0&&xl.size===0)for(const h of u)kl.add(h);else for(const h of u)xl.has(h)?xl.delete(h):(_l.delete(h),kl.add(h))}const n=Cn.acquire();xl.forEach(l=>{n.push(l)});const r=Cn.acquire();kl.forEach(l=>{r.push(l)});const a=this._items,o=t.items,s=Cn.acquire();if(_l.forEach(l=>{o.indexOf(l)!==a.indexOf(l)&&s.push(l)}),t.listeners&&(n.length||r.length||s.length)){const l={target:this,added:n,removed:r,moved:s},u=t.listeners.length;for(let h=0;h<u;h++){const m=t.listeners[h];m.removed||m.callback.call(this,l)}}Cn.release(n),Cn.release(r),Cn.release(s)}xl.clear(),kl.clear(),_l.clear()}};Qu.ofType=e=>{if(!e)return Ys;if(t2.has(e))return t2.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const n in e.typeMap){const r=e.typeMap[n].prototype.declaredClass;t?t+=` | ${r}`:t=r}let i=class extends Ys{};return c([aI({Type:e,ensureType:typeof e=="function"?mi(e):ns(e)})],i.prototype,"itemType",void 0),i=c([D(`esri.core.Collection<${t}>`)],i),t2.set(e,i),i},c([d()],Qu.prototype,"length",void 0),c([d()],Qu.prototype,"items",null),Qu=Ys=c([D("esri.core.Collection")],Qu);const _e=Qu;function Ld(e,t,i=_e){return t||(t=new i),t===e||(t.removeAll(),xoe(e)?t.addMany(e):e&&t.add(e)),t}function E6(e){return e}function xoe(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}class oI{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new oI;return this._values.forEach((n,r)=>{t&&t.has(r)||i.set(r,z(n.value),n.origin)}),i}get(t,i){i=this._normalizeOrigin(i);const n=this._values.get(t);return i==null||(n==null?void 0:n.origin)===i?n==null?void 0:n.value:void 0}originOf(t){var i,n;return(i=(n=this._values.get(t))==null?void 0:n.origin)!=null?i:Xe.USER}keys(t){t=this._normalizeOrigin(t);const i=[...this._values.keys()];return t==null?i:i.filter(n=>{var r;return((r=this._values.get(n))==null?void 0:r.origin)===t})}set(t,i,n){if((n=this._normalizeOrigin(n))===Xe.DEFAULTS){const r=this._values.get(t);if(r&&r.origin!=null&&r.origin>n)return}this._values.set(t,new koe(i,n))}delete(t,i){var n;(i=this._normalizeOrigin(i))!=null&&((n=this._values.get(t))==null?void 0:n.origin)!==i||this._values.delete(t)}has(t,i){var n;return(i=this._normalizeOrigin(i))!=null?((n=this._values.get(t))==null?void 0:n.origin)===i:this._values.has(t)}forEach(t){this._values.forEach(({value:i},n)=>t(i,n))}_normalizeOrigin(t){if(t!=null)return t===Xe.DEFAULTS?t:Xe.USER}}class koe{constructor(t,i){this.value=t,this.origin=i}}function T6(e,t,i){t.keys().forEach(r=>{i.set(r,t.get(r),Xe.DEFAULTS)});const n=e.metadatas;Object.keys(n).forEach(r=>{e.internalGet(r)&&i.set(r,e.internalGet(r),Xe.DEFAULTS)})}function _oe(e,t,i){if(!e||!e.read||e.read.enabled===!1||!e.read.source)return!1;const n=e.read.source;if(typeof n=="string"){if(n===t||n.indexOf(".")>-1&&n.indexOf(t)===0&&YA(n,i))return!0}else for(const r of n)if(r===t||r.indexOf(".")>-1&&r.indexOf(t)===0&&YA(r,i))return!0;return!1}function Soe(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function Doe(e,t,i,n,r){let a=p5(t[i],r);Soe(a)&&(e[i]=!0);for(const o of Object.getOwnPropertyNames(t))a=p5(t[o],r),_oe(a,i,n)&&(e[o]=!0)}function $oe(e,t,i,n){const r=i.metadatas,a=rI(r[t],"any",n),o=a&&a.default;if(o===void 0)return;const s=typeof o=="function"?o.call(e,t,n):o;s!==void 0&&i.set(t,s)}const M6={origin:"service"};function A6(e,t,i=M6){if(!t||typeof t!="object")return;const n=Mn(e),r=n.metadatas,a={};for(const o of Object.getOwnPropertyNames(t))Doe(a,r,o,t,i);n.setDefaultOrigin(i.origin);for(const o of Object.getOwnPropertyNames(a)){const s=p5(r[o],i).read,l=s&&s.source;let u;u=l&&typeof l=="string"?$y(t,l):t[o],s&&s.reader&&(u=s.reader.call(e,u,t,i)),u!==void 0&&n.set(o,u)}if(!i||!i.ignoreDefaults){n.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(r))a[o]||$oe(e,o,n,i)}n.setDefaultOrigin("user")}function Coe(e,t,i,n=M6){var r;const a=le($({},n),{messages:[]});i(a),(r=a.messages)==null||r.forEach(o=>{o.type!=="warning"||e.loaded?n&&n.messages&&n.messages.push(o):e.loadWarnings.push(o)})}const Ioe=Q.getLogger("esri.core.accessorSupport.write");function Eoe(e,t,i,n,r){var a,o;const s={};return(a=t.write)==null||(o=a.writer)==null||o.call(e,n,s,i,r),s}function O6(e,t,i,n,r,a){if(!n||!n.write)return!1;const o=e.get(i);if(!r&&n.write.overridePolicy){const s=n.write.overridePolicy.call(e,o,i,a);s!==void 0&&(r=s)}if(r||(r=n.write),!r||r.enabled===!1)return!1;if((o===null&&!r.allowNull&&!r.writerEnsuresNonNull||o===void 0)&&r.isRequired){const s=new L("web-document-write:property-required",`Missing value for required property '${i}' on '${e.declaredClass}'`,{propertyName:i,target:e});return s&&a&&a.messages?a.messages.push(s):s&&!a&&Ioe.error(s.name,s.message),!1}return!(o===void 0||o===null&&!r.allowNull&&!r.writerEnsuresNonNull||(!t.store.multipleOriginsSupported||t.store.originOf(i)===Xe.DEFAULTS)&&Toe(e,i,a,n,o)||!r.ignoreOrigin&&a&&a.origin&&t.store.multipleOriginsSupported&&t.store.originOf(i)<wc(a.origin))}function Toe(e,t,i,n,r){const a=n.default;if(a===void 0)return!1;if(n.defaultEquals!=null)return n.defaultEquals(r);if(typeof a=="function"){if(Array.isArray(r)){const o=a.call(e,t,i);return MN(o,r)}return!1}return a===r}function Moe(e,t,i,n){const r=Mn(e),a=r.metadatas,o=$6(a[t],n);return!!o&&O6(e,r,t,o,i,n)}function P6(e,t,i){if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return Uv(t,e.toJSON());const n=Mn(e),r=n.metadatas;for(const s in r){const l=$6(r[s],i);if(!O6(e,n,s,l,void 0,i))continue;const u=e.get(s),h=Eoe(e,l,l.write&&typeof l.write.target=="string"?l.write.target:s,u,i);var a,o;Object.keys(h).length>0&&(t=Uv(t,h),i!=null&&(a=i.resources)!=null&&(o=a.pendingOperations)!=null&&o.length&&Promise.all(i.resources.pendingOperations).then(()=>Uv(t,h)),i&&i.writtenProperties&&i.writtenProperties.push({target:e,propName:s,oldOrigin:tae(n.store.originOf(s)),newOrigin:i.origin}))}return t}const Ay=e=>{let t=class extends e{constructor(...i){super(...i);const n=Mn(this),r=n.store,a=new oI;n.store=a,T6(n,r,a)}read(i,n){A6(this,i,n)}write(i={},n){return P6(this,i,n)}toJSON(i){return this.write({},i)}static fromJSON(i,n){return Aoe.call(this,i,n)}};return t=c([D("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function Aoe(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const i=new this;return i.read(e,t),i}let J=class extends Ay(ge){};J=c([D("esri.core.JSONSupport")],J);var cc;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(cc||(cc={}));class Ooe{constructor(t){this.instance=t,this._resolver=cl(),this._status=cc.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=cc.RESOLVED,this._cleanUp()},()=>{this._status=cc.REJECTED,this._cleanUp()})}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===cc.RESOLVED}isRejected(){return this._status===cc.REJECTED}isFulfilled(){return this._status!==cc.PENDING}abort(){this._resolver.reject(hi())}when(t,i){return this._resolver.promise.then(t,i)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const t=cl(),i=[...this._resolvingPromises,t.promise],n=this._allPromise=Promise.all(i);n.then(()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve(this.instance)},r=>{this.isFulfilled()||this._allPromise!==n||ma(r)||this._resolver.reject(r)}),t.resolve()}}const lk=e=>{let t=class extends e{constructor(...i){super(...i),this._promiseProps=new Ooe(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(i,n){return new Promise((r,a)=>{this._promiseProps.when(r,a)}).then(i,n)}catch(i){return this.when(null,i)}addResolvingPromise(i){i&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in i?i.when():i)}};return t=c([D("esri.core.Promise")],t),t};let Nw=class extends lk(ge){};Nw=c([D("esri.core.Promise")],Nw);const Poe="not-loaded",Loe="loading",Roe="failed",dO="loaded",L6=e=>{let t=class extends e{constructor(...i){super(...i),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(n=>{const r=this.load.bind(this);this.load=a=>{const o=new Promise((s,l)=>{const u=rk(a,l);this.destroyed&&l(new L("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(s,l).finally(()=>{u&&u.remove()})});if(this.loadStatus===Poe){this._set("loadStatus",Loe);const s=this._loadController=new AbortController;r({signal:s.signal}),ro(s.signal,()=>{this._promiseProps.abort()})}return n(),o}})),this.when(()=>{this._set("loadStatus",dO),this._loadController=null},n=>{this._set("loadStatus",Roe),this._set("loadError",n),this._loadController=null})}get loaded(){return this.loadStatus===dO}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var i;return this.isFulfilled()||(this._set("loadError",new L("load:cancelled","Cancelled")),(i=this._loadController)==null||i.abort()),this}};return c([d({readOnly:!0})],t.prototype,"loaded",null),c([d({readOnly:!0})],t.prototype,"loadError",void 0),c([d({clonable:!1})],t.prototype,"loadStatus",void 0),c([d({type:[An],readOnly:!0})],t.prototype,"loadWarnings",null),t=c([D("esri.core.Loadable")],t),t};let Yf=class extends L6(Nw){};Yf=c([D("esri.core.Loadable")],Yf),function(e){function t(i){return!(!i||!i.load)}e.LoadableMixin=L6,e.isLoadable=t}(Yf||(Yf={}));const ul=Yf;function Foe(e,t,i){return Zn(e.map((n,r)=>t.apply(i,[n,r])))}function Noe(e,t,i){return Zn(e.map((n,r)=>t.apply(i,[n,r]))).then(n=>n.map(r=>r.value))}function ck(e){return V(e)?wp():e.then(t=>({ok:!0,value:t})).catch(t=>({ok:!1,error:t}))}function vEe(e){return e.then(t=>({ok:!0,value:t})).catch(t=>(Ey(t),{ok:!1,error:t}))}async function R6(e,t){return await e.load(),zoe(e,t)}async function zoe(e,t){const i=[],n=(...a)=>{for(const o of a)V(o)||(Array.isArray(o)?n(...o):_e.isCollection(o)?o.forEach(s=>n(s)):ul.isLoadable(o)&&i.push(o))};t(n);let r=null;if(await Noe(i,async a=>{(await ck(joe(a)?a.loadAll():a.load())).ok!==!1||r||(r=a)}),r)throw r.loadError;return e}function joe(e){return"loadAll"in e&&typeof e.loadAll=="function"}const Voe=Q.getLogger("esri.core.urlUtils"),Pm=vt.request,hO="esri/config: esriConfig.request.proxyUrl is not set.",F6=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,N6=/^\s*http:/i,Hoe=/^\s*https:/i,qoe=/^\s*file:/i,Boe=/:\d+$/,Uoe=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,Goe=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),Woe=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class Vp{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let i=this.uri.match(Goe);this.scheme=i[2]||(i[1]?"":null),this.authority=i[4]||(i[3]?"":null),this.path=i[5],this.query=i[7]||(i[6]?"":null),this.fragment=i[9]||(i[8]?"":null),this.authority!=null&&(i=this.authority.match(Woe),this.user=i[3]||null,this.password=i[4]||null,this.host=i[6]||i[7],this.port=i[9]||null)}toString(){return this.uri}}const Fb={},Joe=new Vp(vt.applicationUrl);let pn=Joe;const Koe=Yoe();let sI=Koe;const z6=()=>pn,wEe=()=>sI;function Yoe(){const e=pn.path,t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return`${`${pn.scheme}://${pn.host}${pn.port!=null?`:${pn.port}`:""}`}${t}`}function Gi(e){const t={path:null,query:null},i=new Vp(e),n=e.indexOf("?");return i.query===null?t.path=e:(t.path=e.substring(0,n),t.query=j6(i.query)),i.fragment&&(t.hash=i.fragment,i.query===null&&(t.path=t.path.substring(0,t.path.length-(i.fragment.length+1)))),t}function j6(e){const t=e.split("&"),i={};for(const n of t){if(!n)continue;const r=n.indexOf("=");let a,o;r<0?(a=decodeURIComponent(n),o=""):(a=decodeURIComponent(n.slice(0,r)),o=decodeURIComponent(n.slice(r+1)));let s=i[a];typeof s=="string"&&(s=i[a]=[s]),Array.isArray(s)?s.push(o):i[a]=o}return i}function pO(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}function Fg(e,t){return e?t&&typeof t=="function"?Object.keys(e).map(i=>encodeURIComponent(i)+"="+encodeURIComponent(t(i,e[i]))).join("&"):Object.keys(e).map(i=>{const n=e[i];if(n==null)return"";const r=encodeURIComponent(i)+"=",a=t&&t[i];return a?r+encodeURIComponent(a(n)):Array.isArray(n)?n.map(o=>pO(o)?r+encodeURIComponent(JSON.stringify(o)):r+encodeURIComponent(o)).join("&"):pO(n)?r+encodeURIComponent(JSON.stringify(n)):r+encodeURIComponent(n)}).filter(i=>i).join("&"):""}function Zoe(e=!1){let t,i=Pm.proxyUrl;if(typeof e=="string"){t=rse(e);const n=uk(e);n&&(i=n.proxyUrl)}else t=!!e;if(!i)throw Voe.warn(hO),new L("urlutils:proxy-not-set",hO);return t&&f5()&&(i=hI(i)),Gi(i)}function Xoe(e){const t=uk(e);let i,n;if(t){const r=lI(t.proxyUrl);i=r.path,n=r.query?j6(r.query):null}if(i){const r=Gi(e);e=i+"?"+r.path;const a=Fg($($({},n),r.query));a&&(e=`${e}?${a}`)}return e}const kf={path:"",query:""};function lI(e){const t=e.indexOf("?");return t!==-1?(kf.path=e.slice(0,t),kf.query=e.slice(t+1)):(kf.path=e,kf.query=null),kf}function V6(e){return e=(e=jw(e=use(e=lI(e).path),!0)).toLowerCase()}function Qoe(e){const t={proxyUrl:e.proxyUrl,urlPrefix:V6(e.urlPrefix)},i=Pm.proxyRules,n=t.urlPrefix;let r=i.length;for(let a=0;a<i.length;a++){const o=i[a].urlPrefix;if(n.indexOf(o)===0){if(n.length===o.length)return-1;r=a;break}o.indexOf(n)===0&&(r=a+1)}return i.splice(r,0,t),r}function uk(e){const t=Pm.proxyRules,i=V6(e);for(let n=0;n<t.length;n++)if(i.indexOf(t[n].urlPrefix)===0)return t[n]}function H6(e,t){return e=mO(e),t=mO(t),jw(e)===jw(t)}function mO(e){const t=(e=eo(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function q6(e){const t=n=>n==null||n instanceof RegExp&&n.test(e)||typeof n=="string"&&e.startsWith(n),i=Pm.interceptors;if(i){for(const n of i)if(Array.isArray(n.urls)){if(n.urls.some(t))return n}else if(t(n.urls))return n}return null}function zw(e,t,i=!1){const n=y5(e),r=y5(t);return!(!i&&n.scheme!==r.scheme)&&n.host!=null&&r.host!=null&&n.host.toLowerCase()===r.host.toLowerCase()&&n.port===r.port}function cI(e){if(typeof e=="string"){if(!Sr(e))return!0;e=y5(e)}if(zw(e,pn))return!0;const t=Pm.trustedServers||[];for(let i=0;i<t.length;i++){const n=ese(t[i]);for(let r=0;r<n.length;r++)if(zw(e,n[r]))return!0}return!1}function ese(e){return Fb[e]||(dI(e)||rs(e)?Fb[e]=[new Vp(Ya(e))]:Fb[e]=[new Vp(`http://${e}`),new Vp(`https://${e}`)]),Fb[e]}function Ya(e,t=sI,i){return rs(e)?i&&i.preserveProtocolRelative?e:pn.scheme==="http"&&pn.authority===Lm(e).slice(2)?`http:${e}`:`https:${e}`:dI(e)?e:Lc(e[0]==="/"?lse(t):t,e)}function uI(e,t=sI,i){if(!Sr(e))return e;const n=eo(e),r=n.toLowerCase(),a=eo(t).toLowerCase().replace(/\/+$/,""),o=i?eo(i).toLowerCase().replace(/\/+$/,""):null;if(o&&a.indexOf(o)!==0)return e;const s=(m,f,g)=>(g=m.indexOf(f,g))===-1?m.length:g;let l=s(r,"/",r.indexOf("//")+2),u=-1;for(;r.slice(0,l+1)===a.slice(0,l)+"/"&&(u=l+1,l!==r.length);)l=s(r,"/",l+1);if(u===-1||o&&u<o.length)return e;e=n.slice(u);const h=a.slice(u-1).replace(/[^/]+/g,"").length;if(h>0)for(let m=0;m<h;m++)e=`../${e}`;else e=`./${e}`;return e}function eo(e){return e=pse(e=hse(e=dse(e=Ya(e=e.trim()))))}function Lc(...e){const t=e.filter(T);if(!t||!t.length)return;const i=[];if(Sr(t[0])){const r=t[0],a=r.indexOf("//");a!==-1&&(i.push(r.slice(0,a+1)),ose(t[0])&&(i[0]+="/"),t[0]=r.slice(a+2))}else t[0][0]==="/"&&i.push("");const n=t.reduce((r,a)=>a?r.concat(a.split("/")):r,[]);for(let r=0;r<n.length;r++){const a=n[r];a===".."&&i.length>0&&i[i.length-1]!==".."?i.pop():(!a&&r===n.length-1||a&&(a!=="."||i.length===0))&&i.push(a)}return i.join("/")}function Lm(e,t=!1){if(dk(e)||Qd(e))return null;let i=e.indexOf("://");if(i===-1&&rs(e))i=2;else{if(i===-1)return null;i+=3}const n=e.indexOf("/",i);return n!==-1&&(e=e.slice(0,n)),t&&(e=jw(e,!0)),e}function Sr(e){return rs(e)||dI(e)}function dk(e){return e!=null&&e.slice(0,5)==="blob:"}function Qd(e){return e.slice(0,5)==="data:"}function xEe(e){const t=B6(e);if(!t||!t.isBase64)return null;const i=atob(t.data),n=new Uint8Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return n.buffer}function kEe(e){return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const tse=/^data:(.*?)(;base64)?,(.*)$/;function B6(e){const t=e.match(tse);if(!t)return null;const[,i,n,r]=t;return{mediaType:i,isBase64:!!n,data:r}}function U6(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}function _Ee(e,t){ise(e,t)||nse(e,t)}function ise(e,t){if(!e)return!1;const i=document.createElement("a");if(!("download"in i))return!1;const n=URL.createObjectURL(e);return i.download=t,i.href=n,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),!0}function nse(e,t){return!!window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(e,t)}function rs(e){return e!=null&&e!==void 0&&e[0]==="/"&&e[1]==="/"}function dI(e){return F6.test(e)}function rse(e){return Hoe.test(e)||pn.scheme==="https"&&rs(e)}function ase(e){return N6.test(e)||pn.scheme==="http"&&rs(e)}function ose(e){return qoe.test(e)}function hI(e){return rs(e)?`https:${e}`:e.replace(N6,"https:")}function sse(){return pn.scheme==="http"}function f5(){return pn.scheme==="https"}function jw(e,t=!1){return rs(e)?e.slice(2):(e=e.replace(F6,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function lse(e){const t=e.indexOf("//"),i=e.indexOf("/",t+2);return i===-1?e:e.slice(0,i)}function cse(e){let t=0;if(Sr(e)){const n=e.indexOf("//");n!==-1&&(t=n+2)}const i=e.lastIndexOf("/");return i<t?e:e.slice(0,i+1)}function SEe(e,t){if(!e)return"";const i=Gi(e).path.replace(/\/+$/,""),n=i.substring(i.lastIndexOf("/")+1);if(t==null||!t.length)return n;const r=new RegExp(`.(${t.join("|")})$`,"ig");return n.replace(r,"")}function use(e){return e&&e[e.length-1]==="/"?e:`${e}/`}function G6(e){return e.replace(/\/+$/,"")}function dse(e){if(/^https?:\/\//i.test(e)){const t=lI(e);e=(e=t.path.replace(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function hse(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function pse(e){const t=Pm.httpsDomains;if(!ase(e))return e;const i=e.indexOf("/",7);let n;if(n=i===-1?e:e.slice(0,i),n=n.toLowerCase().slice(7),Boe.test(n)){if(!n.endsWith(":80"))return e;n=n.slice(0,-3),e=e.replace(":80","")}return sse()&&n===pn.authority&&!Uoe.test(e)||(f5()&&n===pn.authority||t&&t.some(r=>n===r||n.endsWith(`.${r}`))||f5()&&!uk(e))&&(e=hI(e)),e}function g5(e,t,i){if(!(t&&i&&e&&Sr(e)))return e;const n=e.indexOf("//"),r=e.indexOf("/",n+2),a=e.indexOf(":",n+2),o=Math.min(r<0?e.length:r,a<0?e.length:a);return e.slice(n+2,o).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,n+2)}${i}${e.slice(o)}`}function y5(e){return typeof e=="string"?new Vp(Ya(e)):(e.scheme||(e.scheme=pn.scheme),e)}function DEe(e){return fse.test(e)}function W6(e,t){const i=Gi(e),n=Object.keys(i.query||{});return n.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${n.join(", ")}.`),i.path}function J6(e,t,i){const n=Gi(e),r=n.query||{};return r[t]=String(i),`${n.path}?${Fg(r)}`}function fO(e,t){const i=Gi(e),n=i.query||{};for(const a in t)n[a]=t[a];const r=Fg(n);return r?`${i.path}?${r}`:i.path}function $Ee(e){if(V(e))return null;const t=e.match(mse);return t?t[1]:null}const mse=/.*?\.([^\/]*)$/,fse=/(^data:image\/svg|\.svg$)/i;function ue(e,t,i){let n,r;return t===void 0?(r=e,n=[void 0]):typeof t!="string"?(r=e,n=[void 0],i=t):(r=t,n=Array.isArray(e)?e:[e]),(a,o)=>{const s=a.constructor.prototype;for(const l of n){const u=v6(a,l,r);u.write&&typeof u.write=="object"||(u.write={}),i&&(u.write.target=i),u.write.writer=s[o]}}}var Rd;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(Rd||(Rd={}));let p;const k={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(p=2e3;p<=2045;p++)k[p]=0;for(p=2056;p<=2065;p++)k[p]=0;for(p=2067;p<=2135;p++)k[p]=0;for(p=2137;p<=2154;p++)k[p]=0;for(p=2161;p<=2170;p++)k[p]=0;for(p=2172;p<=2193;p++)k[p]=0;for(p=2195;p<=2198;p++)k[p]=0;for(p=2200;p<=2203;p++)k[p]=0;for(p=2205;p<=2217;p++)k[p]=0;for(p=2222;p<=2224;p++)k[p]=1;for(p=2225;p<=2250;p++)k[p]=2;for(p=2251;p<=2253;p++)k[p]=1;for(p=2257;p<=2264;p++)k[p]=2;for(p=2274;p<=2279;p++)k[p]=2;for(p=2280;p<=2282;p++)k[p]=1;for(p=2283;p<=2289;p++)k[p]=2;for(p=2290;p<=2292;p++)k[p]=0;for(p=2308;p<=2313;p++)k[p]=0;for(p=2315;p<=2491;p++)k[p]=0;for(p=2494;p<=2866;p++)k[p]=0;for(p=2867;p<=2869;p++)k[p]=1;for(p=2870;p<=2888;p++)k[p]=2;for(p=2891;p<=2895;p++)k[p]=2;for(p=2896;p<=2898;p++)k[p]=1;for(p=2902;p<=2908;p++)k[p]=2;for(p=2915;p<=2920;p++)k[p]=2;for(p=2921;p<=2923;p++)k[p]=1;for(p=2924;p<=2930;p++)k[p]=2;for(p=2931;p<=2962;p++)k[p]=0;for(p=2964;p<=2968;p++)k[p]=2;for(p=2969;p<=2973;p++)k[p]=0;for(p=2975;p<=2991;p++)k[p]=0;for(p=2995;p<=3051;p++)k[p]=0;for(p=3054;p<=3079;p++)k[p]=0;for(p=3081;p<=3088;p++)k[p]=0;for(p=3092;p<=3101;p++)k[p]=0;for(p=3106;p<=3138;p++)k[p]=0;for(p=3146;p<=3151;p++)k[p]=0;for(p=3153;p<=3166;p++)k[p]=0;for(p=3168;p<=3172;p++)k[p]=0;for(p=3174;p<=3203;p++)k[p]=0;for(p=3294;p<=3358;p++)k[p]=0;for(p=3367;p<=3403;p++)k[p]=0;for(p=3408;p<=3416;p++)k[p]=0;for(p=3417;p<=3438;p++)k[p]=2;for(p=3441;p<=3446;p++)k[p]=2;for(p=3447;p<=3450;p++)k[p]=0;for(p=3451;p<=3459;p++)k[p]=2;for(p=3460;p<=3478;p++)k[p]=0;for(p=3554;p<=3559;p++)k[p]=0;for(p=3560;p<=3570;p++)k[p]=2;for(p=3571;p<=3581;p++)k[p]=0;for(p=3594;p<=3597;p++)k[p]=0;for(p=3601;p<=3604;p++)k[p]=0;for(p=3637;p<=3639;p++)k[p]=0;for(p=3665;p<=3667;p++)k[p]=0;for(p=3693;p<=3695;p++)k[p]=0;for(p=3701;p<=3727;p++)k[p]=0;for(p=3728;p<=3739;p++)k[p]=2;for(p=3740;p<=3751;p++)k[p]=0;for(p=3753;p<=3760;p++)k[p]=2;for(p=3761;p<=3773;p++)k[p]=0;for(p=3775;p<=3777;p++)k[p]=0;for(p=3779;p<=3781;p++)k[p]=0;for(p=3783;p<=3785;p++)k[p]=0;for(p=3788;p<=3791;p++)k[p]=0;for(p=3797;p<=3802;p++)k[p]=0;for(p=3814;p<=3816;p++)k[p]=0;for(p=3825;p<=3829;p++)k[p]=0;for(p=3832;p<=3841;p++)k[p]=0;for(p=3844;p<=3852;p++)k[p]=0;for(p=3873;p<=3885;p++)k[p]=0;for(p=3890;p<=3893;p++)k[p]=0;for(p=3907;p<=3912;p++)k[p]=0;for(p=3942;p<=3950;p++)k[p]=0;for(p=3968;p<=3970;p++)k[p]=0;for(p=3973;p<=3976;p++)k[p]=0;for(p=3986;p<=3989;p++)k[p]=0;for(p=3994;p<=3997;p++)k[p]=0;for(p=4048;p<=4051;p++)k[p]=0;for(p=4056;p<=4063;p++)k[p]=0;for(p=4093;p<=4096;p++)k[p]=0;for(p=4390;p<=4398;p++)k[p]=0;for(p=4399;p<=4413;p++)k[p]=2;for(p=4418;p<=4433;p++)k[p]=2;for(p=4455;p<=4457;p++)k[p]=2;for(p=4484;p<=4489;p++)k[p]=0;for(p=4491;p<=4554;p++)k[p]=0;for(p=4568;p<=4589;p++)k[p]=0;for(p=4652;p<=4656;p++)k[p]=0;for(p=4766;p<=4800;p++)k[p]=0;for(p=5014;p<=5016;p++)k[p]=0;for(p=5069;p<=5072;p++)k[p]=0;for(p=5105;p<=5130;p++)k[p]=0;for(p=5173;p<=5188;p++)k[p]=0;for(p=5253;p<=5259;p++)k[p]=0;for(p=5269;p<=5275;p++)k[p]=0;for(p=5292;p<=5311;p++)k[p]=0;for(p=5329;p<=5331;p++)k[p]=0;for(p=5343;p<=5349;p++)k[p]=0;for(p=5355;p<=5357;p++)k[p]=0;for(p=5387;p<=5389;p++)k[p]=0;for(p=5459;p<=5463;p++)k[p]=0;for(p=5479;p<=5482;p++)k[p]=0;for(p=5518;p<=5520;p++)k[p]=0;for(p=5530;p<=5539;p++)k[p]=0;for(p=5550;p<=5552;p++)k[p]=0;for(p=5562;p<=5583;p++)k[p]=0;for(p=5623;p<=5625;p++)k[p]=2;for(p=5631;p<=5639;p++)k[p]=0;for(p=5649;p<=5653;p++)k[p]=0;for(p=5663;p<=5680;p++)k[p]=0;for(p=5682;p<=5685;p++)k[p]=0;for(p=5875;p<=5877;p++)k[p]=0;for(p=5896;p<=5899;p++)k[p]=0;for(p=5921;p<=5940;p++)k[p]=0;for(p=6050;p<=6125;p++)k[p]=0;for(p=6244;p<=6275;p++)k[p]=0;for(p=6328;p<=6348;p++)k[p]=0;for(p=6350;p<=6356;p++)k[p]=0;for(p=6366;p<=6372;p++)k[p]=0;for(p=6381;p<=6387;p++)k[p]=0;for(p=6393;p<=6404;p++)k[p]=0;for(p=6480;p<=6483;p++)k[p]=0;for(p=6511;p<=6514;p++)k[p]=0;for(p=6579;p<=6581;p++)k[p]=0;for(p=6619;p<=6624;p++)k[p]=0;for(p=6625;p<=6627;p++)k[p]=2;for(p=6628;p<=6632;p++)k[p]=0;for(p=6634;p<=6637;p++)k[p]=0;for(p=6669;p<=6692;p++)k[p]=0;for(p=6707;p<=6709;p++)k[p]=0;for(p=6720;p<=6723;p++)k[p]=0;for(p=6732;p<=6738;p++)k[p]=0;for(p=6931;p<=6933;p++)k[p]=0;for(p=6956;p<=6959;p++)k[p]=0;for(p=7005;p<=7007;p++)k[p]=0;for(p=7057;p<=7070;p++)k[p]=2;for(p=7074;p<=7082;p++)k[p]=0;for(p=7109;p<=7118;p++)k[p]=0;for(p=7119;p<=7127;p++)k[p]=1;for(p=7374;p<=7376;p++)k[p]=0;for(p=7528;p<=7586;p++)k[p]=0;for(p=7587;p<=7645;p++)k[p]=2;for(p=7692;p<=7696;p++)k[p]=0;for(p=7755;p<=7787;p++)k[p]=0;for(p=7791;p<=7795;p++)k[p]=0;for(p=7799;p<=7801;p++)k[p]=0;for(p=7803;p<=7805;p++)k[p]=0;for(p=7825;p<=7831;p++)k[p]=0;for(p=7845;p<=7859;p++)k[p]=0;for(p=8013;p<=8032;p++)k[p]=0;for(p=8065;p<=8068;p++)k[p]=1;for(p=8518;p<=8529;p++)k[p]=2;for(p=8533;p<=8536;p++)k[p]=2;for(p=8538;p<=8540;p++)k[p]=2;for(p=8677;p<=8679;p++)k[p]=0;for(p=8836;p<=8840;p++)k[p]=0;for(p=8857;p<=8859;p++)k[p]=0;for(p=8908;p<=8910;p++)k[p]=0;for(p=9154;p<=9159;p++)k[p]=0;for(p=9205;p<=9218;p++)k[p]=0;for(p=9271;p<=9273;p++)k[p]=0;for(p=9295;p<=9297;p++)k[p]=0;for(p=9356;p<=9360;p++)k[p]=0;for(p=9404;p<=9407;p++)k[p]=0;for(p=9476;p<=9482;p++)k[p]=0;for(p=9487;p<=9494;p++)k[p]=0;for(p=9697;p<=9699;p++)k[p]=0;for(p=20002;p<=20032;p++)k[p]=0;for(p=20062;p<=20092;p++)k[p]=0;for(p=20135;p<=20138;p++)k[p]=0;for(p=20248;p<=20258;p++)k[p]=0;for(p=20348;p<=20358;p++)k[p]=0;for(p=20436;p<=20440;p++)k[p]=0;for(p=20822;p<=20824;p++)k[p]=0;for(p=20904;p<=20932;p++)k[p]=0;for(p=20934;p<=20936;p++)k[p]=0;for(p=21004;p<=21032;p++)k[p]=0;for(p=21035;p<=21037;p++)k[p]=0;for(p=21095;p<=21097;p++)k[p]=0;for(p=21148;p<=21150;p++)k[p]=0;for(p=21207;p<=21264;p++)k[p]=0;for(p=21307;p<=21364;p++)k[p]=0;for(p=21413;p<=21423;p++)k[p]=0;for(p=21453;p<=21463;p++)k[p]=0;for(p=21473;p<=21483;p++)k[p]=0;for(p=21780;p<=21782;p++)k[p]=0;for(p=21891;p<=21894;p++)k[p]=0;for(p=21896;p<=21899;p++)k[p]=0;for(p=22171;p<=22177;p++)k[p]=0;for(p=22181;p<=22187;p++)k[p]=0;for(p=22191;p<=22197;p++)k[p]=0;for(p=22234;p<=22236;p++)k[p]=0;for(p=22521;p<=22525;p++)k[p]=0;for(p=22991;p<=22994;p++)k[p]=0;for(p=23028;p<=23038;p++)k[p]=0;for(p=23830;p<=23853;p++)k[p]=0;for(p=23866;p<=23872;p++)k[p]=0;for(p=23877;p<=23884;p++)k[p]=0;for(p=23886;p<=23894;p++)k[p]=0;for(p=23946;p<=23948;p++)k[p]=0;for(p=24311;p<=24313;p++)k[p]=0;for(p=24342;p<=24347;p++)k[p]=0;for(p=24370;p<=24374;p++)k[p]=10;for(p=24375;p<=24381;p++)k[p]=0;for(p=24718;p<=24721;p++)k[p]=0;for(p=24817;p<=24821;p++)k[p]=0;for(p=24877;p<=24882;p++)k[p]=0;for(p=24891;p<=24893;p++)k[p]=0;for(p=25391;p<=25395;p++)k[p]=0;for(p=25828;p<=25838;p++)k[p]=0;for(p=26191;p<=26195;p++)k[p]=0;for(p=26391;p<=26393;p++)k[p]=0;for(p=26701;p<=26722;p++)k[p]=0;for(p=26729;p<=26799;p++)k[p]=2;for(p=26801;p<=26803;p++)k[p]=2;for(p=26811;p<=26813;p++)k[p]=2;for(p=26847;p<=26870;p++)k[p]=2;for(p=26891;p<=26899;p++)k[p]=0;for(p=26901;p<=26923;p++)k[p]=0;for(p=26929;p<=26946;p++)k[p]=0;for(p=26948;p<=26998;p++)k[p]=0;for(p=27037;p<=27040;p++)k[p]=0;for(p=27205;p<=27232;p++)k[p]=0;for(p=27258;p<=27260;p++)k[p]=0;for(p=27391;p<=27398;p++)k[p]=0;for(p=27561;p<=27564;p++)k[p]=0;for(p=27571;p<=27574;p++)k[p]=0;for(p=27581;p<=27584;p++)k[p]=0;for(p=27591;p<=27594;p++)k[p]=0;for(p=28191;p<=28193;p++)k[p]=0;for(p=28348;p<=28358;p++)k[p]=0;for(p=28402;p<=28432;p++)k[p]=0;for(p=28462;p<=28492;p++)k[p]=0;for(p=29118;p<=29122;p++)k[p]=0;for(p=29168;p<=29172;p++)k[p]=0;for(p=29177;p<=29185;p++)k[p]=0;for(p=29187;p<=29195;p++)k[p]=0;for(p=29900;p<=29903;p++)k[p]=0;for(p=30161;p<=30179;p++)k[p]=0;for(p=30491;p<=30494;p++)k[p]=0;for(p=30729;p<=30732;p++)k[p]=0;for(p=31251;p<=31259;p++)k[p]=0;for(p=31265;p<=31268;p++)k[p]=0;for(p=31275;p<=31279;p++)k[p]=0;for(p=31281;p<=31297;p++)k[p]=0;for(p=31461;p<=31469;p++)k[p]=0;for(p=31491;p<=31495;p++)k[p]=0;for(p=31917;p<=31922;p++)k[p]=0;for(p=31965;p<=32e3;p++)k[p]=0;for(p=32001;p<=32003;p++)k[p]=2;for(p=32005;p<=32031;p++)k[p]=2;for(p=32033;p<=32060;p++)k[p]=2;for(p=32064;p<=32067;p++)k[p]=2;for(p=32074;p<=32077;p++)k[p]=2;for(p=32081;p<=32086;p++)k[p]=0;for(p=32107;p<=32130;p++)k[p]=0;for(p=32133;p<=32158;p++)k[p]=0;for(p=32164;p<=32167;p++)k[p]=2;for(p=32180;p<=32199;p++)k[p]=0;for(p=32201;p<=32260;p++)k[p]=0;for(p=32301;p<=32360;p++)k[p]=0;for(p=32601;p<=32662;p++)k[p]=0;for(p=32664;p<=32667;p++)k[p]=2;for(p=32701;p<=32761;p++)k[p]=0;for(p=53001;p<=53004;p++)k[p]=0;for(p=53008;p<=53019;p++)k[p]=0;for(p=53021;p<=53032;p++)k[p]=0;for(p=53034;p<=53037;p++)k[p]=0;for(p=53042;p<=53046;p++)k[p]=0;for(p=53074;p<=53080;p++)k[p]=0;for(p=54001;p<=54004;p++)k[p]=0;for(p=54008;p<=54019;p++)k[p]=0;for(p=54021;p<=54032;p++)k[p]=0;for(p=54034;p<=54037;p++)k[p]=0;for(p=54042;p<=54046;p++)k[p]=0;for(p=54048;p<=54053;p++)k[p]=0;for(p=54074;p<=54080;p++)k[p]=0;for(p=54098;p<=54101;p++)k[p]=0;for(p=102001;p<=102040;p++)k[p]=0;for(p=102042;p<=102063;p++)k[p]=0;for(p=102065;p<=102067;p++)k[p]=0;for(p=102070;p<=102117;p++)k[p]=0;for(p=102122;p<=102216;p++)k[p]=0;for(p=102221;p<=102377;p++)k[p]=0;for(p=102382;p<=102388;p++)k[p]=0;for(p=102389;p<=102398;p++)k[p]=2;for(p=102399;p<=102444;p++)k[p]=0;for(p=102445;p<=102447;p++)k[p]=2;for(p=102448;p<=102458;p++)k[p]=0;for(p=102459;p<=102468;p++)k[p]=2;for(p=102469;p<=102499;p++)k[p]=0;for(p=102500;p<=102519;p++)k[p]=1;for(p=102520;p<=102524;p++)k[p]=0;for(p=102525;p<=102529;p++)k[p]=2;for(p=102530;p<=102588;p++)k[p]=0;for(p=102590;p<=102598;p++)k[p]=0;for(p=102601;p<=102603;p++)k[p]=0;for(p=102605;p<=102628;p++)k[p]=0;for(p=102629;p<=102646;p++)k[p]=2;for(p=102648;p<=102700;p++)k[p]=2;for(p=102701;p<=102703;p++)k[p]=0;for(p=102707;p<=102730;p++)k[p]=2;for(p=102733;p<=102758;p++)k[p]=2;for(p=102767;p<=102900;p++)k[p]=0;for(p=102901;p<=102933;p++)k[p]=2;for(p=102934;p<=102950;p++)k[p]=13;for(p=102951;p<=102960;p++)k[p]=0;for(p=102965;p<=102969;p++)k[p]=0;for(p=102971;p<=102973;p++)k[p]=0;for(p=102975;p<=102989;p++)k[p]=0;for(p=102990;p<=102992;p++)k[p]=1;for(p=102997;p<=103002;p++)k[p]=0;for(p=103003;p<=103008;p++)k[p]=2;for(p=103009;p<=103011;p++)k[p]=0;for(p=103012;p<=103014;p++)k[p]=2;for(p=103019;p<=103021;p++)k[p]=0;for(p=103022;p<=103024;p++)k[p]=2;for(p=103029;p<=103031;p++)k[p]=0;for(p=103032;p<=103034;p++)k[p]=2;for(p=103065;p<=103068;p++)k[p]=0;for(p=103074;p<=103076;p++)k[p]=0;for(p=103077;p<=103079;p++)k[p]=1;for(p=103080;p<=103082;p++)k[p]=0;for(p=103083;p<=103085;p++)k[p]=2;for(p=103090;p<=103093;p++)k[p]=0;for(p=103097;p<=103099;p++)k[p]=0;for(p=103100;p<=103102;p++)k[p]=2;for(p=103107;p<=103109;p++)k[p]=0;for(p=103110;p<=103112;p++)k[p]=2;for(p=103113;p<=103116;p++)k[p]=0;for(p=103117;p<=103120;p++)k[p]=2;for(p=103153;p<=103157;p++)k[p]=0;for(p=103158;p<=103162;p++)k[p]=2;for(p=103163;p<=103165;p++)k[p]=0;for(p=103166;p<=103168;p++)k[p]=1;for(p=103169;p<=103171;p++)k[p]=2;for(p=103186;p<=103188;p++)k[p]=0;for(p=103189;p<=103191;p++)k[p]=2;for(p=103192;p<=103195;p++)k[p]=0;for(p=103196;p<=103199;p++)k[p]=2;for(p=103200;p<=103224;p++)k[p]=0;for(p=103225;p<=103227;p++)k[p]=1;for(p=103232;p<=103237;p++)k[p]=0;for(p=103238;p<=103243;p++)k[p]=2;for(p=103244;p<=103246;p++)k[p]=0;for(p=103247;p<=103249;p++)k[p]=2;for(p=103254;p<=103256;p++)k[p]=0;for(p=103257;p<=103259;p++)k[p]=2;for(p=103264;p<=103266;p++)k[p]=0;for(p=103267;p<=103269;p++)k[p]=2;for(p=103300;p<=103375;p++)k[p]=0;for(p=103381;p<=103383;p++)k[p]=0;for(p=103384;p<=103386;p++)k[p]=1;for(p=103387;p<=103389;p++)k[p]=0;for(p=103390;p<=103392;p++)k[p]=2;for(p=103397;p<=103399;p++)k[p]=0;for(p=103400;p<=103471;p++)k[p]=2;for(p=103476;p<=103478;p++)k[p]=0;for(p=103479;p<=103481;p++)k[p]=2;for(p=103486;p<=103488;p++)k[p]=0;for(p=103489;p<=103491;p++)k[p]=2;for(p=103492;p<=103495;p++)k[p]=0;for(p=103496;p<=103499;p++)k[p]=2;for(p=103528;p<=103543;p++)k[p]=0;for(p=103544;p<=103548;p++)k[p]=2;for(p=103549;p<=103551;p++)k[p]=0;for(p=103552;p<=103554;p++)k[p]=1;for(p=103555;p<=103557;p++)k[p]=2;for(p=103558;p<=103560;p++)k[p]=0;for(p=103571;p<=103573;p++)k[p]=0;for(p=103574;p<=103576;p++)k[p]=2;for(p=103577;p<=103580;p++)k[p]=0;for(p=103581;p<=103583;p++)k[p]=2;for(p=103595;p<=103694;p++)k[p]=0;for(p=103696;p<=103699;p++)k[p]=0;for(p=103700;p<=103793;p++)k[p]=2;for(p=103794;p<=103872;p++)k[p]=0;for(p=103900;p<=103971;p++)k[p]=2;const gse={102113:!0,102100:!0,3857:!0,3785:!0},yse={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0},gO='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',Nb=[-20037508342788905e-9,20037508342788905e-9],zb=[-20037508342787e-6,20037508342787e-6],K6={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Nb,origin:zb,dx:1e-5},102100:{wkTemplate:gO,valid:Nb,origin:zb,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Nb,origin:zb,dx:1e-5},3857:{wkTemplate:gO,valid:Nb,origin:zb,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function ir(e,t){return!V(e)&&!V(t)&&(e===t||(e.wkid!=null||t.wkid!=null?e.wkid===t.wkid||Fd(e)&&Fd(t)||t.latestWkid!=null&&e.wkid===t.latestWkid||e.latestWkid!=null&&t.wkid===e.latestWkid:!(!e.wkt||!t.wkt)&&e.wkt.toUpperCase()===t.wkt.toUpperCase()))}function to(e){return Xn(e)&&e.wkid?K6[e.wkid]:null}function Y6(e){return!!Xn(e)&&(e.wkid?k[e.wkid]==null:!!e.wkt&&!!/^\s*GEOGCS/i.test(e.wkt))}function bse(e){return!(hk(e)||pk(e))}function Ng(e){return Xn(e)&&e.wkid===4326}function CEe(e){return Xn(e)&&e.wkid===Rd.CGCS2000}function Fd(e){return Xn(e)&&e.wkid!=null&&gse[e.wkid]===!0}function vse(e){return Xn(e)&&e.wkid===32662}function pI(e){return e===Rd.GCSMARS2000||e===Rd.GCSMARS2000_SPHERE}function hk(e){return Xn(e)&&e.wkid!=null&&pI(e.wkid)}function mI(e){return e===Rd.GCSMOON2000}function pk(e){return Xn(e)&&e.wkid!=null&&mI(e.wkid)}function wse(e){return Xn(e)&&e.wkid!=null&&yse[e.wkid]===!0}function Xn(e){return T(e)&&(e.wkid!=null&&e.wkid>=2e3||e.wkt!=null)}const xse={wkid:4326,wkt:ts(K6[4326].wkTemplate,{Central_Meridian:"0.0"})},kse={wkid:102100,latestWkid:3857},_se={wkid:32662};var xo;let ft=xo=class extends J{constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}static fromJSON(e){if(!e)return null;if(e.wkid){if(e.wkid===102100)return xo.WebMercator;if(e.wkid===4326)return xo.WGS84}const t=new xo;return t.read(e),t}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return Ng(this)}get isWebMercator(){return Fd(this)}get isGeographic(){return Y6(this)}get isWrappable(){return wse(this)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===xo.WGS84)return xo.WGS84;if(this===xo.WebMercator)return xo.WebMercator;const e=new xo;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):this.wkt!=null&&(e.wkt=this.wkt),this.imageCoordinateSystem&&(e.imageCoordinateSystem=z(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:i}=e.imageCoordinateSystem,{geodataXform:n}=e.imageCoordinateSystem,r=this.imageCoordinateSystem;return t==null||n?JSON.stringify(r)===JSON.stringify(e.imageCoordinateSystem):i?r.id===t&&r.referenceServiceName===i:r.id===t}return ir(this,e)}toJSON(e){return this.write(void 0,e)}};ft.GCS_NAD_1927=null,ft.WGS84=null,ft.WebMercator=null,ft.PlateCarree=null,c([d({readOnly:!0})],ft.prototype,"isWGS84",null),c([d({readOnly:!0})],ft.prototype,"isWebMercator",null),c([d({readOnly:!0})],ft.prototype,"isGeographic",null),c([d({readOnly:!0})],ft.prototype,"isWrappable",null),c([d({type:$t,json:{write:!0}})],ft.prototype,"latestWkid",void 0),c([d({type:$t,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt===null}}}}}}})],ft.prototype,"wkid",void 0),c([d({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid===null}}}}}}})],ft.prototype,"wkt",void 0),c([ue("wkt"),ue("web-scene","wkt")],ft.prototype,"writeWkt",null),c([d({type:$t,json:{write:!0}})],ft.prototype,"vcsWkid",void 0),c([d({type:$t,json:{write:!0}})],ft.prototype,"latestVcsWkid",void 0),c([d()],ft.prototype,"imageCoordinateSystem",void 0),ft=xo=c([D("esri.geometry.SpatialReference")],ft),ft.prototype.toJSON.isDefaultToJSON=!0,ft.GCS_NAD_1927=new ft({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),ft.WGS84=new ft(xse),ft.WebMercator=new ft(kse),ft.PlateCarree=new ft(_se),Object.freeze&&(Object.freeze(ft.GCS_NAD_1927),Object.freeze(ft.WGS84),Object.freeze(ft.WebMercator));const He=ft,Z6="20220330",X6="c6040e027595ee92afd67ccc7c3952c1c711f402",Q6="4.23",Sse={async request(e,t){var i;const{default:n}=await Promise.resolve().then(function(){return zse}),r=e.options,a=r.responseType;r.signal=t==null?void 0:t.signal,r.responseType=a==="native"||a==="native-request-init"?"native-request-init":["blob","json","text"].includes(a)&&(i=q6(e.url))!=null&&i.after?a:"array-buffer";const o=await n(e.url,r),s={data:o.data,ssl:o.ssl};switch(o.requestOptions.responseType){case"native-request-init":return delete s.data.signal,s;case"blob":s.data=await s.data.arrayBuffer();break;case"json":s.data=new TextEncoder().encode(JSON.stringify(s.data)).buffer;break;case"text":s.data=new TextEncoder().encode(s.data).buffer}return{result:s,transferList:[s.data]}}};let oi;function IEe(e){oi=e}function Dse(e){const t=oi&&oi.findCredential(e);return t&&t.token?J6(e,"token",t.token):e}q("host-webworker")||(q("edge")||q("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser");const $se=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function ez(e){const t=Lm(e,!0);return t&&t.endsWith(".arcgis.com")&&!$se.includes(t)&&!e.endsWith("/sharing/rest/generateToken")}function Cse(e,t,i=!1,n){return new Promise((r,a)=>{if(is(n))return void a(yO());let o=()=>{u(),a(new Error(`Unable to load ${t}`))},s=()=>{const h=e;u(),r(h)},l=()=>{if(!e)return;const h=e;u(),h.src="",a(yO())};const u=()=>{q("esri-image-decode")||(e.removeEventListener("error",o),e.removeEventListener("load",s)),o=null,s=null,e=null,T(n)&&n.removeEventListener("abort",l),l=null,i&&URL.revokeObjectURL(t)};T(n)&&n.addEventListener("abort",l),q("esri-image-decode")?e.decode().then(s,o):(e.addEventListener("error",o),e.addEventListener("load",s))})}function yO(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}async function Lt(e,t){var i;const n=Qd(e),r=dk(e);r||n||(e=eo(e));const a={url:e,requestOptions:$({},t)};let o=q6(e);if(o){const h=await Lse(o,a);if(h!=null)return{data:h,getHeader:fI,requestOptions:a.requestOptions,url:a.url};o.after||o.error||(o=null)}if(e=a.url,(t=a.requestOptions).responseType==="image"){if(q("host-webworker")||q("host-node"))throw Za("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),a)}else if(n)throw Za("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+t.responseType),a);if(t.method==="head"){if(t.body)throw Za("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),a);if(n||r)throw Za("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),a)}if(await Ase(),Vw)return Vw.execute(e,t);const s=new AbortController;ro(t,()=>s.abort());const l={controller:s,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:o,params:a,redoRequest:!1,useIdentity:Gs.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},u=await Fse(l);return(i=o)==null||i.after==null||i.after(u),u}let Vw;const Gs=vt.request,tz="FormData"in globalThis,Ise=[499,498,403,401],Ese=["COM_0056","COM_0057","SB_0008"],Tse=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],fI=()=>null,b5=Symbol();function Mse(e){const t=Lm(e);t&&!Lt._corsServers.includes(t)&&Lt._corsServers.push(t)}function bO(e){const t=Lm(e);return!t||t.endsWith(".arcgis.com")||Lt._corsServers.includes(t)||cI(t)}function Za(e,t,i,n){let r="Error";const a={url:i.url,requestOptions:i.requestOptions,getHeader:fI,ssl:!1};if(t instanceof L)return t.details?(t.details=z(t.details),t.details.url=i.url,t.details.requestOptions=i.requestOptions):t.details=a,t;if(t){const o=n&&(u=>n.headers.get(u)),s=n&&n.status,l=t.message;l&&(r=l),o&&(a.getHeader=o),a.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||s||0,a.subCode=t.subcode,a.messageCode=t.messageCode,typeof t.details=="string"?a.messages=[t.details]:a.messages=t.details,a.raw=b5 in t?t[b5]:t}return ma(t)?hi():new L(e,r,a)}async function Ase(){q("host-webworker")?Vw||(Vw=await import("./request.35d2032d.js")):Lt._abortableFetch||(Lt._abortableFetch=globalThis.fetch.bind(globalThis))}async function v5(){oi||await import("./IdentityManager.7b320c7c.js")}async function Ose(e){const t=e.params.url,i=e.params.requestOptions,n=e.controller.signal,r=i.body;let a=null,o=null,s=null;if(tz&&"HTMLFormElement"in globalThis&&(r instanceof FormData?a=r:r instanceof HTMLFormElement&&(o=r,a=new FormData(o))),typeof r=="string"&&(s=r),e.fetchOptions={cache:i.cacheBust&&!Lt._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:i.headers||{},method:i.method==="head"?"HEAD":"GET",mode:"cors",redirect:"follow",signal:n},(a||s)&&(e.fetchOptions.body=a||s),i.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||i.query&&i.query.token||a&&a.get&&a.get("token")||o&&o.elements.token),!e.hasToken&&vt.apiKey&&ez(t)&&(i.query||(i.query={}),i.query.token=vt.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!iz(t)&&!is(n)){let l;i.authMode==="immediate"?(await v5(),l=await oi.getCredential(t,{signal:n}),e.credential=l):i.authMode==="no-prompt"?(await v5(),l=await oi.getCredential(t,{prompt:!1,signal:n}).catch(()=>{}),e.credential=l):oi&&(l=oi.findCredential(t)),l&&(e.credentialToken=l.token,e.useSSL=!!l.ssl)}}function iz(e){return Tse.some(t=>t.test(e))}async function Pse(e){let t=e.params.url;const i=e.params.requestOptions,n=e.fetchOptions,r=dk(t)||Qd(t),a=i.responseType||"json",o=r?0:i.timeout!=null?i.timeout:Gs.timeout;let s=!1;if(!r){e.useSSL&&(t=hI(t)),i.cacheBust&&n.cache==="default"&&(t=J6(t,"request.preventCache",Date.now()));let f=$({},i.query);e.credentialToken&&(f.token=e.credentialToken);let g=Fg(f);q("esri-url-encodes-apostrophe")&&(g=g.replace(/'/g,"%27"));const b=t.length+1+g.length;let v;s=i.method==="delete"||i.method==="post"||i.method==="put"||!!i.body||b>Gs.maxUrlLength;const w=i.useProxy||!!uk(t);if(w){const x=Zoe(t);v=x.path,!s&&v.length+1+b>Gs.maxUrlLength&&(s=!0),x.query&&(f=$($({},x.query),f))}if(n.method==="HEAD"&&(s||w)){if(s)throw b>Gs.maxUrlLength?Za("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):Za("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(w)throw Za("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(s?(n.method=i.method==="delete"?"DELETE":i.method==="put"?"PUT":"POST",i.body?t=fO(t,f):(n.body=Fg(f),n.headers["Content-Type"]="application/x-www-form-urlencoded")):t=fO(t,f),w&&(e.useProxy=!0,t=`${v}?${t}`),f.token&&tz&&n.body instanceof FormData){const x=n.body;x.set?x.set("token",f.token):x.append("token",f.token)}if(i.hasOwnProperty("withCredentials"))e.withCredentials=i.withCredentials;else if(!zw(t,z6())){if(cI(t))e.withCredentials=!0;else if(oi){const x=oi.findServerInfo(t);x&&x.webTierAuth&&(e.withCredentials=!0)}}e.withCredentials&&(n.credentials="include")}let l,u,h=0,m=!1;o>0&&(h=setTimeout(()=>{m=!0,e.controller.abort()},o));try{if(i.responseType==="native-request-init")u=n,u.url=t;else if(i.responseType!=="image"||n.cache!=="default"||n.method!=="GET"||s||Rse(i.headers)||!r&&!e.useProxy&&Gs.proxyUrl&&!bO(t)){if(l=await Lt._abortableFetch(t,n),e.useProxy||Mse(t),i.responseType==="native")u=l;else if(n.method!=="HEAD")if(l.ok){switch(a){case"array-buffer":u=await l.arrayBuffer();break;case"blob":case"image":u=await l.blob();break;default:u=await l.text()}if(h&&(clearTimeout(h),h=0),a==="json"||a==="xml"||a==="document")if(u)switch(a){case"json":u=JSON.parse(u);break;case"xml":u=vO(u,"application/xml");break;case"document":u=vO(u,"text/html")}else u=null;if(u){if(a==="array-buffer"||a==="blob"){const f=l.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(f)&&u[a==="blob"?"size":"byteLength"]<=750)try{const g=await new Response(u).json();g.error&&(u=g)}catch{}}a==="image"&&u instanceof Blob&&(u=await wO(URL.createObjectURL(u),e,!0))}}else u=await l.text()}else u=await wO(t,e)}catch(f){if(f.name==="AbortError")throw m?new Error("Timeout exceeded"):hi("Request canceled");if(!(!l&&f instanceof TypeError&&Gs.proxyUrl)||i.body||i.method==="delete"||i.method==="head"||i.method==="post"||i.method==="put"||e.useProxy||bO(t))throw f;e.redoRequest=!0,Qoe({proxyUrl:Gs.proxyUrl,urlPrefix:Lm(t)})}finally{h&&clearTimeout(h)}return[l,u]}async function Lse(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers=$($({},t.requestOptions.headers),e.headers)),e.query&&(t.requestOptions.query=$($({},t.requestOptions.query),e.query)),e.before){let i,n;try{n=await e.before(t)}catch(r){i=Za("request:interceptor",r,t)}if((n instanceof Error||n instanceof L)&&(i=Za("request:interceptor",n,t)),i)throw e.error&&e.error(i),i;return n}}function Rse(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function vO(e,t){let i;try{i=new DOMParser().parseFromString(e,t)}catch{}if(!i||i.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return i}async function Fse(e){var t,i;let n,r;await Ose(e);try{do[n,r]=await Pse(e);while(!await Nse(e,n,r))}catch(s){const l=Za("request:server",s,e.params,n);throw l.details.ssl=e.useSSL,e.interceptor&&e.interceptor.error&&e.interceptor.error(l),l}const a=e.params.url;if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(a)&&!e.hasToken&&!e.credentialToken&&(t=r)!=null&&(i=t.user)!=null&&i.username&&!cI(a)){const s=Lm(a,!0);s&&Gs.trustedServers.push(s)}const o=e.credential;if(o&&oi){const s=oi.findServerInfo(o.server);let l=s&&s.owningSystemUrl;if(l){l=l.replace(/\/?$/,"/sharing");const u=oi.findCredential(l,o.userId);u&&oi._getIdenticalSvcIdx(l,u)===-1&&u.resources.unshift(l)}}return{data:r,getHeader:n?s=>n.headers.get(s):fI,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function Nse(e,t,i){if(e.redoRequest)return e.redoRequest=!1,!1;const n=e.params.requestOptions;if(!t||n.responseType==="native"||n.responseType==="native-request-init")return!0;let r,a,o,s;if(!t.ok)throw r=new Error(`Unable to load ${t.url} status: ${t.status}`),r[b5]=i,r;i!=null&&i.error&&(r=i.error),r&&(a=Number(r.code),o=r.hasOwnProperty("subcode")?Number(r.subcode):null,s=r.messageCode,s=s&&s.toUpperCase());const l=n.authMode;if(a===403&&(o===4||r.message&&r.message.toLowerCase().indexOf("ssl")>-1&&r.message.toLowerCase().indexOf("permission")===-1)){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(l!=="no-prompt"||a===498)&&Ise.indexOf(a)!==-1&&!iz(e.params.url)&&(a!==403||Ese.indexOf(s)===-1&&(o==null||o===2&&e.credentialToken))){await v5();try{const u=await oi.getCredential(e.params.url,{error:Za("request:server",r,e.params),prompt:l!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=u,e.credentialToken=u.token,e.useSSL=e.useSSL||u.ssl,!1}catch(u){if(l==="no-prompt")return e.credential=null,e.credentialToken=null,!1;r=u}}if(r)throw r;return!0}function wO(e,t,i=!1){const n=t.controller.signal,r=new Image;return t.withCredentials?r.crossOrigin="use-credentials":r.crossOrigin="anonymous",r.alt="",r.src=e,Cse(r,e,i,n)}Lt._abortableFetch=null,Lt._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];var zse=Object.freeze(Object.defineProperty({__proto__:null,default:Lt},Symbol.toStringTag,{value:"Module"}));function ae(e,t,i){let n,r;return t===void 0||Array.isArray(t)?(r=e,i=t,n=[void 0]):(r=t,n=Array.isArray(e)?e:[e]),(a,o)=>{const s=a.constructor.prototype;n.forEach(l=>{const u=v6(a,l,r);u.read&&typeof u.read=="object"||(u.read={}),u.read.reader=s[o],i&&(u.read.source=(u.read.source||[]).concat(i))})}}let ko=class extends J{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=He.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,t){if(e instanceof He)return e;if(e!=null){const i=new He;return i.read(e,t),i}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,t){this.cache[e]=t}};c([d()],ko.prototype,"type",void 0),c([d({readOnly:!0})],ko.prototype,"cache",null),c([d({readOnly:!0})],ko.prototype,"extent",null),c([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ko.prototype,"hasM",void 0),c([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ko.prototype,"hasZ",void 0),c([d({type:He,json:{write:!0}})],ko.prototype,"spatialReference",void 0),c([ae("spatialReference")],ko.prototype,"readSpatialReference",null),ko=c([D("esri.geometry.Geometry")],ko);const Qn=ko,jse=Object.prototype.toString;function Vse(e){const t="__accessorMetadata__"in e?mi(e):e;return function(...i){if(i.push(t),typeof i[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return Hse.apply(this,i)}}function Hse(e,t,i,n){Qx(e,t).cast=n}function qse(e){return function(t,i){Qx(t,e).cast=t[i]}}function nt(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&jse.call(e[0])==="[object Function]"?Vse(e[0]):e.length===1&&typeof e[0]=="string"?qse(e[0]):void 0}function Bse(e,t,i,n){var r;return e.x=e.x+t,e.y=e.y+i,n!=null&&(e.z=((r=e.z)!=null?r:0)+n),e}function Use(e,t){const i=e.x-t.x,n=e.y-t.y,r=e.hasZ&&t.hasZ?e.z-t.z:0;return Math.sqrt(i*i+n*n+r*r)}class gI{constructor(t,i,n,r){this.semiMajorAxis=t,this.flattening=i,this.outerAtmosphereRimWidth=n;const a=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*a,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=r||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const Et=new gI(6378137,1/298.257223563,3e5,.006694379990137799),rl=new gI(3396190,1/169.8944472236118,23e4),Rc=new gI(1737400,0,0),Gse=57.29577951308232,Wse=.017453292519943;function xO(e){return e*Gse}function kO(e){return e*Wse}function EEe(e){return Math.PI/2-2*Math.atan(Math.exp(-e/Et.radius))}function w5(e){return e.wkid!=null||e.wkt!=null}const i2=[0,0];function Hw(e,t,i,n,r){const a=e,o=r;if(o.spatialReference=i,"x"in a&&"x"in o)[o.x,o.y]=t(a.x,a.y,i2,n);else if("xmin"in a&&"xmin"in o)[o.xmin,o.ymin]=t(a.xmin,a.ymin,i2,n),[o.xmax,o.ymax]=t(a.xmax,a.ymax,i2,n);else if("paths"in a&&"paths"in o||"rings"in a&&"rings"in o){const s="paths"in a?a.paths:a.rings,l=[];let u;for(let h=0;h<s.length;h++){const m=s[h];u=[],l.push(u);for(let f=0;f<m.length;f++)u.push(t(m[f][0],m[f][1],[0,0],n)),m[f].length>2&&u[f].push(m[f][2]),m[f].length>3&&u[f].push(m[f][3])}"paths"in o?o.paths=l:o.rings=l}else if("points"in a&&"points"in o){const s=a.points,l=[];for(let u=0;u<s.length;u++)l[u]=t(s[u][0],s[u][1],[0,0],n),s[u].length>2&&l[u].push(s[u][2]),s[u].length>3&&l[u].push(s[u][3]);o.points=l}return r}function Kv(e,t){const i=e&&(w5(e)?e:e.spatialReference),n=t&&(w5(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!i||!n)&&(!!ir(n,i)||Fd(n)&&Ng(i)||Fd(i)&&Ng(n))}function mk(e,t){if(V(e))return null;const i=e.spatialReference,n=t&&(w5(t)?t:t.spatialReference);return Kv(i,n)?ir(i,n)?z(e):Fd(n)?Hw(e,xp,He.WebMercator,!1,z(e)):Ng(n)?Hw(e,ag,He.WGS84,!1,z(e)):null:null}function xp(e,t,i=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const n=kO(t);return i[0]=kO(e)*Et.radius,i[1]=Et.halfSemiMajorAxis*Math.log((1+Math.sin(n))/(1-Math.sin(n))),i}function ag(e,t,i=[0,0],n=!1){const r=xO(e/Et.radius);return i[0]=n?r:r-360*Math.floor((r+180)/360),i[1]=xO(Math.PI/2-2*Math.atan(Math.exp(-t/Et.radius))),i}function Tc(e,t=!1,i=z(e)){return Hw(e,xp,He.WebMercator,t,i)}function Zf(e,t=!1,i=z(e)){return Hw(e,ag,He.WGS84,t,i)}var Yv;const _f=[0,0];function _O(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}const jb=Q.getLogger("esri.geometry.Point");let vn=Yv=class extends Qn{constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const i=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(i)?i:i.clone())}normalizeCtorArgs(e,t,i,n,r){let a;if(Array.isArray(e))a=e,r=t,e=a[0],t=a[1],i=a[2],n=a[3];else if(e&&typeof e=="object"){if(a=e,e=a.x!=null?a.x:a.longitude,t=a.y!=null?a.y:a.latitude,i=a.z,n=a.m,(r=a.spatialReference)&&r.declaredClass!=="esri.geometry.SpatialReference"&&(r=new He(r)),a.longitude!=null||a.latitude!=null){if(a.longitude==null)jb.warn(".longitude=","Latitude was defined without longitude");else if(a.latitude==null)jb.warn(".latitude=","Longitude was defined without latitude");else if(!a.declaredClass&&r&&r.isWebMercator){const s=xp(a.longitude,a.latitude,_f);e=s[0],t=s[1]}}}else _O(i)?(r=i,i=null):_O(n)&&(r=n,n=null);const o={x:e,y:t};return o.x==null&&o.y!=null?jb.warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&jb.warn(".x=","X coordinate was defined without a Y coordinate"),r!=null&&(o.spatialReference=r),i!=null&&(o.z=i),n!=null&&(o.m=n),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){const{spatialReference:e,x:t,y:i}=this;if(e){if(e.isWebMercator)return ag(t,i,_f)[1];if(e.isGeographic)return i}return null}set latitude(e){const{spatialReference:t,x:i}=this;t&&(t.isWebMercator?this._set("y",xp(i,e,_f)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){const{x:e,y:t,spatialReference:i}=this;if(i){if(i.isWebMercator)return ag(e,t,_f)[0];if(i.isGeographic)return e}return null}set longitude(e){const{y:t,spatialReference:i}=this;i&&(i.isWebMercator?this._set("x",xp(e,t,_f)[0]):i.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,i){t[i]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new Yv;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return Yv.copy(e,this),this}equals(e){if(V(e))return!1;const{x:t,y:i,z:n,m:r,spatialReference:a}=this,{z:o,m:s}=e;let{x:l,y:u,spatialReference:h}=e;if(!a.equals(h))if(a.isWebMercator&&h.isWGS84)[l,u]=xp(l,u),h=a;else{if(!a.isWGS84||!h.isWebMercator)return!1;[l,u]=ag(l,u),h=a}return t===l&&i===u&&n===o&&r===s&&a.wkid===h.wkid}offset(e,t,i){return Bse(this,e,t,i)}normalize(){if(!this.spatialReference)return this;const e=to(this.spatialReference);if(!e)return this;let t=this.x;const[i,n]=e.valid,r=2*n;let a;return t>n?(a=Math.ceil(Math.abs(t-n)/r),t-=a*r):t<i&&(a=Math.ceil(Math.abs(t-i)/r),t+=a*r),this._set("x",t),this}distance(e){return Use(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};c([d({readOnly:!0})],vn.prototype,"cache",null),c([d({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],vn.prototype,"hasM",null),c([d({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],vn.prototype,"hasZ",null),c([d({type:Number})],vn.prototype,"latitude",null),c([d({type:Number})],vn.prototype,"longitude",null),c([d({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),nt(e=>isNaN(e)?e:ia(e))],vn.prototype,"x",void 0),c([ue("x")],vn.prototype,"writeX",null),c([ae("x")],vn.prototype,"readX",null),c([d({type:Number,json:{write:!0}})],vn.prototype,"y",void 0),c([d({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],vn.prototype,"z",void 0),c([d({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],vn.prototype,"m",void 0),vn=Yv=c([D("esri.geometry.Point")],vn),vn.prototype.toJSON.isDefaultToJSON=!0;const Ie=vn,n2=[0,0];function fk(e,t){return!!T(t)&&_n(e,t.x,t.y,t.z)}function TEe(e,t){if(!t.points||t.points.length)return!1;for(const i of t.points)if(!cm(e,i))return!1;return!0}function Jse(e,t){const{xmin:i,ymin:n,zmin:r,xmax:a,ymax:o,zmax:s}=t;return e.hasZ&&t.hasZ?_n(e,i,n,r)&&_n(e,i,o,r)&&_n(e,a,o,r)&&_n(e,a,n,r)&&_n(e,i,n,s)&&_n(e,i,o,s)&&_n(e,a,o,s)&&_n(e,a,n,s):_n(e,i,n)&&_n(e,i,o)&&_n(e,a,o)&&_n(e,a,n)}function cm(e,t){return _n(e,t[0],t[1])}function Kse(e,t){return _n(e,t[0],t[1],t[2])}function _n(e,t,i,n){return t>=e.xmin&&t<=e.xmax&&i>=e.ymin&&i<=e.ymax&&(n==null||!e.hasZ||n>=e.zmin&&n<=e.zmax)}function nz(e,t){return n2[1]=t.y,n2[0]=t.x,rz(e,n2)}function rz(e,t){return Yse(e.rings,t)}function Yse(e,t){if(!e)return!1;if(Zse(e))return SO(!1,e,t);let i=!1;for(let n=0,r=e.length;n<r;n++)i=SO(i,e[n],t);return i}function Zse(e){return!Array.isArray(e[0][0])}function SO(e,t,i){const[n,r]=i;let a=e,o=0;for(let s=0,l=t.length;s<l;s++){o++,o===l&&(o=0);const[u,h]=t[s],[m,f]=t[o];(h<r&&f>=r||f<r&&h>=r)&&u+(r-h)/(f-h)*(m-u)<n&&(a=!a)}return a}function Xse(e,t){return fk(e,t)}function Qse(e,t){const i=e.hasZ&&t.hasZ;let n,r,a;if(e.xmin<=t.xmin){if(n=t.xmin,e.xmax<n)return!1}else if(n=e.xmin,t.xmax<n)return!1;if(e.ymin<=t.ymin){if(r=t.ymin,e.ymax<r)return!1}else if(r=e.ymin,t.ymax<r)return!1;if(i&&t.hasZ){if(e.zmin<=t.zmin){if(a=t.zmin,e.zmax<a)return!1}else if(a=e.zmin,t.zmax<a)return!1}return!0}function ele(e,t){const{points:i,hasZ:n}=t,r=n?Kse:cm;for(const a of i)if(r(e,a))return!0;return!1}const Nd=[0,0],zd=[0,0],jd=[0,0],Vd=[0,0],tle=[Nd,zd,jd,Vd],az=[[jd,Nd],[Nd,zd],[zd,Vd],[Vd,jd]];function ile(e,t){Nd[0]=e.xmin,Nd[1]=e.ymax,zd[0]=e.xmax,zd[1]=e.ymax,jd[0]=e.xmin,jd[1]=e.ymin,Vd[0]=e.xmax,Vd[1]=e.ymin;for(const i of tle)if(rz(t,i))return!0;for(const i of t.rings){if(!i.length)continue;let n=i[0];if(cm(e,n))return!0;for(let r=1;r<i.length;r++){const a=i[r];if(cm(e,a)||oz(n,a,az))return!0;n=a}}return!1}function nle(e,t){Nd[0]=e.xmin,Nd[1]=e.ymax,zd[0]=e.xmax,zd[1]=e.ymax,jd[0]=e.xmin,jd[1]=e.ymin,Vd[0]=e.xmax,Vd[1]=e.ymin;const i=t.paths;for(const n of i){if(!i.length)continue;let r=n[0];if(cm(e,r))return!0;for(let a=1;a<n.length;a++){const o=n[a];if(cm(e,o)||oz(r,o,az))return!0;r=o}}return!1}const Vi=[0,0];function rle(e){for(let t=0;t<e.length;t++){const i=e[t];for(let r=0;r<i.length-1;r++){const a=i[r],o=i[r+1];for(let s=t+1;s<e.length;s++)for(let l=0;l<e[s].length-1;l++){const u=e[s][l],h=e[s][l+1];if(x5(a,o,u,h,Vi)&&!(Vi[0]===a[0]&&Vi[1]===a[1]||Vi[0]===u[0]&&Vi[1]===u[1]||Vi[0]===o[0]&&Vi[1]===o[1]||Vi[0]===h[0]&&Vi[1]===h[1]))return!0}}const n=i.length;if(!(n<=4))for(let r=0;r<n-3;r++){let a=n-1;r===0&&(a=n-2);const o=i[r],s=i[r+1];for(let l=r+2;l<a;l++){const u=i[l],h=i[l+1];if(x5(o,s,u,h,Vi)&&!(Vi[0]===o[0]&&Vi[1]===o[1]||Vi[0]===u[0]&&Vi[1]===u[1]||Vi[0]===s[0]&&Vi[1]===s[1]||Vi[0]===h[0]&&Vi[1]===h[1]))return!0}}}return!1}function oz(e,t,i){for(let n=0;n<i.length;n++)if(x5(e,t,i[n][0],i[n][1]))return!0;return!1}function x5(e,t,i,n,r){const[a,o]=e,[s,l]=t,[u,h]=i,[m,f]=n,g=m-u,b=a-u,v=s-a,w=f-h,x=o-h,S=l-o,E=w*v-g*S;if(E===0)return!1;const C=(g*x-w*b)/E,_=(v*x-S*b)/E;return C>=0&&C<=1&&_>=0&&_<=1&&(r&&(r[0]=a+C*(s-a),r[1]=o+C*(l-o)),!0)}function ale(e){switch(e){case"esriGeometryEnvelope":case"extent":return Qse;case"esriGeometryMultipoint":case"multipoint":return ele;case"esriGeometryPoint":case"point":return Xse;case"esriGeometryPolygon":case"polygon":return ile;case"esriGeometryPolyline":case"polyline":return nle}}var qr;function ole(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function Sl(e,t,i){return t==null?i:i==null?t:e(t,i)}let Ci=qr=class extends Qn{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,i,n,r){return ole(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?He.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:i,ymax:n,spatialReference:r==null?He.WGS84:r}}static fromBounds(e,t){return new qr({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new qr({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new Ie({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new qr;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&Kv(t,i)&&(e=t.isWebMercator?Tc(e):Zf(e,!0)),e.type==="point"?fk(this,e):e.type==="extent"&&Jse(this,e)}equals(e){if(this===e)return!0;if(V(e))return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&Kv(t,i)&&(e=t.isWebMercator?Tc(e):Zf(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),i=this.width*t,n=this.height*t;if(this.xmin+=i,this.ymin+=n,this.xmax-=i,this.ymax-=n,this.hasZ){const r=(this.zmax-this.zmin)*t;this.zmin+=r,this.zmax-=r}if(this.hasM){const r=(this.mmax-this.mmin)*t;this.mmin+=r,this.mmax-=r}return this}intersects(e){if(V(e))return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&Kv(t,i)&&(e=t.isWebMercator?Tc(e):Zf(e,!0)),ale(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,i){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,i!=null&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Sl(Math.min,this.zmin,e.zmin),this.zmax=Sl(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Sl(Math.min,this.mmin,e.mmin),this.mmax=Sl(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:V(e)||!this.intersects(e)?null:(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Sl(Math.max,this.zmin,e.zmin),this.zmax=Sl(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Sl(Math.max,this.mmin,e.mmin),this.mmax=Sl(Math.min,this.mmax,e.mmax)),this)}toJSON(e){return this.write({},e)}_shiftCM(e=to(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,i=this._getCM(e);if(i){const n=t.isWebMercator?Zf(i):i;this.xmin-=i.x,this.xmax-=i.x,t.isWebMercator||(n.x=this._normalizeX(n.x,e).x),this.spatialReference=new He(ts(t.isWGS84?e.altTemplate:e.wkTemplate,{Central_Meridian:n.x}))}return this}_getCM(e){let t=null;const[i,n]=e.valid,r=this.xmin,a=this.xmax;return r>=i&&r<=n&&a>=i&&a<=n||(t=this.center),t}_normalize(e,t,i){const n=this.spatialReference;if(!n)return this;if(!(i=i||to(n)))return this;const r=this._getParts(i).map(s=>s.extent);if(r.length<2)return r[0]||this;if(r.length>2)return e?this._shiftCM(i):this.set({xmin:i.valid[0],xmax:i.valid[1]});if(e)return this._shiftCM(i);if(t)return r;let a=!0,o=!0;return r.forEach(s=>{s.hasZ||(a=!1),s.hasM||(o=!1)}),{rings:r.map(s=>{const l=[[s.xmin,s.ymin],[s.xmin,s.ymax],[s.xmax,s.ymax],[s.xmax,s.ymin],[s.xmin,s.ymin]];if(a){const u=(s.zmax-s.zmin)/2;for(let h=0;h<l.length;h++)l[h].push(u)}if(o){const u=(s.mmax-s.mmin)/2;for(let h=0;h<l.length;h++)l[h].push(u)}return l}),hasZ:a,hasM:o,spatialReference:n}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:r,ymax:a,spatialReference:o}=this,s=this.width,l=this.xmin,u=this.xmax;let h;e=e||to(o);const[m,f]=e.valid;h=this._normalizeX(this.xmin,e);const g=h.x,b=h.frameId;h=this._normalizeX(this.xmax,e);const v=h.x,w=h.frameId,x=g===v&&s>0;if(s>2*f){const S=new qr(l<u?g:v,r,f,a,o),E=new qr(m,r,l<u?v:g,a,o),C=new qr(0,r,f,a,o),_=new qr(m,r,0,a,o),I=[],O=[];S.contains(C)&&I.push(b),S.contains(_)&&O.push(b),E.contains(C)&&I.push(w),E.contains(_)&&O.push(w);for(let R=b+1;R<w;R++)I.push(R),O.push(R);t.push({extent:S,frameIds:[b]},{extent:E,frameIds:[w]},{extent:C,frameIds:I},{extent:_,frameIds:O})}else g>v||x?t.push({extent:new qr(g,r,f,a,o),frameIds:[b]},{extent:new qr(m,r,v,a,o),frameIds:[w]}):t.push({extent:new qr(g,r,v,a,o),frameIds:[b]});this.cache._parts=t}const i=this.hasZ,n=this.hasM;if(i||n){const r={};i&&(r.zmin=this.zmin,r.zmax=this.zmax),n&&(r.mmin=this.mmin,r.mmax=this.mmax);for(let a=0;a<t.length;a++)t[a].extent.set(r)}return t}_normalizeX(e,t){const[i,n]=t.valid,r=2*n;let a,o=0;return e>n?(a=Math.ceil(Math.abs(e-n)/r),e-=a*r,o=a):e<i&&(a=Math.ceil(Math.abs(e-i)/r),e+=a*r,o=-a),{x:e,frameId:o}}};c([d({readOnly:!0})],Ci.prototype,"cache",null),c([d({readOnly:!0})],Ci.prototype,"center",null),c([d({readOnly:!0})],Ci.prototype,"extent",null),c([d({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Ci.prototype,"hasM",null),c([d({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Ci.prototype,"hasZ",null),c([d({readOnly:!0})],Ci.prototype,"height",null),c([d({readOnly:!0})],Ci.prototype,"width",null),c([d({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Ci.prototype,"xmin",void 0),c([d({type:Number,json:{write:!0}})],Ci.prototype,"ymin",void 0),c([d({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ci.prototype,"mmin",void 0),c([d({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ci.prototype,"zmin",void 0),c([d({type:Number,json:{write:!0}})],Ci.prototype,"xmax",void 0),c([d({type:Number,json:{write:!0}})],Ci.prototype,"ymax",void 0),c([d({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ci.prototype,"mmax",void 0),c([d({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ci.prototype,"zmax",void 0),Ci=qr=c([D("esri.geometry.Extent")],Ci),Ci.prototype.toJSON.isDefaultToJSON=!0;const pt=Ci;var DO,$O,CO;let sle,og;const IO=(DO=($O=globalThis.esriConfig)==null?void 0:$O.locale)!=null?DO:(CO=globalThis.dojoConfig)==null?void 0:CO.locale;function sz(){var e,t;return(e=IO!=null?IO:(t=globalThis.navigator)==null?void 0:t.language)!=null?e:"en"}function Dr(){return og===void 0&&(og=sz()),og}const sg=[];function lle(e){return sg.push(e),{remove(){sg.splice(sg.indexOf(e),1)}}}const k5=[];function yI(e){return k5.push(e),{remove(){sg.splice(k5.indexOf(e),1)}}}function cle(){var e;const t=(e=sle)!=null?e:sz();og!==t&&(og=t,[...k5].forEach(i=>{i.call(null,t)}),[...sg].forEach(i=>{i.call(null,t)}))}globalThis.addEventListener==null||globalThis.addEventListener("languagechange",cle);class Ze{constructor(t,i={ignoreUnknown:!1,useNumericKeys:!1}){this.jsonToAPI=t,this.options=i,this.apiValues=[],this.jsonValues=[],this.apiToJSON=this._invertMap(t),this.apiValues=this._getKeysSorted(this.apiToJSON),this.jsonValues=this._getKeysSorted(this.jsonToAPI),this.read=n=>this.fromJSON(n),this.write=(n,r,a)=>{const o=this.toJSON(n);o!==void 0&&Ir(a,o,r)},this.write.isJSONMapWriter=!0}toJSON(t){if(this.apiToJSON.hasOwnProperty(t)){const i=this.apiToJSON[t];return this.options.useNumericKeys?+i:i}return this.options.ignoreUnknown?void 0:t}fromJSON(t){return this.jsonToAPI.hasOwnProperty(t)?this.jsonToAPI[t]:this.options.ignoreUnknown?void 0:t}_invertMap(t){const i={};for(const n in t)i[t[n]]=n;return i}_getKeysSorted(t){const i=[];for(const n in t)i.push(n);return i.sort(),i}}function an(){return function(e,t){return new Ze(e,$({ignoreUnknown:!0},t))}}var _5;const ule=new Ze({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Br=_5=class extends ge{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new _5({categories:this.categories?z(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let i,n;if(this.categories&&(i=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o)),this.extent){const o=mk(this.extent,He.WGS84);T(o)&&(n=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let r=this.query;!this.disableExtraQuery&&e.extraQuery&&(r="("+r+")"+e.extraQuery);const a={categories:i,bbox:n,q:r,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(a.sortField=this.sortField.split(",").map(o=>ule.toJSON(o.trim())).join(","),a.sortOrder=this.sortOrder),{query:$($({},t),a)}}};c([d()],Br.prototype,"categories",void 0),c([d()],Br.prototype,"disableExtraQuery",void 0),c([d({type:pt})],Br.prototype,"extent",void 0),c([d()],Br.prototype,"filter",void 0),c([d()],Br.prototype,"num",void 0),c([d()],Br.prototype,"query",void 0),c([d()],Br.prototype,"sortField",void 0),c([d()],Br.prototype,"sortOrder",null),c([d()],Br.prototype,"start",void 0),Br=_5=c([D("esri.portal.PortalQueryParams")],Br);const Qs=Br;let yu=class extends ge{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};c([d()],yu.prototype,"nextQueryParams",void 0),c([d()],yu.prototype,"queryParams",void 0),c([d()],yu.prototype,"results",void 0),c([d()],yu.prototype,"total",void 0),yu=c([D("esri.portal.PortalQueryResult")],yu);const dle=yu;let Ss=class extends J{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new L("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};c([d({type:Date})],Ss.prototype,"created",void 0),c([d()],Ss.prototype,"id",void 0),c([d()],Ss.prototype,"portal",void 0),c([d()],Ss.prototype,"title",void 0),c([d({readOnly:!0})],Ss.prototype,"url",null),c([d()],Ss.prototype,"username",void 0),Ss=c([D("esri.portal.PortalFolder")],Ss);const hle=Ss;let Ii=class extends J{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.get("portal.restUrl");return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal._request(this.url+"/categorySchema",e).then(t=>{const i=t.categorySchema||[];return i.some(n=>n.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):i})}fetchMembers(e){return this.portal._request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new L("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(e,t){let i=mi(Qs,e);return parseFloat(this.portal.currentVersion)>5?(i=i||new Qs,this.portal._queryPortal(`/content/groups/${this.id}/search`,i,"PortalItem",t)):(i=i?i.clone():new Qs,i.query="group:"+this.id+(i.query?" "+i.query:""),this.portal.queryItems(i,t))}_fetchCategorySchemaSet(e,t){return this.portal._fetchSelf(this.portal.authMode,!0,t).then(i=>{const n=i.contentCategorySetsGroupQuery;if(n){const r=new Qs;return r.disableExtraQuery=!0,r.num=1,r.query=n,this.portal.queryGroups(r,t)}throw new L("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(i=>{if(i.total){const n=i.results[0],r=new Qs;return r.num=1,r.query=`typekeywords:"${e}"`,n.queryItems(r,t)}throw new L("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(i=>i.total?i.results[0].fetchData("json",t).then(n=>{const r=n&&n.categorySchema;return r&&r.length?r:[]}):[])}};c([d()],Ii.prototype,"access",void 0),c([d({type:Date})],Ii.prototype,"created",void 0),c([d()],Ii.prototype,"description",void 0),c([d()],Ii.prototype,"id",void 0),c([d()],Ii.prototype,"isInvitationOnly",void 0),c([d({type:Date})],Ii.prototype,"modified",void 0),c([d()],Ii.prototype,"owner",void 0),c([d()],Ii.prototype,"portal",void 0),c([d()],Ii.prototype,"snippet",void 0),c([d()],Ii.prototype,"sortField",void 0),c([d()],Ii.prototype,"sortOrder",void 0),c([d()],Ii.prototype,"tags",void 0),c([d()],Ii.prototype,"thumbnail",void 0),c([d({readOnly:!0})],Ii.prototype,"thumbnailUrl",null),c([d()],Ii.prototype,"title",void 0),c([d({readOnly:!0})],Ii.prototype,"url",null),Ii=c([D("esri.portal.PortalGroup")],Ii);const S5=Ii;var ple=Object.freeze(Object.defineProperty({__proto__:null,default:S5},Symbol.toStringTag,{value:"Module"})),D5;let Ct=D5=class extends J{constructor(...e){super(...e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.get("portal.restUrl");return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,i=e&&e.data,n=e&&e.folder,r={method:"post"};t&&(r.query=t.createPostQuery(),i!=null&&(typeof i=="string"?r.query.text=i:typeof i=="object"&&(r.query.text=JSON.stringify(i))));let a=this.userContentUrl;return n&&(a+="/"+(typeof n=="string"?n:n.id)),this.portal._request(a+"/addItem",r).then(o=>(t.id=o.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}deleteItem(e){let t=this.userContentUrl;return e.ownerFolder&&(t+="/"+e.ownerFolder),this.portal._request(t+`/items/${e.id}/delete`,{method:"post"}).then(()=>{e.id=null,e.portal=null})}deleteItems(e){const t=this.userContentUrl+"/deleteItems",i=e.map(n=>n.id);if(i.length){const n={method:"post",query:{items:i.join(",")}};return this.portal._request(t,n).then(()=>{e.forEach(r=>{r.id=null,r.portal=null})})}return Promise.resolve(void 0)}fetchFolders(){const e={query:{num:1}};return this.portal._request(this.userContentUrl,e).then(t=>{let i;return i=t&&t.folders?t.folders.map(n=>{const r=hle.fromJSON(n);return r.portal=this.portal,r}):[],i})}fetchGroups(){return this.portal._request(this.url).then(e=>{let t;return t=e&&e.groups?e.groups.map(i=>{const n=S5.fromJSON(i);return n.portal=this.portal,n}):[],t})}fetchItems(e){e||(e={});let t,i=this.userContentUrl;return e.folder&&(i+="/"+e.folder.id),Promise.resolve().then(function(){return lz}).then(({default:n})=>{t=n;const r={folders:!1,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"};return this.portal._request(i,{query:r})}).then(n=>{let r;return n&&n.items?(r=n.items.map(a=>{const o=t.fromJSON(a);return o.portal=this.portal,o}),Promise.all(r.map(a=>a.load())).catch(a=>a).then(()=>({items:r,nextStart:n.nextStart,total:n.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal._request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new S5({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new L("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new L("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new D5;return t.sourceJSON=e,t.read(e),t}};c([d()],Ct.prototype,"access",void 0),c([d({type:Date})],Ct.prototype,"created",void 0),c([d()],Ct.prototype,"culture",void 0),c([d()],Ct.prototype,"description",void 0),c([d()],Ct.prototype,"email",void 0),c([d()],Ct.prototype,"favGroupId",void 0),c([d()],Ct.prototype,"fullName",void 0),c([d({type:Date})],Ct.prototype,"modified",void 0),c([d()],Ct.prototype,"orgId",void 0),c([d()],Ct.prototype,"portal",void 0),c([d()],Ct.prototype,"preferredView",void 0),c([d()],Ct.prototype,"privileges",void 0),c([d()],Ct.prototype,"region",void 0),c([d()],Ct.prototype,"role",void 0),c([d()],Ct.prototype,"roleId",void 0),c([d()],Ct.prototype,"sourceJSON",void 0),c([d()],Ct.prototype,"thumbnail",void 0),c([d({readOnly:!0})],Ct.prototype,"thumbnailUrl",null),c([d()],Ct.prototype,"units",void 0),c([d({readOnly:!0})],Ct.prototype,"userContentUrl",null),c([d({readOnly:!0})],Ct.prototype,"url",null),c([d()],Ct.prototype,"username",void 0),c([d()],Ct.prototype,"userType",void 0),Ct=D5=c([D("esri.portal.PortalUser")],Ct);const bI=Ct;var mle=Object.freeze(Object.defineProperty({__proto__:null,default:bI},Symbol.toStringTag,{value:"Module"})),lr;let r2;const EO={PortalGroup:()=>Promise.resolve().then(function(){return ple}),PortalItem:()=>Promise.resolve().then(function(){return lz}),PortalUser:()=>Promise.resolve().then(function(){return mle})};let re=lr=class extends Ay(ul){constructor(e){super(e),this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=vt.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)vt.request.trustedServers.indexOf(t)===-1&&vt.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get stylesGroupQuery(){return Mre(Q.getLogger(this.declaredClass),"stylesGroupQuery",{replacement:"stylesGroupQuery3d",version:"4.21"}),this.stylesGroupQuery3d}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=bI.fromJSON(e),t.portal=this),t}load(e){const t=Promise.resolve().then(function(){return Mle}).then(({default:i})=>{pi(e),r2=i}).then(()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,e)).then(i=>{if(oi){const n=oi;this.credential=n.findCredential(this.restUrl),this.credential||this.authMode!==lr.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=n.on("credential-create",()=>{n.findCredential(this.restUrl)&&this._signIn()}))}this.sourceJSON=i,this.read(i)});return this.addResolvingPromise(t),Promise.resolve(this)}async createClosestFacilityTask(){Fh(Q.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/closestFacility",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("closestFacility");return new(await import("./ClosestFacilityTask.6ab7c4c7.js")).default(e)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await import("./ElevationLayer.c7d09282.js")).default;return e?e.map(i=>new t({id:i.id,url:i.url})):[]}async createGeometryService(){Fh(Q.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/geometryService",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("geometry");return new(await import("./GeometryService.10eafcd6.js")).default({url:e})}async createPrintTask(){Fh(Q.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/print",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("printTask");return new(await import("./PrintTask.233d82b0.js")).default(e)}async createRouteTask(){Fh(Q.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/route",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("route");return new(await import("./RouteTask.5c9a4af6.js")).default(e)}async createServiceAreaTask(){Fh(Q.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/serviceArea",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("serviceArea");return new(await import("./ServiceAreaTask.f9e3713d.js")).default(e)}fetchBasemaps(e,t){const i=new Qs;return i.query=e||(vt.apiKey&&ez(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),i.disableExtraQuery=!0,this.queryGroups(i,t).then(n=>{if(i.num=100,i.query='type:"Web Map" -type:"Web Application"',n.total){const r=n.results[0];return i.sortField=r.sortField||"name",i.sortOrder=r.sortOrder||"desc",r.queryItems(i,t)}return null}).then(n=>{let r;return r=n&&n.total?n.results.filter(a=>a.type==="Web Map").map(a=>new r2({portalItem:a})):[],r})}fetchCategorySchema(e){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):is(e)?Promise.reject(hi()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,i=new Qs;if(i.num=100,i.sortField="title",t&&t.length){const n=[];for(const r of t)n.push(`(title:"${r.title}" AND owner:${r.owner})`);return i.query=n.join(" OR "),this.queryGroups(i,e).then(r=>r.results)}return is(e)?Promise.reject(hi()):Promise.resolve([])}fetchRegions(e){var t;const i=((t=this.user)==null?void 0:t.culture)||this.culture||Dr();return this._request(this.restUrl+"/portals/regions",le($({},e),{query:{culture:i}}))}fetchSettings(e){var t;const i=((t=this.user)==null?void 0:t.culture)||this.culture||Dr();return this._request(this.restUrl+"/portals/self/settings",le($({},e),{query:{culture:i}}))}static getDefault(){return lr._default&&!lr._default.destroyed||(lr._default=new lr),lr._default}queryGroups(e,t){return this._queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this._queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this._queryPortal("/community/users",e,"PortalUser",t)}toJSON(){throw new L("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new lr({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new L("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}_getHelperServiceUrl(e){const t=this._getHelperService(e);if(!t.url)throw new L("portal:service-url-not-found",`The \`helperServices\` entry "${e}" does not include a \`url\` value`);return t.url}_fetchSelf(e=this.authMode,t=!1,i){const n=this.restUrl+"/portals/self",r=$({authMode:e,query:{culture:Dr().toLowerCase()}},i);return r.authMode==="auto"&&(r.authMode="no-prompt"),t&&(r.query.default=!0),this._request(n,r)}_queryPortal(e,t,i,n){const r=mi(Qs,t),a=o=>this._request(this.restUrl+e,$($({},r.toRequestOptions(this)),n)).then(s=>{const l=r.clone();return l.start=s.nextStart,new dle({nextQueryParams:l,queryParams:r,total:s.total,results:lr._resultsToTypedArray(o,{portal:this},s,n)})}).then(s=>Promise.all(s.results.map(l=>typeof l.when=="function"?l.when():s)).then(()=>s,l=>(Ey(l),s)));return i&&EO[i]?EO[i]().then(({default:o})=>(pi(n),a(o))):a()}_signIn(){if(this.authMode===lr.AUTH_MODE_ANONYMOUS)return Promise.reject(new L("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this._fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this._fetchSelf("immediate"))).then(i=>{i&&(this.sourceJSON=i,this.read(i))});return oi?oi.getCredential(this.restUrl).then(t=>e(t)):e(this.credential)}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_normalizeUrl(e){const t=this.credential&&this.credential.token;return this._normalizeSSL(t?e+(e.indexOf("?")>-1?"&":"?")+"token="+t:e)}_requestToTypedArray(e,t,i){return this._request(e,t).then(n=>{const r=lr._resultsToTypedArray(i,{portal:this},n);return Promise.all(r.map(a=>typeof a.when=="function"?a.when():n)).then(()=>r,()=>r)})}_readBasemap(e){if(e){const t=r2.fromJSON(e);return t.portalItem={portal:this},t}return null}_request(e,t={}){const i=$({f:"json"},t.query),{authMode:n=this.authMode===lr.AUTH_MODE_ANONYMOUS?"anonymous":"auto",body:r=null,cacheBust:a=!1,method:o="auto",responseType:s="json",signal:l}=t,u={authMode:n,body:r,cacheBust:a,method:o,query:i,responseType:s,timeout:0,signal:l};return Lt(this._normalizeSSL(e),u).then(h=>h.data)}static _resultsToTypedArray(e,t,i,n){let r;if(i){const a=T(n)?n.signal:null;r=i.listings||i.notifications||i.userInvitations||i.tags||i.items||i.groups||i.comments||i.provisions||i.results||i.relatedItems||i,(e||t)&&(r=r.map(o=>{const s=Object.assign(e?e.fromJSON(o):o,t);return typeof s.load=="function"&&s.load(a),s}))}else r=[];return r}};re.AUTH_MODE_ANONYMOUS="anonymous",re.AUTH_MODE_AUTO="auto",re.AUTH_MODE_IMMEDIATE="immediate",c([d()],re.prototype,"access",void 0),c([d()],re.prototype,"allSSL",void 0),c([d()],re.prototype,"authMode",void 0),c([d()],re.prototype,"authorizedCrossOriginDomains",void 0),c([ae("authorizedCrossOriginDomains")],re.prototype,"readAuthorizedCrossOriginDomains",null),c([d()],re.prototype,"basemapGalleryGroupQuery",void 0),c([d()],re.prototype,"bingKey",void 0),c([d()],re.prototype,"canListApps",void 0),c([d()],re.prototype,"canListData",void 0),c([d()],re.prototype,"canListPreProvisionedItems",void 0),c([d()],re.prototype,"canProvisionDirectPurchase",void 0),c([d()],re.prototype,"canSearchPublic",void 0),c([d()],re.prototype,"canShareBingPublic",void 0),c([d()],re.prototype,"canSharePublic",void 0),c([d()],re.prototype,"canSignInArcGIS",void 0),c([d()],re.prototype,"canSignInIDP",void 0),c([d()],re.prototype,"colorSetsGroupQuery",void 0),c([d()],re.prototype,"commentsEnabled",void 0),c([d({type:Date})],re.prototype,"created",void 0),c([d()],re.prototype,"credential",void 0),c([d()],re.prototype,"culture",void 0),c([d()],re.prototype,"currentVersion",void 0),c([d()],re.prototype,"customBaseUrl",void 0),c([d()],re.prototype,"defaultBasemap",void 0),c([ae("defaultBasemap")],re.prototype,"readDefaultBasemap",null),c([d()],re.prototype,"defaultDevBasemap",void 0),c([ae("defaultDevBasemap")],re.prototype,"readDefaultDevBasemap",null),c([d({type:pt})],re.prototype,"defaultExtent",void 0),c([d()],re.prototype,"defaultVectorBasemap",void 0),c([ae("defaultVectorBasemap")],re.prototype,"readDefaultVectorBasemap",null),c([d()],re.prototype,"description",void 0),c([d()],re.prototype,"devBasemapGalleryGroupQuery",void 0),c([d()],re.prototype,"eueiEnabled",void 0),c([d({readOnly:!0})],re.prototype,"extraQuery",null),c([d()],re.prototype,"featuredGroups",void 0),c([d()],re.prototype,"featuredItemsGroupQuery",void 0),c([d()],re.prototype,"galleryTemplatesGroupQuery",void 0),c([d()],re.prototype,"livingAtlasGroupQuery",void 0),c([d()],re.prototype,"hasCategorySchema",void 0),c([d()],re.prototype,"helpBase",void 0),c([d()],re.prototype,"helperServices",void 0),c([d()],re.prototype,"helpMap",void 0),c([d()],re.prototype,"homePageFeaturedContent",void 0),c([d()],re.prototype,"homePageFeaturedContentCount",void 0),c([d()],re.prototype,"httpPort",void 0),c([d()],re.prototype,"httpsPort",void 0),c([d()],re.prototype,"id",void 0),c([d()],re.prototype,"ipCntryCode",void 0),c([d({readOnly:!0})],re.prototype,"isOrganization",null),c([d()],re.prototype,"isPortal",void 0),c([d()],re.prototype,"isReadOnly",void 0),c([d()],re.prototype,"layerTemplatesGroupQuery",void 0),c([d()],re.prototype,"maxTokenExpirationMinutes",void 0),c([d({type:Date})],re.prototype,"modified",void 0),c([d()],re.prototype,"name",void 0),c([d()],re.prototype,"portalHostname",void 0),c([d()],re.prototype,"portalMode",void 0),c([d()],re.prototype,"portalProperties",void 0),c([d()],re.prototype,"region",void 0),c([d({readOnly:!0})],re.prototype,"restUrl",null),c([d()],re.prototype,"rotatorPanels",void 0),c([d()],re.prototype,"showHomePageDescription",void 0),c([d()],re.prototype,"sourceJSON",void 0),c([d()],re.prototype,"staticImagesUrl",void 0),c([d({readOnly:!0,json:{read:!1}})],re.prototype,"stylesGroupQuery",null),c([d({json:{name:"2DStylesGroupQuery"}})],re.prototype,"stylesGroupQuery2d",void 0),c([d({json:{name:"stylesGroupQuery"}})],re.prototype,"stylesGroupQuery3d",void 0),c([d()],re.prototype,"supportsHostedServices",void 0),c([d()],re.prototype,"symbolSetsGroupQuery",void 0),c([d()],re.prototype,"templatesGroupQuery",void 0),c([d()],re.prototype,"thumbnail",void 0),c([d({readOnly:!0})],re.prototype,"thumbnailUrl",null),c([d()],re.prototype,"units",void 0),c([d()],re.prototype,"url",void 0),c([d()],re.prototype,"urlKey",void 0),c([ae("urlKey")],re.prototype,"readUrlKey",null),c([d()],re.prototype,"user",void 0),c([ae("user")],re.prototype,"readUser",null),c([d()],re.prototype,"useStandardizedQuery",void 0),c([d()],re.prototype,"useVectorBasemaps",void 0),c([d()],re.prototype,"vectorBasemapGalleryGroupQuery",void 0),re=lr=c([D("esri.portal.Portal")],re);const Er=re,fle=Q.getLogger("esri.assets");function st(e){if(!vt.assetsPath)throw fle.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new L("assets:path-not-set","config.assetsPath is not set");return Lc(vt.assetsPath,e)}const gle=Q.getLogger("esri.portal.PortalItemResource");let Ll=class extends ge{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e&&e.portalItem&&e.path?le($({},e),{path:this._normalizePath(e.path,e.portalItem)}):e}set path(e){T(e)&&Sr(e)?gle.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return this._normalizePath(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",t){const i=this.url;if(V(i))throw new L("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(i,{responseType:e,query:{token:this.portalItem.apiKey},signal:TN(t,"signal")})}async update(e,t){return(await import("./resourceUtils.f4d04995.js")).addOrUpdateResource(this,"update",e,t)}hasPath(){return T(this.path)}_normalizePath(e,t){return V(e)?e:(e=e.replace(/^\/+/,""),T(t)&&Sr(e)&&(e=uI(e,t.itemUrl)),e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};c([d()],Ll.prototype,"portalItem",void 0),c([d({type:String,value:null})],Ll.prototype,"path",null),c([nt("path")],Ll.prototype,"_castPath",null),c([d({type:String,readOnly:!0})],Ll.prototype,"url",null),c([d({type:String,readOnly:!0})],Ll.prototype,"itemRelativeUrl",null),Ll=c([D("esri.portal.PortalItemResource")],Ll);const yle=Ll;let Xf=class extends ge{constructor(e){super(e),this.created=null,this.rating=null}};c([d()],Xf.prototype,"created",void 0),c([d()],Xf.prototype,"rating",void 0),Xf=c([D("esri.portal.PortalRating")],Xf);const a2=Xf;var Nh;let qe=Nh=class extends Ay(ul){constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}static from(e){return tI(Nh,e)}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let i=e;return e==="Feature Service"||e==="Feature Collection"?i=t.indexOf("Table")>-1?"Table":t.indexOf("Route Layer")>-1?"Route Layer":t.indexOf("Markup")>-1?"Markup":"Feature Layer":e==="Image Service"?i=t.indexOf("Elevation 3D Layer")>-1?"Elevation Layer":t.indexOf("Tiled Imagery")>-1?"Tiled Imagery Layer":"Imagery Layer":e==="Scene Service"?i="Scene Layer":e==="Media Service"?i="Media Layer":e==="Scene Package"?i="Scene Layer Package":e==="Stream Service"?i="Feature Layer":e==="Geoprocessing Service"&&this.portal&&this.portal.isPortal?i=t.indexOf("Web Tool")>-1?"Tool":"Geoprocessing Service":e==="Geocoding Service"?i="Locator":e==="Geoenrichment Service"?i="GeoEnrichment Service":e==="Microsoft Powerpoint"?i="Microsoft PowerPoint":e==="GeoJson"?i="GeoJSON":e==="Globe Service"?i="Globe Layer":e==="Vector Tile Service"?i="Tile Layer":e==="netCDF"?i="NetCDF":e==="Map Service"?i=t.indexOf("Spatiotemporal")===-1&&(t.indexOf("Hosted Service")>-1||t.indexOf("Tiled")>-1)&&t.indexOf("Relational")===-1?"Tile Layer":"Map Image Layer":e&&e.toLowerCase().indexOf("add in")>-1?i=e.replace(/(add in)/gi,"Add-In"):e==="datastore catalog service"?i="Big Data File Share":e==="Compact Tile Package"?i="Tile Package (tpkx)":e==="OGCFeatureServer"?i="OGC Feature Layer":e==="web mapping application"&&t.indexOf("configurableApp")>-1&&(i="Instant App"),i}readExtent(e){return e&&e.length?new pt(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type&&this.type.toLowerCase()||"",t=this.typeKeywords||[],i="esri/images/portal/",n="16";let r,a=!1,o=!1,s=!1,l=!1,u=!1,h=!1;return e.indexOf("service")>0||e==="feature collection"||e==="kml"||e==="wms"||e==="wmts"||e==="wfs"?(a=t.indexOf("Hosted Service")>-1,e==="feature service"||e==="feature collection"||e==="kml"||e==="wfs"?(o=t.indexOf("Table")>-1,s=t.indexOf("Route Layer")>-1,l=t.indexOf("Markup")>-1,u=t.indexOf("Spatiotemporal")!==-1,h=t.indexOf("UtilityNetwork")!==-1,r=u&&o?"spatiotemporaltable":o?"table":s?"routelayer":l?"markup":u?"spatiotemporal":a?"featureshosted":h?"utilitynetwork":"features"):r=e==="map service"||e==="wms"||e==="wmts"?a||t.indexOf("Tiled")>-1||e==="wmts"?"maptiles":"mapimages":e==="scene service"?t.indexOf("Line")>-1?"sceneweblayerline":t.indexOf("3DObject")>-1?"sceneweblayermultipatch":t.indexOf("Point")>-1?"sceneweblayerpoint":t.indexOf("IntegratedMesh")>-1?"sceneweblayermesh":t.indexOf("PointCloud")>-1?"sceneweblayerpointcloud":t.indexOf("Polygon")>-1?"sceneweblayerpolygon":t.indexOf("Building")>-1?"sceneweblayerbuilding":t.indexOf("Voxel")>-1?"sceneweblayervoxel":"sceneweblayer":e==="image service"?t.indexOf("Elevation 3D Layer")>-1?"elevationlayer":t.indexOf("Tiled Imagery")>-1?"tiledimagerylayer":"imagery":e==="stream service"?"streamlayer":e==="media service"?"mediaservice":e==="vector tile service"?"vectortile":e==="datastore catalog service"?"datastorecollection":e==="geocoding service"?"geocodeservice":e==="geoprocessing service"&&t.indexOf("Web Tool")>-1&&this.portal&&this.portal.isPortal?"tool":"layers"):r=e==="web map"||e==="cityengine web scene"?"maps":e==="web scene"?t.indexOf("ViewingMode-Local")>-1?"webscenelocal":"websceneglobal":e==="web mapping application"&&t.indexOf("configurableApp")>-1?"instantapps":e==="web mapping application"||e==="mobile application"||e==="application"||e==="operation view"||e==="desktop application"?"apps":e==="map document"||e==="map package"||e==="published map"||e==="scene document"||e==="globe document"||e==="basemap package"||e==="mobile basemap package"||e==="mobile map package"||e==="project package"||e==="project template"||e==="pro map"||e==="layout"||e==="layer"&&t.indexOf("ArcGIS Pro")>-1||e==="explorer map"&&t.indexOf("Explorer Document")?"mapsgray":e==="service definition"||e==="csv"||e==="shapefile"||e==="cad drawing"||e==="geojson"||e==="360 vr experience"||e==="netcdf"||e==="administrative report"?"datafiles":e==="explorer add in"||e==="desktop add in"||e==="windows viewer add in"||e==="windows viewer configuration"?"appsgray":e==="arcgis pro add in"||e==="arcgis pro configuration"?"addindesktop":e==="rule package"||e==="file geodatabase"||e==="sqlite geodatabase"||e==="csv collection"||e==="kml collection"||e==="windows mobile package"||e==="map template"||e==="desktop application template"||e==="gml"||e==="arcpad package"||e==="code sample"||e==="form"||e==="document link"||e==="earth configuration"||e==="operations dashboard add in"||e==="rules package"||e==="image"||e==="workflow manager package"||e==="explorer map"&&t.indexOf("Explorer Mapping Application")>-1||t.indexOf("Document")>-1?"datafilesgray":e==="network analysis service"||e==="geoprocessing service"||e==="geodata service"||e==="geometry service"||e==="geoprocessing package"||e==="locator package"||e==="geoprocessing sample"||e==="workflow manager service"?"toolsgray":e==="layer"||e==="layer package"||e==="explorer layer"?"layersgray":e==="scene package"?"scenepackage":e==="mobile scene package"?"mobilescenepackage":e==="tile package"||e==="compact tile package"?"tilepackage":e==="task file"?"taskfile":e==="report template"?"report-template":e==="statistical data collection"?"statisticaldatacollection":e==="insights workbook"?"workbook":e==="insights model"?"insightsmodel":e==="insights page"?"insightspage":e==="insights theme"?"insightstheme":e==="hub initiative"?"hubinitiative":e==="hubpage"?"hubpage":e==="hub event"?"hubevent":e==="hub site application"?"hubsite":e==="hub project"?"hubproject":e==="relational database connection"?"relationaldatabaseconnection":e==="big data file share"?"datastorecollection":e==="image collection"?"imagecollection":e==="style"?"style":e==="desktop style"?"desktopstyle":e==="dashboard"?"dashboard":e==="raster function template"?"rasterprocessingtemplate":e==="vector tile package"?"vectortilepackage":e==="ortho mapping project"?"orthomappingproject":e==="ortho mapping template"?"orthomappingtemplate":e==="solution"?"solutions":e==="geopackage"?"geopackage":e==="deep learning package"?"deeplearningpackage":e==="real time analytic"?"realtimeanalytics":e==="big data analytic"?"bigdataanalytics":e==="feed"?"feed":e==="excalibur imagery project"?"excaliburimageryproject":e==="notebook"?"notebook":e==="storymap"?"storymap":e==="survey123 add in"?"survey123addin":e==="mission"?"mission":e==="mission report"?"missionreport":e==="quickcapture project"?"quickcaptureproject":e==="pro report"?"proreport":e==="urban model"?"urbanmodel":e==="web experience"?"experiencebuilder":e==="web experience template"?"webexperiencetemplate":e==="experience builder widget"?"experiencebuilderwidget":e==="experience builder widget package"?"experiencebuilderwidgetpackage":e==="workflow"?"workflow":e==="insights script"?"insightsscript":e==="kernel gateway connection"?"kernelgatewayconnection":e==="hub initiative template"?"hubinitiativetemplate":e==="storymap theme"?"storymaptheme":e==="knowledge graph"?"knowledgegraph":e==="native application"?"nativeapp":e==="native application installer"?"nativeappinstaller":e==="link chart"?"linkchart":e==="investigation"?"investigation":e==="ogcfeatureserver"?"features":e==="pro project"?"proproject":e==="insights workbook package"?"insightsworkbookpackage":e==="apache parquet"?"apacheparquet":"maps",r?st(i+r+n+".png"):null}get isLayer(){return["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","WMTS","WMS"].indexOf(this.type)>-1}get itemUrl(){const e=this.get("portal.restUrl");return e?e+"/content/items/"+this.id:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userItemUrl(){const e=this.get("portal.restUrl");if(!e)return null;const t=this.owner||this.get("portal.user.username");return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){this.portal||(this.portal=Er.getDefault());const t=this.portal.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,{signal:T(e)?e.signal:null,query:{token:this.apiKey}}):{}).then(i=>{this.sourceJSON=i,this.read(i)});return this.addResolvingPromise(t),Promise.resolve(this)}addRating(e){const t={method:"post",query:{}};return e instanceof a2&&(e=e.rating),isNaN(e)||typeof e!="number"||(t.query.rating=e),this.portal._request(this.itemUrl+"/addRating",t).then(()=>new a2({rating:e,created:new Date}))}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:z(this.applicationProxies),avgRating:this.avgRating,categories:z(this.categories),created:z(this.created),culture:this.culture,description:this.description,extent:z(this.extent),groupCategories:z(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:z(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:z(this.screenshots),size:this.size,snippet:this.snippet,tags:z(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:z(this.typeKeywords),url:this.url};return this.loaded&&(e.loadStatus="loaded"),new Nh({sourceJSON:this.sourceJSON}).set(e)}createPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}deleteRating(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then(()=>{})}fetchData(e="json",t){return this.portal._request(this.itemUrl+"/data",le($({responseType:e},t),{query:{token:this.apiKey}}))}fetchRating(e){return this.portal._request(this.itemUrl+"/rating",$({query:{token:this.apiKey}},e)).then(t=>t.rating!=null?(t.created=new Date(t.created),new a2(t)):null)}fetchRelatedItems(e,t){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",$({query:le($({},e),{token:this.apiKey})},t),Nh)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const t=e&&e.data,i={method:"post"};i.query=this.createPostQuery();for(const n in i.query)i.query[n]===null&&(i.query[n]="");return i.query.clearEmptyFields=!0,t!=null&&(typeof t=="string"?i.query.text=t:typeof t=="object"&&(i.query.text=JSON.stringify(t))),this.portal._request(`${this.userItemUrl}/update`,i).then(()=>this.reload())}):Promise.reject(new L("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}updateThumbnail(e){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const t=e.thumbnail,i=e.filename,n={method:"post"};if(typeof t=="string")Qd(t)?n.query={data:t}:n.query={url:Ya(t)},T(i)&&(n.query.filename=i);else{const r=new FormData;T(i)?r.append("file",t,i):r.append("file",t),n.body=r}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,n).then(()=>this.reload())}):Promise.reject(new L("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){return(await import("./resourceUtils.f4d04995.js")).fetchResources(this,e,t)}async addResource(e,t,i){const n=await import("./resourceUtils.f4d04995.js");return e.portalItem=this,n.addOrUpdateResource(e,"add",t,i)}async removeResource(e,t){const i=await import("./resourceUtils.f4d04995.js");if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new L("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return i.removeResource(this,e,t)}async removeAllResources(e){return(await import("./resourceUtils.f4d04995.js")).removeAllResources(this,e)}resourceFromPath(e){return new yle({portalItem:this,path:e})}toJSON(){const e=this.extent,t={created:this.created&&this.created.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return RN(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Nh({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};c([d({type:["private","shared","org","public"]})],qe.prototype,"access",void 0),c([d()],qe.prototype,"accessInformation",void 0),c([d({type:String})],qe.prototype,"apiKey",void 0),c([d({json:{read:{source:"appProxies"}}})],qe.prototype,"applicationProxies",void 0),c([d()],qe.prototype,"avgRating",void 0),c([d()],qe.prototype,"categories",void 0),c([d({type:Date})],qe.prototype,"created",void 0),c([d()],qe.prototype,"culture",void 0),c([d()],qe.prototype,"description",void 0),c([d({readOnly:!0})],qe.prototype,"displayName",null),c([d({type:pt})],qe.prototype,"extent",void 0),c([ae("extent")],qe.prototype,"readExtent",null),c([d()],qe.prototype,"groupCategories",void 0),c([d({readOnly:!0})],qe.prototype,"iconUrl",null),c([d()],qe.prototype,"id",void 0),c([d({readOnly:!0})],qe.prototype,"isLayer",null),c([d()],qe.prototype,"itemControl",void 0),c([d({readOnly:!0})],qe.prototype,"itemUrl",null),c([d()],qe.prototype,"licenseInfo",void 0),c([d({type:Date})],qe.prototype,"modified",void 0),c([d()],qe.prototype,"name",void 0),c([d()],qe.prototype,"numComments",void 0),c([d()],qe.prototype,"numRatings",void 0),c([d()],qe.prototype,"numViews",void 0),c([d()],qe.prototype,"owner",void 0),c([d()],qe.prototype,"ownerFolder",void 0),c([d({type:Er})],qe.prototype,"portal",void 0),c([d()],qe.prototype,"screenshots",void 0),c([d()],qe.prototype,"size",void 0),c([d()],qe.prototype,"snippet",void 0),c([d()],qe.prototype,"sourceJSON",void 0),c([d()],qe.prototype,"tags",void 0),c([d()],qe.prototype,"thumbnail",void 0),c([d({readOnly:!0})],qe.prototype,"thumbnailUrl",null),c([d()],qe.prototype,"title",void 0),c([d()],qe.prototype,"type",void 0),c([d()],qe.prototype,"typeKeywords",void 0),c([d()],qe.prototype,"url",void 0),c([d({readOnly:!0})],qe.prototype,"userItemUrl",null),qe=Nh=c([D("esri.portal.PortalItem")],qe);const qw=qe;var lz=Object.freeze(Object.defineProperty({__proto__:null,default:qw},Symbol.toStringTag,{value:"Module"}));const TO=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,ble={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function MO(e){var t;return(t=ble[e])!=null&&t}const Qf=[],Hp=new Map;function AO(e){for(const t of Hp.keys())uz(e.pattern,t)&&Hp.delete(t)}function vle(e){return Qf.includes(e)||(AO(e),Qf.unshift(e)),{remove(){const t=Qf.indexOf(e);t>-1&&(Qf.splice(t,1),AO(e))}}}async function cz(e){const t=Dr();Hp.has(e)||Hp.set(e,xle(e,t));const i=Hp.get(e);return await kle.add(i),i}function wle(e){if(!TO.test(e))return null;const[,t,i]=TO.exec(e),n=t+(i?"-"+i.toUpperCase():"");return MO(n)?n:MO(t)?t:null}async function xle(e,t){const i=[];for(const n of Qf)if(uz(n.pattern,e))try{return await n.fetchMessageBundle(e,t)}catch(r){i.push(r)}throw i.length?new L("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:i}):new L("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function uz(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}yI(()=>{Hp.clear()});const kle=new class{constructor(){this._numLoading=0}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=cl())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function _le(e){if(!e)return;const t=e.indexOf("-vector")>-1?e.slice(0,e.indexOf("-vector")):e,i=await cz("esri/t9n/basemaps");return i[e]||i[t]}const $5={streets:{id:"streets",classic:!0,deprecated:!0,get thumbnailUrl(){return st("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return st("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return st("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Boundaries and Places",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return st("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",classic:!0,deprecated:!0,get thumbnailUrl(){return st("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",classic:!0,deprecated:!0,get thumbnailUrl(){return st("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",classic:!0,deprecated:!0,get thumbnailUrl(){return st("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return st("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",classic:!0,deprecated:!0,get thumbnailUrl(){return st("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return st("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return st("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return st("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return st("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return st("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return st("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return st("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return st("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return st("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return st("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return st("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return st("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return st("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return st("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return st("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return st("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return st("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return st("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]}},Sle=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),Dle=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","ogc-feature","route","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function $le(e){return e.layerContainerType==="basemap"?Sle:e.layerContainerType==="operational-layers"?Dle:null}function vI(e){return!(e.type!=="feature"||e.url||!e.source||e.source.type!=="memory")}function Cle(e,t){if(t.restrictedWebMapWriting){const i=$le(t);return!T(i)||i.has(e.type)&&!vI(e)}return!0}function Ile(e,t){if(vI(e)){const i=Mm("featureCollection.layers",t),n=i&&i[0]&&i[0].layerDefinition;n&&o2(e,n)}else e.type==="stream"?o2(e,t.layerDefinition=t.layerDefinition||{}):e.type!=="group"&&o2(e,t)}function o2(e,t){"maxScale"in e&&(t.maxScale=Fw(e.maxScale)),"minScale"in e&&(t.minScale=Fw(e.minScale))}function Ele(e,t){if(Ile(e,t),"blendMode"in e&&(t.blendMode=e.blendMode,t.blendMode==="normal"&&delete t.blendMode),t.opacity=Fw(e.opacity),t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&e.type!=="wmts")if(vI(e)){const i=t.featureCollection;i&&(i.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function OO(e,t,i){if(!("write"in e)||!e.write)return i&&i.messages&&i.messages.push(new L("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(Cle(e,i)){const n={};return e.write(n,i)?n:null}return T(t)&&Ele(e,t=z(t)),t}var Zv;let Tle=0;const s2=Q.getLogger("esri.Basemap");let Ur=Zv=class extends Ay(ul){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+Tle++,this.baseLayers=new _e,this.referenceLayers=new _e;const t=n=>{n.parent&&n.parent!==this&&"remove"in n.parent&&n.parent.remove(n),n.parent=this,n.type==="elevation"&&s2.error(`Layer '${n.title}, id:${n.id}' of type '${n.type}' is not supported as a basemap layer and will therefore be ignored.`)},i=n=>{n.parent=null};this.baseLayers.on("after-add",n=>t(n.item)),this.referenceLayers.on("after-add",n=>t(n.item)),this.baseLayers.on("after-remove",n=>i(n.item)),this.referenceLayers.on("after-remove",n=>i(n.item))}initialize(){this.when().catch(e=>{s2.error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var e;const t=this.baseLayers.removeAll();for(const n of t)n.destroy();const i=this.referenceLayers.removeAll();for(const n of i)n.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),(e=this.portalItem)==null||e.destroy(),this.portalItem=null}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e=$({},e)).resourceInfo),e}set baseLayers(e){this._set("baseLayers",Ld(e,this._get("baseLayers")))}_writeBaseLayers(e,t,i){const n=[];e&&(i=le($({},i),{layerContainerType:"basemap"}),this.baseLayers.forEach(r=>{const a=OO(r,i.webmap?i.webmap.getLayerJSONFromResourceInfo(r):null,i);T(a)&&n.push(a)}),this.referenceLayers.forEach(r=>{const a=OO(r,i.webmap?i.webmap.getLayerJSONFromResourceInfo(r):null,i);T(a)&&(a.isReference=!0,n.push(a))})),t.baseMapLayers=n}set referenceLayers(e){this._set("referenceLayers",Ld(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return R6(this,e=>{e(this.baseLayers,this.referenceLayers)})}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};return this.loaded&&(e.loadStatus="loaded"),new Zv({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){return e=e||{},t&&t.origin||(t=$({origin:"web-map"},t)),super.write(e,t),!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(i=>{const n=z(i);return n.url&&rs(n.url)&&(n.url=`https:${n.url}`),n.templateUrl&&rs(n.templateUrl)&&(n.templateUrl=`https:${n.templateUrl}`),n})),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:i}=this;pi(e);const n=[];if(t){const r=t.context?t.context.url:null;if(n.push(this._loadLayersFromJSON(t.data,r,e)),t.data.id&&!t.data.title){const a=t.data.id;n.push(_le(a).then(o=>{o&&this.read({title:o},t.context)}))}}else i&&n.push(this._loadFromItem(i,e));await Promise.all(n)}async _loadLayersFromJSON(e,t,i){const n=this.resourceInfo&&this.resourceInfo.context,r=this.portalItem&&this.portalItem.portal||n&&n.portal||null,a=n&&n.origin==="web-scene"?"web-scene":"web-map",{populateOperationalLayers:o}=await import("./layersCreator.2f425d79.js"),s=[];if(pi(i),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const l={context:{origin:a,url:t,portal:r,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},u=o(this.baseLayers,e.baseMapLayers.filter(m=>!m.isReference),l);s.push(u);const h=o(this.referenceLayers,e.baseMapLayers.filter(m=>m.isReference),l);s.push(h)}await Zn(s)}async _loadFromItem(e,t){const i=await e.load(t),n=await i.fetchData("json",t),r=Gi(e.itemUrl);return this._set("resourceInfo",{data:n.baseMap,context:{origin:"web-map",portal:e.portal||Er.getDefault(),url:r}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:n.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||Er.getDefault(),url:r}),this._loadLayersFromJSON(this.resourceInfo.data,r,t)}static fromId(e){const t=$5[e];if(t){if(t.deprecated){let i=null;e==="dark-gray"?i="dark-gray-vector":e==="gray"?i="gray-vector":e==="streets"?i="streets-vector":e==="topo"&&(i="topo-vector"),Yx(s2,`The ${e} basemap has entered mature support and is no longer being updated.`,{replacement:i,see:"https://arcg.is/1iq8aD",warnOnce:!0})}return Zv.fromJSON(t)}return null}};c([d({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,i,n){this._writeBaseLayers(e,t,n)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:_e}},writer(e,t,i,n){this._writeBaseLayers(e,t,n)}}}}}})],Ur.prototype,"baseLayers",null),c([d({type:String,json:{origins:{"web-scene":{write:!0}}}})],Ur.prototype,"id",void 0),c([d({type:qw})],Ur.prototype,"portalItem",void 0),c([d()],Ur.prototype,"referenceLayers",null),c([d({readOnly:!0})],Ur.prototype,"resourceInfo",void 0),c([d({type:He})],Ur.prototype,"spatialReference",void 0),c([d()],Ur.prototype,"thumbnailUrl",void 0),c([d({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],Ur.prototype,"title",void 0),c([ue("title")],Ur.prototype,"writeTitle",null),Ur=Zv=c([D("esri.Basemap")],Ur);const Bw=Ur;var Mle=Object.freeze(Object.defineProperty({__proto__:null,default:Bw},Symbol.toStringTag,{value:"Module"}));const Uw={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function dz(e){return Uw[e]||Uw[e.toLowerCase()]}function wI(e){var t;return(t=Uw[e])!=null?t:Uw[e.toLowerCase()]}function Ale(e){return[...wI(e)]}function l2(e,t,i){i<0&&++i,i>1&&--i;const n=6*i;return n<1?e+(t-e)*n:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}function hz(e,t,i,n=1){const r=(e%360+360)%360/360,a=i<=.5?i*(t+1):i+t-i*t,o=2*i-a;return[Math.round(255*l2(o,a,r+1/3)),Math.round(255*l2(o,a,r)),Math.round(255*l2(o,a,r-1/3)),n]}function Ole(e){const t=e.length>5,i=t?8:4,n=(1<<i)-1,r=t?1:17,a=t?e.length===9:e.length===5;let o=Number("0x"+e.substr(1));if(isNaN(o))return null;const s=[0,0,0,1];let l;return a&&(l=o&n,o>>=i,s[3]=r*l/255),l=o&n,o>>=i,s[2]=r*l,l=o&n,o>>=i,s[1]=r*l,l=o&n,o>>=i,s[0]=r*l,s}function ss(){return[0,0,0]}function Ple(e){return[e[0],e[1],e[2]]}function Rm(e,t,i){return[e,t,i]}function Lle(e){const t=ss(),i=Math.min(3,e.length);for(let n=0;n<i;++n)t[n]=e[n];return t}function Rle(e,t){return new Float64Array(e,t,3)}function pz(){return ss()}function mz(){return Rm(1,1,1)}function fz(){return Rm(1,0,0)}function gz(){return Rm(0,1,0)}function yz(){return Rm(0,0,1)}const Fle=pz(),bz=mz(),Nle=fz(),zle=gz(),jle=yz();Object.freeze({__proto__:null,create:ss,clone:Ple,fromValues:Rm,fromArray:Lle,createView:Rle,zeros:pz,ones:mz,unitX:fz,unitY:gz,unitZ:yz,ZEROS:Fle,ONES:bz,UNIT_X:Nle,UNIT_Y:zle,UNIT_Z:jle});const Ae=1e-6,xc=Math.random,Vle=Math.PI/180,Hle=180/Math.PI;function xI(e){return e*Vle}function qle(e){return e*Hle}function Ble(e,t){return Math.abs(e-t)<=Ae*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze({__proto__:null,EPSILON:Ae,RANDOM:xc,toRadian:xI,toDegree:qle,equals:Ble});function kI(e){const t=e[0],i=e[1],n=e[2];return Math.sqrt(t*t+i*i+n*n)}function C5(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function vz(e,t,i,n){return e[0]=t,e[1]=i,e[2]=n,e}function Ule(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e}function wz(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e}function xz(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e}function kz(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e}function Gle(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function Wle(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function Jle(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e}function Kle(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e}function Yle(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function _z(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function Zle(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e[2]=t[2]+i[2]*n,e}function Sz(e,t){const i=t[0]-e[0],n=t[1]-e[1],r=t[2]-e[2];return Math.sqrt(i*i+n*n+r*r)}function Dz(e,t){const i=t[0]-e[0],n=t[1]-e[1],r=t[2]-e[2];return i*i+n*n+r*r}function $z(e){const t=e[0],i=e[1],n=e[2];return t*t+i*i+n*n}function Xle(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function Qle(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function I5(e,t){const i=t[0],n=t[1],r=t[2];let a=i*i+n*n+r*r;return a>0&&(a=1/Math.sqrt(a),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a),e}function Cz(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function ece(e,t,i){const n=t[0],r=t[1],a=t[2],o=i[0],s=i[1],l=i[2];return e[0]=r*l-a*s,e[1]=a*o-n*l,e[2]=n*s-r*o,e}function tce(e,t,i,n){const r=t[0],a=t[1],o=t[2];return e[0]=r+n*(i[0]-r),e[1]=a+n*(i[1]-a),e[2]=o+n*(i[2]-o),e}function ice(e,t,i,n,r,a){const o=a*a,s=o*(2*a-3)+1,l=o*(a-2)+a,u=o*(a-1),h=o*(3-2*a);return e[0]=t[0]*s+i[0]*l+n[0]*u+r[0]*h,e[1]=t[1]*s+i[1]*l+n[1]*u+r[1]*h,e[2]=t[2]*s+i[2]*l+n[2]*u+r[2]*h,e}function nce(e,t,i,n,r,a){const o=1-a,s=o*o,l=a*a,u=s*o,h=3*a*s,m=3*l*o,f=l*a;return e[0]=t[0]*u+i[0]*h+n[0]*m+r[0]*f,e[1]=t[1]*u+i[1]*h+n[1]*m+r[1]*f,e[2]=t[2]*u+i[2]*h+n[2]*m+r[2]*f,e}function rce(e,t){t=t||1;const i=2*xc()*Math.PI,n=2*xc()-1,r=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(i)*r,e[1]=Math.sin(i)*r,e[2]=n*t,e}function ace(e,t,i){const n=t[0],r=t[1],a=t[2];return e[0]=i[0]*n+i[4]*r+i[8]*a+i[12],e[1]=i[1]*n+i[5]*r+i[9]*a+i[13],e[2]=i[2]*n+i[6]*r+i[10]*a+i[14],e}function oce(e,t,i){const n=t[0],r=t[1],a=t[2];return e[0]=n*i[0]+r*i[3]+a*i[6],e[1]=n*i[1]+r*i[4]+a*i[7],e[2]=n*i[2]+r*i[5]+a*i[8],e}function sce(e,t,i){const n=i[0],r=i[1],a=i[2],o=i[3],s=t[0],l=t[1],u=t[2];let h=r*u-a*l,m=a*s-n*u,f=n*l-r*s,g=r*f-a*m,b=a*h-n*f,v=n*m-r*h;const w=2*o;return h*=w,m*=w,f*=w,g*=2,b*=2,v*=2,e[0]=s+h+g,e[1]=l+m+b,e[2]=u+f+v,e}function lce(e,t,i,n){const r=[],a=[];return r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],a[0]=r[0],a[1]=r[1]*Math.cos(n)-r[2]*Math.sin(n),a[2]=r[1]*Math.sin(n)+r[2]*Math.cos(n),e[0]=a[0]+i[0],e[1]=a[1]+i[1],e[2]=a[2]+i[2],e}function cce(e,t,i,n){const r=[],a=[];return r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],a[0]=r[2]*Math.sin(n)+r[0]*Math.cos(n),a[1]=r[1],a[2]=r[2]*Math.cos(n)-r[0]*Math.sin(n),e[0]=a[0]+i[0],e[1]=a[1]+i[1],e[2]=a[2]+i[2],e}function uce(e,t,i,n){const r=[],a=[];return r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],a[0]=r[0]*Math.cos(n)-r[1]*Math.sin(n),a[1]=r[0]*Math.sin(n)+r[1]*Math.cos(n),a[2]=r[2],e[0]=a[0]+i[0],e[1]=a[1]+i[1],e[2]=a[2]+i[2],e}function dce(e,t){C5(Vb,e),C5(Hb,t),I5(Vb,Vb),I5(Hb,Hb);const i=Cz(Vb,Hb);return i>1?0:i<-1?Math.PI:Math.acos(i)}const Vb=ss(),Hb=ss();function hce(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function pce(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function mce(e,t){if(e===t)return!0;const i=e[0],n=e[1],r=e[2],a=t[0],o=t[1],s=t[2];return Math.abs(i-a)<=Ae*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(n-o)<=Ae*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=Ae*Math.max(1,Math.abs(r),Math.abs(s))}function fce(e,t,i){const n=i[0]-t[0],r=i[1]-t[1],a=i[2]-t[2];let o=n*n+r*r+a*a;return o>0?(o=1/Math.sqrt(o),e[0]=n*o,e[1]=r*o,e[2]=a*o,e):(e[0]=0,e[1]=0,e[2]=0,e)}const gce=wz,yce=xz,bce=kz,vce=Sz,wce=Dz,xce=kI,kce=$z;Object.freeze({__proto__:null,length:kI,copy:C5,set:vz,add:Ule,subtract:wz,multiply:xz,divide:kz,ceil:Gle,floor:Wle,min:Jle,max:Kle,round:Yle,scale:_z,scaleAndAdd:Zle,distance:Sz,squaredDistance:Dz,squaredLength:$z,negate:Xle,inverse:Qle,normalize:I5,dot:Cz,cross:ece,lerp:tce,hermite:ice,bezier:nce,random:rce,transformMat4:ace,transformMat3:oce,transformQuat:sce,rotateX:lce,rotateY:cce,rotateZ:uce,angle:dce,str:hce,exactEquals:pce,equals:mce,direction:fce,sub:gce,mul:yce,div:bce,dist:vce,sqrDist:wce,len:xce,sqrLen:kce});function _ce(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Sce(e,t,i,n,r){return e[0]=t,e[1]=i,e[2]=n,e[3]=r,e}function Dce(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e}function Iz(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e}function Ez(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e[3]=t[3]*i[3],e}function Tz(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e[3]=t[3]/i[3],e}function $ce(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function Cce(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function Ice(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e[3]=Math.min(t[3],i[3]),e}function Ece(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e[3]=Math.max(t[3],i[3]),e}function Tce(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function Mce(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e}function Ace(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e[2]=t[2]+i[2]*n,e[3]=t[3]+i[3]*n,e}function Mz(e,t){const i=t[0]-e[0],n=t[1]-e[1],r=t[2]-e[2],a=t[3]-e[3];return Math.sqrt(i*i+n*n+r*r+a*a)}function Az(e,t){const i=t[0]-e[0],n=t[1]-e[1],r=t[2]-e[2],a=t[3]-e[3];return i*i+n*n+r*r+a*a}function Oz(e){const t=e[0],i=e[1],n=e[2],r=e[3];return Math.sqrt(t*t+i*i+n*n+r*r)}function Pz(e){const t=e[0],i=e[1],n=e[2],r=e[3];return t*t+i*i+n*n+r*r}function Oce(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function Pce(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function Lce(e,t){const i=t[0],n=t[1],r=t[2],a=t[3];let o=i*i+n*n+r*r+a*a;return o>0&&(o=1/Math.sqrt(o),e[0]=i*o,e[1]=n*o,e[2]=r*o,e[3]=a*o),e}function Rce(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Fce(e,t,i,n){const r=t[0],a=t[1],o=t[2],s=t[3];return e[0]=r+n*(i[0]-r),e[1]=a+n*(i[1]-a),e[2]=o+n*(i[2]-o),e[3]=s+n*(i[3]-s),e}function Nce(e,t){let i,n,r,a,o,s;t=t||1;do i=2*xc()-1,n=2*xc()-1,o=i*i+n*n;while(o>=1);do r=2*xc()-1,a=2*xc()-1,s=r*r+a*a;while(s>=1);const l=Math.sqrt((1-o)/s);return e[0]=t*i,e[1]=t*n,e[2]=t*r*l,e[3]=t*a*l,e}function zce(e,t,i){const n=t[0],r=t[1],a=t[2],o=t[3];return e[0]=i[0]*n+i[4]*r+i[8]*a+i[12]*o,e[1]=i[1]*n+i[5]*r+i[9]*a+i[13]*o,e[2]=i[2]*n+i[6]*r+i[10]*a+i[14]*o,e[3]=i[3]*n+i[7]*r+i[11]*a+i[15]*o,e}function jce(e,t,i){const n=t[0],r=t[1],a=t[2],o=i[0],s=i[1],l=i[2],u=i[3],h=u*n+s*a-l*r,m=u*r+l*n-o*a,f=u*a+o*r-s*n,g=-o*n-s*r-l*a;return e[0]=h*u+g*-o+m*-l-f*-s,e[1]=m*u+g*-s+f*-o-h*-l,e[2]=f*u+g*-l+h*-s-m*-o,e[3]=t[3],e}function Vce(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function Hce(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function qce(e,t){const i=e[0],n=e[1],r=e[2],a=e[3],o=t[0],s=t[1],l=t[2],u=t[3];return Math.abs(i-o)<=Ae*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(n-s)<=Ae*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-l)<=Ae*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(a-u)<=Ae*Math.max(1,Math.abs(a),Math.abs(u))}const Bce=Iz,Uce=Ez,Gce=Tz,Wce=Mz,Jce=Az,Kce=Oz,Yce=Pz;Object.freeze({__proto__:null,copy:_ce,set:Sce,add:Dce,subtract:Iz,multiply:Ez,divide:Tz,ceil:$ce,floor:Cce,min:Ice,max:Ece,round:Tce,scale:Mce,scaleAndAdd:Ace,distance:Mz,squaredDistance:Az,length:Oz,squaredLength:Pz,negate:Oce,inverse:Pce,normalize:Lce,dot:Rce,lerp:Fce,random:Nce,transformMat4:zce,transformQuat:jce,str:Vce,exactEquals:Hce,equals:qce,sub:Bce,mul:Uce,div:Gce,dist:Wce,sqrDist:Jce,len:Kce,sqrLen:Yce});const PO=new Float32Array(1);function MEe(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function ha(e,t,i){return Math.min(Math.max(e,t),i)}function AEe(e){return(e&e-1)==0}function OEe(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function PEe(e,t,i){return e+(t-e)*i}function Zce(e){return e*Math.PI/180}function Lz(e){return 180*e/Math.PI}function LEe(e){return Math.acos(ha(e,-1,1))}function Rz(e){return Math.asin(ha(e,-1,1))}function REe(e){return Fz(Math.max(-LO,Math.min(e,LO)))}function Fz(e){return PO[0]=e,PO[0]}function FEe(e,t){const i=kI(e),n=Rz(e[2]/i),r=Math.atan2(e[1]/i,e[0]/i);return vz(t,i,n,r),t}const LO=Fz(34028234663852886e22);function qb(e){return ha(eI(e),0,255)}function Bb(e,t,i){return e=Number(e),isNaN(e)?i:e<t?t:e>i?i:e}class di{constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}static blendColors(t,i,n,r=new di){return r.r=Math.round(t.r+(i.r-t.r)*n),r.g=Math.round(t.g+(i.g-t.g)*n),r.b=Math.round(t.b+(i.b-t.b)*n),r.a=t.a+(i.a-t.a)*n,r._sanitize()}static fromRgb(t,i){const n=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(n){const r=n[2].split(/\s*,\s*/),a=n[1];if(a==="rgb"&&r.length===3||a==="rgba"&&r.length===4){const o=r[0];if(o.charAt(o.length-1)==="%"){const s=r.map(l=>2.56*parseFloat(l));return r.length===4&&(s[3]=parseFloat(r[3])),di.fromArray(s,i)}return di.fromArray(r.map(s=>parseFloat(s)),i)}if(a==="hsl"&&r.length===3||a==="hsla"&&r.length===4)return di.fromArray(hz(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100,parseFloat(r[3])),i)}return null}static fromHex(t,i=new di){if(t.length!==4&&t.length!==7||t[0]!=="#")return null;const n=t.length===4?4:8,r=(1<<n)-1;let a=Number("0x"+t.substr(1));return isNaN(a)?null:(["b","g","r"].forEach(o=>{const s=a&r;a>>=n,i[o]=n===4?17*s:s}),i.a=1,i)}static fromArray(t,i=new di){return i._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(i.a)&&(i.a=1),i._sanitize()}static fromString(t,i){const n=dz(t)?wI(t):null;return n&&di.fromArray(n,i)||di.fromRgb(t,i)||di.fromHex(t,i)}static fromJSON(t){return t&&new di([t[0],t[1],t[2],t[3]/255])}static toUnitRGB(t){return T(t)?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return T(t)?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){if(typeof t=="string")di.fromString(t,this);else if(Array.isArray(t))di.fromArray(t,this);else{var i,n,r,a;this._set((i=t.r)!=null?i:0,(n=t.g)!=null?n:0,(r=t.b)!=null?r:0,(a=t.a)!=null?a:1),t instanceof di||this._sanitize()}return this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const t=this.r.toString(16),i=this.g.toString(16),n=this.b.toString(16);return`#${t.length<2?"0"+t:t}${i.length<2?"0"+i:i}${n.length<2?"0"+n:n}`}toCss(t=!1){const i=this.r+", "+this.g+", "+this.b;return t?`rgba(${i}, ${this.a})`:`rgb(${i})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=di.AlphaMode.ALWAYS){const i=qb(this.r),n=qb(this.g),r=qb(this.b);return t===di.AlphaMode.ALWAYS||this.a!==1?[i,n,r,qb(255*this.a)]:[i,n,r]}clone(){return new di(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return T(t)&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(Bb(this.r,0,255)),this.g=Math.round(Bb(this.g,0,255)),this.b=Math.round(Bb(this.b,0,255)),this.a=Bb(this.a,0,1),this}_set(t,i,n,r){this.r=t,this.g=i,this.b=n,this.a=r}}di.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(di||(di={}));const Re=di;function NEe(e){}function Xce(e){return()=>e}function Se(e,t={}){var i;const n=e instanceof Ze?e:new Ze(e,t),r={type:(i=t==null?void 0:t.ignoreUnknown)==null||i?n.apiValues:String,json:{type:n.jsonValues,read:(t==null||!t.readOnly)&&{reader:n.read},write:{writer:n.write}}};return(t==null?void 0:t.readOnly)!==void 0&&(r.readOnly=!!t.readOnly),(t==null?void 0:t.default)!==void 0&&(r.json.default=t.default),(t==null?void 0:t.name)!==void 0&&(r.json.name=t.name),d(r)}var E5;let Xv=E5=class extends J{constructor(e){super(e),this.type="none"}clone(){return new E5({type:this.type})}};c([Se({none:"none",stayAbove:"stay-above"})],Xv.prototype,"type",void 0),Xv=E5=c([D("esri.ground.NavigationConstraint")],Xv);function _I(e){const t=eI(100*(1-e));return Math.max(0,Math.min(t,100))}function zg(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}var T5;const RO=Q.getLogger("esri.Ground");let Ds=T5=class extends Ay(ul){constructor(e){super(e),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new _e;const t=n=>{n.parent&&n.parent!==this&&"remove"in n.parent&&n.parent.remove(n),n.parent=this,n.type!=="elevation"&&n.type!=="base-elevation"&&RO.error(`Layer '${n.title}, id:${n.id}' of type '${n.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},i=n=>{n.parent=null};this.layers.on("after-add",n=>t(n.item)),this.layers.on("after-remove",n=>i(n.item))}initialize(){this.when().catch(e=>{RO.error("#load()","Failed to load ground",e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)t.destroy();this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e=$({},e)).resourceInfo),e}set layers(e){this._set("layers",Ld(e,this._get("layers")))}writeLayers(e,t,i,n){const r=[];e&&(n=le($({},n),{layerContainerType:"ground"}),e.forEach(a=>{if("write"in a){const o={};Xce(a)().write(o,n)&&r.push(o)}else n&&n.messages&&n.messages.push(new L("layer:unsupported",`Layers (${a.title}, ${a.id}) of type '${a.declaredClass}' cannot be persisted in the ground`,{layer:a}))})),t.layers=r}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return R6(this,e=>{e(this.layers)})}async queryElevation(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:i}=await import("./ElevationQuery.32999015.js");pi(t);const n=new i,r=this.layers.filter(FO).toArray();return n.queryAll(r,e,t)}async createElevationSampler(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:i}=await import("./ElevationQuery.32999015.js");pi(t);const n=new i,r=this.layers.filter(FO).toArray();return n.createSamplerAll(r,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:z(this.surfaceColor),navigationConstraint:z(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new T5({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve(null)}_loadLayersFromJSON(e,t,i){const n=t&&t.origin||"web-scene",r=t&&t.portal||null,a=t&&t.url||null;return import("./layersCreator.2f425d79.js").then(({populateOperationalLayers:o})=>{pi(i);const s=[];if(e.layers&&Array.isArray(e.layers)){const l={context:{origin:n,url:a,portal:r,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};s.push(o(this.layers,e.layers,l))}return Zn(s)}).then(()=>{})}};function Qce(e){return e&&"createElevationSampler"in e}function FO(e){return e.type==="elevation"||Qce(e)}c([d({json:{read:!1}})],Ds.prototype,"layers",null),c([ue("layers")],Ds.prototype,"writeLayers",null),c([d({readOnly:!0})],Ds.prototype,"resourceInfo",void 0),c([d({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:$t,read:{reader:zg,source:"transparency"},write:{writer:(e,t)=>{t.transparency=_I(e)},target:"transparency"}}})],Ds.prototype,"opacity",void 0),c([d({type:Re,json:{type:[$t],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],Ds.prototype,"surfaceColor",void 0),c([d({type:Xv,json:{write:!0}})],Ds.prototype,"navigationConstraint",void 0),Ds=T5=c([D("esri.Ground")],Ds);const Gw=Ds;let Qv=class extends ge{constructor(e){super(e),this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach(t=>{e+=t.length}),e}add(e,t){if(!this._isHandle(e)&&!Array.isArray(e)&&!_e.isCollection(e))return this;const i=this._getOrCreateGroup(t);return Array.isArray(e)||_e.isCollection(e)?e.forEach(n=>this._isHandle(n)&&i.push(n)):i.push(e),this.notifyChange("size"),this}forEach(e,t){if(typeof e=="function")this._groups.forEach(i=>i.forEach(e));else{const i=this._getGroup(e);i&&t&&i.forEach(t)}}has(e){return this._groups.has(this._ensureGroupKey(e))}remove(e){if(Array.isArray(e)||_e.isCollection(e))return e.forEach(this.remove,this),this;if(!this.has(e))return this;const t=this._getGroup(e);for(let i=0;i<t.length;i++)t[i].remove();return this._deleteGroup(e),this.notifyChange("size"),this}removeAll(){return this._groups.forEach(e=>{for(let t=0;t<e.length;t++)e[t].remove()}),this._groups.clear(),this.notifyChange("size"),this}_isHandle(e){return e&&!!e.remove}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const t=[];return this._groups.set(this._ensureGroupKey(e),t),t}_getGroup(e){return this._groups.get(this._ensureGroupKey(e))}_deleteGroup(e){return this._groups.delete(this._ensureGroupKey(e))}_ensureGroupKey(e){return e||"_default_"}};c([d({readOnly:!0})],Qv.prototype,"size",null),Qv=c([D("esri.core.Handles")],Qv);const On=Qv;function _t(e,t,i={}){return SI(e,t,i,Nz)}function gk(e,t,i={}){return SI(e,t,i,zz)}function SI(e,t,i={},n){let r=null;const a=i.once?(o,s)=>{n(o)&&(Xd(r),t(o,s))}:(o,s)=>{n(o)&&t(o,s)};if(r=Nae(e,a,i.sync,i.equals),i.initial){const o=e();a(o,o)}return r}function M5(e,t,i,n={}){let r=null,a=null,o=null;function s(){r&&a&&(a.remove(),n.onListenerRemove==null||n.onListenerRemove(r),r=null,a=null)}function l(h){n.once&&n.once&&Xd(o),i(h)}const u=_t(e,(h,m)=>{s(),tk(h)&&(r=h,a=ik(h,t,l),n.onListenerAdd==null||n.onListenerAdd(h))},{sync:n.sync,initial:!0});return o=Am(()=>{u.remove(),s()}),o}function DI(e,t){return eue(e,zz,t)}function eue(e,t,i){if(is(i))return Promise.reject(hi());const n=e();if(t!=null&&t(n))return Promise.resolve(n);let r=null;function a(){r=Xd(r)}return new Promise((o,s)=>{r=Xx([ro(i,()=>{a(),s(hi())}),SI(e,l=>{a(),o(l)},{sync:!1,once:!0},t!=null?t:Nz)])})}function Nz(e){return!0}function zz(e){return!!e}const A5={sync:!0},Ko={initial:!0},bu={sync:!0,initial:!0};let qp=class extends ge{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new On,this.scheduleHandleId=0,this.pendingPromises=new Set}destroy(){this.removeAll(),this.handles.destroy()}add(e,t,i={}){return this._installWatch(e,t,i,_t)}addWhen(e,t,i={}){return this._installWatch(e,t,i,gk)}addOnCollectionChange(e,t,{initial:i=!1}={}){const n=++this.handleId;return this.handles.add([M5(e,"after-changes",this._createSyncUpdatingCallback(),A5),M5(e,"change",t,{onListenerAdd:i?r=>t({added:r.toArray(),removed:[]}):void 0})],n),{remove:()=>this.handles.remove(n)}}addPromise(e){if(V(e))return e;const t=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(e)&&(this.pendingPromises.size!==0||this.handles.has(Ub)||this._set("updating",!1))}},t),this.pendingPromises.add(e),this._set("updating",!0);const i=()=>this.handles.remove(t);return e.then(i,i),e}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}_installWatch(e,t,i={},n){const r=++this.handleId;i.sync||this._installSyncUpdatingWatch(e,r);const a=n(e,t,i);return this.handles.add(a,r),{remove:()=>this.handles.remove(r)}}_installSyncUpdatingWatch(e,t){const i=this._createSyncUpdatingCallback(),n=_t(e,i,{sync:!0,equals:()=>!1});return this.handles.add(n,t),n}_createSyncUpdatingCallback(){return()=>{this.handles.remove(Ub),++this.scheduleHandleId;const e=this.scheduleHandleId;this._get("updating")||this._set("updating",!0),this.handles.add(Ty(()=>{e===this.scheduleHandleId&&(this._set("updating",this.pendingPromises.size>0),this.handles.remove(Ub))}),Ub)}}};c([d({readOnly:!0})],qp.prototype,"updating",void 0),qp=c([D("esri.views.support.WatchUpdatingTracking")],qp);const Ub=-42;var NO;(function(e){e[e.NONE=0]="NONE",e[e.SYNC=1]="SYNC",e[e.INIT=2]="INIT"})(NO||(NO={}));const eh=e=>{let t=class extends e{destroy(){var i,n;this.destroyed||((i=this._get("handles"))==null||i.destroy(),(n=this._get("updatingHandles"))==null||n.destroy())}get handles(){return this._get("handles")||new On}get updatingHandles(){return this._get("updatingHandles")||new qp}};return c([d({readOnly:!0})],t.prototype,"handles",null),c([d({readOnly:!0})],t.prototype,"updatingHandles",null),t=c([D("esri.core.HandleOwner")],t),t};let um=class extends eh(ge){};um=c([D("esri.core.HandleOwner")],um);let zh=class extends eh(_e){constructor(e){super(e),this.getCollections=null}initialize(){this.handles.add(d6(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const e=T(this.getCollections)?this.getCollections():null;if(V(e))return void this.removeAll();let t=0;for(const i of e)T(i)&&(t=this._processCollection(t,i));this.splice(t,this.length)}_createNewInstance(e){return new _e(e)}_processCollection(e,t){if(!t)return e;const i=this.itemFilterFunction?this.itemFilterFunction:n=>!!n;for(const n of t)if(n){if(i(n)){const r=this.indexOf(n,e);r>=0?r!==e&&this.reorder(n,e):this.add(n,e),++e}if(this.getChildrenFunction){const r=this.getChildrenFunction(n);if(Array.isArray(r))for(const a of r)e=this._processCollection(e,a);else e=this._processCollection(e,r)}}return e}};c([d()],zh.prototype,"getCollections",void 0),c([d()],zh.prototype,"getChildrenFunction",void 0),c([d()],zh.prototype,"itemFilterFunction",void 0),zh=c([D("esri.core.CollectionFlattener")],zh);const Bp=zh;function tue(e){var t;return!!(e&&e.loaded&&"capabilities"in e&&e!=null&&(t=e.capabilities)!=null&&t.operations&&"supportsEditing"in e.capabilities.operations&&e.capabilities.operations.supportsEditing===!0)&&!("editingEnabled"in e&&!e.editingEnabled)}const zO=Q.getLogger("esri.support.basemapUtils");function iue(){return{}}function nue(e){for(const t in e){const i=e[t];(i==null?void 0:i.destroyed)===!1&&i.destroy(),delete e[t]}}function rue(e,t){var i;let n;if(typeof e=="string"){if(!(e in $5)){const r=Object.entries($5).filter(([a,o])=>vt.apiKey&&!o.classic||!vt.apiKey&&o.classic&&!o.deprecated).map(([a])=>`"${a}"`).join(", ");return zO.warn(`Unable to find basemap definition for: ${e}. Try one of these: ${r}`),null}t&&(n=t[e]),n||(n=Bw.fromId(e),t&&(t[e]=n))}else n=mi(Bw,e);return(i=n)!=null&&i.destroyed&&(zO.warn("The provided basemap is already destroyed",{basemap:n}),n=null),n}const aue=Q.getLogger("esri.support.groundUtils"),jO={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function oue(e){let t=null;if(typeof e=="string")if(e in jO){const i=jO[e];t=new Gw({resourceInfo:{data:{layers:[i]}}})}else aue.warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`);else t=mi(Gw,e);return t}function dm(e,t,i=!1){let{hasM:n,hasZ:r}=e;Array.isArray(t)?t.length!==4||n||r?t.length===3&&i&&!n?(r=!0,n=!1):t.length===3&&n&&r&&(n=!1,r=!1):(n=!0,r=!0):(r=!r&&t.hasZ&&(!n||t.hasM),n=!n&&t.hasM&&(!r||t.hasZ)),e.hasZ=r,e.hasM=n}var O5;function VO(e){return(t,i)=>t==null?i:i==null?t:e(t,i)}function sue(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Rl=O5=class extends Qn{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return null;const i={};Array.isArray(e)?(i.points=e,i.spatialReference=t):sue(e)?i.spatialReference=e:(e.points&&(i.points=e.points),e.spatialReference&&(i.spatialReference=e.spatialReference),e.hasZ&&(i.hasZ=e.hasZ),e.hasM&&(i.hasM=e.hasM));const n=i.points&&i.points[0];return n&&(i.hasZ===void 0&&i.hasM===void 0?(i.hasZ=n.length>2,i.hasM=!1):i.hasZ===void 0?i.hasZ=n.length>3:i.hasM===void 0&&(i.hasM=n.length>3)),i}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new pt,i=this.hasZ,n=this.hasM,r=i?3:2,a=e[0],o=VO(Math.min),s=VO(Math.max);let l,u,h,m,[f,g]=a,[b,v]=a;for(let w=0,x=e.length;w<x;w++){const S=e[w],[E,C]=S;if(f=o(f,E),g=o(g,C),b=s(b,E),v=s(v,C),i&&S.length>2){const _=S[2];l=o(l,_),h=s(h,_)}if(n&&S.length>r){const _=S[r];u=o(u,_),m=s(m,_)}}return t.xmin=f,t.ymin=g,t.xmax=b,t.ymax=v,t.spatialReference=this.spatialReference,i?(t.zmin=l,t.zmax=h):(t.zmin=null,t.zmax=null),n?(t.mmin=u,t.mmax=m):(t.mmin=null,t.mmax=null),t}writePoints(e,t){t.points=z(this.points)}addPoint(e){return dm(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:z(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new O5(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],i={x:t[0],y:t[1],spatialReference:this.spatialReference};let n=2;return this.hasZ&&(i.z=t[2],n=3),this.hasM&&(i.m=t[n]),new Ie(i)}removePoint(e){if(!this._validateInputs(e))return null;const t=new Ie(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(dm(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};c([d({readOnly:!0})],Rl.prototype,"cache",null),c([d()],Rl.prototype,"extent",null),c([d({type:[[Number]],json:{write:{isRequired:!0}}})],Rl.prototype,"points",void 0),c([ue("points")],Rl.prototype,"writePoints",null),Rl=O5=c([D("esri.geometry.Multipoint")],Rl),Rl.prototype.toJSON.isDefaultToJSON=!0;const Fm=Rl;function lue(e,t){const i=t[0]-e[0],n=t[1]-e[1];if(e.length>2&&t.length>2){const r=e[2]-t[2];return Math.sqrt(i*i+n*n+r*r)}return Math.sqrt(i*i+n*n)}function cue(e,t,i){const n=e[0]+i*(t[0]-e[0]),r=e[1]+i*(t[1]-e[1]);return e.length>2&&t.length>2?[n,r,e[2]+i*(t[2]-e[2])]:[n,r]}function uue(e,t,i,n){const[r,a]=t,[o,s]=i[n],[l,u]=i[n+1],h=l-o,m=u-s,f=h*h+m*m,g=(r-o)*h+(a-s)*m,b=Math.min(1,Math.max(0,g/f));return e[0]=o+h*b,e[1]=s+m*b,e}function due(e,t){return cue(e,t,.5)}function $I(e,t,i){const n=e.length;let r=0,a=0,o=0;for(let s=0;s<n;s++){const l=e[s],u=e[(s+1)%n];let h=2;r+=l[0]*u[1]-u[0]*l[1],l.length>2&&u.length>2&&i&&(a+=l[0]*u[2]-u[0]*l[2],h=3),l.length>h&&u.length>h&&t&&(o+=l[0]*u[h]-u[0]*l[h])}return r<=0&&a<=0&&o<=0}function zEe(e){if("rings"in e){for(const t of e.rings)t.length<3||t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]||t.push([t[0][0],t[0][1]]);if(e.rings.length>0&&!$I(e.rings[0],e.hasM,e.hasZ))for(let t=0;t<e.rings.length;++t)e.rings[t]=e.rings[t].reverse()}}function jEe(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function hue(e){return e?pue(e.rings,e.hasZ):null}function pue(e,t){if(!e||!e.length)return null;const i=[],n=[],r=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let a=0,o=e.length;a<o;a++){const s=mue(e[a],t,r);s&&n.push(s)}if(n.sort((a,o)=>{let s=a[2]-o[2];return s===0&&t&&(s=a[4]-o[4]),s}),n.length&&(i[0]=n[0][0],i[1]=n[0][1],t&&(i[2]=n[0][3]),(i[0]<r[0]||i[0]>r[1]||i[1]<r[2]||i[1]>r[3]||t&&(i[2]<r[4]||i[2]>r[5]))&&(i.length=0)),!i.length){const a=e[0]&&e[0].length?fue(e[0],t):null;if(!a)return null;i[0]=a[0],i[1]=a[1],t&&a.length>2&&(i[2]=a[2])}return i}function mue(e,t,i){let n=0,r=0,a=0,o=0,s=0;const l=e.length?e[0][0]:0,u=e.length?e[0][1]:0,h=e.length&&t?e[0][2]:0;for(let f=0;f<e.length;f++){const g=e[f],b=e[(f+1)%e.length],[v,w,x]=g,S=v-l,E=w-u,C=t?x-h:void 0,[_,I,O]=b,R=_-l,H=I-u,Y=t?O-h:void 0,U=S*H-R*E;if(o+=U,n+=(S+R)*U,r+=(E+H)*U,t&&g.length>2&&b.length>2){const ce=S*Y-R*C;a+=(C+Y)*ce,s+=ce}v<i[0]&&(i[0]=v),v>i[1]&&(i[1]=v),w<i[2]&&(i[2]=w),w>i[3]&&(i[3]=w),t&&(x<i[4]&&(i[4]=x),x>i[5]&&(i[5]=x))}if(o>0&&(o*=-1),s>0&&(s*=-1),!o)return null;o*=.5,s*=.5;const m=[n/(6*o)+l,r/(6*o)+u,o];return t&&(i[4]===i[5]||s===0?(m[3]=(i[4]+i[5])/2,m[4]=0):(m[3]=a/(6*s)+h,m[4]=s)),m}function fue(e,t){const i=t?[0,0,0]:[0,0],n=t?[0,0,0]:[0,0];let r=0,a=0,o=0,s=0;for(let l=0,u=e.length;l<u-1;l++){const h=e[l],m=e[l+1];if(h&&m){i[0]=h[0],i[1]=h[1],n[0]=m[0],n[1]=m[1],t&&h.length>2&&m.length>2&&(i[2]=h[2],n[2]=m[2]);const f=lue(i,n);if(f){r+=f;const g=due(h,m);a+=f*g[0],o+=f*g[1],t&&g.length>2&&(s+=f*g[2])}}}return r>0?t?[a/r,o/r,s/r]:[a/r,o/r]:e.length?e[0]:null}function jz(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function Vz(e){return e.points!==void 0}function Hz(e){return e.x!==void 0&&e.y!==void 0}function qz(e){return e.paths!==void 0}function Bz(e){return e.rings!==void 0}function Uz(e){return(t,i)=>t==null?i:i==null?t:e(t,i)}const kc=Uz(Math.min),_c=Uz(Math.max);function VEe(e,t){return qz(t)?hm(e,t.paths,!1,!1):Bz(t)?hm(e,t.rings,!1,!1):Vz(t)?CI(e,t.points,!1,!1,!1,!1):jz(t)?Gz(e,t):(Hz(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function HEe(e,t){return qz(t)?hm(e,t.paths,!0,!1):Bz(t)?hm(e,t.rings,!0,!1):Vz(t)?CI(e,t.points,!0,!1,!0,!1):jz(t)?Gz(e,t,!0,!1,!0,!1):(Hz(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function hm(e,t,i,n){const r=i?3:2;if(!t.length||!t[0].length)return null;let a,o,s,l,[u,h]=t[0][0],[m,f]=t[0][0];for(let g=0;g<t.length;g++){const b=t[g];for(let v=0;v<b.length;v++){const w=b[v],[x,S]=w;if(u=kc(u,x),h=kc(h,S),m=_c(m,x),f=_c(f,S),i&&w.length>2){const E=w[2];a=kc(a,E),o=_c(o,E)}if(n&&w.length>r){const E=w[r];s=kc(a,E),l=_c(o,E)}}}return i?n?(e[0]=u,e[1]=h,e[2]=a,e[3]=s,e[4]=m,e[5]=f,e[6]=o,e[7]=l,e.length=8,e):(e[0]=u,e[1]=h,e[2]=a,e[3]=m,e[4]=f,e[5]=o,e.length=6,e):n?(e[0]=u,e[1]=h,e[2]=s,e[3]=m,e[4]=f,e[5]=l,e.length=6,e):(e[0]=u,e[1]=h,e[2]=m,e[3]=f,e.length=4,e)}function Gz(e,t,i,n,r,a){const o=t.xmin,s=t.xmax,l=t.ymin,u=t.ymax;let h=t.zmin,m=t.zmax,f=t.mmin,g=t.mmax;return r?(h=h||0,m=m||0,a?(f=f||0,g=g||0,e[0]=o,e[1]=l,e[2]=h,e[3]=f,e[4]=s,e[5]=u,e[6]=m,e[7]=g,e):(e[0]=o,e[1]=l,e[2]=h,e[3]=s,e[4]=u,e[5]=m,e)):a?(f=f||0,g=g||0,e[0]=o,e[1]=l,e[2]=f,e[3]=s,e[4]=u,e[5]=g,e):(e[0]=o,e[1]=l,e[2]=s,e[3]=u,e)}function CI(e,t,i,n,r,a){const o=i?3:2,s=n&&a,l=i&&r;if(!t.length||!t[0].length)return null;let u,h,m,f,[g,b]=t[0],[v,w]=t[0];for(let x=0;x<t.length;x++){const S=t[x],[E,C]=S;if(g=kc(g,E),b=kc(b,C),v=_c(v,E),w=_c(w,C),l&&S.length>2){const _=S[2];u=kc(u,_),h=_c(h,_)}if(s&&S.length>o){const _=S[o];m=kc(u,_),f=_c(h,_)}}return r?(u=u||0,h=h||0,a?(m=m||0,f=f||0,e[0]=g,e[1]=b,e[2]=u,e[3]=m,e[4]=v,e[5]=w,e[6]=h,e[7]=f,e):(e[0]=g,e[1]=b,e[2]=u,e[3]=v,e[4]=w,e[5]=h,e)):a?(m=m||0,f=f||0,e[0]=g,e[1]=b,e[2]=m,e[3]=v,e[4]=w,e[5]=f,e):(e[0]=g,e[1]=b,e[2]=v,e[3]=w,e)}function gue(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function yue(e){return e.points!==void 0}function bue(e){return e.x!==void 0&&e.y!==void 0}function vue(e){return e.paths!==void 0}function wue(e){return e.rings!==void 0}const II=[];function Wz(e,t,i,n){return{xmin:e,ymin:t,xmax:i,ymax:n}}function Jz(e,t,i,n,r,a){return{xmin:e,ymin:t,zmin:i,xmax:n,ymax:r,zmax:a}}function Kz(e,t,i,n,r,a){return{xmin:e,ymin:t,mmin:i,xmax:n,ymax:r,mmax:a}}function Yz(e,t,i,n,r,a,o,s){return{xmin:e,ymin:t,zmin:i,mmin:n,xmax:r,ymax:a,zmax:o,mmax:s}}function EI(e,t=!1,i=!1){return t?i?Yz(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):Jz(e[0],e[1],e[2],e[3],e[4],e[5]):i?Kz(e[0],e[1],e[2],e[3],e[4],e[5]):Wz(e[0],e[1],e[2],e[3])}function qEe(e){return e?gue(e)?e:bue(e)?kue(e):wue(e)?Zz(e):vue(e)?Xz(e):yue(e)?xue(e):null:null}function xue(e){const{hasZ:t,hasM:i,points:n}=e;return EI(CI(II,n,t,i),t,i)}function kue(e){const{x:t,y:i,z:n,m:r}=e,a=r!=null;return n!=null?a?Yz(t,i,n,r,t,i,n,r):Jz(t,i,n,t,i,n):a?Kz(t,i,r,t,i,r):Wz(t,i,t,i)}function Zz(e){const{hasZ:t,hasM:i,rings:n}=e,r=hm(II,n,t,i);return r?EI(r,t,i):null}function Xz(e){const{hasZ:t,hasM:i,paths:n}=e,r=hm(II,n,t,i);return r?EI(r,t,i):null}var e1;function HO(e){return!Array.isArray(e[0])}let _o=e1=class extends Qn{constructor(...e){super(...e),this.rings=[],this.type="polygon"}static fromExtent(e){const t=e.clone().normalize(),i=e.spatialReference;let n=!1,r=!1;for(const o of t)o.hasZ&&(n=!0),o.hasM&&(r=!0);const a={rings:t.map(function(o){const s=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(n&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let u=0;u<s.length;u++)s[u].push(l)}if(r&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let u=0;u<s.length;u++)s[u].push(l)}return s}),spatialReference:i};return n&&(a.hasZ=!0),r&&(a.hasM=!0),new e1(a)}normalizeCtorArgs(e,t){let i,n,r=null,a=null;return e&&!Array.isArray(e)?(r=e.rings?e.rings:null,t||(e.spatialReference?t=e.spatialReference:e.rings||(t=e)),i=e.hasZ,n=e.hasM):r=e,r=r||[],t=t||He.WGS84,r.length&&r[0]&&r[0][0]!=null&&typeof r[0][0]=="number"&&(r=[r]),a=r[0]&&r[0][0],a&&(i===void 0&&n===void 0?(i=a.length>2,n=a.length>3):i===void 0?i=n?a.length>3:a.length>2:n===void 0&&(n=i?a.length>3:a.length>2)),{rings:r,spatialReference:t,hasZ:i,hasM:n}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=hue(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new Ie;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=Zz(this);if(!t)return null;const i=new pt(t);return i.spatialReference=e,i}get isSelfIntersecting(){return rle(this.rings)}writeRings(e,t){t.rings=z(this.rings)}addRing(e){if(!e)return;const t=this.rings,i=t.length;if(HO(e)){const n=[];for(let r=0,a=e.length;r<a;r++)n[r]=e[r].toArray();t[i]=n}else t[i]=e.concat();return this.notifyChange("rings"),this}clone(){const e=new e1;return e.spatialReference=this.spatialReference,e.rings=z(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(V(e))return!1;const t=this.spatialReference,i=e.spatialReference;if(T(t)!==T(i)||T(t)&&T(i)&&!t.equals(i)||this.rings.length!==e.rings.length)return!1;const n=([r,a,o,s],[l,u,h,m])=>r===l&&a===u&&(o==null&&h==null||o===h)&&(s==null&&m==null||s===m);for(let r=0;r<this.rings.length;r++){const a=this.rings[r],o=e.rings[r];if(!MN(a,o,n))return!1}return!0}contains(e){if(!e)return!1;const t=mk(e,this.spatialReference);return nz(this,T(t)?t:e)}isClockwise(e){let t;return t=HO(e)?e.map(i=>this.hasZ?this.hasM?[i.x,i.y,i.z,i.m]:[i.x,i.y,i.z]:[i.x,i.y]):e,$I(t,this.hasM,this.hasZ)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.rings[e][t],n=this.hasZ,r=this.hasM;return n&&!r?new Ie(i[0],i[1],i[2],void 0,this.spatialReference):r&&!n?new Ie(i[0],i[1],void 0,i[2],this.spatialReference):n&&r?new Ie(i[0],i[1],i[2],i[3],this.spatialReference):new Ie(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(dm(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e].splice(t,0,i),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new Ie(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],i=this.spatialReference,n=t.map(r=>new Ie(r,i));return this.notifyChange("rings"),n}setPoint(e,t,i){return this._validateInputs(e,t)?(dm(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e][t]=i,this.notifyChange("rings"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const n=this.rings[e];if(i&&(t<0||t>n.length)||!i&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};c([d({readOnly:!0})],_o.prototype,"cache",null),c([d({readOnly:!0})],_o.prototype,"centroid",null),c([d({readOnly:!0})],_o.prototype,"extent",null),c([d({readOnly:!0})],_o.prototype,"isSelfIntersecting",null),c([d({type:[[[Number]]],json:{write:{isRequired:!0}}})],_o.prototype,"rings",void 0),c([ue("rings")],_o.prototype,"writeRings",null),_o=e1=c([D("esri.geometry.Polygon")],_o),_o.prototype.toJSON.isDefaultToJSON=!0;const ao=_o;var P5;function _ue(e){return!Array.isArray(e[0])}let Fl=P5=class extends Qn{constructor(...e){super(...e),this.paths=[],this.type="polyline"}normalizeCtorArgs(e,t){let i,n,r=null,a=null;return e&&!Array.isArray(e)?(r=e.paths?e.paths:null,t||(e.spatialReference?t=e.spatialReference:e.paths||(t=e)),i=e.hasZ,n=e.hasM):r=e,r=r||[],t=t||He.WGS84,r.length&&r[0]&&r[0][0]!=null&&typeof r[0][0]=="number"&&(r=[r]),a=r[0]&&r[0][0],a&&(i===void 0&&n===void 0?(i=a.length>2,n=!1):i===void 0?i=!n&&a.length>3:n===void 0&&(n=!i&&a.length>3)),{paths:r,spatialReference:t,hasZ:i,hasM:n}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=Xz(this);if(!t)return null;const i=new pt(t);return i.spatialReference=e,i}writePaths(e,t){t.paths=z(this.paths)}addPath(e){if(!e)return;const t=this.paths,i=t.length;if(_ue(e)){const n=[];for(let r=0,a=e.length;r<a;r++)n[r]=e[r].toArray();t[i]=n}else t[i]=e.concat();return this.notifyChange("paths"),this}clone(){const e=new P5;return e.spatialReference=this.spatialReference,e.paths=z(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.paths[e][t],n=this.hasZ,r=this.hasM;return n&&!r?new Ie(i[0],i[1],i[2],void 0,this.spatialReference):r&&!n?new Ie(i[0],i[1],void 0,i[2],this.spatialReference):n&&r?new Ie(i[0],i[1],i[2],i[3],this.spatialReference):new Ie(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(dm(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e].splice(t,0,i),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],i=this.spatialReference,n=t.map(r=>new Ie(r,i));return this.notifyChange("paths"),n}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new Ie(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(e,t,i){return this._validateInputs(e,t)?(dm(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e][t]=i,this.notifyChange("paths"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const n=this.paths[e];if(i&&(t<0||t>n.length)||!i&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};c([d({readOnly:!0})],Fl.prototype,"cache",null),c([d({readOnly:!0})],Fl.prototype,"extent",null),c([d({type:[[[Number]]],json:{write:{isRequired:!0}}})],Fl.prototype,"paths",void 0),c([ue("paths")],Fl.prototype,"writePaths",null),Fl=P5=c([D("esri.geometry.Polyline")],Fl),Fl.prototype.toJSON.isDefaultToJSON=!0;const _r=Fl,Sue=an()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),qO=an()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});function Qz(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function TI(e){return e.points!==void 0}function MI(e){return e.x!==void 0&&e.y!==void 0}function AI(e){return e.paths!==void 0}function Sd(e){return e.rings!==void 0}function Fc(e){return V(e)?null:e instanceof Qn?e:MI(e)?Ie.fromJSON(e):AI(e)?_r.fromJSON(e):Sd(e)?ao.fromJSON(e):TI(e)?Fm.fromJSON(e):Qz(e)?pt.fromJSON(e):null}function Oy(e){return e?MI(e)?"esriGeometryPoint":AI(e)?"esriGeometryPolyline":Sd(e)?"esriGeometryPolygon":Qz(e)?"esriGeometryEnvelope":TI(e)?"esriGeometryMultipoint":null:null}const Due={esriGeometryPoint:Ie,esriGeometryPolyline:_r,esriGeometryPolygon:ao,esriGeometryEnvelope:pt,esriGeometryMultipoint:Fm};function $ue(e){return e&&Due[e]||null}const th={base:Qn,key:"type",typeMap:{extent:pt,multipoint:Fm,point:Ie,polyline:_r,polygon:ao}};ns(th);let Cue=0;const OI=e=>{let t=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+Cue++})}};return t=c([D("esri.core.Identifiable")],t),t};let BO=class extends OI(class{}){};BO=c([D("esri.core.Identifiable")],BO);let Iue=0;const UO=Q.getLogger("esri.layers.Layer");let Ei=class extends Gc.EventedMixin(OI(ul)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new pt(-180,-90,180,90,He.WGS84),this.id=Date.now().toString(16)+"-layer-"+Iue++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=He.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(e){const t=typeof e=="string"?{url:e}:e,i=await import("./arcgisLayers.3207f0fe.js");try{return await i.fromUrl(t)}catch(n){throw UO.error("#fromArcGISServerUrl({ url: '"+t.url+"'})","Failed to create layer from arcgis server url",n),n}}static async fromPortalItem(e){const t="portalItem"in e?e:{portalItem:e},i=await import("./portalLayers.553860dd.js");try{return await i.fromItem(t)}catch(n){const r=t&&t.portalItem,a=r&&r.id||"unset",o=r&&r.portal&&r.portal.url||vt.portalUrl;throw UO.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+o+"', id: '"+a+"')",n),n}}initialize(){this.when().catch(e=>{var t,i;ma(e)||Q.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${(t=this.title)!=null?t:"no title"}', id: '${(i=this.id)!=null?i:"no id"}')`,{error:e})})}destroy(){if(this.parent){const e=this,t=this.parent;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"baseLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e)}}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){const e=this.url;return e?Gi(e):null}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await Lt(e,{query:{f:"json"},responseType:"json"})).data;throw new L("layer:no-attribution-data","Layer does not have attribution data")}};c([d({type:String})],Ei.prototype,"attributionDataUrl",void 0),c([d({type:pt})],Ei.prototype,"fullExtent",void 0),c([d({readOnly:!0})],Ei.prototype,"hasAttributionData",null),c([d({type:String,clonable:!1})],Ei.prototype,"id",void 0),c([d({type:Boolean,nonNullable:!0})],Ei.prototype,"legendEnabled",void 0),c([d({type:["show","hide","hide-children"]})],Ei.prototype,"listMode",void 0),c([d({type:Number,range:{min:0,max:1},nonNullable:!0})],Ei.prototype,"opacity",void 0),c([d({clonable:!1})],Ei.prototype,"parent",void 0),c([d({readOnly:!0})],Ei.prototype,"parsedUrl",null),c([d({type:Boolean})],Ei.prototype,"popupEnabled",void 0),c([d({type:Boolean})],Ei.prototype,"attributionVisible",void 0),c([d({type:He})],Ei.prototype,"spatialReference",void 0),c([d({type:String})],Ei.prototype,"title",void 0),c([d({type:String,readOnly:!0,json:{read:!1}})],Ei.prototype,"type",void 0),c([d()],Ei.prototype,"url",void 0),c([d({type:Boolean,nonNullable:!0})],Ei.prototype,"visible",void 0),Ei=c([D("esri.layers.Layer")],Ei);const PI=Ei;function Eue(e){return e&&e.type==="group"}function L5(e,t,i){let n,r;if(e)for(let a=0,o=e.length;a<o;a++){if(n=e.getItemAt(a),n[t]===i)return n;if(Eue(n)&&(r=L5(n.layers,t,i),r))return r}}const GO=Q.getLogger("esri.support.LayersMixin"),Tue=e=>{let t=class extends e{constructor(...i){super(...i),this.layers=new _e;const n=o=>{o.parent&&"remove"in o.parent&&o.parent.remove(o)},r=o=>{o.parent=this,this.layerAdded(o),o.type!=="elevation"&&o.type!=="base-elevation"||GO.error(`Layer 'title:${o.title}, id:${o.id}' of type '${o.type}' is not supported as an operational layer and will therefore be ignored.`)},a=o=>{o.parent=null,this.layerRemoved(o)};this.layers.on("before-add",o=>n(o.item)),this.layers.on("after-add",o=>r(o.item)),this.layers.on("after-remove",o=>a(o.item))}destroy(){const i=this.layers.removeAll();for(const n of i)this.layerRemoved(n),n.destroy();this.layers.destroy()}set layers(i){this._set("layers",Ld(i,this._get("layers")))}add(i,n){const r=this.layers;if(n=r.getNextIndex(n),i instanceof PI){const a=i;a.parent===this?this.reorder(a,n):r.add(a,n)}else ml(i)?i.then(a=>{this.destroyed||this.add(a,n)}):GO.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(i,n){const r=this.layers;n=r.getNextIndex(n),i.slice().forEach(a=>{a.parent!==this?(r.add(a,n),n+=1):this.reorder(a,n)})}findLayerById(i){return L5(this.layers,"id",i)}findLayerByUid(i){return L5(this.layers,"uid",i)}remove(i){return this.layers.remove(i)}removeMany(i){return this.layers.removeMany(i)}removeAll(){return this.layers.removeAll()}reorder(i,n){return this.layers.reorder(i,n)}layerAdded(i){}layerRemoved(i){}};return c([d()],t.prototype,"layers",null),t=c([D("esri.support.LayersMixin")],t),t},e8="esri.support.TablesMixin",Mue=Q.getLogger(e8);function Aue(e){return e&&e.type==="group"}function R5(e,t,i){if(e)for(let n=0,r=e.length;n<r;n++){const a=e.getItemAt(n);if(a[t]===i)return a;if(Aue(a)){const o=R5(a.tables,t,i);if(o)return o}}}const Oue=e=>{let t=class extends e{constructor(...i){super(...i),this.tables=new _e,this.tables.on("after-add",n=>{const r=n.item;r.parent&&r.parent!==this&&"tables"in r.parent&&r.parent.tables.remove(r),r.parent=this,r.type!=="feature"&&Mue.error(`Layer 'title:${r.title}, id:${r.id}' of type '${r.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",n=>{n.item.parent=null})}destroy(){const i=this.tables.removeAll();for(const n of i)n.destroy();this.tables.destroy()}set tables(i){this._set("tables",Ld(i,this._get("tables")))}findTableById(i){return R5(this.tables,"id",i)}findTableByUid(i){return R5(this.tables,"uid",i)}};return c([d()],t.prototype,"tables",null),t=c([D(e8)],t),t};let So=class extends Oue(Tue(Gc.EventedMixin(ge))){constructor(e){super(e),this.allLayers=new Bp({getCollections:()=>{var t,i,n;return[(t=this.basemap)==null?void 0:t.baseLayers,(i=this.ground)==null?void 0:i.layers,this.layers,(n=this.basemap)==null?void 0:n.referenceLayers]},getChildrenFunction:t=>"layers"in t?t.layers:null}),this.allTables=new Bp({getCollections:()=>[this.tables,this.layers],getChildrenFunction:t=>{const i=[];return"tables"in t&&i.push(t.tables),"layers"in t&&i.push(t.layers),i},itemFilterFunction:t=>{const i=t.parent;return i&&"tables"in i&&i.tables.includes(t)}}),this.basemap=null,this.editableLayers=new Bp({getCollections:()=>[this.allLayers],itemFilterFunction:tue}),this.ground=new Gw,this._basemapCache=iue()}destroy(){var e,t;this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),(e=this.ground)==null||e.destroy(),(t=this.basemap)==null||t.destroy(),nue(this._basemapCache),this._basemapCache=null}castBasemap(e){return rue(e,this._basemapCache)}castGround(e){const t=oue(e);return V(t)?this._get("ground"):t}findLayerById(e){return this.allLayers.find(t=>t.id===e)}findTableById(e){return this.allTables.find(t=>t.id===e)}};c([d({readOnly:!0,dependsOn:[]})],So.prototype,"allLayers",void 0),c([d({readOnly:!0})],So.prototype,"allTables",void 0),c([d({type:Bw})],So.prototype,"basemap",void 0),c([nt("basemap")],So.prototype,"castBasemap",null),c([d({readOnly:!0})],So.prototype,"editableLayers",void 0),c([d({type:Gw,nonNullable:!0})],So.prototype,"ground",void 0),c([nt("ground")],So.prototype,"castGround",null),So=c([D("esri.Map")],So);const t8=So;var pm;function Pue(e,t){switch(e.type){case"range":{const i="range"in e?e.range[0]:e.minValue,n="range"in e?e.range[1]:e.maxValue;if(+t<i||+t>n)return pm.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(e.codedValues==null||e.codedValues.every(i=>i==null||i.code!==t))return pm.INVALID_CODED_VALUE}return null}(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(pm||(pm={}));let c2;function dl(){return c2||(c2=(async()=>{const e=await import("./arcadeUtils.677d9768.js").then(function(t){return t.q});return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),c2}const BEe=(e,t,i)=>Py.create(e,t,i,null,["$feature"]),UEe=(e,t,i)=>Py.create(e,t,i,null,["$feature","$view"]),Lue=(e,t,i,n)=>Py.create(e,t,i,n,["$feature","$view"]);class Py{constructor(t,i,n,r,a,o,s,l){this.script=t,this.evaluate=a;const u=Array.isArray(s)?s:s.fields;this.fields=u,this._syntaxTree=r,this._arcade=i,this._arcadeDictionary=n,this._arcadeFeature=o,this._spatialReference=l,this._referencesGeometry=i.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,i,n,r,a,o){const{arcade:s,Feature:l,Dictionary:u}=await dl(),h=He.fromJSON(i),m=s.parseScript(t,o),f=a.reduce((_,I)=>le($({},_),{[I]:null}),{});let g=null;T(r)&&(g=new u(r),g.immutable=!0,f.$config=null);const b=s.scriptUsesGeometryEngine(m)&&s.enableGeometrySupport(),v=s.scriptUsesFeatureSet(m)&&s.enableFeatureSetSupport(),w=s.scriptIsAsync(m)&&s.enableAsyncSupport(),x={vars:f,spatialReference:h,useAsync:!!w},S=new u;S.immutable=!1,S.setField("scale",0);const E=s.compileScript(m,x),C=_=>("$view"in _&&_.$view&&(S.setField("scale",_.$view.scale),_.$view=S),g&&(_.$config=g),E({vars:_,spatialReference:h}));return await Promise.all([b,v,w]),new Py(t,s,u,m,C,new l,n,h)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(t){return this._arcade.referencesMember(this._syntaxTree,t)}referencesFunction(t){return this._arcade.referencesFunction(this._syntaxTree,t)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)}}const Rue=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],Fue=["field","normalizationField"];function WO(e,t){if(e!=null&&t!=null){for(const i of Array.isArray(e)?e:[e])if(JO(Rue,i,t),"visualVariables"in i&&i.visualVariables)for(const n of i.visualVariables)JO(Fue,n,t)}}function JO(e,t,i){if(e)for(const n of e){const r=Mm(n,t),a=r&&typeof r!="function"&&i.get(r);a&&Ir(n,a.name,t)}}function i8(e,t){if(e!=null&&t!=null&&t.fields.length)if("startField"in e){const i=t.get(e.startField),n=t.get(e.endField);e.startField=i&&i.name||null,e.endField=n&&n.name||null}else{const i=t.get(e.startTimeField),n=t.get(e.endTimeField);e.startTimeField=i&&i.name||null,e.endTimeField=n&&n.name||null}}const u2=new Set;function n8(e,t){return e&&t?(u2.clear(),jg(u2,e,t),Array.from(u2).sort()):[]}function jg(e,t,i){var n;if(i)if(t!=null&&(n=t.fields)!=null&&n.length)if(i.includes("*"))for(const{name:r}of t.fields)e.add(r);else for(const r of i)ca(e,t,r);else{if(i.includes("*"))return e.clear(),void e.add("*");for(const r of i)e.add(r)}}function ca(e,t,i){if(typeof i=="string")if(t){const n=t.get(i);n&&e.add(n.name)}else e.add(i)}function GEe(e,t){return V(t)||V(e)?[]:t.includes("*")?e.fields.map(i=>i.name):t}async function Tr(e,t,i){var n;if(!i)return;const{arcadeUtils:r}=await dl(),a=r.extractFieldNames(i,t==null||(n=t.fields)==null?void 0:n.map(o=>o.name));for(const o of a)ca(e,t,o)}async function r8(e,t,i){if(i&&i!=="1=1"){const n=(await import("./WhereClause.4b9e8d34.js")).WhereClause.create(i,t);if(!n.isStandardized)throw new L("fieldUtils:collectFilterFields","Where clause is not standardized");jg(e,t,n.fieldNames)}}function Nue({displayField:e,fields:t}){return e||(t&&t.length?d2(t,"name-or-title")||d2(t,"unique-identifier")||d2(t,"type-or-category")||zue(t):null)}function zue(e){for(const t of e){if(!t||!t.name)continue;const i=t.name.toLowerCase();if(i.indexOf("name")>-1||i.indexOf("title")>-1)return t.name}return null}function d2(e,t){for(const i of e)if(i&&i.valueType&&i.valueType===t)return i.name;return null}async function WEe(e,t){if(!t)return;const i=Mm("elevationInfo.featureExpressionInfo",t);return i?i.collectRequiredFields(e,t.fieldsIndex):void 0}async function jue(e,t,i){i.outStatistic.onStatisticValueExpression?Tr(e,t,i.outStatistic.onStatisticValueExpression):e.add(i.outStatistic.onStatisticField)}async function JEe(e,t,i){var n,r;if(!t||!i||i.type!=="cluster")return;const a=[];if((n=i.popupTemplate)!=null&&n.expressionInfos&&a.push(...i.popupTemplate.expressionInfos.map(o=>Tr(e,t.fieldsIndex,o.expression))),Array.isArray((r=i.popupTemplate)==null?void 0:r.content)){const o=i.popupTemplate.content;for(const s of o)s.type==="expression"&&s.expressionInfo&&a.push(Tr(e,t.fieldsIndex,s.expressionInfo.expression))}i.fields&&a.push(...i.fields.map(o=>jue(e,t.fieldsIndex,o))),await Promise.all(a)}async function KEe(e,t,i){t&&(t.timeInfo&&T(i)&&i.timeExtent&&jg(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&jg(e,t.fieldsIndex,[t.floorInfo.floorField]),T(i)&&T(i.where)&&await r8(e,t.fieldsIndex,i.where))}async function YEe(e,t,i){t&&i&&await Promise.all(i.map(n=>Vue(e,t,n)))}async function Vue(e,t,i){t&&i&&(i.valueExpression?await Tr(e,t.fieldsIndex,i.valueExpression):i.field&&ca(e,t.fieldsIndex,i.field))}function ZEe(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;return t?n8(e.fieldsIndex,[t&&t.creatorField,t&&t.creationDateField,t&&t.editorField,t&&t.editDateField]):[]}async function XEe(e,t){const{labelingInfo:i,fieldsIndex:n}=t;i&&i.length&&await Promise.all(i.map(r=>Hue(e,n,r)))}async function Hue(e,t,i){if(!i)return;const n=i.getLabelExpression(),r=i.where;if(n.type==="arcade")await Tr(e,t,n.expression);else{const a=n.expression.match(/{[^}]*}/g);a&&a.forEach(o=>{ca(e,t,o.slice(1,-1))})}await r8(e,t,r)}function que(e){const t=e.defaultValue;return t!==void 0&&s8(e,t)?t:e.nullable?null:void 0}function a8(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function Bue(e){return e===null||a8(e)}const LI="isInteger"in Number?Number.isInteger:e=>typeof e=="number"&&isFinite(e)&&Math.floor(e)===e;function Uue(e){return e===null||LI(e)}function o8(e){return e!=null&&typeof e=="string"}function Gue(e){return e===null||o8(e)}function Wue(){return!0}function s8(e,t){let i;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":i=e.nullable?Uue:LI;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=e.nullable?Bue:a8;break;case"string":case"esriFieldTypeString":i=e.nullable?Gue:o8;break;default:i=Wue}return arguments.length===1?i:i(t)}const Jue=["integer","small-integer","single","double"],Kue=new Set([...Jue,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function RI(e){return e!=null&&Kue.has(e.type)}function QEe(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}var Ww,Jw;function eTe(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function tTe(e,t){return e.nullable&&t===null?null:RI(e)&&!Yue(e.type,Number(t))?Ww.OUT_OF_RANGE:s8(e,t)?e.domain?Pue(e.domain,t):null:Jw.INVALID_TYPE}function Yue(e,t){const i=typeof e=="string"?l8(e):e;return!!i&&(i.isInteger?LI(t)&&t>=i.min&&t<=i.max:t>=i.min&&t<=i.max)}function l8(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return Zue;case"esriFieldTypeInteger":case"integer":return Xue;case"esriFieldTypeSingle":case"single":return Que;case"esriFieldTypeDouble":case"double":return ede}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(Ww||(Ww={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(Jw||(Jw={}));const Zue={min:-32768,max:32767,isInteger:!0},Xue={min:-2147483648,max:2147483647,isInteger:!0},Que={min:-34e37,max:12e37,isInteger:!1},ede={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function iTe(e,t,i){switch(e){case pm.INVALID_CODED_VALUE:return`Value ${i} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case pm.VALUE_OUT_OF_RANGE:return`Value ${i} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case Jw.INVALID_TYPE:return`Value ${i} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case Ww.OUT_OF_RANGE:{const{min:n,max:r}=l8(t.type);return`Value ${i} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${n} to ${r}`}}}function tde(e,t){return!ide(e,t,null)}function ide(e,t,i){if(!t||!t.attributes||!e){if(T(i))for(const a of e)i.add(a);return!0}const n=t.attributes;let r=!1;for(const a of e)if(!(a in n)){if(r=!0,!T(i))break;i.add(a)}return r}let t1=class extends J{constructor(e){super(e),this.type=null}};c([d({type:["attachments","custom","fields","media","text","expression"],readOnly:!0,json:{read:!1,write:!0}})],t1.prototype,"type",void 0),t1=c([D("esri.popup.content.Content")],t1);const ih=t1;var F5;let vu=F5=class extends ih{constructor(e){super(e),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new F5({description:this.description,displayType:this.displayType,title:this.title})}};c([d({type:String,json:{write:!0}})],vu.prototype,"description",void 0),c([d({type:["auto","preview","list"],json:{write:!0}})],vu.prototype,"displayType",void 0),c([d({type:String,json:{write:!0}})],vu.prototype,"title",void 0),c([d({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],vu.prototype,"type",void 0),vu=F5=c([D("esri.popup.content.AttachmentsContent")],vu);const Vg=vu;var N5;let wu=N5=class extends ih{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new N5({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?z(this.outFields):null})}};c([d()],wu.prototype,"creator",void 0),c([d()],wu.prototype,"destroyer",void 0),c([d()],wu.prototype,"outFields",void 0),c([d({type:["custom"],readOnly:!0})],wu.prototype,"type",void 0),wu=N5=c([D("esri.popup.content.CustomContent")],wu);const nde=wu;var z5;let jh=z5=class extends J{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new z5({title:this.title,expression:this.expression})}};c([d({type:String,json:{write:!0}})],jh.prototype,"title",void 0),c([d({type:String,json:{write:!0}})],jh.prototype,"expression",void 0),c([d({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],jh.prototype,"returnType",void 0),jh=z5=c([D("esri.popup.ElementExpressionInfo")],jh);const c8=jh;var j5;let e0=j5=class extends ih{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){var e;return new j5({expressionInfo:(e=this.expressionInfo)==null?void 0:e.clone()})}};c([d({type:c8,json:{write:!0}})],e0.prototype,"expressionInfo",void 0),c([d({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],e0.prototype,"type",void 0),e0=j5=c([D("esri.popup.content.ExpressionContent")],e0);const FI=e0,Hg=an()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});Hg.toJSON.bind(Hg);Hg.fromJSON.bind(Hg);const vo={year:"numeric",month:"numeric",day:"numeric"},Sf={year:"numeric",month:"long",day:"numeric"},Df={year:"numeric",month:"short",day:"numeric"},$f={year:"numeric",month:"long",weekday:"long",day:"numeric"},Gr={hour:"numeric",minute:"numeric"},Sa=le($({},Gr),{second:"numeric"}),NI={"short-date":vo,"short-date-short-time":$($({},vo),Gr),"short-date-short-time-24":le($($({},vo),Gr),{hour12:!1}),"short-date-long-time":$($({},vo),Sa),"short-date-long-time-24":le($($({},vo),Sa),{hour12:!1}),"short-date-le":vo,"short-date-le-short-time":$($({},vo),Gr),"short-date-le-short-time-24":le($($({},vo),Gr),{hour12:!1}),"short-date-le-long-time":$($({},vo),Sa),"short-date-le-long-time-24":le($($({},vo),Sa),{hour12:!1}),"long-month-day-year":Sf,"long-month-day-year-short-time":$($({},Sf),Gr),"long-month-day-year-short-time-24":le($($({},Sf),Gr),{hour12:!1}),"long-month-day-year-long-time":$($({},Sf),Sa),"long-month-day-year-long-time-24":le($($({},Sf),Sa),{hour12:!1}),"day-short-month-year":Df,"day-short-month-year-short-time":$($({},Df),Gr),"day-short-month-year-short-time-24":le($($({},Df),Gr),{hour12:!1}),"day-short-month-year-long-time":$($({},Df),Sa),"day-short-month-year-long-time-24":le($($({},Df),Sa),{hour12:!1}),"long-date":$f,"long-date-short-time":$($({},$f),Gr),"long-date-short-time-24":le($($({},$f),Gr),{hour12:!1}),"long-date-long-time":$($({},$f),Sa),"long-date-long-time-24":le($($({},$f),Sa),{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Gr,"long-time":Sa},qg=an()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});qg.apiValues;qg.toJSON.bind(qg);qg.fromJSON.bind(qg);const rde={ar:"ar-u-nu-latn-ca-gregory"};let i1=new WeakMap,u8=NI["short-date-short-time"];function ade(e){const t=e||u8;if(!i1.has(t)){const i=Dr(),n=rde[Dr()]||i;i1.set(t,new Intl.DateTimeFormat(n,t))}return i1.get(t)}function d8(e){return NI[e]||null}function Nc(e,t){return ade(t).format(e)}yI(()=>{i1=new WeakMap,u8=NI["short-date-short-time"]});const ode={ar:"ar-u-nu-latn"};let n1=new WeakMap,h8={};function sde(e){const t=e||h8;if(!n1.has(t)){const i=Dr(),n=ode[Dr()]||i;n1.set(t,new Intl.NumberFormat(n,e))}return n1.get(t)}function p8(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function Hd(e,t){return sde(t).format(e)}yI(()=>{n1=new WeakMap,h8={}});var V5;let xu=V5=class extends J{constructor(e){super(e),this.dateFormat=null,this.dateTimeFormatOptions=null,this.digitSeparator=!1,this.places=null}clone(){return new V5({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})}format(e){return this.dateFormat?Nc(e,$($({},d8(this.dateFormat)),this.dateTimeFormatOptions)):Hd(e,p8(this))}};c([Se(Hg)],xu.prototype,"dateFormat",void 0),c([d({type:Object,json:{read:!1}})],xu.prototype,"dateTimeFormatOptions",void 0),c([d({type:Boolean,json:{write:!0}})],xu.prototype,"digitSeparator",void 0),c([d({type:$t,json:{write:!0}})],xu.prototype,"places",void 0),xu=V5=c([D("esri.popup.support.FieldInfoFormat")],xu);const lg=xu;var H5;let Ta=H5=class extends J{constructor(e){super(e),this.fieldName=null,this.format=null,this.isEditable=!1,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new H5({fieldName:this.fieldName,format:this.format?z(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};c([d({type:String,json:{write:!0}})],Ta.prototype,"fieldName",void 0),c([d({type:lg,json:{write:!0}})],Ta.prototype,"format",void 0),c([d({type:Boolean,json:{write:!0,default:!1}})],Ta.prototype,"isEditable",void 0),c([d({type:String,json:{write:!0}})],Ta.prototype,"label",void 0),c([Se(new Ze({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],Ta.prototype,"stringFieldOption",void 0),c([d({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],Ta.prototype,"statisticType",void 0),c([d({type:String,json:{write:!0}})],Ta.prototype,"tooltip",void 0),c([d({type:Boolean,json:{write:!0}})],Ta.prototype,"visible",void 0),Ta=H5=c([D("esri.popup.FieldInfo")],Ta);const Ly=Ta;var q5;let $s=q5=class extends ih{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(i=>i.toJSON())}clone(){return new q5(z({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};c([d({type:Object,json:{write:!0}})],$s.prototype,"attributes",void 0),c([d({type:String,json:{write:!0}})],$s.prototype,"description",void 0),c([d({type:[Ly]})],$s.prototype,"fieldInfos",void 0),c([ue("fieldInfos")],$s.prototype,"writeFieldInfos",null),c([d({type:String,json:{write:!0}})],$s.prototype,"title",void 0),c([d({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],$s.prototype,"type",void 0),$s=q5=c([D("esri.popup.content.FieldsContent")],$s);const mm=$s;let ku=class extends J{constructor(e){super(e),this.altText=null,this.caption="",this.title="",this.type=null}};c([d({type:String,json:{write:!0}})],ku.prototype,"altText",void 0),c([d({type:String,json:{write:!0}})],ku.prototype,"caption",void 0),c([d({type:String,json:{write:!0}})],ku.prototype,"title",void 0),c([d({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],ku.prototype,"type",void 0),ku=c([D("esri.popup.content.mixins.MediaInfo")],ku);const zI=ku;var B5;let t0=B5=class extends ge{constructor(e){super(e),this.tooltip=null,this.value=null}clone(){return new B5({tooltip:this.tooltip,value:this.value})}};c([d()],t0.prototype,"tooltip",void 0),c([d()],t0.prototype,"value",void 0),t0=B5=c([D("esri.popup.content.support.ChartMediaInfoValueSeries")],t0);const m8=t0;var U5;let _u=U5=class extends J{constructor(e){super(e),this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new U5({fields:z(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};c([d({type:[String],json:{write:!0}})],_u.prototype,"fields",void 0),c([d({type:String,json:{write:!0}})],_u.prototype,"normalizeField",void 0),c([d({type:[m8],json:{read:!1}})],_u.prototype,"series",void 0),c([d({type:String,json:{write:!0}})],_u.prototype,"tooltipField",void 0),_u=U5=c([D("esri.popup.content.support.ChartMediaInfoValue")],_u);const lde=_u;let i0=class extends zI{constructor(e){super(e),this.type=null,this.value=null}};c([d({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],i0.prototype,"type",void 0),c([d({type:lde,json:{write:!0}})],i0.prototype,"value",void 0),i0=c([D("esri.popup.content.mixins.ChartMediaInfo")],i0);const yk=i0,bk=an()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var G5;let r1=G5=class extends yk{constructor(e){super(e),this.type="bar-chart"}clone(){return new G5({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};c([d({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:bk.write}})],r1.prototype,"type",void 0),r1=G5=c([D("esri.popup.content.BarChartMediaInfo")],r1);const f8=r1;var W5;let a1=W5=class extends yk{constructor(e){super(e),this.type="column-chart"}clone(){return new W5({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};c([d({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:bk.write}})],a1.prototype,"type",void 0),a1=W5=c([D("esri.popup.content.ColumnChartMediaInfo")],a1);const g8=a1;var J5;let n0=J5=class extends J{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new J5({linkURL:this.linkURL,sourceURL:this.sourceURL})}};c([d({type:String,json:{write:!0}})],n0.prototype,"linkURL",void 0),c([d({type:String,json:{write:!0}})],n0.prototype,"sourceURL",void 0),n0=J5=c([D("esri.popup.content.support.ImageMediaInfoValue")],n0);const cde=n0;var K5;let Vh=K5=class extends zI{constructor(e){super(e),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new K5({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};c([d({type:Number,json:{write:!0}})],Vh.prototype,"refreshInterval",void 0),c([d({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],Vh.prototype,"type",void 0),c([d({type:cde,json:{write:!0}})],Vh.prototype,"value",void 0),Vh=K5=c([D("esri.popup.content.ImageMediaInfo")],Vh);const y8=Vh;var Y5;let o1=Y5=class extends yk{constructor(e){super(e),this.type="line-chart"}clone(){return new Y5({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};c([d({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:bk.write}})],o1.prototype,"type",void 0),o1=Y5=c([D("esri.popup.content.LineChartMediaInfo")],o1);const b8=o1;var Z5;let s1=Z5=class extends yk{constructor(e){super(e),this.type="pie-chart"}clone(){return new Z5({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};c([d({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:bk.write}})],s1.prototype,"type",void 0),s1=Z5=c([D("esri.popup.content.PieChartMediaInfo")],s1);const v8=s1,w8={base:zI,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":f8,"column-chart":g8,"line-chart":b8,"pie-chart":v8,image:y8}};var X5;let Ma=X5=class extends ih{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?y8.fromJSON(t):t.type==="barchart"?f8.fromJSON(t):t.type==="columnchart"?g8.fromJSON(t):t.type==="linechart"?b8.fromJSON(t):t.type==="piechart"?v8.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(i=>i.toJSON())}clone(){return new X5(z({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};c([d()],Ma.prototype,"activeMediaInfoIndex",void 0),c([d({type:Object,json:{write:!0}})],Ma.prototype,"attributes",void 0),c([d({type:String,json:{write:!0}})],Ma.prototype,"description",void 0),c([d({types:[w8]})],Ma.prototype,"mediaInfos",void 0),c([ae("mediaInfos")],Ma.prototype,"readMediaInfos",null),c([ue("mediaInfos")],Ma.prototype,"writeMediaInfos",null),c([d({type:String,json:{write:!0}})],Ma.prototype,"title",void 0),c([d({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],Ma.prototype,"type",void 0),Ma=X5=c([D("esri.popup.content.MediaContent")],Ma);const Bg=Ma;var Q5;let r0=Q5=class extends ih{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new Q5({text:this.text})}};c([d({type:String,json:{write:!0}})],r0.prototype,"text",void 0),c([d({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],r0.prototype,"type",void 0),r0=Q5=c([D("esri.popup.content.TextContent")],r0);const fm=r0,ude={base:null,key:"type",typeMap:{attachment:Vg,media:Bg,text:fm,expression:FI,field:mm}};var eS;let Su=eS=class extends J{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new eS({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};c([d({type:String,json:{write:!0}})],Su.prototype,"name",void 0),c([d({type:String,json:{write:!0}})],Su.prototype,"title",void 0),c([d({type:String,json:{write:!0}})],Su.prototype,"expression",void 0),c([d({type:["string","number"],json:{write:!0}})],Su.prototype,"returnType",void 0),Su=eS=c([D("esri.popup.ExpressionInfo")],Su);const x8=Su;var tS;let a0=tS=class extends J{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new tS({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};c([d({type:Boolean,json:{write:!0}})],a0.prototype,"returnTopmostRaster",void 0),c([d({type:Boolean,json:{write:!0}})],a0.prototype,"showNoDataRecords",void 0),a0=tS=c([D("esri.popup.LayerOptions")],a0);const dde=a0;var iS;let o0=iS=class extends J{constructor(e){super(e),this.field=null,this.order=null}clone(){return new iS({field:this.field,order:this.order})}};c([d({type:String,json:{write:!0}})],o0.prototype,"field",void 0),c([d({type:["asc","desc"],json:{write:!0}})],o0.prototype,"order",void 0),o0=iS=c([D("esri.popup.support.RelatedRecordsInfoFieldOrder")],o0);const k8=o0;var nS;let s0=nS=class extends J{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new nS({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?z(this.orderByFields):null})}};c([d({type:Boolean,json:{write:!0}})],s0.prototype,"showRelatedRecords",void 0),c([d({type:[k8],json:{write:!0}})],s0.prototype,"orderByFields",void 0),s0=nS=c([D("esri.popup.RelatedRecordsInfo")],s0);const hde=s0;var rS;let Aa=rS=class extends OI(ge){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new rS({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};c([d()],Aa.prototype,"active",void 0),c([d()],Aa.prototype,"className",void 0),c([d()],Aa.prototype,"disabled",void 0),c([d()],Aa.prototype,"id",void 0),c([d()],Aa.prototype,"indicator",void 0),c([d()],Aa.prototype,"title",void 0),c([d()],Aa.prototype,"type",void 0),c([d()],Aa.prototype,"visible",void 0),Aa=rS=c([D("esri.support.actions.ActionBase")],Aa);const vk=Aa;var aS;let l1=aS=class extends vk{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new aS({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};c([d()],l1.prototype,"image",void 0),l1=aS=c([D("esri.support.Action.ActionButton")],l1);const Nm=l1;var oS;let l0=oS=class extends vk{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new oS({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};c([d()],l0.prototype,"image",void 0),c([d()],l0.prototype,"value",void 0),l0=oS=c([D("esri.support.Action.ActionToggle")],l0);const _8=l0;var sS;const pde=_e.ofType({key:"type",defaultKeyValue:"button",base:vk,typeMap:{button:Nm,toggle:_8}}),mde={base:ih,key:"type",typeMap:{media:Bg,custom:nde,text:fm,attachments:Vg,fields:mm,expression:FI}},S8="esri.PopupTemplate",fde=Q.getLogger(S8),gde=["attachments","fields","media","text","expression"];let bi=sS=class extends J{constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title="",this.relatedRecordsInfo=null}castContent(e){return Array.isArray(e)?e.map(t=>ns(mde,t)):typeof e=="string"||typeof e=="function"||e instanceof HTMLElement||ml(e)?e:(fde.error("content error","unsupported content value",{value:e}),null)}readContent(e,t){const{popupElements:i}=t;return Array.isArray(i)&&i.length>0?this._readPopupInfoElements(t):this._readPopupInfo(t)}writeContent(e,t,i,n){typeof e!="string"?Array.isArray(e)&&(t.popupElements=e.filter(r=>gde.indexOf(r.type)!==-1).map(r=>r&&r.toJSON(n)),t.popupElements.forEach(r=>{r.type==="attachments"?this._writeAttachmentContent(t):r.type==="media"?this._writeMediaContent(r,t):r.type==="text"&&this._writeTextContent(r,t)})):t.description=e}writeFieldInfos(e,t,i,n){const{content:r}=this,a=Array.isArray(r)?r:null;if(e){const o=a?a.filter(l=>l.type==="fields"):[],s=o.length&&o.every(l=>{var u;return(u=l.fieldInfos)==null?void 0:u.length});t.fieldInfos=e.filter(Boolean).map(l=>{const u=l.toJSON(n);return s&&(u.visible=!1),u})}if(a)for(const o of a)o.type==="fields"&&this._writeFieldsContent(o,t)}writeLayerOptions(e,t,i,n){t[i]=!e||e.showNoDataRecords===null&&e.returnTopmostRaster===null?null:e.toJSON(n)}writeTitle(e,t){t.title=e||""}clone(){const{actions:e}=this,t=e?z(e.toArray()):[];return new sS({actions:t,content:Array.isArray(this.content)?z(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?z(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?z(this.fieldInfos):null,layerOptions:this.layerOptions?z(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?z(this.outFields):null,overwriteActions:this.overwriteActions,returnGeometry:this.returnGeometry,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?z(this.relatedRecordsInfo):null})}async collectRequiredFields(e,t){const i=this.expressionInfos||[];await this._collectExpressionInfoFields(e,t,[...i,...this._getContentExpressionInfos(this.content,i)]),jg(e,t,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e){const t=new Set;return await this.collectRequiredFields(t,e),[...t].sort()}_writeFieldsContent(e,t){if(!Array.isArray(e.fieldInfos)||!e.fieldInfos.length)return;const i=z(e.fieldInfos);Array.isArray(t.fieldInfos)?i.forEach(n=>{const r=t.fieldInfos.find(a=>a.fieldName.toLowerCase()===n.fieldName.toLowerCase());r?r.visible=!0:t.fieldInfos.push(n)}):t.fieldInfos=i}_writeAttachmentContent(e){e.showAttachments||(e.showAttachments=!0)}_writeTextContent(e,t){!t.description&&e.text&&(t.description=e.text)}_writeMediaContent(e,t){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;const i=z(e.mediaInfos);Array.isArray(t.mediaInfos)?t.mediaInfos=[...t.mediaInfos,...i]:t.mediaInfos=i}_readPopupInfoElements({description:e,mediaInfos:t,popupElements:i}){const n={description:!1,mediaInfos:!1};return i.map(r=>r.type==="media"?(r.mediaInfos||!t||n.mediaInfos||(r.mediaInfos=t,n.mediaInfos=!0),Bg.fromJSON(r)):r.type==="text"?(r.text||!e||n.description||(r.text=e,n.description=!0),fm.fromJSON(r)):r.type==="attachments"?Vg.fromJSON(r):r.type==="fields"?mm.fromJSON(r):r.type==="expression"?FI.fromJSON(r):void 0).filter(Boolean)}_readPopupInfo({description:e,mediaInfos:t,showAttachments:i}){const n=[];return e?n.push(new fm({text:e})):n.push(new mm),Array.isArray(t)&&t.length&&n.push(Bg.fromJSON({mediaInfos:t})),i&&n.push(Vg.fromJSON({displayType:"auto"})),n.length?n:e}_getContentElementFields(e){const t=e==null?void 0:e.type;if(t==="attachments")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)];if(t==="custom")return e.outFields||[];if(t==="fields")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...this._getFieldInfoFields(e.fieldInfos||this.fieldInfos)];if(t==="media"){const i=e.mediaInfos||[];return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...i.reduce((n,r)=>[...n,...this._getMediaInfoFields(r)],[])]}return t==="text"?this._extractFieldNames(e.text):[]}_getMediaInfoFields(e){const{caption:t,title:i,value:n}=e,r=n||{},{fields:a=[],normalizeField:o,tooltipField:s,sourceURL:l,linkURL:u}=r,h=[...this._extractFieldNames(i),...this._extractFieldNames(t),...this._extractFieldNames(l),...this._extractFieldNames(u),...a];return o&&h.push(o),s&&h.push(s),h}_getContentExpressionInfos(e,t){return Array.isArray(e)?e.reduce((i,n)=>[...i,...n.type==="expression"&&n.expressionInfo?[n.expressionInfo]:[]],t):[]}_getContentFields(e){return typeof e=="string"?this._extractFieldNames(e):Array.isArray(e)?e.reduce((t,i)=>[...t,...this._getContentElementFields(i)],[]):[]}async _collectExpressionInfoFields(e,t,i){i&&await Promise.all(i.map(n=>Tr(e,t,n.expression)))}_getFieldInfoFields(e){return e?e.filter(t=>t.visible===void 0||!!t.visible).map(t=>t.fieldName).filter(t=>t.indexOf("relationships/")===-1&&t.indexOf("expression/")===-1):[]}_getActionsFields(e){return e?e.toArray().reduce((t,i)=>[...t,...this._getActionFields(i)],[]):[]}_getActionFields(e){const{className:t,title:i,type:n}=e,r=n==="button"||n==="toggle"?e.image:"";return[...this._extractFieldNames(i),...this._extractFieldNames(t),...this._extractFieldNames(r)]}_getTitleFields(e){return typeof e=="string"?this._extractFieldNames(e):[]}_extractFieldNames(e){if(!e||typeof e!="string")return[];const t=/{[^}]*}/g,i=e.match(t);if(!i)return[];const n=/\{(\w+):.+\}/,r=i.filter(a=>!(a.indexOf("{relationships/")===0||a.indexOf("{expression/")===0)).map(a=>a.replace(n,"{$1}"));return r?r.map(a=>a.slice(1,-1)):[]}};c([d({type:pde})],bi.prototype,"actions",void 0),c([d()],bi.prototype,"content",void 0),c([nt("content")],bi.prototype,"castContent",null),c([ae("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments"])],bi.prototype,"readContent",null),c([ue("content",{popupElements:{type:_e.ofType(ude)},showAttachments:{type:Boolean},mediaInfos:{type:_e.ofType(w8)},description:{type:String}})],bi.prototype,"writeContent",null),c([d({type:[x8],json:{write:!0}})],bi.prototype,"expressionInfos",void 0),c([d({type:[Ly]})],bi.prototype,"fieldInfos",void 0),c([ue("fieldInfos")],bi.prototype,"writeFieldInfos",null),c([d({type:dde})],bi.prototype,"layerOptions",void 0),c([ue("layerOptions")],bi.prototype,"writeLayerOptions",null),c([d({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],bi.prototype,"lastEditInfoEnabled",void 0),c([d()],bi.prototype,"outFields",void 0),c([d()],bi.prototype,"overwriteActions",void 0),c([d()],bi.prototype,"returnGeometry",void 0),c([d({json:{type:String}})],bi.prototype,"title",void 0),c([ue("title")],bi.prototype,"writeTitle",null),c([d({type:hde,json:{write:!0}})],bi.prototype,"relatedRecordsInfo",void 0),bi=sS=c([D(S8)],bi);const wk=bi,KO=new Ze({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let yde=0,Hh=class extends J{constructor(e){super(e),this.id="sym"+yde++,this.type=null,this.color=new Re([0,0,0,1])}readColor(e){return e&&e[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,t){}hash(){return JSON.stringify(this.toJSON())}clone(){}};c([d({type:KO.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:KO.write}}})],Hh.prototype,"type",void 0),c([d({type:Re,json:{write:{allowNull:!0}}})],Hh.prototype,"color",void 0),c([ae("color")],Hh.prototype,"readColor",null),Hh=c([D("esri.symbols.Symbol")],Hh);const nr=Hh;var lS;let Nl=lS=class extends nr{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){if(e)for(const i in e)t[i]=e[i]}async collectRequiredFields(e,t){if(this.data.type==="CIMSymbolReference"){const i=this.data.primitiveOverrides;if(i){const n=i.map(r=>{const a=r.valueExpressionInfo;return Tr(e,t,a.expression)});await Promise.all(n)}}}clone(){return new lS({data:z(this.data)})}hash(){return KC(JSON.stringify(this.data)).toString()}};c([d({json:{write:!1}})],Nl.prototype,"color",void 0),c([d({json:{write:!0}})],Nl.prototype,"data",void 0),c([ae("data",["symbol"])],Nl.prototype,"readData",null),c([ue("data",{})],Nl.prototype,"writeData",null),c([Se({CIMSymbolReference:"cim"},{readOnly:!0})],Nl.prototype,"type",void 0),Nl=lS=c([D("esri.symbols.CIMSymbol")],Nl);const Ry=Nl;let qh=class extends J{constructor(e){super(e),this.enabled=!0,this.type=null}writeEnabled(e,t,i){e||(t[i]=e)}};c([d({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],qh.prototype,"enabled",void 0),c([ue("enabled")],qh.prototype,"writeEnabled",null),c([d({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],qh.prototype,"type",void 0),qh=c([D("esri.symbols.Symbol3DLayer")],qh);const ls=qh,bde=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,vde="screenUtils.toPt: input not recognized!",D8=96;function nTe(e){return e?e/72*D8:0}function zc(e){return e?72*e/D8:0}function ut(e){if(typeof e=="string"){const t=e.match(bde);if(t){const i=Number(t[1]),n=t[3]&&t[3].toLowerCase(),r=e.charAt(0)==="-",a=n==="px"?zc(i):i;return r?-a:a}return console.warn(vde),null}return e}function Un(e=0,t=0){return{x:e,y:t}}function rTe(e=0,t=0){return[e,t]}function wde(e,t){const i=t.transparency!=null?zg(t.transparency):1,n=t.color;return n&&Array.isArray(n)?new Re([n[0]||0,n[1]||0,n[2]||0,i]):null}function xde(e,t){t.color=e.toJSON().slice(0,3);const i=_I(e.a);i!==0&&(t.transparency=i)}const Wc={type:Re,json:{type:[$t],default:null,read:{source:["color","transparency"],reader:wde},write:{target:{color:{type:[$t]},transparency:{type:$t}},writer:xde}}},as={type:Number,cast:ut,json:{write:!0}};let Du=class extends J{constructor(e){super(e),this.color=new Re([0,0,0,1]),this.extensionLength=0,this.size=zc(1)}clone(){}cloneProperties(){return{color:z(this.color),size:this.size,extensionLength:this.extensionLength}}};c([d({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Du.prototype,"type",void 0),c([d(Wc)],Du.prototype,"color",void 0),c([d(le($({},as),{json:{write:{overridePolicy:e=>({enabled:!!e})}}}))],Du.prototype,"extensionLength",void 0),c([d(as)],Du.prototype,"size",void 0),Du=c([D("esri.symbols.edges.Edges3D")],Du);const jI=Du;var cS;let c1=cS=class extends jI{constructor(e){super(e),this.type="sketch"}clone(){return new cS(this.cloneProperties())}};c([Se({sketch:"sketch"},{readOnly:!0})],c1.prototype,"type",void 0),c1=cS=c([D("esri.symbols.edges.SketchEdges3D")],c1);const kde=c1;var uS;let u1=uS=class extends jI{constructor(e){super(e),this.type="solid"}clone(){return new uS(this.cloneProperties())}};c([Se({solid:"solid"},{readOnly:!0})],u1.prototype,"type",void 0),u1=uS=c([D("esri.symbols.support.SolidEdges3D")],u1);const _de=u1,$8={types:{key:"type",base:jI,typeMap:{solid:_de,sketch:kde}},json:{write:!0}};var dS;let $r=dS=class extends J{constructor(e){super(e),this.color=null}clone(){const e={color:T(this.color)?this.color.clone():null};return new dS(e)}};c([d(Wc)],$r.prototype,"color",void 0),$r=dS=c([D("esri.symbols.support.Symbol3DMaterial")],$r);var hS;let zl=hS=class extends ls{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new hS({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:T(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};c([Se({Extrude:"extrude"},{readOnly:!0})],zl.prototype,"type",void 0),c([d({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],zl.prototype,"size",void 0),c([d({type:$r,json:{write:!0}})],zl.prototype,"material",void 0),c([d({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],zl.prototype,"castShadows",void 0),c([d($8)],zl.prototype,"edges",void 0),zl=hS=c([D("esri.symbols.ExtrudeSymbol3DLayer")],zl);const VI=zl;let c0=class extends nr{constructor(e){super(e),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};c([Se({esriSLS:"simple-line"},{readOnly:!0})],c0.prototype,"type",void 0),c([d({type:Number,cast:ut,json:{write:!0}})],c0.prototype,"width",void 0),c0=c([D("esri.symbols.LineSymbol")],c0);const Sde=c0,Dde=["begin","end","begin-end"],C8=["arrow","circle","square","diamond","cross","x"];var pS;let Do=pS=class extends J{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,i,n){(n==null?void 0:n.origin)==="web-map"?t[i]="arrow":t[i]=e}set color(e){this._set("color",e)}readColor(e){return e&&e[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,i,n){(n==null?void 0:n.origin)==="web-map"||(t[i]=e)}clone(){return new pS({color:z(this.color),placement:this.placement,style:this.style})}hash(){var e;return`${this.placement}.${(e=this.color)==null?void 0:e.hash()}.${this.style}`}};c([d({type:["begin","end","begin-end"],json:{write:!0}})],Do.prototype,"placement",void 0),c([Se({"line-marker":"line-marker"},{readOnly:!0}),d({json:{origins:{"web-map":{write:!1}}}})],Do.prototype,"type",void 0),c([d({type:C8})],Do.prototype,"style",void 0),c([ue("style")],Do.prototype,"writeStyle",null),c([d({type:Re,value:null,json:{write:{allowNull:!0}}})],Do.prototype,"color",null),c([ae("color")],Do.prototype,"readColor",null),c([ue("color")],Do.prototype,"writeColor",null),Do=pS=c([D("esri.symbols.LineSymbolMarker")],Do);const $de=Do;var mS;const h2=new Ze({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Cs=mS=class extends Sde{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,i,n,r,a){if(e&&typeof e!="string")return e;const o={};return e!=null&&(o.style=e),t!=null&&(o.color=t),i!=null&&(o.width=ut(i)),n!=null&&(o.cap=n),r!=null&&(o.join=r),a!=null&&(o.miterLimit=ut(a)),o}clone(){var e;return new mS({color:z(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(e=this.marker)==null?void 0:e.clone()})}hash(){var e,t;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(t=this.marker)==null?void 0:t.hash()}`}};c([Se({esriSLS:"simple-line"},{readOnly:!0})],Cs.prototype,"type",void 0),c([d({type:h2.apiValues,json:{read:h2.read,write:h2.write}})],Cs.prototype,"style",void 0),c([d({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&(i==null||i.origin==null)})}}})],Cs.prototype,"cap",void 0),c([d({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&(i==null||i.origin==null)})}}})],Cs.prototype,"join",void 0),c([d({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":$de}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Cs.prototype,"marker",void 0),c([d({type:Number,json:{read:!1,write:!1}})],Cs.prototype,"miterLimit",void 0),Cs=mS=c([D("esri.symbols.SimpleLineSymbol")],Cs);const ho=Cs;let u0=class extends nr{constructor(e){super(e),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};c([d({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":ho}},json:{default:null,write:!0}})],u0.prototype,"outline",void 0),c([d({type:["simple-fill","picture-fill"],readOnly:!0})],u0.prototype,"type",void 0),u0=c([D("esri.symbols.FillSymbol")],u0);const I8=u0;let d1=class extends J{constructor(e){super(e)}clone(){}};c([d({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],d1.prototype,"type",void 0),d1=c([D("esri.symbols.patterns.LinePattern3D")],d1);const E8=d1,Cde=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var fS;const Ide=an()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let d0=fS=class extends E8{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new fS(e)}};c([d({type:["style"]})],d0.prototype,"type",void 0),c([Se(Ide),d({type:Cde})],d0.prototype,"style",void 0),d0=fS=c([D("esri.symbols.patterns.LineStylePattern3D")],d0);const HI=d0;let h1=class extends J{constructor(e){super(e)}clone(){}};c([d({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],h1.prototype,"type",void 0),h1=c([D("esri.symbols.patterns.Pattern3D")],h1);const T8=h1,Ede=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var gS;let h0=gS=class extends T8{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new gS(e)}};c([d({type:["style"]})],h0.prototype,"type",void 0),c([d({type:Ede,json:{read:!0,write:!0}})],h0.prototype,"style",void 0),h0=gS=c([D("esri.symbols.patterns.StylePattern3D")],h0);const M8=h0,Tde={types:{key:"type",base:T8,typeMap:{style:M8}},json:{write:!0}},A8={types:{key:"type",base:E8,typeMap:{style:HI}},json:{write:!0}},cg=new Re("white");new Re("black");const Mde=new Re([255,255,255,0]);function Ade(e){return e.r===0&&e.g===0&&e.b===0}var yS;let ug=yS=class extends $r{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:T(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode};return new yS(e)}};c([Se({multiply:"multiply",replace:"replace",tint:"tint"})],ug.prototype,"colorMixMode",void 0),ug=yS=c([D("esri.symbols.support.Symbol3DFillMaterial")],ug);function qd(e=Rde){return[e[0],e[1],e[2],e[3]]}function aTe(e){return[e[0],e[1],e[2],e[3]]}function oTe(e,t,i,n,r=qd()){return r[0]=e,r[1]=t,r[2]=i,r[3]=n,r}function sTe(e,t=qd()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function lTe(e,t){return new pt({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function cTe(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function Ode(e){return V(e)||e[0]>=e[2]?0:e[2]-e[0]}function Pde(e){return e[1]>=e[3]?0:e[3]-e[1]}function uTe(e){return Ode(e)*Pde(e)}function dTe(e,t,i){return t[0]>=e[0]-i&&t[1]>=e[1]-i&&t[0]<=e[2]+i&&t[1]<=e[3]+i}function hTe(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function Lde(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}const pTe=[1/0,1/0,-1/0,-1/0],Rde=[0,0,0,0];function qI(e=Vde){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function BI(e,t,i,n,r,a,o=qI()){return o[0]=e,o[1]=t,o[2]=i,o[3]=n,o[4]=r,o[5]=a,o}function mTe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function fTe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function Fde(e){return e[0]>=e[3]?0:e[3]-e[0]}function Nde(e){return e[1]>=e[4]?0:e[4]-e[1]}function zde(e){return e[2]>=e[5]?0:e[5]-e[2]}function gTe(e,t=[0,0,0]){return t[0]=Fde(e),t[1]=Nde(e),t[2]=zde(e),t}function yTe(e,t,i=e){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i!==e&&(i[3]=e[3],i[4]=e[4],i[5]=e[5]),i}function bTe(e,t,i=e){return i[3]=t[0],i[4]=t[1],i[5]=t[2],i!==e&&(i[0]=e[0],i[1]=e[1],i[2]=e[2]),e}function jde(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function vTe(e){return e?jde(e,ZO):qI(ZO)}function wTe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function YO(e){return e.length===6}function xTe(e,t,i){if(V(e)||V(t))return e===t;if(!YO(e)||!YO(t))return!1;if(i){for(let n=0;n<e.length;n++)if(!i(e[n],t[n]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const ZO=[1/0,1/0,1/0,-1/0,-1/0,-1/0],Vde=[0,0,0,0,0,0];qI();function kTe(e,{isPrimitive:t,width:i,depth:n,height:r}){const a=t?10:1;if(i==null&&r==null&&n==null)return[a*e[0],a*e[1],a*e[2]];const o=Rm(i,n,r);let s;for(let l=0;l<3;l++){const u=o[l];if(u!=null){s=u/e[l];break}}for(let l=0;l<3;l++)o[l]==null&&(o[l]=e[l]*s);return o}const Hde=BI(-.5,-.5,-.5,.5,.5,.5),qde=BI(-.5,-.5,0,.5,.5,1),Bde=BI(-.5,-.5,0,.5,.5,.5);function _Te(e){switch(e){case"sphere":case"cube":case"diamond":return Hde;case"cylinder":case"cone":case"inverted-cone":return qde;case"tetrahedron":return Bde;default:return}}const UI=["butt","square","round"],Ude=[...UI,"none"],O8=["miter","bevel","round"];var bS;let $u=bS=class extends J{constructor(e){super(e),this.color=new Re([0,0,0,1]),this.size=zc(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:T(this.color)?this.color.clone():null,size:this.size,pattern:T(this.pattern)?this.pattern.clone():null,patternCap:this.patternCap};return new bS(e)}};c([d(Wc)],$u.prototype,"color",void 0),c([d(as)],$u.prototype,"size",void 0),c([d(A8)],$u.prototype,"pattern",void 0),c([d({type:UI,json:{default:"butt",write:{overridePolicy(){return{enabled:T(this.pattern)}}}}})],$u.prototype,"patternCap",void 0),$u=bS=c([D("esri.symbols.support.Symbol3DOutline")],$u);var p1;let Is=p1=class extends ls{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:T(this.edges)?this.edges.clone():null,enabled:this.enabled,material:T(this.material)?this.material.clone():null,pattern:T(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:T(this.outline)?this.outline.clone():null};return new p1(e)}static fromSimpleFillSymbol(e){var t,i,n,r,a,o;const s=e.outline&&e.outline.style&&e.outline.style!=="inside-frame"&&e.outline.style!=="solid"?new HI({style:e.outline.style}):null,l={size:(t=(i=e.outline)==null?void 0:i.width)!=null?t:0,color:((n=(r=e.outline)==null?void 0:r.color)!=null?n:cg).clone(),pattern:s};return s&&(a=e.outline)!=null&&a.cap&&(l.patternCap=e.outline.cap),new p1({material:new ug({color:((o=e.color)!=null?o:Mde).clone()}),pattern:e.style&&e.style!=="solid"?new M8({style:e.style}):null,outline:l})}};c([Se({Fill:"fill"},{readOnly:!0})],Is.prototype,"type",void 0),c([d({type:ug,json:{write:!0}})],Is.prototype,"material",void 0),c([d(Tde)],Is.prototype,"pattern",void 0),c([d({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Is.prototype,"castShadows",void 0),c([d({type:$u,json:{write:!0}})],Is.prototype,"outline",void 0),c([d($8)],Is.prototype,"edges",void 0),Is=p1=c([D("esri.symbols.FillSymbol3DLayer")],Is);const Fy=Is,Gde=["none","underline","line-through"],Wde=["normal","italic","oblique"],Jde=["normal","lighter","bold","bolder"],P8={type:Number,cast:e=>{const t=ia(e);return t===0?1:ha(t,.1,4)},nonNullable:!0},Kde=["left","right","center","justify"],Yde=["left","right","center"],Zde=["baseline","top","middle","bottom"],Xde={type:Kde,nonNullable:!0},Qde={type:Yde,nonNullable:!0},L8={type:Zde,nonNullable:!0};var vS;let Es=vS=class extends J{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return ut(e)}clone(){return new vS({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};c([d({type:Gde,json:{default:"none",write:!0}})],Es.prototype,"decoration",void 0),c([d({type:String,json:{write:!0}})],Es.prototype,"family",void 0),c([d({type:Number,json:{write:{overridePolicy:(e,t,i)=>({enabled:!i||!i.textSymbol3D})}}})],Es.prototype,"size",void 0),c([nt("size")],Es.prototype,"castSize",null),c([d({type:Wde,json:{default:"normal",write:!0}})],Es.prototype,"style",void 0),c([d({type:Jde,json:{default:"normal",write:!0}})],Es.prototype,"weight",void 0),Es=vS=c([D("esri.symbols.Font")],Es);const xk=Es;function zm(e,t){const i=t&&t.url&&t.url.path;if(e&&i&&(e=Ya(e,i,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const n=uI(e,t.portalItem.itemUrl);the.test(n)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(n).path)}return wS(e,t&&t.portal)}function Ny(e,t,i=Ug.YES){if(!e)return e;!Sr(e)&&t&&t.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let n=Ya(e);if(t){const r=t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.rootPath||t.url&&t.url.path;if(r){const a=wS(r,t.portal);n=uI(wS(n,t.portal),a,a),n!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=nhe(n,t&&t.portal),Sr(n)&&(n=eo(n)),t!=null&&t.resources&&t!=null&&t.portalItem&&!Sr(n)&&!Qd(n)&&i===Ug.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n)}),n}function GI(e,t,i){return zm(e,i)}function Bd(e,t,i,n){const r=Ny(e,n);r!==void 0&&(t[i]=r)}const ehe=/\/items\/([^\/]+)\/resources\//,the=/^\.\/resources\//;function ihe(e){const t=T(e)?e.match(ehe):null;return T(t)?t[1]:null}function nhe(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?g5(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function wS(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const i=`${t.urlKey}.${t.customBaseUrl}`,n=z6();return zw(n,`${n.scheme}://${i}`)?g5(e,t.portalHostname,i):g5(e,i,t.portalHostname)}var Ug;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(Ug||(Ug={}));const STe=Object.freeze({__proto__:null,fromJSON:zm,toJSON:Ny,read:GI,write:Bd,itemIdFromResourceUrl:ihe,get MarkKeep(){return Ug}});var xS;const rhe=an()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let Cu=xS=class extends J{constructor(e){super(e)}readHref(e,t,i){return e?zm(e,i):t.dataURI}writeHref(e,t,i,n){e&&(Qd(e)?t.dataURI=e:(t.href=Ny(e,n),Sr(t.href)&&(t.href=eo(t.href))))}clone(){return new xS({href:this.href,primitive:this.primitive})}};c([d({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],Cu.prototype,"href",void 0),c([ae("href")],Cu.prototype,"readHref",null),c([ue("href",{href:{type:String},dataURI:{type:String}})],Cu.prototype,"writeHref",null),c([Se(rhe)],Cu.prototype,"primitive",void 0),Cu=xS=c([D("esri.symbols.support.IconSymbol3DLayerResource")],Cu);var kS;let kp=kS=class extends ge{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new kS({x:this.x,y:this.y})}};c([d({type:Number})],kp.prototype,"x",void 0),c([d({type:Number})],kp.prototype,"y",void 0),kp=kS=c([D("esri.symbols.support.Symbol3DAnchorPosition2D")],kp);var _S;let p0=_S=class extends J{constructor(e){super(e),this.color=new Re([0,0,0,1]),this.size=zc(1)}clone(){const e={color:T(this.color)?this.color.clone():null,size:this.size};return new _S(e)}};c([d(Wc)],p0.prototype,"color",void 0),c([d(as)],p0.prototype,"size",void 0),p0=_S=c([D("esri.symbols.support.Symbol3DIconOutline")],p0);var Bh;const ahe=Q.getLogger("esri.symbols.IconSymbol3DLayer");let $o=Bh=class extends ls{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=void 0,this.outline=void 0}clone(){return new Bh({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:T(this.material)?this.material.clone():null,outline:T(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||cg,i=XO(e),n=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||cg).clone()}:null;return new Bh({size:e.size,resource:{primitive:she(e.style)},material:{color:t},outline:n,anchor:i?"relative":void 0,anchorPosition:i})}static fromPictureMarkerSymbol(e){const t=!e.color||Ade(e.color)?cg:e.color,i=XO(e);return new Bh({size:e.width<=e.height?e.height:e.width,resource:{href:e.url},material:{color:t.clone()},anchor:i?"relative":void 0,anchorPosition:i})}static fromCIMSymbol(e){return new Bh({resource:{href:U6({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};function XO(e){const t="width"in e?e.width:e.size,i="height"in e?e.height:e.size,n=QO(e.xoffset),r=QO(e.yoffset);return(n||r)&&t&&i?{x:-n/t,y:r/i}:null}function QO(e){return isFinite(e)?e:0}c([d({type:$r,json:{write:!0}})],$o.prototype,"material",void 0),c([d({type:Cu,json:{write:!0}})],$o.prototype,"resource",void 0),c([Se({Icon:"icon"},{readOnly:!0})],$o.prototype,"type",void 0),c([d(as)],$o.prototype,"size",void 0),c([Se({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),d({json:{default:"center"}})],$o.prototype,"anchor",void 0),c([d({type:kp,json:{type:[Number],read:{reader:e=>new kp({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],$o.prototype,"anchorPosition",void 0),c([d({type:p0,json:{write:!0}})],$o.prototype,"outline",void 0),$o=Bh=c([D("esri.symbols.IconSymbol3DLayer")],$o);const ohe={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function she(e){return ohe[e]||(ahe.warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const Sc=$o;Q.getLogger("esri.core.Clonable");const cs=e=>{let t=class extends e{clone(){const i=Ore(Mn(this),"unable to clone instance of non-accessor class"),n=i.metadatas,r=i.store,a={},o=new Map;for(const u in n){const h=n[u],m=r==null?void 0:r.originOf(u),f=h.clonable;if(h.readOnly||f===!1||m!==Xe.USER&&m!==Xe.DEFAULTS&&m!==Xe.WEB_MAP&&m!==Xe.WEB_SCENE)continue;const g=this[u];let b=null;b=typeof f=="function"?f(g):f==="reference"?g:Q3(g),g!=null&&b==null||(m===Xe.DEFAULTS?o.set(u,b):a[u]=b)}const s=new(Object.getPrototypeOf(this)).constructor(a);if(o.size){var l;const u=(l=Mn(s))==null?void 0:l.store;if(u)for(const[h,m]of o)u.set(h,m,Xe.DEFAULTS)}return s}};return t=c([D("esri.core.Clonable")],t),t};let eP=class extends cs(ge){};eP=c([D("esri.core.Clonable")],eP);let Iu=class extends cs(J){constructor(e){super(e),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(e){return T(e)&&e.placement===this.placement&&e.style===this.style&&(V(this.color)&&V(e.color)||T(this.color)&&T(e.color)&&this.color.toJSON()===e.color.toJSON())}};c([d({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Iu.prototype,"type",void 0),c([d({type:Dde,json:{default:"begin-end",write:!0}})],Iu.prototype,"placement",void 0),c([d({type:C8,json:{default:"arrow",write:!0}})],Iu.prototype,"style",void 0),c([d({type:Re,json:{type:[$t],default:null,write:!0}})],Iu.prototype,"color",void 0),Iu=c([D("esri.symbols.LineStyleMarker3D")],Iu);const SS=Iu;var m1;let Co=m1=class extends ls{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=zc(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:T(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:T(this.pattern)?this.pattern.clone():null,marker:T(this.marker)?this.marker.clone():null};return new m1(e)}static fromSimpleLineSymbol(e){var t,i,n;const r={enabled:!0,size:(t=e.width)!=null?t:zc(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style&&e.style!=="inside-frame"?new HI({style:e.style}):null,material:new $r({color:(e.color||cg).clone()}),marker:e.marker?new SS({placement:e.marker.placement,style:e.marker.style,color:(i=(n=e.marker.color)==null?void 0:n.clone())!=null?i:null}):null};return new m1(r)}};c([d({type:$r,json:{write:!0}})],Co.prototype,"material",void 0),c([Se({Line:"line"},{readOnly:!0})],Co.prototype,"type",void 0),c([d({type:O8,json:{write:!0,default:"miter"}})],Co.prototype,"join",void 0),c([d({type:UI,json:{write:!0,default:"butt"}})],Co.prototype,"cap",void 0),c([d(as)],Co.prototype,"size",void 0),c([d(A8)],Co.prototype,"pattern",void 0),c([d({types:{key:"type",base:SS,typeMap:{style:SS}},json:{write:!0}})],Co.prototype,"marker",void 0),Co=m1=c([D("esri.symbols.LineSymbol3DLayer")],Co);const jm=Co;var DS;const lhe=an()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let m0=DS=class extends J{clone(){return new DS({href:this.href,primitive:this.primitive})}};c([d({type:String,json:{read:GI,write:Bd}})],m0.prototype,"href",void 0),c([Se(lhe)],m0.prototype,"primitive",void 0),m0=DS=c([D("esri.symbols.support.ObjectSymbol3DLayerResource")],m0);var $S;let ed=$S=class extends ge{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new $S({x:this.x,y:this.y,z:this.z})}};c([d({type:Number})],ed.prototype,"x",void 0),c([d({type:Number})],ed.prototype,"y",void 0),c([d({type:Number})],ed.prototype,"z",void 0),ed=$S=c([D("esri.symbols.support.Symbol3DAnchorPosition3D")],ed);var CS;let ln=CS=class extends ls{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new CS({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:T(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};c([d({type:$r,json:{write:!0}})],ln.prototype,"material",void 0),c([d({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ln.prototype,"castShadows",void 0),c([d({type:m0,json:{write:!0}})],ln.prototype,"resource",void 0),c([Se({Object:"object"},{readOnly:!0})],ln.prototype,"type",void 0),c([d({type:Number,json:{write:!0}})],ln.prototype,"width",void 0),c([d({type:Number,json:{write:!0}})],ln.prototype,"height",void 0),c([d({type:Number,json:{write:!0}})],ln.prototype,"depth",void 0),c([Se({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),d({json:{default:"origin"}})],ln.prototype,"anchor",void 0),c([d({type:ed,json:{type:[Number],read:{reader:e=>new ed({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],ln.prototype,"anchorPosition",void 0),c([d({type:Number,json:{write:!0}})],ln.prototype,"heading",void 0),c([d({type:Number,json:{write:!0}})],ln.prototype,"tilt",void 0),c([d({type:Number,json:{write:!0}})],ln.prototype,"roll",void 0),c([d({readOnly:!0})],ln.prototype,"isPrimitive",null),ln=CS=c([D("esri.symbols.ObjectSymbol3DLayer")],ln);const kk=ln;var IS;let wn=IS=class extends ls{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e!=null?e:t.height==null&&t.size!=null?t.size:void 0}readHeight(e,t){return e!=null?e:t.width==null&&t.size!=null?t.size:void 0}clone(){return new IS({enabled:this.enabled,material:T(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};c([d({type:$r,json:{write:!0}})],wn.prototype,"material",void 0),c([d({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],wn.prototype,"castShadows",void 0),c([Se({Path:"path"},{readOnly:!0})],wn.prototype,"type",void 0),c([d({type:["circle","quad"],json:{write:!0,default:"circle"}})],wn.prototype,"profile",void 0),c([d({type:O8,json:{write:!0,default:"miter"}})],wn.prototype,"join",void 0),c([d({type:Ude,json:{write:!0,default:"butt"}})],wn.prototype,"cap",void 0),c([d({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],wn.prototype,"width",void 0),c([ae("width",["width","size","height"])],wn.prototype,"readWidth",null),c([d({type:Number,json:{write:!0}})],wn.prototype,"height",void 0),c([ae("height",["height","size","width"])],wn.prototype,"readHeight",null),c([d({type:["center","bottom","top"],json:{write:!0,default:"center"}})],wn.prototype,"anchor",void 0),c([d({type:["heading","all"],json:{write:!0,default:"all"}})],wn.prototype,"profileRotation",void 0),wn=IS=c([D("esri.symbols.PathSymbol3DLayer")],wn);const WI=wn;var ES;let _p=ES=class extends J{constructor(){super(...arguments),this.color=new Re([0,0,0,1]),this.size=0}clone(){const e={color:z(this.color),size:this.size};return new ES(e)}};c([d(Wc)],_p.prototype,"color",void 0),c([d(as)],_p.prototype,"size",void 0),_p=ES=c([D("esri.symbols.support.Symbol3DHalo")],_p);let dg=class extends cs(J){constructor(e){super(e),this.color=null}};c([d(Wc)],dg.prototype,"color",void 0),dg=c([D("esri.symbols.support.Symbol3DTextBackground")],dg);var f1;let Rn=f1=class extends ls{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){T(e)&&T(this._userSize)&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,i,n){const r=le($({},n),{textSymbol3D:!0});t.font=e.write({},r),delete t.font.size}get size(){return T(this._userSize)?this._userSize:T(this.font)&&this.font.size!=null?this.font.size:9}set size(e){this._userSize=e,T(this.font)&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new f1({enabled:this.enabled,font:this.font&&z(this.font),halo:this.halo&&z(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:T(this.material)?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:z(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new f1({font:T(e.font)?e.font.clone():new xk,halo:che(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new $r({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new dg({color:e.backgroundColor.clone()}):null})}};function che(e,t){return e&&t>0?new _p({color:z(e),size:t}):null}c([d({type:xk,json:{write:!0}})],Rn.prototype,"font",null),c([ue("font")],Rn.prototype,"writeFont",null),c([d({type:_p,json:{write:!0}})],Rn.prototype,"halo",void 0),c([d(le($({},Qde),{json:{default:"center",write:!0}}))],Rn.prototype,"horizontalAlignment",void 0),c([d(le($({},P8),{json:{default:1,write:!0}}))],Rn.prototype,"lineHeight",void 0),c([d({type:$r,json:{write:!0}})],Rn.prototype,"material",void 0),c([d({type:dg,json:{write:!0}})],Rn.prototype,"background",void 0),c([d(as)],Rn.prototype,"size",null),c([d({type:String,json:{write:!0}})],Rn.prototype,"text",void 0),c([Se({Text:"text"},{readOnly:!0})],Rn.prototype,"type",void 0),c([d(le($({},L8),{json:{default:"baseline",write:!0}}))],Rn.prototype,"verticalAlignment",void 0),Rn=f1=c([D("esri.symbols.TextSymbol3DLayer")],Rn);const Vm=Rn;var TS;let jl=TS=class extends ls{constructor(e){super(e),this.color=MS.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new TS({color:z(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};c([d({type:Re,nonNullable:!0,json:{type:[$t],write:(e,t,i)=>t[i]=e.toArray(Re.AlphaMode.UNLESS_OPAQUE),default:()=>MS.clone(),defaultEquals:e=>e.toCss(!0)===MS.toCss(!0)}})],jl.prototype,"color",void 0),c([Se({Water:"water"},{readOnly:!0})],jl.prototype,"type",void 0),c([d({type:["small","medium","large"],json:{write:!0,default:"medium"}})],jl.prototype,"waterbodySize",void 0),c([d({type:Number,json:{write:!0,default:null}})],jl.prototype,"waveDirection",void 0),c([d({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],jl.prototype,"waveStrength",void 0),jl=TS=c([D("esri.symbols.WaterSymbol3DLayer")],jl);const MS=new Re([0,119,190]),JI=jl;var AS;let Eu=AS=class extends ge{constructor(){super(...arguments),this.portal=null}clone(){return new AS({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};c([d({type:String})],Eu.prototype,"name",void 0),c([d({type:String})],Eu.prototype,"styleUrl",void 0),c([d({type:String})],Eu.prototype,"styleName",void 0),c([d({type:Er})],Eu.prototype,"portal",void 0),Eu=AS=c([D("esri.symbols.support.StyleOrigin")],Eu);const OS=Eu;var PS;let hg=PS=class extends ge{clone(){return new PS({url:this.url})}};c([d({type:String})],hg.prototype,"url",void 0),hg=PS=c([D("esri.symbols.support.Thumbnail")],hg);const R8={icon:Sc,object:kk,line:jm,path:WI,fill:Fy,extrude:VI,text:Vm,water:JI},uhe=_e.ofType({base:ls,key:"type",typeMap:R8,errorContext:"symbol-layer"}),dhe=Q.getLogger("esri.symbols.Symbol3D");let Io=class extends nr{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;const t=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers,i=t&&t.type||_e;this._set("symbolLayers",new i)}get color(){return null}set color(e){this.initialized&&dhe.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(e){Ld(e,this._get("symbolLayers"))}readStyleOrigin(e,t,i){if(e.styleUrl&&e.name){const n=zm(e.styleUrl,i);return new OS({styleUrl:n,name:e.name})}if(e.styleName&&e.name)return new OS({portal:i&&i.portal||Er.getDefault(),styleName:e.styleName,name:e.name});i&&i.messages&&i.messages.push(new An("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:i,definition:e}))}writeStyleOrigin(e,t,i,n){if(e.styleUrl&&e.name){let r=Ny(e.styleUrl,n);Sr(r)&&(r=eo(r)),t.styleOrigin={styleUrl:r,name:e.name}}else e.styleName&&e.name&&(e.portal&&n&&n.portal&&!H6(e.portal.restUrl,n.portal.restUrl)?n&&n.messages&&n.messages.push(new An("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):t.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof ls||e&&R8[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};c([d({json:{read:!1,write:!1}})],Io.prototype,"color",null),c([d({type:uhe,nonNullable:!0,json:{write:!0}}),nt(E6)],Io.prototype,"symbolLayers",null),c([d({type:OS})],Io.prototype,"styleOrigin",void 0),c([ae("styleOrigin")],Io.prototype,"readStyleOrigin",null),c([ue("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],Io.prototype,"writeStyleOrigin",null),c([d({type:hg,json:{read:!1}})],Io.prototype,"thumbnail",void 0),c([d({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],Io.prototype,"type",void 0),Io=c([D("esri.symbols.Symbol3D")],Io);const Hm=Io;let f0=class extends J{constructor(e){super(e),this.visible=!0}clone(){}};c([d({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],f0.prototype,"type",void 0),c([d({readOnly:!0})],f0.prototype,"visible",void 0),f0=c([D("esri.symbols.callouts.Callout3D")],f0);const F8=f0;var LS;let pg=LS=class extends J{constructor(){super(...arguments),this.color=new Re("white")}clone(){return new LS({color:z(this.color)})}};c([d(Wc)],pg.prototype,"color",void 0),pg=LS=c([D("esri.symbols.callouts.LineCallout3DBorder")],pg);const N8=pg;Object.freeze({__proto__:null,get LineCallout3DBorder(){return pg},default:N8});var RS;let Vl=RS=class extends F8{constructor(e){super(e),this.type="line",this.color=new Re([0,0,0,1]),this.size=zc(1),this.border=null}get visible(){return this.size>0&&T(this.color)&&this.color.a>0}clone(){return new RS({color:z(this.color),size:this.size,border:z(this.border)})}};c([Se({line:"line"},{readOnly:!0})],Vl.prototype,"type",void 0),c([d(Wc)],Vl.prototype,"color",void 0),c([d(as)],Vl.prototype,"size",void 0),c([d({type:N8,json:{write:!0}})],Vl.prototype,"border",void 0),c([d({readOnly:!0})],Vl.prototype,"visible",null),Vl=RS=c([D("esri.symbols.callouts.LineCallout3D")],Vl);const hhe=Vl;function KI(e){if(!e)return!1;const t=e.verticalOffset;return!!t&&!(t.screenLength<=0||t.maxWorldLength<=0)}function z8(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t&&!!t.visible&&!!KI(e)}const j8={types:{key:"type",base:F8,typeMap:{line:hhe}},json:{write:!0}};var FS;let td=FS=class extends J{constructor(){super(...arguments),this.screenLength=0,this.minWorldLength=0}clone(){return new FS({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};c([d(as)],td.prototype,"screenLength",void 0),c([d({type:Number,json:{write:!0,default:0}})],td.prototype,"minWorldLength",void 0),c([d({type:Number,json:{write:!0}})],td.prototype,"maxWorldLength",void 0),td=FS=c([D("esri.symbols.support.Symbol3DVerticalOffset")],td);var g1;const V8=_e.ofType({base:null,key:"type",typeMap:{text:Vm}});let Hl=g1=class extends Hm{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new V8,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return z8(this)}hasVisibleVerticalOffset(){return KI(this)}clone(){return new g1({styleOrigin:z(this.styleOrigin),symbolLayers:z(this.symbolLayers),thumbnail:z(this.thumbnail),callout:z(this.callout),verticalOffset:z(this.verticalOffset)})}static fromTextSymbol(e){return new g1({symbolLayers:[Vm.fromTextSymbol(e)]})}};c([d({type:td,json:{write:!0}})],Hl.prototype,"verticalOffset",void 0),c([d(j8)],Hl.prototype,"callout",void 0),c([d({json:{read:!1,write:!1}})],Hl.prototype,"styleOrigin",void 0),c([d({type:V8})],Hl.prototype,"symbolLayers",void 0),c([Se({LabelSymbol3D:"label-3d"},{readOnly:!0})],Hl.prototype,"type",void 0),Hl=g1=c([D("esri.symbols.LabelSymbol3D")],Hl);const _k=Hl;var y1;const H8=_e.ofType({base:null,key:"type",typeMap:{line:jm,path:WI}}),phe=_e.ofType({base:null,key:"type",typeMap:{line:jm,path:WI}});let g0=y1=class extends Hm{constructor(e){super(e),this.symbolLayers=new H8,this.type="line-3d"}clone(){return new y1({styleOrigin:z(this.styleOrigin),symbolLayers:z(this.symbolLayers),thumbnail:z(this.thumbnail)})}static fromSimpleLineSymbol(e){return new y1({symbolLayers:[jm.fromSimpleLineSymbol(e)]})}};c([d({type:H8,json:{type:phe}})],g0.prototype,"symbolLayers",void 0),c([Se({LineSymbol3D:"line-3d"},{readOnly:!0})],g0.prototype,"type",void 0),g0=y1=c([D("esri.symbols.LineSymbol3D")],g0);const Sk=g0;let ql=class extends nr{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};c([d({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],ql.prototype,"angle",void 0),c([d({type:["simple-marker","picture-marker"],readOnly:!0})],ql.prototype,"type",void 0),c([d({type:Number,cast:ut,json:{write:!0}})],ql.prototype,"xoffset",void 0),c([d({type:Number,cast:ut,json:{write:!0}})],ql.prototype,"yoffset",void 0),c([d({type:Number,cast:e=>e==="auto"?e:ut(e),json:{write:!0}})],ql.prototype,"size",void 0),ql=c([D("esri.symbols.MarkerSymbol")],ql);const q8=ql;var NS;const B8=_e.ofType({base:null,key:"type",typeMap:{fill:Fy}});let y0=NS=class extends Hm{constructor(e){super(e),this.symbolLayers=new B8,this.type="mesh-3d"}clone(){return new NS({styleOrigin:z(this.styleOrigin),symbolLayers:z(this.symbolLayers),thumbnail:z(this.thumbnail)})}};c([d({type:B8})],y0.prototype,"symbolLayers",void 0),c([Se({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],y0.prototype,"type",void 0),y0=NS=c([D("esri.symbols.MeshSymbol3D")],y0);const YI=y0;function mhe(e,t,i){return t.imageData?U6({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):U8(t.url,i)}function U8(e,t){return ghe(t)&&!Sr(e)&&t.layer.parsedUrl?Lc(t.layer.parsedUrl.path,"images",e):zm(e,t)}function fhe(e,t,i,n){if(Qd(e)){const r=B6(e);t.contentType=r.mediaType,t.imageData=r.data,i&&i.imageData===t.imageData&&i.url&&Bd(i.url,t,"url",n)}else Bd(e,t,"url",n)}const G8={json:{read:{source:["imageData","url"],reader:mhe},write:{writer(e,t,i,n){fhe(e,t,this.source,n)}}}},W8={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,i){const n={};return t.imageData&&(n.imageData=t.imageData),t.contentType&&(n.contentType=t.contentType),t.url&&(n.url=U8(t.url,i)),n}}}};function ghe(e){return e&&(e.origin==="service"||e.origin==="portal-item")&&e.layer&&(e.layer.type==="feature"||e.layer.type==="stream")}var zS;let Wr=zS=class extends I8{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,i,n){if(e&&typeof e!="string"&&e.imageData==null)return e;const r={};return e&&(r.url=e),t&&(r.outline=t),i!=null&&(r.width=ut(i)),n!=null&&(r.height=ut(n)),r}clone(){const e=new zS({color:z(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",z(this.source)),e}hash(){var e;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};c([Se({esriPFS:"picture-fill"},{readOnly:!0})],Wr.prototype,"type",void 0),c([d(G8)],Wr.prototype,"url",void 0),c([d({type:Number,json:{write:!0}})],Wr.prototype,"xscale",void 0),c([d({type:Number,json:{write:!0}})],Wr.prototype,"yscale",void 0),c([d({type:Number,cast:ut,json:{write:!0}})],Wr.prototype,"width",void 0),c([d({type:Number,cast:ut,json:{write:!0}})],Wr.prototype,"height",void 0),c([d({type:Number,cast:ut,json:{write:!0}})],Wr.prototype,"xoffset",void 0),c([d({type:Number,cast:ut,json:{write:!0}})],Wr.prototype,"yoffset",void 0),c([d(W8)],Wr.prototype,"source",void 0),Wr=zS=c([D("esri.symbols.PictureFillSymbol")],Wr);const J8=Wr;var jS;let Oa=jS=class extends q8{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string"&&e.imageData==null)return e;const n={};return e&&(n.url=e),t!=null&&(n.width=ut(t)),i!=null&&(n.height=ut(i)),n}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new jS({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",z(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};c([d({json:{write:!1}})],Oa.prototype,"color",void 0),c([Se({esriPMS:"picture-marker"},{readOnly:!0})],Oa.prototype,"type",void 0),c([d(G8)],Oa.prototype,"url",void 0),c([d(W8)],Oa.prototype,"source",void 0),c([d({type:Number,cast:ut,json:{write:!0}})],Oa.prototype,"height",void 0),c([ae("height",["height","size"])],Oa.prototype,"readHeight",null),c([d({type:Number,cast:ut,json:{write:!0}})],Oa.prototype,"width",void 0),c([d({json:{write:!1}})],Oa.prototype,"size",void 0),Oa=jS=c([D("esri.symbols.PictureMarkerSymbol")],Oa);const Dk=Oa;var Bl;const K8=_e.ofType({base:null,key:"type",typeMap:{icon:Sc,object:kk,text:Vm}});let Tu=Bl=class extends Hm{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new K8,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return z8(this)}hasVisibleVerticalOffset(){return KI(this)}clone(){return new Bl({verticalOffset:z(this.verticalOffset),callout:z(this.callout),styleOrigin:z(this.styleOrigin),symbolLayers:z(this.symbolLayers),thumbnail:z(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new Bl({symbolLayers:[Sc.fromSimpleMarkerSymbol(e)]})}static fromPictureMarkerSymbol(e){return new Bl({symbolLayers:[Sc.fromPictureMarkerSymbol(e)]})}static fromCIMSymbol(e){var t,i;return((t=e.data)==null||(i=t.symbol)==null?void 0:i.type)!=="CIMPointSymbol"?null:e.data.symbol.callout?new Bl({symbolLayers:[Sc.fromCIMSymbol(e)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}):new Bl({symbolLayers:[Sc.fromCIMSymbol(e)]})}static fromTextSymbol(e){return new Bl({symbolLayers:[Vm.fromTextSymbol(e)]})}};c([d({type:td,json:{write:!0}})],Tu.prototype,"verticalOffset",void 0),c([d(j8)],Tu.prototype,"callout",void 0),c([d({type:K8,json:{origins:{"web-scene":{write:!0}}}})],Tu.prototype,"symbolLayers",void 0),c([Se({PointSymbol3D:"point-3d"},{readOnly:!0})],Tu.prototype,"type",void 0),Tu=Bl=c([D("esri.symbols.PointSymbol3D")],Tu);const sd=Tu;var b0;const Y8=_e.ofType({base:null,key:"type",typeMap:{extrude:VI,fill:Fy,icon:Sc,line:jm,object:kk,text:Vm,water:JI}}),yhe=_e.ofType({base:null,key:"type",typeMap:{extrude:VI,fill:Fy,icon:Sc,line:jm,object:kk,water:JI}});let Uh=b0=class extends Hm{constructor(e){super(e),this.symbolLayers=new Y8,this.type="polygon-3d"}writeSymbolLayers(e,t,i,n){const r=e.filter(a=>a.type!=="text");if(n&&n.messages&&r.length<e.length){const a=e.find(o=>o.type==="text");n.messages.push(new L("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:a}))}t[i]=r.map(a=>a.write({},n)).toArray()}clone(){return new b0({styleOrigin:z(this.styleOrigin),symbolLayers:z(this.symbolLayers),thumbnail:z(this.thumbnail)})}static fromJSON(e){const t=new b0;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.getItemAt(0).type==="fill"&&t.symbolLayers.getItemAt(1).type==="line"){const i=t.symbolLayers.getItemAt(0),n=t.symbolLayers.getItemAt(1);!n.enabled||e.symbolLayers&&e.symbolLayers[1]&&e.symbolLayers[1].enable===!1||(i.outline={size:n.size,color:T(n.material)?n.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new b0({symbolLayers:[Fy.fromSimpleFillSymbol(e)]})}};c([d({type:Y8,json:{type:yhe}})],Uh.prototype,"symbolLayers",void 0),c([ue("web-scene","symbolLayers")],Uh.prototype,"writeSymbolLayers",null),c([Se({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],Uh.prototype,"type",void 0),Uh=b0=c([D("esri.symbols.PolygonSymbol3D")],Uh);const zy=Uh;var VS;const p2=new Ze({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let Mu=VS=class extends I8{constructor(...e){super(...e),this.color=new Re([0,0,0,.25]),this.outline=new ho,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const n={};return e&&(n.style=e),t&&(n.outline=t),i&&(n.color=i),n}clone(){return new VS({color:z(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};c([d()],Mu.prototype,"color",void 0),c([d()],Mu.prototype,"outline",void 0),c([Se({esriSFS:"simple-fill"},{readOnly:!0})],Mu.prototype,"type",void 0),c([d({type:p2.apiValues,json:{read:p2.read,write:p2.write}})],Mu.prototype,"style",void 0),Mu=VS=c([D("esri.symbols.SimpleFillSymbol")],Mu);const nh=Mu;var HS;const m2=new Ze({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let Eo=HS=class extends q8{constructor(...e){super(...e),this.color=new Re([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new ho}normalizeCtorArgs(e,t,i,n){if(e&&typeof e!="string")return e;const r={};return e&&(r.style=e),t!=null&&(r.size=ut(t)),i&&(r.outline=i),n&&(r.color=n),r}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new HS({angle:this.angle,color:z(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(e=this.outline)==null?void 0:e.hash()}`}};c([d()],Eo.prototype,"color",void 0),c([ue("color")],Eo.prototype,"writeColor",null),c([Se({esriSMS:"simple-marker"},{readOnly:!0})],Eo.prototype,"type",void 0),c([d()],Eo.prototype,"size",void 0),c([d({type:m2.apiValues,json:{read:m2.read,write:m2.write}})],Eo.prototype,"style",void 0),c([d({type:String,json:{write:!0}})],Eo.prototype,"path",null),c([d({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":ho}},json:{default:null,write:!0}})],Eo.prototype,"outline",void 0),Eo=HS=c([D("esri.symbols.SimpleMarkerSymbol")],Eo);const qm=Eo;var qS;let Mt=qS=class extends nr{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new xk,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const n={};return e&&(n.text=e),t&&(n.font=t),i&&(n.color=i),n}writeLineWidth(e,t,i,n){n&&typeof n!="string"?n.origin:t[i]=e}castLineWidth(e){return ut(e)}writeLineHeight(e,t,i,n){n&&typeof n!="string"?n.origin:t[i]=e}clone(){return new qS({angle:this.angle,backgroundColor:z(this.backgroundColor),borderLineColor:z(this.borderLineColor),borderLineSize:this.borderLineSize,color:z(this.color),font:this.font&&this.font.clone(),haloColor:z(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color.hash()}.${this.font&&this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};c([d({type:Re,json:{write:!0}})],Mt.prototype,"backgroundColor",void 0),c([d({type:Re,json:{write:!0}})],Mt.prototype,"borderLineColor",void 0),c([d({type:Number,json:{write:!0}})],Mt.prototype,"borderLineSize",void 0),c([d({type:xk,json:{write:!0}})],Mt.prototype,"font",void 0),c([d(le($({},Xde),{json:{write:!0}}))],Mt.prototype,"horizontalAlignment",void 0),c([d({type:Boolean,json:{write:!0}})],Mt.prototype,"kerning",void 0),c([d({type:Re,json:{write:!0}})],Mt.prototype,"haloColor",void 0),c([d({type:Number,cast:ut,json:{write:!0}})],Mt.prototype,"haloSize",void 0),c([d({type:Boolean,json:{write:!0}})],Mt.prototype,"rightToLeft",void 0),c([d({type:Boolean,json:{write:!0}})],Mt.prototype,"rotated",void 0),c([d({type:String,json:{write:!0}})],Mt.prototype,"text",void 0),c([Se({esriTS:"text"},{readOnly:!0})],Mt.prototype,"type",void 0),c([d(le($({},L8),{json:{write:!0}}))],Mt.prototype,"verticalAlignment",void 0),c([d({type:Number,cast:ut,json:{write:!0}})],Mt.prototype,"xoffset",void 0),c([d({type:Number,cast:ut,json:{write:!0}})],Mt.prototype,"yoffset",void 0),c([d({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Mt.prototype,"angle",void 0),c([d({type:Number,json:{write:!0}})],Mt.prototype,"width",void 0),c([d({type:Number})],Mt.prototype,"lineWidth",void 0),c([ue("lineWidth")],Mt.prototype,"writeLineWidth",null),c([nt("lineWidth")],Mt.prototype,"castLineWidth",null),c([d(P8)],Mt.prototype,"lineHeight",void 0),c([ue("lineHeight")],Mt.prototype,"writeLineHeight",null),Mt=qS=c([D("esri.symbols.TextSymbol")],Mt);const Bm=Mt;var BS;const bhe=Q.getLogger("esri.symbols.WebStyleSymbol");let To=BS=class extends nr{constructor(e){super(e),this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}read(e,t){this.portal=t?t.portal:void 0,super.read(e,t)}clone(){return new BS({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol("webRef",e)}fetchCIMSymbol(e){return this._fetchSymbol("cimRef",e)}async _fetchSymbol(e,t){const i=await vhe();pi(t);const n=i.resolveWebStyleSymbol(this,{portal:this.portal},e,t);return n.catch(r=>{bhe.error("#fetchSymbol()","Failed to create symbol from style",r)}),n}};function vhe(){return import("./webStyleSymbolUtils.a6e1992d.js")}c([d({json:{write:!1}})],To.prototype,"color",void 0),c([d({type:String,json:{write:!0}})],To.prototype,"styleName",void 0),c([d({type:Er,json:{write:!1}})],To.prototype,"portal",void 0),c([d({type:String,json:{read:GI,write:Bd}})],To.prototype,"styleUrl",void 0),c([d({type:hg,json:{read:!1}})],To.prototype,"thumbnail",void 0),c([d({type:String,json:{write:!0}})],To.prototype,"name",void 0),c([Se({styleSymbolReference:"web-style"},{readOnly:!0})],To.prototype,"type",void 0),To=BS=c([D("esri.symbols.WebStyleSymbol")],To);const rh=To;function ZI(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function Gg(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const Dd={base:nr,key:"type",typeMap:{"simple-fill":nh,"picture-fill":J8,"picture-marker":Dk,"simple-line":ho,"simple-marker":qm,text:Bm,"label-3d":_k,"line-3d":Sk,"mesh-3d":YI,"point-3d":sd,"polygon-3d":zy,"web-style":rh,cim:Ry},errorContext:"symbol"},whe={base:nr,key:"type",typeMap:{"picture-marker":Dk,"simple-marker":qm,text:Bm,"web-style":rh,cim:Ry},errorContext:"symbol"},xhe=Om({types:Dd}),Z8={base:nr,key:"type",typeMap:{"simple-fill":nh,"picture-fill":J8,"picture-marker":Dk,"simple-line":ho,"simple-marker":qm,text:Bm,"line-3d":Sk,"mesh-3d":YI,"point-3d":sd,"polygon-3d":zy,"web-style":rh,cim:Ry},errorContext:"symbol"},khe={base:nr,key:"type",typeMap:{text:Bm,"label-3d":_k},errorContext:"symbol"},tP={base:nr,key:"type",typeMap:{"line-3d":Sk,"mesh-3d":YI,"point-3d":sd,"polygon-3d":zy,"web-style":rh,cim:Ry},errorContext:"symbol"},_he={base:nr,key:"type",typeMap:{"label-3d":_k},errorContext:"symbol"},X8=ns(Dd);function She(e){if(!e)return null;const t={};for(const i in e){const n=Fc(e[i]);n&&(t[i]=n)}return Object.keys(t).length!==0?t:null}function Dhe(e){if(!T(e))return null;const t={};for(const i in e){const n=e[i];n&&(t[i]=n.toJSON())}return Object.keys(t).length!==0?t:null}let Fn=class extends cs(J){constructor(...e){super(...e),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:ng(),configurable:!0})}normalizeCtorArgs(e,t,i,n){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:i,popupTemplate:n}}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;for(const t of[this.sourceLayer,this.layer])if(t){if("popupTemplate"in t&&t.popupTemplate)return t.popupTemplate;if(e&&"defaultPopupTemplate"in t&&T(t.defaultPopupTemplate))return t.defaultPopupTemplate}return null}getAttribute(e){return this.attributes&&this.attributes[e]}setAttribute(e,t){if(this.attributes){const i=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",i,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:Dhe(this.aggregateGeometries),geometry:T(this.geometry)?this.geometry.toJSON():null,symbol:T(this.symbol)?this.symbol.toJSON():null,attributes:$({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(){T(this.geometry)&&this.geometry.type==="mesh"&&this._notifyLayer("transform",this.geometry.transform,this.geometry.transform)}_notifyLayer(e,t,i,n){if(!this.layer||!("graphicChanged"in this.layer))return;const r={graphic:this,property:e,oldValue:t,newValue:i};e==="attributes"&&(r.attributeName=n),this.layer.graphicChanged(r)}};c([d({value:null,json:{read:She}})],Fn.prototype,"aggregateGeometries",null),c([d({value:null})],Fn.prototype,"attributes",null),c([d({value:null,types:th,json:{read:Fc}})],Fn.prototype,"geometry",null),c([d({type:Boolean})],Fn.prototype,"isAggregate",void 0),c([d({clonable:"reference"})],Fn.prototype,"layer",void 0),c([d({type:wk})],Fn.prototype,"popupTemplate",void 0),c([d({clonable:"reference"})],Fn.prototype,"sourceLayer",void 0),c([d({value:null,types:Dd})],Fn.prototype,"symbol",null),c([d({type:Boolean,value:!0})],Fn.prototype,"visible",null),Fn=c([D("esri.Graphic")],Fn),function(e){e.generateUID=ng}(Fn||(Fn={}));const Mr=Fn;class XI{constructor(t,i){this.min=t,this.max=i,this.range=i-t}ndiff(t,i=0){return Math.ceil((t-i)/this.range)*this.range+i}_normalize(t,i,n,r=0,a=!1){return(n-=r)<t?n+=this.ndiff(t-n):n>i&&(n-=this.ndiff(n-i)),a&&n===i&&(n=t),n+r}normalize(t,i=0,n=!1){return this._normalize(this.min,this.max,t,i,n)}clamp(t,i=0){return ha(t-i,this.min,this.max)+i}monotonic(t,i,n){return t<i?i:i+this.ndiff(t-i,n)}minimalMonotonic(t,i,n){return this._normalize(t,t+this.range,i,n)}center(t,i,n){return i=this.monotonic(t,i,n),this.normalize((t+i)/2,n)}diff(t,i,n){return this.monotonic(t,i,n)-t}shortestSignedDiff(t,i){t=this.normalize(t);const n=(i=this.normalize(i))-t,r=i<t?this.minimalMonotonic(t,i)-t:i-this.minimalMonotonic(i,t);return Math.abs(n)<Math.abs(r)?n:r}contains(t,i,n){return i=this.minimalMonotonic(t,i),(n=this.minimalMonotonic(t,n))>t&&n<i}}function QI(e){for(const t in e){const i=e[t];i instanceof Function&&(e[t]=i.bind(e))}return e}QI(new XI(0,2*Math.PI));QI(new XI(-Math.PI,Math.PI));const $he=QI(new XI(0,360));let Ts=class extends cs(J){constructor(...e){super(...e),this.position=new Ie([0,0,0]),this.heading=0,this.tilt=0,this.fov=55}normalizeCtorArgs(e,t,i,n){if(e&&typeof e=="object"&&("x"in e||Array.isArray(e))){const r={position:e};return t!=null&&(r.heading=t),i!=null&&(r.tilt=i),n!=null&&(r.fov=n),r}return e}writePosition(e,t,i,n){const r=e.clone();r.x=ia(e.x||0),r.y=ia(e.y||0),r.z=e.hasZ?ia(e.z||0):e.z,t[i]=r.write({},n)}readPosition(e,t){const i=new Ie;return i.read(e,t),i.x=ia(i.x||0),i.y=ia(i.y||0),i.z=i.hasZ?ia(i.z||0):i.z,i}equals(e){return!!e&&this.tilt===e.tilt&&this.heading===e.heading&&this.fov===e.fov&&this.position.equals(e.position)}};c([d({type:Ie,json:{write:{isRequired:!0}}})],Ts.prototype,"position",void 0),c([ue("position")],Ts.prototype,"writePosition",null),c([ae("position")],Ts.prototype,"readPosition",null),c([d({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),nt(e=>$he.normalize(ia(e)))],Ts.prototype,"heading",void 0),c([d({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),nt(e=>ha(ia(e),-180,180))],Ts.prototype,"tilt",void 0),c([d({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Ts.prototype,"fov",void 0),Ts=c([D("esri.Camera")],Ts);const Che=Ts;var US;let Ul=US=class extends J{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new US({rotation:this.rotation,scale:this.scale,targetGeometry:T(this.targetGeometry)?this.targetGeometry.clone():null,camera:T(this.camera)?this.camera.clone():null})}};function f2(){return{enabled:!this.camera}}c([d({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:f2}}}}})],Ul.prototype,"rotation",void 0),c([nt("rotation")],Ul.prototype,"castRotation",null),c([d({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:f2}}}}})],Ul.prototype,"scale",void 0),c([d({types:th,json:{read:Fc,write:!0,origins:{"web-scene":{read:Fc,write:{overridePolicy:f2}}}}})],Ul.prototype,"targetGeometry",void 0),c([d({type:Che,json:{write:!0}})],Ul.prototype,"camera",void 0),Ul=US=c([D("esri.Viewpoint")],Ul);const Yo=Ul;function DTe(e){const t=[];return function*(){yield*t;for(const i of e)t.push(i),yield i}}function $Te(e,t){for(const i of e)if(i!=null&&t(i))return i}function iP(e){return e!=null&&typeof e[Symbol.iterator]=="function"}var Tn;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"})(Tn||(Tn={}));let Ihe=0;function Q8(){return Ihe++}function Ehe(e){return e&&typeof e=="object"&&("result"in e||"transferList"in e)}function Kw(e){return e?typeof e=="string"?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function e7(e,t,i,n){if(t.type===Tn.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==Tn.INVOKE&&t.type!==Tn.RESPONSE)return void e.postMessage(t);let r;Ehe(i)?(r=nP(i.transferList),t.data=i.result):(r=nP(n),t.data=i),r?e.postMessage(t,r):e.postMessage(t)}function Wg(e){if(!e)return null;const t=e.data;return t?typeof t=="string"?JSON.parse(t):t:null}function nP(e){if(!e||!e.length)return null;if(q("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(i=>!The(i));return t.length?t:null}function The(e){return e instanceof ArrayBuffer||e&&e.constructor&&e.constructor.name==="ArrayBuffer"}const Mhe={statsWorker:()=>import("./statsWorker.018310f3.js"),geometryEngineWorker:()=>import("./geometryEngineWorker.49a69fdc.js"),CSVSourceWorker:()=>import("./CSVSourceWorker.92c2d6c9.js"),EdgeProcessingWorker:()=>import("./EdgeProcessingWorker.18fc5d21.js"),ElevationSamplerWorker:()=>import("./ElevationSamplerWorker.bd6feb8b.js"),FeatureServiceSnappingSourceWorker:()=>import("./FeatureServiceSnappingSourceWorker.4080ca01.js"),GeoJSONSourceWorker:()=>import("./GeoJSONSourceWorker.d41f93b3.js"),LercWorker:()=>import("./LercWorker.d01d8ff9.js"),MemorySourceWorker:()=>import("./MemorySourceWorker.a6407ef3.js"),PBFDecoderWorker:()=>import("./PBFDecoderWorker.6111ab76.js"),Pipeline:()=>import("./Pipeline.e5e7049d.js"),PointCloudWorker:()=>import("./PointCloudWorker.a6e114bb.js"),RasterWorker:()=>import("./RasterWorker.ad6d63ac.js"),SceneLayerWorker:()=>import("./SceneLayerWorker.cc2df83a.js"),WFSSourceWorker:()=>import("./WFSSourceWorker.5cf5c103.js"),WorkerTileHandler:()=>import("./WorkerTileHandler.dc2e8e77.js")},{CLOSE:rP,ABORT:aP,INVOKE:oP,RESPONSE:Cf,OPEN_PORT:sP,ON:Ahe}=Tn;class Ohe{constructor(t){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=t,this._timer=null,this._process=this._process.bind(this)}push(t){t.type===Tn.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class Bn{constructor(t,i){this._port=t,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new Ohe(n=>this._onInvokeMessage(n)),this._client=i.client,this._onMessage=this._onMessage.bind(this),this._channel=i.channel,this._schedule=i.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}static connect(t){const i=new MessageChannel;let n;n=typeof t=="function"?new t:"default"in t&&typeof t.default=="function"?new t.default:t;const r=new Bn(i.port1,{channel:i,client:n});return typeof n=="object"&&"remoteClient"in n&&(n.remoteClient=r),Bn.clients.set(r,n),i.port2}static loadWorker(t){const i=Mhe[t];return i?i():Promise.resolve(null)}close(){this._post({type:rP}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,i,n){const r=n&&n.signal,a=n&&n.transferList;if(!this._port)return Promise.reject(new L("worker:port-closed",`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:i}));const o=Q8();return new Promise((s,l)=>{const u=rk(r,()=>{var m;const f=this._outJobs.get(o);f&&(this._outJobs.delete(o),(m=f.abortHandle)==null||m.remove(),this._post({type:aP,jobId:o}),l(hi()))}),h={resolve:s,reject:l,abortHandle:u,debugInfo:t};this._outJobs.set(o,h),this._post({type:oP,jobId:o,methodName:t,abortable:r!=null},i,a)})}on(t,i){const n=new MessageChannel;function r(a){i(a.data)}return this._port.postMessage({type:Tn.ON,eventType:t,port:n.port2},[n.port2]),n.port1.addEventListener("message",r),n.port1.start(),{remove(){n.port1.postMessage({type:Tn.CLOSE}),n.port1.close(),n.port1.removeEventListener("message",r)}}}openPort(){const t=new MessageChannel;return this._post({type:sP,port:t.port2}),t.port1}_close(){this._channel&&(this._channel=null),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{var i;(i=t.abortHandle)==null||i.remove(),t.reject(hi(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=this._schedule=null}_onMessage(t){T(this._schedule)?this._schedule(()=>this._processMessage(t)):this._processMessage(t)}_processMessage(t){const i=Wg(t);if(i)switch(i.type){case Cf:this._onResponseMessage(i);break;case oP:this._invokeQueue.push(i);break;case aP:this._onAbortMessage(i);break;case rP:this._onCloseMessage();break;case sP:this._onOpenPortMessage(i);break;case Ahe:this._onOnMessage(i)}}_onAbortMessage(t){const i=this._inJobs,n=t.jobId,r=i.get(n);this._invokeQueue.push(t),r&&(r.controller&&r.controller.abort(),i.delete(n))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&Bn.clients.get(this)===t&&t.destroy(),Bn.clients.delete(this),t&&t.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:i,jobId:n,data:r,abortable:a}=t,o=a?new AbortController:null,s=this._inJobs;let l,u=this._client,h=u[i];try{if(!h&&i&&i.indexOf(".")!==-1){const m=i.split(".");for(let f=0;f<m.length-1;f++)u=u[m[f]],h=u[m[f+1]]}if(typeof h!="function")throw new TypeError(`${i} is not a function`);l=h.call(u,r,{client:this,signal:o?o.signal:null})}catch(m){return void this._post({type:Cf,jobId:n,error:Kw(m)})}ml(l)?(s.set(n,{controller:o,promise:l}),l.then(m=>{s.has(n)&&(s.delete(n),this._post({type:Cf,jobId:n},m))},m=>{s.has(n)&&(s.delete(n),ma(m)||this._post({type:Cf,jobId:n,error:Kw(m||{message:`Error encountered at method ${i}`})}))})):this._post({type:Cf,jobId:n},l)}_onOpenPortMessage(t){new Bn(t.port,{client:this._client})}_onOnMessage(t){const{port:i}=t,n=this._client.on(t.eventType,a=>{i.postMessage(a)}),r=ik(t.port,"message",a=>{Wg(a).type===Tn.CLOSE&&(r.remove(),n.remove(),i.close())})}_onResponseMessage(t){var i;const{jobId:n,error:r,data:a}=t,o=this._outJobs;if(!o.has(n))return;const s=o.get(n);o.delete(n),(i=s.abortHandle)==null||i.remove(),r?s.reject(L.fromJSON(JSON.parse(r))):s.resolve(a)}_post(t,i,n){return e7(this._port,t,i,n)}}Bn.kernelInfo={revision:X6,version:Q6,buildDate:Z6},Bn.clients=new Map;const Phe=Q.getLogger("esri.core.workers.Connection");class Lhe{constructor(){this._clients=new Array,this._clientPromises=new Array,this._clientIdx=0}destroy(){this.close()}get closed(){return!this._clients||!this._clients.length}open(t,i){return new Promise((n,r)=>{let a=!0;const o=s=>{pi(i.signal),a&&(a=!1,s())};this._clients.length=t.length,this._clientPromises.length=t.length;for(let s=0;s<t.length;++s){const l=t[s];ml(l)?this._clientPromises[s]=l.then(u=>(this._clients[s]=new Bn(u,i),o(n),this._clients[s]),()=>(o(r),null)):(this._clients[s]=new Bn(l,i),this._clientPromises[s]=Promise.resolve(this._clients[s]),o(n))}})}broadcast(t,i,n){const r=new Array(this._clientPromises.length);for(let a=0;a<this._clientPromises.length;++a){const o=this._clientPromises[a];r[a]=o.then(s=>s.invoke(t,i,n))}return r}close(){for(const t of this._clientPromises)t.then(i=>i.close());this._clients.length=0,this._clientPromises.length=0}getAvailableClient(){let t;for(let i=0;i<this._clients.length;++i){const n=this._clients[i];if(n){if(!n.isBusy())return Promise.resolve(n)}else t=t||[],t.push(this._clientPromises[i])}return t?Promise.race(t):(this._clientIdx=(this._clientIdx+1)%this._clients.length,Promise.resolve(this._clients[this._clientIdx]))}invoke(t,i,n){let r=null;return Array.isArray(n)?(Phe.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),r={transferList:n}):r=n,this.closed?Promise.reject(new Error("Connection closed")):this.getAvailableClient().then(a=>a.invoke(t,i,r))}on(t,i){return Promise.all(this._clientPromises).then(()=>Xx(this._clients.map(n=>n.on(t,i))))}openPorts(){return new Promise(t=>{const i=new Array(this._clientPromises.length);let n=i.length;for(let r=0;r<this._clientPromises.length;++r)this._clientPromises[r].then(a=>{i[r]=a.openPort(),--n==0&&t(i)})})}get test(){return{numClients:this._clients.length}}}const t7=Q.getLogger("esri.intl");function Ms(e,t,i={}){const{format:n={}}=i;return ts(e,r=>Rhe(r,t,n))}function Rhe(e,t,i){let n,r;const a=e.indexOf(":");if(a===-1?n=e.trim():(n=e.slice(0,a).trim(),r=e.slice(a+1).trim()),!n)return"";const o=Mm(n,t);if(o==null)return"";const s=i[r]||i[n];return s?Fhe(o,s):r?Nhe(o,r):eE(o)}function Fhe(e,t){switch(t.type){case"date":return Nc(e,t.intlOptions);case"number":return Hd(e,t.intlOptions);default:return t7.warn("missing format descriptor for key {key}"),eE(e)}}function Nhe(e,t){switch(t.toLowerCase()){case"dateformat":return Nc(e);case"numberformat":return Hd(e);default:return t7.warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?Nc(e):/^numberformat/i.test(t)?Hd(e):eE(e)}}function eE(e){switch(typeof e){case"string":return e;case"number":return Hd(e);case"boolean":return""+e;default:return e instanceof Date?Nc(e):""}}async function zhe(e,t,i,n){const r=t.exec(i);if(!r)throw new L("esri-intl:invalid-bundle",`Bundle id "${i}" is not compatible with the pattern "${t}"`);const a=r[1]?`${r[1]}/`:"",o=r[2],s=wle(n),l=`${a}${o}.json`,u=s?`${a}${o}_${s}.json`:l;let h;try{h=await lP(e(u))}catch(m){if(u===l)throw new L("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:m});try{h=await lP(e(l))}catch(f){throw new L("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:f})}}return h}async function lP(e){if(T(cP.fetchBundleAsset))return cP.fetchBundleAsset(e);const t=await Lt(e,{responseType:"text"});return JSON.parse(t.data)}class jhe{constructor({base:t="",pattern:i,location:n=new URL(window.location.href)}){let r;r=typeof n=="string"?a=>new URL(a,new URL(n,window.location.href)).href:n instanceof URL?a=>new URL(a,n).href:n,this.pattern=typeof i=="string"?new RegExp(`^${i}`):i,this.getAssetUrl=r,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)/)?(.*)$`)}fetchMessageBundle(t,i){return zhe(this.getAssetUrl,this.matcher,t,i)}}function Vhe(e){return new jhe(e)}const cP={};vle(Vhe({pattern:"esri/",location:st}));const uP={};function Hhe(e,t){for(const i of e)if(i.name===t.name)return;e.push(t)}function qhe(e){var t;const i={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:$({},e.has),map:$({},e.map),packages:e.packages&&e.packages.concat()||[],paths:$({},e.paths)};return e.hasOwnProperty("async")||(i.async=!0),e.hasOwnProperty("isDebug")||(i.isDebug=!1),e.baseUrl||(i.baseUrl=uP.baseUrl),(t=uP.packages)==null||t.forEach(n=>{Hhe(i.packages,n)}),i}class Bhe{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(i=>{this[i]=(...n)=>t[i](...n)})}}class b1{constructor(){this._dispatcher=new Bhe,this._workerPostMessage({type:Tn.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){Iw(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,i,n){this._dispatcher.addEventListener(t,i,n)}removeEventListener(t,i,n){this._dispatcher.removeEventListener(t,i,n)}_workerPostMessage(t){Iw(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const i=Wg(t);if(i&&i.type===Tn.OPEN){const{modulePath:n,jobId:r}=i;let a=await Bn.loadWorker(n);a||(a=await import(n));const o=Bn.connect(a);this._workerPostMessage({type:Tn.OPENED,jobId:r,data:o})}}}const GS=Q.getLogger("esri.core.workers"),{HANDSHAKE:Uhe}=Tn,Ghe='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,buildDate:r,version:t}=configuration.kernelInfo,{revision:n,buildDate:i,version:s}=e.kernelInfo;o!==n&&console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let e;function t(o){const t=e.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}"function"==typeof define&&define.amd?require([workerPath],(r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((r=>(e=r.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),e=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e=outgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let Gb,Wb;const dP="Failed to create Worker. Fallback to execute module in main thread";async function Whe(){if(!q("esri-workers")||(q("mozilla"),0))return hP(new b1);if(!Gb&&!Wb)try{const t=Ghe.replace('"{CONFIGURATION}"',`'${Jhe()}'`);Gb=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){Wb=t||{}}let e;if(Gb)try{e=new Worker(Gb,{name:"esri-worker-"+Khe++})}catch{GS.warn(dP,Wb),e=new b1}else GS.warn(dP,Wb),e=new b1;return hP(e)}async function hP(e){return new Promise(t=>{function i(r){const a=Wg(r);a&&a.type===Uhe&&(e.removeEventListener("message",i),e.removeEventListener("error",n),t(e))}function n(r){r.preventDefault(),e.removeEventListener("message",i),e.removeEventListener("error",n),GS.warn("Failed to create Worker. Fallback to execute module in main thread",r),(e=new b1).addEventListener("message",i),e.addEventListener("error",n)}e.addEventListener("message",i),e.addEventListener("error",n)})}function Jhe(){let e;if(vt.default!=null){const r=$({},vt);delete r.default,e=JSON.parse(JSON.stringify(r))}else e=JSON.parse(JSON.stringify(vt));e.assetsPath=Ya(e.assetsPath),e.request.interceptors=[],e.log.interceptors=[],e.locale=Dr(),e.has={"esri-csp-restrictions":q("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":q("esri-2d-update-debug"),"esri-2d-query-centroid-enabled":q("esri-2d-query-centroid-enabled"),"featurelayer-pbf":q("featurelayer-pbf"),"featurelayer-simplify-thresholds":q("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":q("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":q("featurelayer-simplify-mobile-factor"),"esri-atomics":q("esri-atomics"),"esri-shared-array-buffer":q("esri-shared-array-buffer"),"esri-tiles-debug":q("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":q("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":q("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=Ya(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=Ya(e.workers.workerPath):e.workers.workerPath=Ya(st("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=vt.workers.loaderConfig,i=qhe({baseUrl:t==null?void 0:t.baseUrl,locale:Dr(),has:$({"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1},t==null?void 0:t.has),map:$({},t==null?void 0:t.map),paths:$({},t==null?void 0:t.paths),packages:(t==null?void 0:t.packages)||[]}),n={version:Q6,buildDate:Z6,revision:X6};return JSON.stringify({esriConfig:e,loaderConfig:i,kernelInfo:n})}let Khe=0;const Yhe=Q.getLogger("esri.core.workers"),{ABORT:pP,INVOKE:Zhe,OPEN:Xhe,OPENED:Qhe,RESPONSE:If}=Tn;class tE{constructor(t,i){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=i,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",n=>{n.preventDefault(),Yhe.error(n)})}static async create(t){const i=await Whe();return new tE(i,t)}terminate(){this.worker.terminate()}async open(t,i={}){const{signal:n}=i,r=Q8();return new Promise((a,o)=>{const s={resolve:a,reject:o,abortHandle:rk(n,()=>{this._outJobs.delete(r),this._post({type:pP,jobId:r})})};this._outJobs.set(r,s),this._post({type:Xhe,jobId:r,modulePath:t})})}_onMessage(t){const i=Wg(t);if(i)switch(i.type){case Qhe:this._onOpenedMessage(i);break;case If:this._onResponseMessage(i);break;case pP:this._onAbortMessage(i);break;case Zhe:this._onInvokeMessage(i)}}_onAbortMessage(t){const i=this._inJobs,n=t.jobId,r=i.get(n);r&&(r.controller&&r.controller.abort(),i.delete(n))}_onInvokeMessage(t){const{methodName:i,jobId:n,data:r,abortable:a}=t,o=a?new AbortController:null,s=this._inJobs,l=Sse[i];let u;try{if(typeof l!="function")throw new TypeError(`${i} is not a function`);u=l.call(null,r,{signal:o?o.signal:null})}catch(h){return void this._post({type:If,jobId:n,error:Kw(h)})}ml(u)?(s.set(n,{controller:o,promise:u}),u.then(h=>{s.has(n)&&(s.delete(n),this._post({type:If,jobId:n},h))},h=>{s.has(n)&&(s.delete(n),h||(h={message:"Error encountered at method"+i}),ma(h)||this._post({type:If,jobId:n,error:Kw(h||{message:`Error encountered at method ${i}`})}))})):this._post({type:If,jobId:n},u)}_onOpenedMessage(t){var i;const{jobId:n,data:r}=t,a=this._outJobs.get(n);a&&(this._outJobs.delete(n),(i=a.abortHandle)==null||i.remove(),a.resolve(r))}_onResponseMessage(t){var i;const{jobId:n,error:r,data:a}=t,o=this._outJobs.get(n);o&&(this._outJobs.delete(n),(i=o.abortHandle)==null||i.remove(),r?o.reject(L.fromJSON(JSON.parse(r))):o.resolve(a))}_post(t,i,n){return e7(this.worker,t,i,n)}}let ld=q("esri-workers-debug")?1:q("host-browser")?navigator.hardwareConcurrency-1:0;ld||(ld=q("safari")&&q("mac")||q("trident")?7:2);let mP=0;const v1=[];function epe(){i7()}async function Jb(e,t){const i=new Lhe;return await i.open(e,t),i}async function tpe(e,t={}){if(typeof e!="string")throw new L("workers:undefined-module","modulePath is missing");let i=t.strategy||"distributed";if(q("host-webworker")&&!q("esri-workers")&&(i="local"),i==="local"){let n=await Bn.loadWorker(e);n||(n=await import(e)),pi(t.signal);const r=t.client||n;return Jb([Bn.connect(n)],le($({},t),{client:r}))}if(await i7(),pi(t.signal),i==="dedicated"){const n=mP++%ld;return Jb([await v1[n].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const n=Math.min(t.maxNumWorkers,ld);if(n<ld){const r=new Array(n);for(let a=0;a<n;++a){const o=mP++%ld;r[a]=v1[o].open(e,t)}return Jb(r,t)}}return Jb(v1.map(n=>n.open(e,t)),t)}let Kb=null;async function i7(){if(Kb)return Kb;new AbortController;const e=[];for(let t=0;t<ld;t++){const i=tE.create(t).then(n=>(v1[t]=n,n));e.push(i)}return Kb=Promise.all(e),Kb}function iE(e){return new He({wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`})}const n7=iE(Et),Yw=iE(rl),Zw=iE(Rc),ipe=new He({wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Et.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`});function CTe(e){return e&&(hk(e)||e===Yw)?Yw:e&&(pk(e)||e===Zw)?Zw:n7}function npe(e){return e&&(hk(e)||e===Yw)?rl:e&&(pk(e)||e===Zw)?Rc:Et}function ITe(e){return pI(e)?rl:mI(e)?Rc:Et}const ETe=39.37,rpe=Et.radius*Math.PI/200,r7=/UNIT\[([^\]]+)\]\]$/i,$d=k,a7=/UNIT\[([^\]]+)\]/i,ape=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),ope=an()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),wo=e=>e*e,Dl=e=>e*e*e,Jg={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:wo(.001)},"square-centimeters":{inBaseUnits:wo(.01)},"square-decimeters":{inBaseUnits:wo(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:wo(1e3)},"square-inches":{inBaseUnits:wo(.0254)},"square-feet":{inBaseUnits:wo(.3048)},"square-yards":{inBaseUnits:wo(.9144)},"square-miles":{inBaseUnits:wo(1609.344)},"square-us-feet":{inBaseUnits:wo(1200/3937)},acres:{inBaseUnits:.0015625*wo(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Dl(.001)},"cubic-centimeters":{inBaseUnits:1e3*Dl(.01)},"cubic-decimeters":{inBaseUnits:1e3*Dl(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Dl(1e3)},"cubic-inches":{inBaseUnits:1e3*Dl(.0254)},"cubic-feet":{inBaseUnits:1e3*Dl(.3048)},"cubic-yards":{inBaseUnits:1e3*Dl(.9144)},"cubic-miles":{inBaseUnits:1e3*Dl(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},spe=function(){const e={};for(const t in Jg)for(const i in Jg[t].units)e[i]=t;return e}();function lpe(e,t,i){return e*Jg[i].units[t].inBaseUnits}function cpe(e,t,i){return e/Jg[i].units[t].inBaseUnits}function WS(e){const t=spe[e];if(t)return t;throw new Error("unknown type")}function fP(e,t=null){return t=t||WS(e),Jg[t].baseUnit===e}function Jr(e,t,i){if(t===i)return e;const n=WS(t);if(n!==WS(i))throw new Error("incompatible units");const r=fP(t,n)?e:lpe(e,t,n);return fP(i,n)?r:cpe(r,i,n)}function upe(e,t,i){return Jr(e,t,"meters")/(i*Math.PI/180)}function o7(e){return ope.fromJSON(e.toLowerCase())||null}function gm(e){if(e&&typeof e=="object"&&!bse(e))return 1;const t=jy(e);return t>1e5?1:t}function dpe(e){return jy(e)>=(e instanceof He?npe(e).metersPerDegree:1e5)?"meters":ppe(e)}function jy(e,t=Et.metersPerDegree){return hpe(e,!0)||t}function hpe(e,t=!1){let i,n,r=null;if(e!=null&&(typeof e=="object"?(i=e.wkid,n=e.wkt):typeof e=="number"?i=e:typeof e=="string"&&(n=e)),i){if(pI(i))return rl.metersPerDegree;if(mI(i))return Rc.metersPerDegree;r=$d.values[$d[i]],!r&&t&&ape.has(i)&&(r=rpe)}else n&&(c7(n)?r=gP(r7.exec(n),r):l7(n)&&(r=gP(a7.exec(n),r)));return r}function gP(e,t){return e&&e[1]?s7(e[1]):t}function s7(e){return parseFloat(e.split(",")[1])}function ppe(e){let t,i,n=null;if(e!=null&&(typeof e=="object"?(t=e.wkid,i=e.wkt):typeof e=="number"?t=e:typeof e=="string"&&(i=e)),t)n=$d.units[$d[t]];else if(i){const r=c7(i)?r7:l7(i)?a7:null;if(r){const a=r.exec(i);a&&a[1]&&(n=fpe(a[1]))}}return T(n)?o7(n):null}function l7(e){return/^GEOCCS/i.test(e)}function c7(e){return/^PROJCS/i.test(e)}const mpe=1e-7;function fpe(e){const t=/[\\"\\']{1}([^\\"\\']+)/.exec(e);let i=t&&t[1];if(!i||$d.units.indexOf(i)===-1){const n=s7(e);i=null;const r=$d.values;for(let a=0;a<r.length;++a)if(Math.abs(n-r[a])<mpe){i=$d.units[a];break}}return i}const u7={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},d7={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},gpe=an()(u7),ype=an()(d7);an()($($({},u7),d7));function bpe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Jc(e,t,i,n,r,a,o,s,l,u,h,m,f,g,b,v,w){return e[0]=t,e[1]=i,e[2]=n,e[3]=r,e[4]=a,e[5]=o,e[6]=s,e[7]=l,e[8]=u,e[9]=h,e[10]=m,e[11]=f,e[12]=g,e[13]=b,e[14]=v,e[15]=w,e}function nE(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function fl(e,t){if(e===t){const i=t[1],n=t[2],r=t[3],a=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=i,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=a,e[11]=t[14],e[12]=r,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function vpe(e,t){const i=t[0],n=t[1],r=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],h=t[8],m=t[9],f=t[10],g=t[11],b=t[12],v=t[13],w=t[14],x=t[15],S=i*s-n*o,E=i*l-r*o,C=i*u-a*o,_=n*l-r*s,I=n*u-a*s,O=r*u-a*l,R=h*v-m*b,H=h*w-f*b,Y=h*x-g*b,U=m*w-f*v,ce=m*x-g*v,ne=f*x-g*w;let se=S*ne-E*ce+C*U+_*Y-I*H+O*R;return se?(se=1/se,e[0]=(s*ne-l*ce+u*U)*se,e[1]=(r*ce-n*ne-a*U)*se,e[2]=(v*O-w*I+x*_)*se,e[3]=(f*I-m*O-g*_)*se,e[4]=(l*Y-o*ne-u*H)*se,e[5]=(i*ne-r*Y+a*H)*se,e[6]=(w*C-b*O-x*E)*se,e[7]=(h*O-f*C+g*E)*se,e[8]=(o*ce-s*Y+u*R)*se,e[9]=(n*Y-i*ce-a*R)*se,e[10]=(b*I-v*C+x*S)*se,e[11]=(m*C-h*I-g*S)*se,e[12]=(s*H-o*U-l*R)*se,e[13]=(i*U-n*H+r*R)*se,e[14]=(v*E-b*_-w*S)*se,e[15]=(h*_-m*E+f*S)*se,e):null}function wpe(e,t){const i=t[0],n=t[1],r=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],h=t[8],m=t[9],f=t[10],g=t[11],b=t[12],v=t[13],w=t[14],x=t[15];return e[0]=s*(f*x-g*w)-m*(l*x-u*w)+v*(l*g-u*f),e[1]=-(n*(f*x-g*w)-m*(r*x-a*w)+v*(r*g-a*f)),e[2]=n*(l*x-u*w)-s*(r*x-a*w)+v*(r*u-a*l),e[3]=-(n*(l*g-u*f)-s*(r*g-a*f)+m*(r*u-a*l)),e[4]=-(o*(f*x-g*w)-h*(l*x-u*w)+b*(l*g-u*f)),e[5]=i*(f*x-g*w)-h*(r*x-a*w)+b*(r*g-a*f),e[6]=-(i*(l*x-u*w)-o*(r*x-a*w)+b*(r*u-a*l)),e[7]=i*(l*g-u*f)-o*(r*g-a*f)+h*(r*u-a*l),e[8]=o*(m*x-g*v)-h*(s*x-u*v)+b*(s*g-u*m),e[9]=-(i*(m*x-g*v)-h*(n*x-a*v)+b*(n*g-a*m)),e[10]=i*(s*x-u*v)-o*(n*x-a*v)+b*(n*u-a*s),e[11]=-(i*(s*g-u*m)-o*(n*g-a*m)+h*(n*u-a*s)),e[12]=-(o*(m*w-f*v)-h*(s*w-l*v)+b*(s*f-l*m)),e[13]=i*(m*w-f*v)-h*(n*w-r*v)+b*(n*f-r*m),e[14]=-(i*(s*w-l*v)-o*(n*w-r*v)+b*(n*l-r*s)),e[15]=i*(s*f-l*m)-o*(n*f-r*m)+h*(n*l-r*s),e}function xpe(e){const t=e[0],i=e[1],n=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],h=e[9],m=e[10],f=e[11],g=e[12],b=e[13],v=e[14],w=e[15];return(t*o-i*a)*(m*w-f*v)-(t*s-n*a)*(h*w-f*b)+(t*l-r*a)*(h*v-m*b)+(i*s-n*o)*(u*w-f*g)-(i*l-r*o)*(u*v-m*g)+(n*l-r*s)*(u*b-h*g)}function h7(e,t,i){const n=t[0],r=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],h=t[7],m=t[8],f=t[9],g=t[10],b=t[11],v=t[12],w=t[13],x=t[14],S=t[15];let E=i[0],C=i[1],_=i[2],I=i[3];return e[0]=E*n+C*s+_*m+I*v,e[1]=E*r+C*l+_*f+I*w,e[2]=E*a+C*u+_*g+I*x,e[3]=E*o+C*h+_*b+I*S,E=i[4],C=i[5],_=i[6],I=i[7],e[4]=E*n+C*s+_*m+I*v,e[5]=E*r+C*l+_*f+I*w,e[6]=E*a+C*u+_*g+I*x,e[7]=E*o+C*h+_*b+I*S,E=i[8],C=i[9],_=i[10],I=i[11],e[8]=E*n+C*s+_*m+I*v,e[9]=E*r+C*l+_*f+I*w,e[10]=E*a+C*u+_*g+I*x,e[11]=E*o+C*h+_*b+I*S,E=i[12],C=i[13],_=i[14],I=i[15],e[12]=E*n+C*s+_*m+I*v,e[13]=E*r+C*l+_*f+I*w,e[14]=E*a+C*u+_*g+I*x,e[15]=E*o+C*h+_*b+I*S,e}function kpe(e,t,i){const n=i[0],r=i[1],a=i[2];let o,s,l,u,h,m,f,g,b,v,w,x;return t===e?(e[12]=t[0]*n+t[4]*r+t[8]*a+t[12],e[13]=t[1]*n+t[5]*r+t[9]*a+t[13],e[14]=t[2]*n+t[6]*r+t[10]*a+t[14],e[15]=t[3]*n+t[7]*r+t[11]*a+t[15]):(o=t[0],s=t[1],l=t[2],u=t[3],h=t[4],m=t[5],f=t[6],g=t[7],b=t[8],v=t[9],w=t[10],x=t[11],e[0]=o,e[1]=s,e[2]=l,e[3]=u,e[4]=h,e[5]=m,e[6]=f,e[7]=g,e[8]=b,e[9]=v,e[10]=w,e[11]=x,e[12]=o*n+h*r+b*a+t[12],e[13]=s*n+m*r+v*a+t[13],e[14]=l*n+f*r+w*a+t[14],e[15]=u*n+g*r+x*a+t[15]),e}function _pe(e,t,i){const n=i[0],r=i[1],a=i[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Spe(e,t,i,n){let r,a,o,s,l,u,h,m,f,g,b,v,w,x,S,E,C,_,I,O,R,H,Y,U,ce=n[0],ne=n[1],se=n[2],Je=Math.sqrt(ce*ce+ne*ne+se*se);return Je<Ae?null:(Je=1/Je,ce*=Je,ne*=Je,se*=Je,r=Math.sin(i),a=Math.cos(i),o=1-a,s=t[0],l=t[1],u=t[2],h=t[3],m=t[4],f=t[5],g=t[6],b=t[7],v=t[8],w=t[9],x=t[10],S=t[11],E=ce*ce*o+a,C=ne*ce*o+se*r,_=se*ce*o-ne*r,I=ce*ne*o-se*r,O=ne*ne*o+a,R=se*ne*o+ce*r,H=ce*se*o+ne*r,Y=ne*se*o-ce*r,U=se*se*o+a,e[0]=s*E+m*C+v*_,e[1]=l*E+f*C+w*_,e[2]=u*E+g*C+x*_,e[3]=h*E+b*C+S*_,e[4]=s*I+m*O+v*R,e[5]=l*I+f*O+w*R,e[6]=u*I+g*O+x*R,e[7]=h*I+b*O+S*R,e[8]=s*H+m*Y+v*U,e[9]=l*H+f*Y+w*U,e[10]=u*H+g*Y+x*U,e[11]=h*H+b*Y+S*U,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function Dpe(e,t,i){const n=Math.sin(i),r=Math.cos(i),a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],h=t[9],m=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*r+u*n,e[5]=o*r+h*n,e[6]=s*r+m*n,e[7]=l*r+f*n,e[8]=u*r-a*n,e[9]=h*r-o*n,e[10]=m*r-s*n,e[11]=f*r-l*n,e}function $pe(e,t,i){const n=Math.sin(i),r=Math.cos(i),a=t[0],o=t[1],s=t[2],l=t[3],u=t[8],h=t[9],m=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*r-u*n,e[1]=o*r-h*n,e[2]=s*r-m*n,e[3]=l*r-f*n,e[8]=a*n+u*r,e[9]=o*n+h*r,e[10]=s*n+m*r,e[11]=l*n+f*r,e}function Cpe(e,t,i){const n=Math.sin(i),r=Math.cos(i),a=t[0],o=t[1],s=t[2],l=t[3],u=t[4],h=t[5],m=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*r+u*n,e[1]=o*r+h*n,e[2]=s*r+m*n,e[3]=l*r+f*n,e[4]=u*r-a*n,e[5]=h*r-o*n,e[6]=m*r-s*n,e[7]=f*r-l*n,e}function p7(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function Ipe(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Epe(e,t,i){let n,r,a,o=i[0],s=i[1],l=i[2],u=Math.sqrt(o*o+s*s+l*l);return u<Ae?null:(u=1/u,o*=u,s*=u,l*=u,n=Math.sin(t),r=Math.cos(t),a=1-r,e[0]=o*o*a+r,e[1]=s*o*a+l*n,e[2]=l*o*a-s*n,e[3]=0,e[4]=o*s*a-l*n,e[5]=s*s*a+r,e[6]=l*s*a+o*n,e[7]=0,e[8]=o*l*a+s*n,e[9]=s*l*a-o*n,e[10]=l*l*a+r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function Tpe(e,t){const i=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=i,e[7]=0,e[8]=0,e[9]=-i,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Mpe(e,t){const i=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-i,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=i,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Ape(e,t){const i=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=i,e[2]=0,e[3]=0,e[4]=-i,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function m7(e,t,i){const n=t[0],r=t[1],a=t[2],o=t[3],s=n+n,l=r+r,u=a+a,h=n*s,m=n*l,f=n*u,g=r*l,b=r*u,v=a*u,w=o*s,x=o*l,S=o*u;return e[0]=1-(g+v),e[1]=m+S,e[2]=f-x,e[3]=0,e[4]=m-S,e[5]=1-(h+v),e[6]=b+w,e[7]=0,e[8]=f+x,e[9]=b-w,e[10]=1-(h+g),e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function Ope(e,t){const i=Ppe,n=-t[0],r=-t[1],a=-t[2],o=t[3],s=t[4],l=t[5],u=t[6],h=t[7],m=n*n+r*r+a*a+o*o;return m>0?(i[0]=2*(s*o+h*n+l*a-u*r)/m,i[1]=2*(l*o+h*r+u*n-s*a)/m,i[2]=2*(u*o+h*a+s*r-l*n)/m):(i[0]=2*(s*o+h*n+l*a-u*r),i[1]=2*(l*o+h*r+u*n-s*a),i[2]=2*(u*o+h*a+s*r-l*n)),m7(e,t,i),e}const Ppe=ss();function Lpe(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function Rpe(e,t){const i=t[0],n=t[1],r=t[2],a=t[4],o=t[5],s=t[6],l=t[8],u=t[9],h=t[10];return e[0]=Math.sqrt(i*i+n*n+r*r),e[1]=Math.sqrt(a*a+o*o+s*s),e[2]=Math.sqrt(l*l+u*u+h*h),e}function Fpe(e,t){const i=t[0]+t[5]+t[10];let n=0;return i>0?(n=2*Math.sqrt(i+1),e[3]=.25*n,e[0]=(t[6]-t[9])/n,e[1]=(t[8]-t[2])/n,e[2]=(t[1]-t[4])/n):t[0]>t[5]&&t[0]>t[10]?(n=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/n,e[0]=.25*n,e[1]=(t[1]+t[4])/n,e[2]=(t[8]+t[2])/n):t[5]>t[10]?(n=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/n,e[0]=(t[1]+t[4])/n,e[1]=.25*n,e[2]=(t[6]+t[9])/n):(n=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/n,e[0]=(t[8]+t[2])/n,e[1]=(t[6]+t[9])/n,e[2]=.25*n),e}function Npe(e,t,i,n){const r=t[0],a=t[1],o=t[2],s=t[3],l=r+r,u=a+a,h=o+o,m=r*l,f=r*u,g=r*h,b=a*u,v=a*h,w=o*h,x=s*l,S=s*u,E=s*h,C=n[0],_=n[1],I=n[2];return e[0]=(1-(b+w))*C,e[1]=(f+E)*C,e[2]=(g-S)*C,e[3]=0,e[4]=(f-E)*_,e[5]=(1-(m+w))*_,e[6]=(v+x)*_,e[7]=0,e[8]=(g+S)*I,e[9]=(v-x)*I,e[10]=(1-(m+b))*I,e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function zpe(e,t,i,n,r){const a=t[0],o=t[1],s=t[2],l=t[3],u=a+a,h=o+o,m=s+s,f=a*u,g=a*h,b=a*m,v=o*h,w=o*m,x=s*m,S=l*u,E=l*h,C=l*m,_=n[0],I=n[1],O=n[2],R=r[0],H=r[1],Y=r[2],U=(1-(v+x))*_,ce=(g+C)*_,ne=(b-E)*_,se=(g-C)*I,Je=(1-(f+x))*I,pe=(w+S)*I,Te=(b+E)*O,tt=(w-S)*O,Ht=(1-(f+v))*O;return e[0]=U,e[1]=ce,e[2]=ne,e[3]=0,e[4]=se,e[5]=Je,e[6]=pe,e[7]=0,e[8]=Te,e[9]=tt,e[10]=Ht,e[11]=0,e[12]=i[0]+R-(U*R+se*H+Te*Y),e[13]=i[1]+H-(ce*R+Je*H+tt*Y),e[14]=i[2]+Y-(ne*R+pe*H+Ht*Y),e[15]=1,e}function jpe(e,t){const i=t[0],n=t[1],r=t[2],a=t[3],o=i+i,s=n+n,l=r+r,u=i*o,h=n*o,m=n*s,f=r*o,g=r*s,b=r*l,v=a*o,w=a*s,x=a*l;return e[0]=1-m-b,e[1]=h+x,e[2]=f-w,e[3]=0,e[4]=h-x,e[5]=1-u-b,e[6]=g+v,e[7]=0,e[8]=f+w,e[9]=g-v,e[10]=1-u-m,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Vpe(e,t,i,n,r,a,o){const s=1/(i-t),l=1/(r-n),u=1/(a-o);return e[0]=2*a*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*a*l,e[6]=0,e[7]=0,e[8]=(i+t)*s,e[9]=(r+n)*l,e[10]=(o+a)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*u,e[15]=0,e}function Hpe(e,t,i,n,r){const a=1/Math.tan(t/2);let o;return e[0]=a/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,r!=null&&r!==1/0?(o=1/(n-r),e[10]=(r+n)*o,e[14]=2*r*n*o):(e[10]=-1,e[14]=-2*n),e}function qpe(e,t,i,n){const r=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),l=2/(o+s),u=2/(r+a);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-(o-s)*l*.5,e[9]=(r-a)*u*.5,e[10]=n/(i-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*i/(i-n),e[15]=0,e}function Bpe(e,t,i,n,r,a,o){const s=1/(t-i),l=1/(n-r),u=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+i)*s,e[13]=(r+n)*l,e[14]=(o+a)*u,e[15]=1,e}function Upe(e,t,i,n){let r,a,o,s,l,u,h,m,f,g;const b=t[0],v=t[1],w=t[2],x=n[0],S=n[1],E=n[2],C=i[0],_=i[1],I=i[2];return Math.abs(b-C)<Ae&&Math.abs(v-_)<Ae&&Math.abs(w-I)<Ae?nE(e):(h=b-C,m=v-_,f=w-I,g=1/Math.sqrt(h*h+m*m+f*f),h*=g,m*=g,f*=g,r=S*f-E*m,a=E*h-x*f,o=x*m-S*h,g=Math.sqrt(r*r+a*a+o*o),g?(g=1/g,r*=g,a*=g,o*=g):(r=0,a=0,o=0),s=m*o-f*a,l=f*r-h*o,u=h*a-m*r,g=Math.sqrt(s*s+l*l+u*u),g?(g=1/g,s*=g,l*=g,u*=g):(s=0,l=0,u=0),e[0]=r,e[1]=s,e[2]=h,e[3]=0,e[4]=a,e[5]=l,e[6]=m,e[7]=0,e[8]=o,e[9]=u,e[10]=f,e[11]=0,e[12]=-(r*b+a*v+o*w),e[13]=-(s*b+l*v+u*w),e[14]=-(h*b+m*v+f*w),e[15]=1,e)}function Gpe(e,t,i,n){const r=t[0],a=t[1],o=t[2],s=n[0],l=n[1],u=n[2];let h=r-i[0],m=a-i[1],f=o-i[2],g=h*h+m*m+f*f;g>0&&(g=1/Math.sqrt(g),h*=g,m*=g,f*=g);let b=l*f-u*m,v=u*h-s*f,w=s*m-l*h;return g=b*b+v*v+w*w,g>0&&(g=1/Math.sqrt(g),b*=g,v*=g,w*=g),e[0]=b,e[1]=v,e[2]=w,e[3]=0,e[4]=m*w-f*v,e[5]=f*b-h*w,e[6]=h*v-m*b,e[7]=0,e[8]=h,e[9]=m,e[10]=f,e[11]=0,e[12]=r,e[13]=a,e[14]=o,e[15]=1,e}function Wpe(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function Jpe(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function Kpe(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e[9]=t[9]+i[9],e[10]=t[10]+i[10],e[11]=t[11]+i[11],e[12]=t[12]+i[12],e[13]=t[13]+i[13],e[14]=t[14]+i[14],e[15]=t[15]+i[15],e}function f7(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e[9]=t[9]-i[9],e[10]=t[10]-i[10],e[11]=t[11]-i[11],e[12]=t[12]-i[12],e[13]=t[13]-i[13],e[14]=t[14]-i[14],e[15]=t[15]-i[15],e}function Ype(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12]*i,e[13]=t[13]*i,e[14]=t[14]*i,e[15]=t[15]*i,e}function Zpe(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e[2]=t[2]+i[2]*n,e[3]=t[3]+i[3]*n,e[4]=t[4]+i[4]*n,e[5]=t[5]+i[5]*n,e[6]=t[6]+i[6]*n,e[7]=t[7]+i[7]*n,e[8]=t[8]+i[8]*n,e[9]=t[9]+i[9]*n,e[10]=t[10]+i[10]*n,e[11]=t[11]+i[11]*n,e[12]=t[12]+i[12]*n,e[13]=t[13]+i[13]*n,e[14]=t[14]+i[14]*n,e[15]=t[15]+i[15]*n,e}function Xpe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Qpe(e,t){if(e===t)return!0;const i=e[0],n=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],h=e[8],m=e[9],f=e[10],g=e[11],b=e[12],v=e[13],w=e[14],x=e[15],S=t[0],E=t[1],C=t[2],_=t[3],I=t[4],O=t[5],R=t[6],H=t[7],Y=t[8],U=t[9],ce=t[10],ne=t[11],se=t[12],Je=t[13],pe=t[14],Te=t[15];return Math.abs(i-S)<=Ae*Math.max(1,Math.abs(i),Math.abs(S))&&Math.abs(n-E)<=Ae*Math.max(1,Math.abs(n),Math.abs(E))&&Math.abs(r-C)<=Ae*Math.max(1,Math.abs(r),Math.abs(C))&&Math.abs(a-_)<=Ae*Math.max(1,Math.abs(a),Math.abs(_))&&Math.abs(o-I)<=Ae*Math.max(1,Math.abs(o),Math.abs(I))&&Math.abs(s-O)<=Ae*Math.max(1,Math.abs(s),Math.abs(O))&&Math.abs(l-R)<=Ae*Math.max(1,Math.abs(l),Math.abs(R))&&Math.abs(u-H)<=Ae*Math.max(1,Math.abs(u),Math.abs(H))&&Math.abs(h-Y)<=Ae*Math.max(1,Math.abs(h),Math.abs(Y))&&Math.abs(m-U)<=Ae*Math.max(1,Math.abs(m),Math.abs(U))&&Math.abs(f-ce)<=Ae*Math.max(1,Math.abs(f),Math.abs(ce))&&Math.abs(g-ne)<=Ae*Math.max(1,Math.abs(g),Math.abs(ne))&&Math.abs(b-se)<=Ae*Math.max(1,Math.abs(b),Math.abs(se))&&Math.abs(v-Je)<=Ae*Math.max(1,Math.abs(v),Math.abs(Je))&&Math.abs(w-pe)<=Ae*Math.max(1,Math.abs(w),Math.abs(pe))&&Math.abs(x-Te)<=Ae*Math.max(1,Math.abs(x),Math.abs(Te))}function eme(e){const t=Ae,i=e[0],n=e[1],r=e[2],a=e[4],o=e[5],s=e[6],l=e[8],u=e[9],h=e[10];return Math.abs(1-(i*i+a*a+l*l))<=t&&Math.abs(1-(n*n+o*o+u*u))<=t&&Math.abs(1-(r*r+s*s+h*h))<=t}const tme=h7,ime=f7;Object.freeze({__proto__:null,copy:bpe,set:Jc,identity:nE,transpose:fl,invert:vpe,adjoint:wpe,determinant:xpe,multiply:h7,translate:kpe,scale:_pe,rotate:Spe,rotateX:Dpe,rotateY:$pe,rotateZ:Cpe,fromTranslation:p7,fromScaling:Ipe,fromRotation:Epe,fromXRotation:Tpe,fromYRotation:Mpe,fromZRotation:Ape,fromRotationTranslation:m7,fromQuat2:Ope,getTranslation:Lpe,getScaling:Rpe,getRotation:Fpe,fromRotationTranslationScale:Npe,fromRotationTranslationScaleOrigin:zpe,fromQuat:jpe,frustum:Vpe,perspective:Hpe,perspectiveFromFieldOfView:qpe,ortho:Bpe,lookAt:Upe,targetTo:Gpe,str:Wpe,frob:Jpe,add:Kpe,subtract:f7,multiplyScalar:Ype,multiplyScalarAndAdd:Zpe,exactEquals:Xpe,equals:Qpe,isOrthoNormal:eme,mul:tme,sub:ime});let g2,P=null;function g7(){return!!P}function nme(){return!!q("esri-wasm")}function y7(){return g2||(g2=import("./pe-wasm.1d1b20e7.js").then(e=>e.p).then(({default:e})=>e({locateFile:t=>st(`esri/geometry/support/${t}`)})).then(e=>{v7(e)}),g2)}var JS,Ot,KS;(function(e){function t(a,o,s){P.ensureCache.prepare();const l=id(s),u=s===l,h=P.ensureFloat64(l),m=P._pe_geog_to_proj(P.getPointer(a),o,h);return m&&yc(s,o,h,u),m}function i(a,o,s,l){switch(l){case Ot.PE_TRANSFORM_P_TO_G:return n(a,o,s);case Ot.PE_TRANSFORM_G_TO_P:return t(a,o,s)}return 0}function n(a,o,s){return r(a,o,s,0)}function r(a,o,s,l){P.ensureCache.prepare();const u=id(s),h=s===u,m=P.ensureFloat64(u),f=P._pe_proj_to_geog_center(P.getPointer(a),o,m,l);return f&&yc(s,o,m,h),f}e.geogToProj=t,e.projGeog=i,e.projToGeog=n,e.projToGeogCenter=r})(JS||(JS={})),function(e){function t(){e.PE_BUFFER_MAX=P.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=P.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=P.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=P.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=P.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=P.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=P.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=P.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=P.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=P.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=P.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=P.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=P.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=P.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=P.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=P.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=P.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=P.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=P.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=P.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_PARM_X0=P.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=P.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=P.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=P.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=P.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=P.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=P.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=P.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=P.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=P.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(Ot||(Ot={})),function(e){const t={},i={},n=g=>{if(g){const b=g.getType();switch(b){case Ot.PE_TYPE_GEOGCS:g=P.castObject(g,P.PeGeogcs);break;case Ot.PE_TYPE_PROJCS:g=P.castObject(g,P.PeProjcs);break;case Ot.PE_TYPE_GEOGTRAN:g=P.castObject(g,P.PeGeogtran);break;default:b&Ot.PE_TYPE_UNIT&&(g=P.castObject(g,P.PeUnit))}}return g};function r(){P.PeFactory.prototype.initialize(null)}function a(g){return o(Ot.PE_TYPE_COORDSYS,g)}function o(g,b){let v=null,w=t[g];if(w||(w={},t[g]=w),w.hasOwnProperty(String(b)))v=w[b];else{const x=P.PeFactory.prototype.factoryByType(g,b);P.compare(x,P.NULL)||(v=x,w[b]=v)}return v=n(v),v}function s(g,b){let v=null,w=i[g];if(w||(w={},i[g]=w),w.hasOwnProperty(b))v=w[b];else{const x=P.PeFactory.prototype.fromString(g,b);P.compare(x,P.NULL)||(v=x,w[b]=v)}return v=n(v),v}function l(g){return o(Ot.PE_TYPE_GEOGCS,g)}function u(g){return o(Ot.PE_TYPE_GEOGTRAN,g)}function h(g){return P.PeFactory.prototype.getCode(g)}function m(g){return o(Ot.PE_TYPE_PROJCS,g)}function f(g){return o(Ot.PE_TYPE_UNIT,g)}e.initialize=r,e.coordsys=a,e.factoryByType=o,e.fromString=s,e.geogcs=l,e.geogtran=u,e.getCode=h,e.projcs=m,e.unit=f}(KS||(KS={}));let b7=null;var Xw,YS,ZS,XS,Qw,QS,ex,tx,eD;function v7(e){function t(a,o,s){a[o]=s(a[o])}P=e,Ot.init(),Xw.init(),Qw.init(),ex.init(),tx.init(),b7=class extends P.PeGCSExtent{destroy(){P.destroy(this)}};const i=[P.PeDatum,P.PeGeogcs,P.PeGeogtran,P.PeObject,P.PeParameter,P.PePrimem,P.PeProjcs,P.PeSpheroid,P.PeUnit];for(const a of i)t(a.prototype,"getName",o=>function(){return o.call(this,new Array(Ot.PE_NAME_MAX))});for(const a of[P.PeGeogtran,P.PeProjcs])t(a.prototype,"getParameters",o=>function(){const s=new Array(Ot.PE_PARM_MAX);let l=o.call(this);for(let u=0;u<s.length;u++){const h=P.getValue(l,"*");s[u]=h?P.wrapPointer(h,P.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return s});t(P.PeHorizon.prototype,"getCoord",a=>function(){const o=this.getSize();if(!o)return null;const s=[];return yc(s,o,a.call(this)),s}),t(P.PeGTlistExtendedEntry.prototype,"getEntries",a=>{const o=P._pe_getPeGTlistExtendedGTsSize();return function(){let s=null;const l=a.call(this);if(!P.compare(l,P.NULL)){s=[l];const u=this.getSteps();if(u>1){const h=P.getPointer(l);for(let m=1;m<u;m++)s.push(P.wrapPointer(h+o*m,P.PeGTlistExtendedGTs))}}return s}});const n=P._pe_getPeHorizonSize(),r=a=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(a))return o.get(a);let s=null;const l=a.call(this);if(!P.compare(l,P.NULL)){s=[l];const u=l.getNump();if(u>1){const h=P.getPointer(l);for(let m=1;m<u;m++)s.push(P.wrapPointer(h+n*m,P.PeHorizon))}}return o.set(a,s),s};t(P.PeProjcs.prototype,"horizonGcsGenerate",r),t(P.PeProjcs.prototype,"horizonPcsGenerate",r),P.PeObject.prototype.toString=function(a=Ot.PE_STR_OPTS_NONE){P.ensureCache.prepare();const o=P.getPointer(this),s=P.ensureInt8(new Array(Ot.PE_BUFFER_MAX));return P.UTF8ToString(P._pe_object_to_string_ext(o,a,s))}}function vs(e){if(!e)return;const t=P.getClass(e);if(!t)return;const i=P.getCache(t);if(!i)return;const n=P.getPointer(e);n&&delete i[n]}function Yb(e,t){const i=[],n=new Array(t);for(let r=0;r<e;r++)i.push(P.ensureInt8(n));return i}function id(e){let t;return Array.isArray(e[0])?(t=[],e.forEach(i=>{t.push(i[0],i[1])})):t=e,t}function yc(e,t,i,n=!1){if(n)for(let r=0;r<2*t;r++)e[r]=P.getValue(i+r*Float64Array.BYTES_PER_ELEMENT,"double");else{const r=e.length===0;for(let a=0;a<t;a++)r&&(e[a]=new Array(2)),e[a][0]=P.getValue(i,"double"),e[a][1]=P.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function i(){e.PE_GTLIST_OPTS_COMMON=P.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=P._pe_getPeGTlistExtendedEntrySize()}function n(r,a,o,s,l,u){let h=null;const m=new P.PeInteger(u);try{const f=P.PeGTlistExtended.prototype.getGTlist(r,a,o,s,l,m);if((u=m.val)&&(h=[f],u>1)){const g=P.getPointer(f);for(let b=1;b<u;b++)h.push(P.wrapPointer(g+t*b,P.PeGTlistExtendedEntry))}}finally{P.destroy(m)}return h}e.init=i,e.getGTlist=n})(Xw||(Xw={})),function(e){function t(i){if(i&&i.length){for(const n of i)vs(n),n.getEntries().forEach(r=>{vs(r);const a=r.getGeogtran();vs(a),a.getParameters().forEach(vs),[a.getGeogcs1(),a.getGeogcs2()].forEach(o=>{vs(o);const s=o.getDatum();vs(s),vs(s.getSpheroid()),vs(o.getPrimem()),vs(o.getUnit())})});P.PeGTlistExtendedEntry.prototype.Delete(i[0])}}e.destroy=t}(YS||(YS={})),function(e){function t(i,n,r,a,o){P.ensureCache.prepare();const s=id(r),l=r===s,u=P.ensureFloat64(s);let h=0;a&&(h=P.ensureFloat64(a));const m=P._pe_geog_to_geog(P.getPointer(i),n,u,h,o);return m&&yc(r,n,u,l),m}e.geogToGeog=t}(ZS||(ZS={})),function(e){const t=(u,h,m,f,g,b)=>{let v,w;switch(P.ensureCache.prepare(),u){case"dd":v=P._pe_geog_to_dd,w=Ot.PE_DD_MAX;break;case"ddm":v=P._pe_geog_to_ddm,w=Ot.PE_DDM_MAX;break;case"dms":v=P._pe_geog_to_dms,w=Ot.PE_DMS_MAX}let x=0;h&&(x=P.getPointer(h));const S=id(f),E=P.ensureFloat64(S),C=Yb(m,w),_=v(x,m,E,g,P.ensureInt32(C));if(_)for(let I=0;I<m;I++)b[I]=P.UTF8ToString(C[I]);return _},i=(u,h,m,f,g)=>{let b;switch(P.ensureCache.prepare(),u){case"dd":b=P._pe_dd_to_geog;break;case"ddm":b=P._pe_ddm_to_geog;break;case"dms":b=P._pe_dms_to_geog}let v=0;h&&(v=P.getPointer(h));const w=f.map(C=>P.ensureString(C)),x=P.ensureInt32(w),S=P.ensureFloat64(new Array(2*m)),E=b(v,m,x,S);return E&&yc(g,m,S),E};function n(u,h,m,f,g){return t("dms",u,h,m,f,g)}function r(u,h,m,f){return i("dms",u,h,m,f)}function a(u,h,m,f,g){return t("ddm",u,h,m,f,g)}function o(u,h,m,f){return i("ddm",u,h,m,f)}function s(u,h,m,f,g){return t("dd",u,h,m,f,g)}function l(u,h,m,f){return i("dd",u,h,m,f)}e.geogToDms=n,e.dmsToGeog=r,e.geogToDdm=a,e.ddmToGeog=o,e.geogToDd=s,e.ddToGeog=l}(XS||(XS={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=P.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=P.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=P.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=P.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=P.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function i(r,a,o,s,l,u,h){P.ensureCache.prepare();let m=0;r&&(m=P.getPointer(r));const f=id(o),g=P.ensureFloat64(f),b=Yb(a,Ot.PE_MGRS_MAX),v=P.ensureInt32(b),w=P._pe_geog_to_mgrs_extended(m,a,g,s,l,u,v);if(w)for(let x=0;x<a;x++)h[x]=P.UTF8ToString(b[x]);return w}function n(r,a,o,s,l){P.ensureCache.prepare();let u=0;r&&(u=P.getPointer(r));const h=o.map(b=>P.ensureString(b)),m=P.ensureInt32(h),f=P.ensureFloat64(new Array(2*a)),g=P._pe_mgrs_to_geog_extended(u,a,m,s,f);return g&&yc(l,a,f),g}e.init=t,e.geogToMgrsExtended=i,e.mgrsToGeogExtended=n}(Qw||(Qw={})),function(e){function t(n,r,a,o,s,l,u){P.ensureCache.prepare();let h=0;n&&(h=P.getPointer(n));const m=id(a),f=P.ensureFloat64(m),g=Yb(r,Ot.PE_MGRS_MAX),b=P.ensureInt32(g),v=P._pe_geog_to_usng(h,r,f,o,s,l,b);if(v)for(let w=0;w<r;w++)u[w]=P.UTF8ToString(g[w]);return v}function i(n,r,a,o){P.ensureCache.prepare();let s=0;n&&(s=P.getPointer(n));const l=a.map(f=>P.ensureString(f)),u=P.ensureInt32(l),h=P.ensureFloat64(new Array(2*r)),m=P._pe_usng_to_geog(s,r,u,h);return m&&yc(o,r,h),m}e.geogToUsng=t,e.usngToGeog=i}(QS||(QS={})),function(e){function t(){e.PE_UTM_OPTS_NONE=P.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=P.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=P.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function i(r,a,o,s,l){P.ensureCache.prepare();let u=0;r&&(u=P.getPointer(r));const h=id(o),m=P.ensureFloat64(h),f=Yb(a,Ot.PE_UTM_MAX),g=P.ensureInt32(f),b=P._pe_geog_to_utm(u,a,m,s,g);if(b)for(let v=0;v<a;v++)l[v]=P.UTF8ToString(f[v]);return b}function n(r,a,o,s,l){P.ensureCache.prepare();let u=0;r&&(u=P.getPointer(r));const h=o.map(b=>P.ensureString(b)),m=P.ensureInt32(h),f=P.ensureFloat64(new Array(2*a)),g=P._pe_utm_to_geog(u,a,m,s,f);return g&&yc(l,a,f),g}e.init=t,e.geogToUtm=i,e.utmToGeog=n}(ex||(ex={})),function(e){const t=new Map;function i(){e.PE_PCSINFO_OPTION_NONE=P.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=P.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=P.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=P.PePCSInfo.prototype.PE_POLE_POINT}function n(r,a=e.PE_PCSINFO_OPTION_DOMAIN){let o,s;return t.has(r)&&(s=t.get(r),s[a]&&(o=s[a])),o||(o=P.PePCSInfo.prototype.generate(r,a),s||(s=[],t.set(r,s)),s[a]=o),o}e.init=i,e.generate=n}(tx||(tx={})),function(e){function t(){return P.PeVersion.prototype.version_string()}e.versionString=t}(eD||(eD={}));const rme=Object.freeze({__proto__:null,get _pe(){return P},isLoaded:g7,isSupported:nme,load:y7,get PeCSTransformations(){return JS},get PeDefs(){return Ot},get PeFactory(){return KS},get PeGCSExtent(){return b7},get PeGTlistExtended(){return Xw},get PeGTlistExtendedEntry(){return YS},get PeGTTransformations(){return ZS},get PeNotationDms(){return XS},get PeNotationMgrs(){return Qw},get PeNotationUsng(){return QS},get PeNotationUtm(){return ex},get PePCSInfo(){return tx},get PeVersion(){return eD},_init:v7}),$l=Et.radius,Da=Et.eccentricitySquared,ame={a1:$l*Da,a2:$l*Da*$l*Da,a3:$l*Da*Da/2,a4:$l*Da*$l*Da*2.5,a5:$l*Da+$l*Da*Da/2,a6:1-Da};1/294.9786982,1/298.257222101,Et.radius,Et.flattening,Rc.radius,Rc.flattening,1/192.0430107526882,rl.radius,rl.flattening,1/10.2079945799458,1/43.61604095563141,rl.radius;let Zb=0;class Up{constructor(t=null){this.uid=Zb++,t?(this._wkt=t.wkt!==void 0?t.wkt:null,this._wkid=t.wkid!==void 0?t.wkid:-1,this._isInverse=t.isInverse!==void 0&&t.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}static fromGE(t){const i=new Up;return i._wkt=t.wkt,i._wkid=t.wkid,i._isInverse=t.isInverse,i}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=Zb++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=Zb++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=Zb++}getInverse(){const t=new Up;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}}class Dc{constructor(t){if(this.steps=[],this._cached_projection={},this._chain="",this._gtlistentry=null,t&&t.steps)for(const i of t.steps)i instanceof Up?this.steps.push(i):this.steps.push(new Up({wkid:i.wkid,wkt:i.wkt,isInverse:i.isInverse}))}static cacheKey(t,i){return[t.wkid!==void 0&&t.wkid!==null?t.wkid.toString():"-1",t.wkt!==void 0&&t.wkt!==null?t.wkt.toString():"",i.wkid!==void 0&&i.wkid!==null?i.wkid.toString():"-1",i.wkt!==void 0&&i.wkt!==null?i.wkt.toString():""].join(",")}static fromGE(t){const i=new Dc;let n="";for(const r of t.steps){const a=Up.fromGE(r);i.steps.push(a),n+=a.uid.toString()+","}return i._cached_projection={},i._gtlistentry=null,i._chain=n,i}getInverse(){const t=new Dc;t.steps=[];for(let i=this.steps.length-1;i>=0;i--){const n=this.steps[i];t.steps.push(n.getInverse())}return t}getGTListEntry(){let t="";for(const i of this.steps)t+=i.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=t),this._gtlistentry}assignCachedGe(t,i,n){this._cached_projection[Dc.cacheKey(t,i)]=n}getCachedGeTransformation(t,i){let n="";for(const a of this.steps)n+=a.uid.toString()+",";n!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=n);const r=this._cached_projection[Dc.cacheKey(t,i)];return r===void 0?null:r}}function w7(e,t,i){if(V(t)||V(i)||i.vcsWkid||ir(t,i))return null;const n=gm(t)/gm(i);if(n===1)return null;switch(e){case"point":case"esriGeometryPoint":return r=>ome(r,n);case"polyline":case"esriGeometryPolyline":return r=>lme(r,n);case"polygon":case"esriGeometryPolygon":return r=>sme(r,n);case"multipoint":case"esriGeometryMultipoint":return r=>cme(r,n);case"extent":case"esriGeometryExtent":return r=>ume(r,n);default:return null}}function ome(e,t){e&&e.z!=null&&(e.z*=t)}function sme(e,t){if(e)for(const i of e.rings)for(const n of i)n.length>2&&(n[2]*=t)}function lme(e,t){if(e)for(const i of e.paths)for(const n of i)n.length>2&&(n[2]*=t)}function cme(e,t){if(e)for(const i of e.points)i.length>2&&(i[2]*=t)}function ume(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}let Ud=null,ix=null,y2=null,b2={};function ym(){return!!Ud&&g7()}function bm(e){return V(y2)&&(y2=Promise.all([y7(),import("./geometryEngineBase.40db0853.js").then(t=>t.g),import("./hydrated.398b3689.js")])),y2.then(([,t,{hydratedAdapter:i}])=>{pi(e),ix=i,Ud=t.default,Ud._enableProjection(rme)})}function Vy(e,t,i=null){return Array.isArray(e)?e.length===0?[]:yP(ix,e,e[0].spatialReference,t,i):yP(ix,[e],e.spatialReference,t,i)[0]}function yP(e,t,i,n,r=null){if(V(i)||V(n))return t;if(Gd(i,n,r))return t.map(a=>hme(a,i,n));if(V(r)){const a=Dc.cacheKey(i,n);b2[a]!==void 0?r=b2[a]:(r=dme(i,n,null),V(r)&&(r=new Dc),b2[a]=r)}if(V(Ud))throw new x7;return Ud._project(e,t,i,n,r)}function dme(e,t,i=null){if(V(Ud))throw new x7;if(V(e)||V(t))return null;const n=Ud._getTransformation(ix,e,t,i,i==null?void 0:i.spatialReference);return n!==null?Dc.fromGE(n):null}class x7 extends L{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}var A;function Gd(e,t,i){return!i&&(!!ir(e,t)||Xn(e)&&Xn(t)&&!!D7(e,t,$7))}async function TTe(e,t,i,n){if(!ym()){if(Array.isArray(e)){for(const{source:r,dest:a,geographicTransformation:o}of e)if(!Gd(r,a,o))return bm(n)}else if(!Gd(e,t,i))return bm(n)}}function hme(e,t,i){return e?"x"in e?pme(e,t,new Ie,i,0):"xmin"in e?gme(e,t,new pt,i,0):"rings"in e?k7(e,t,new ao,i,0):"paths"in e?fme(e,t,new _r,i,0):"points"in e?mme(e,t,new Fm,i,0):null:null}function pme(e,t,i,n,r){_i[0]=e.x,_i[1]=e.y;const a=e.z;return _i[2]=a!==void 0?a:r,Hy(_i,t,0,_i,n,0,1)?(i.x=_i[0],i.y=_i[1],i.spatialReference=n,a===void 0?(i.z=void 0,i.hasZ=!1):(i.z=_i[2],i.hasZ=!0),e.m===void 0?(i.m=void 0,i.hasM=!1):(i.m=e.m,i.hasM=!0),i):null}function mme(e,t,i,n,r){const{points:a,hasZ:o,hasM:s}=e,l=[],u=a.length,h=[];for(const m of a)h.push(m[0],m[1],o?m[2]:r);if(!Hy(h,t,0,h,n,0,u))return null;for(let m=0;m<u;++m){const f=3*m,g=h[f],b=h[f+1];o&&s?l.push([g,b,h[f+2],a[m][3]]):o?l.push([g,b,h[f+2]]):s?l.push([g,b,a[m][2]]):l.push([g,b])}return i.points=l,i.spatialReference=n,i.hasZ=o,i.hasM=s,i}function fme(e,t,i,n,r){const{paths:a,hasZ:o,hasM:s}=e,l=[];return _7(a,o,s,t,l,n,r)?(i.paths=l,i.spatialReference=n,i.hasZ=o,i.hasM=s,i):null}function MTe(e,t,i=t.spatialReference,n=0){return T(i)&&T(k7(e,e.spatialReference,t,i,n))}function k7(e,t,i,n,r){const{rings:a,hasZ:o,hasM:s}=e,l=[];return _7(a,o,s,t,l,n,r)?(i.rings=l,i.spatialReference=n,i.hasZ=o,i.hasM=s,i):null}function gme(e,t,i,n,r){const{xmin:a,ymin:o,xmax:s,ymax:l,hasZ:u,hasM:h}=e;return bP(a,o,u?e.zmin:r,t,_i,n)?(i.xmin=_i[0],i.ymin=_i[1],u&&(i.zmin=_i[2]),bP(s,l,u?e.zmax:r,t,_i,n)?(i.xmax=_i[0],i.ymax=_i[1],u&&(i.zmax=_i[2]),h&&(i.mmin=e.mmin,i.mmax=e.mmax),i.spatialReference=n,i):null):null}function ATe(e,t,i,n=0){_i[0]=e.x,_i[1]=e.y;const r=e.z;return _i[2]=r!==void 0?r:n,Hy(_i,e.spatialReference,0,t,i,0,1)}function bP(e,t,i,n,r,a){return Xb[0]=e,Xb[1]=t,Xb[2]=i,Hy(Xb,n,0,r,a,0,1)}function Hy(e,t,i,n,r,a,o=1){const s=D7(t,r,$7);if(V(s))return!1;if(s===xt){if(e===n&&i===a)return!0;const u=i+3*o;for(let h=i,m=a;h<u;h++,m++)n[m]=e[h];return!0}const l=i+3*o;for(let u=i,h=a;u<l;u+=3,h+=3)s(e,u,n,h);return!0}function _7(e,t,i,n,r,a,o=0){const s=new Array;for(const u of e)for(const h of u)s.push(h[0],h[1],t?h[2]:o);if(!Hy(s,n,0,s,a,0,s.length/3))return!1;let l=0;r.length=0;for(const u of e){const h=new Array;for(const m of u)t&&i?h.push([s[l++],s[l++],s[l++],m[3]]):t?h.push([s[l++],s[l++],s[l++]]):i?(h.push([s[l++],s[l++],m[2]]),l++):(h.push([s[l++],s[l++]]),l++);r.push(h)}return!0}function OTe(e,t,i,n){if(V(e)||V(n))return!1;const r=nx(e,Ome),a=nx(n,Pme);if(r===a&&!vP(a)&&(r!==A.UNKNOWN||ir(e,n)))return p7(i,t),!0;if(vP(a)){const o=v0[r][A.LON_LAT],s=v0[A.LON_LAT][a];return!V(o)&&!V(s)&&(o(t,0,Cl,0),s(Cl,0,Il,0),S7(Uo*Cl[0],Uo*Cl[1],i),i[12]=Il[0],i[13]=Il[1],i[14]=Il[2],!0)}if((a===A.WEB_MERCATOR||a===A.PLATE_CARREE)&&(r===A.WGS84||r===A.CGCS2000&&a===A.PLATE_CARREE||r===A.SPHERICAL_ECEF||r===A.WEB_MERCATOR)){const o=v0[r][A.LON_LAT],s=v0[A.LON_LAT][a];return!V(o)&&!V(s)&&(o(t,0,Cl,0),s(Cl,0,Il,0),r===A.SPHERICAL_ECEF?yme(Uo*Cl[0],Uo*Cl[1],i):nE(i),i[12]=Il[0],i[13]=Il[1],i[14]=Il[2],!0)}return!1}function vP(e){return e===A.SPHERICAL_ECEF||e===A.SPHERICAL_MARS_PCPF||e===A.SPHERICAL_MOON_PCPF}function S7(e,t,i){const n=Math.sin(e),r=Math.cos(e),a=Math.sin(t),o=Math.cos(t),s=i;return s[0]=-n,s[4]=-a*r,s[8]=o*r,s[12]=0,s[1]=r,s[5]=-a*n,s[9]=o*n,s[13]=0,s[2]=0,s[6]=o,s[10]=a,s[14]=0,s[3]=0,s[7]=0,s[11]=0,s[15]=1,s}function yme(e,t,i){return S7(e,t,i),fl(i,i),i}function nx(e,t){return t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=jy(e,1)),e.wkt===n7.wkt?t.spatialReferenceId=A.SPHERICAL_ECEF:Ng(e)?t.spatialReferenceId=A.WGS84:Fd(e)?t.spatialReferenceId=A.WEB_MERCATOR:vse(e)?t.spatialReferenceId=A.PLATE_CARREE:e.wkt===ipe.wkt?t.spatialReferenceId=A.WGS84_ECEF:e.wkid===Rd.CGCS2000?t.spatialReferenceId=A.CGCS2000:e.wkt===Yw.wkt?t.spatialReferenceId=A.SPHERICAL_MARS_PCPF:e.wkt===Zw.wkt?t.spatialReferenceId=A.SPHERICAL_MOON_PCPF:hk(e)?t.spatialReferenceId=A.GCSMARS2000:pk(e)?t.spatialReferenceId=A.GCSMOON2000:t.spatialReferenceId=A.UNKNOWN)}function xt(e,t,i,n){e!==i&&(i[n++]=e[t++],i[n++]=e[t++],i[n]=e[t])}function Gp(e,t,i,n){i[n++]=vm*(e[t++]/Et.radius),i[n++]=vm*(Math.PI/2-2*Math.atan(Math.exp(-e[t++]/Et.radius))),i[n]=e[t]}function bme(e,t,i,n){Gp(e,t,i,n),dd(i,n,i,n)}function vme(e,t,i,n){Gp(e,t,i,n),pd(i,n,i,n)}function wme(e,t,i,n,r){const a=.4999999*Math.PI,o=ha(Uo*e[t+1],-a,a),s=Math.sin(o);i[n++]=Uo*e[t]*r.radius,i[n++]=r.halfSemiMajorAxis*Math.log((1+s)/(1-s)),i[n]=e[t+2]}function Kg(e,t,i,n){wme(e,t,i,n,Et)}(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT",e[e.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=8]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=10]="GCSMOON2000",e[e.LON_LAT=11]="LON_LAT",e[e.PLATE_CARREE=12]="PLATE_CARREE"})(A||(A={}));const wP=Et.radius*Math.PI/180,xP=180/(Et.radius*Math.PI);function cd(e,t,i,n){i[n]=e[t]*wP,i[n+1]=e[t+1]*wP,i[n+2]=e[t+2]}function ud(e,t,i,n){i[n]=e[t]*xP,i[n+1]=e[t+1]*xP,i[n+2]=e[t+2]}function xme(e,t,i,n){Gp(e,t,i,n),cd(i,n,i,n)}function kme(e,t,i,n){md(e,t,i,n),cd(i,n,i,n)}function _me(e,t,i,n){hd(e,t,i,n),cd(i,n,i,n)}function Sme(e,t,i,n){ud(e,t,i,n),dd(i,n,i,n)}function Dme(e,t,i,n){ud(e,t,i,n),Kg(i,n,i,n)}function $me(e,t,i,n){ud(e,t,i,n),pd(i,n,i,n)}function rE(e,t,i,n,r){const a=r+e[t+2],o=Uo*e[t+1],s=Uo*e[t],l=Math.cos(o);i[n++]=Math.cos(s)*l*a,i[n++]=Math.sin(s)*l*a,i[n]=Math.sin(o)*a}function kP(e,t,i,n){rE(e,t,i,n,Rc.radius)}function _P(e,t,i,n){rE(e,t,i,n,rl.radius)}function dd(e,t,i,n){rE(e,t,i,n,Et.radius)}function aE(e,t,i,n,r){const a=e[t],o=e[t+1],s=e[t+2],l=Math.sqrt(a*a+o*o+s*s),u=Rz(s/(l===0?1:l)),h=Math.atan2(o,a);i[n++]=vm*h,i[n++]=vm*u,i[n]=l-r}function SP(e,t,i,n){aE(e,t,i,n,Rc.radius)}function DP(e,t,i,n){aE(e,t,i,n,rl.radius)}function hd(e,t,i,n){aE(e,t,i,n,Et.radius)}function Cme(e,t,i,n){hd(e,t,i,n),Kg(i,n,i,n)}function Ime(e,t,i,n){hd(e,t,i,n),pd(i,n,i,n)}function Eme(e,t,i,n,r){const a=Uo*e[t],o=Uo*e[t+1],s=e[t+2],l=Math.sin(o),u=Math.cos(o),h=r.radius/Math.sqrt(1-r.eccentricitySquared*l*l);i[n++]=(h+s)*u*Math.cos(a),i[n++]=(h+s)*u*Math.sin(a),i[n++]=(h*(1-r.eccentricitySquared)+s)*l}function pd(e,t,i,n){Eme(e,t,i,n,Et)}function md(e,t,i,n){const r=ame,a=e[t],o=e[t+1],s=e[t+2];let l,u,h,m,f,g,b,v,w,x,S,E,C,_,I,O,R,H,Y,U,ce;l=Math.abs(s),u=a*a+o*o,h=Math.sqrt(u),m=u+s*s,f=Math.sqrt(m),U=Math.atan2(o,a),g=s*s/m,b=u/m,_=r.a2/f,I=r.a3-r.a4/f,b>.3?(v=l/f*(1+b*(r.a1+_+g*I)/f),Y=Math.asin(v),x=v*v,w=Math.sqrt(1-x)):(w=h/f*(1-g*(r.a5-_-b*I)/f),Y=Math.acos(w),x=1-w*w,v=Math.sqrt(x)),S=1-Et.eccentricitySquared*x,E=Et.radius/Math.sqrt(S),C=r.a6*E,_=h-E*w,I=l-C*v,R=w*_+v*I,O=w*I-v*_,H=O/(C/S+R),Y+=H,ce=R+O*H/2,s<0&&(Y=-Y),i[n++]=vm*U,i[n++]=vm*Y,i[n]=ce}function Tme(e,t,i,n){md(e,t,i,n),dd(i,n,i,n)}function Mme(e,t,i,n){md(e,t,i,n),Kg(i,n,i,n)}const v0={[A.WGS84]:{[A.CGCS2000]:null,[A.GCSMARS2000]:null,[A.GCSMOON2000]:null,[A.LON_LAT]:xt,[A.WGS84_COMPARABLE_LON_LAT]:xt,[A.SPHERICAL_ECEF]:dd,[A.SPHERICAL_MARS_PCPF]:null,[A.SPHERICAL_MOON_PCPF]:null,[A.UNKNOWN]:null,[A.WEB_MERCATOR]:Kg,[A.PLATE_CARREE]:cd,[A.WGS84]:xt,[A.WGS84_ECEF]:pd},[A.CGCS2000]:{[A.CGCS2000]:xt,[A.GCSMARS2000]:null,[A.GCSMOON2000]:null,[A.LON_LAT]:xt,[A.WGS84_COMPARABLE_LON_LAT]:xt,[A.SPHERICAL_ECEF]:dd,[A.SPHERICAL_MARS_PCPF]:null,[A.SPHERICAL_MOON_PCPF]:null,[A.UNKNOWN]:null,[A.WEB_MERCATOR]:null,[A.PLATE_CARREE]:cd,[A.WGS84]:null,[A.WGS84_ECEF]:pd},[A.GCSMARS2000]:{[A.CGCS2000]:null,[A.GCSMARS2000]:xt,[A.GCSMOON2000]:null,[A.LON_LAT]:xt,[A.WGS84_COMPARABLE_LON_LAT]:null,[A.SPHERICAL_ECEF]:null,[A.SPHERICAL_MARS_PCPF]:_P,[A.SPHERICAL_MOON_PCPF]:null,[A.UNKNOWN]:null,[A.WEB_MERCATOR]:null,[A.PLATE_CARREE]:null,[A.WGS84]:null,[A.WGS84_ECEF]:null},[A.GCSMOON2000]:{[A.CGCS2000]:null,[A.GCSMARS2000]:null,[A.GCSMOON2000]:xt,[A.LON_LAT]:xt,[A.WGS84_COMPARABLE_LON_LAT]:null,[A.SPHERICAL_ECEF]:null,[A.SPHERICAL_MARS_PCPF]:null,[A.SPHERICAL_MOON_PCPF]:kP,[A.UNKNOWN]:null,[A.WEB_MERCATOR]:null,[A.PLATE_CARREE]:null,[A.WGS84]:null,[A.WGS84_ECEF]:null},[A.WEB_MERCATOR]:{[A.CGCS2000]:null,[A.GCSMARS2000]:null,[A.GCSMOON2000]:null,[A.LON_LAT]:Gp,[A.WGS84_COMPARABLE_LON_LAT]:Gp,[A.SPHERICAL_ECEF]:bme,[A.SPHERICAL_MARS_PCPF]:null,[A.SPHERICAL_MOON_PCPF]:null,[A.UNKNOWN]:null,[A.WEB_MERCATOR]:xt,[A.PLATE_CARREE]:xme,[A.WGS84]:Gp,[A.WGS84_ECEF]:vme},[A.WGS84_ECEF]:{[A.CGCS2000]:md,[A.GCSMARS2000]:null,[A.GCSMOON2000]:null,[A.LON_LAT]:md,[A.WGS84_COMPARABLE_LON_LAT]:md,[A.SPHERICAL_ECEF]:Tme,[A.SPHERICAL_MARS_PCPF]:null,[A.SPHERICAL_MOON_PCPF]:null,[A.UNKNOWN]:null,[A.WEB_MERCATOR]:Mme,[A.PLATE_CARREE]:kme,[A.WGS84]:md,[A.WGS84_ECEF]:xt},[A.SPHERICAL_ECEF]:{[A.CGCS2000]:hd,[A.GCSMARS2000]:null,[A.GCSMOON2000]:null,[A.LON_LAT]:hd,[A.WGS84_COMPARABLE_LON_LAT]:hd,[A.SPHERICAL_ECEF]:xt,[A.SPHERICAL_MARS_PCPF]:null,[A.SPHERICAL_MOON_PCPF]:null,[A.UNKNOWN]:null,[A.WEB_MERCATOR]:Cme,[A.PLATE_CARREE]:_me,[A.WGS84]:hd,[A.WGS84_ECEF]:Ime},[A.SPHERICAL_MARS_PCPF]:{[A.CGCS2000]:null,[A.GCSMARS2000]:DP,[A.GCSMOON2000]:null,[A.LON_LAT]:DP,[A.WGS84_COMPARABLE_LON_LAT]:null,[A.SPHERICAL_ECEF]:null,[A.SPHERICAL_MARS_PCPF]:xt,[A.SPHERICAL_MOON_PCPF]:null,[A.UNKNOWN]:null,[A.WEB_MERCATOR]:null,[A.PLATE_CARREE]:null,[A.WGS84]:null,[A.WGS84_ECEF]:null},[A.SPHERICAL_MOON_PCPF]:{[A.CGCS2000]:null,[A.GCSMARS2000]:null,[A.GCSMOON2000]:SP,[A.LON_LAT]:SP,[A.WGS84_COMPARABLE_LON_LAT]:null,[A.SPHERICAL_ECEF]:null,[A.SPHERICAL_MARS_PCPF]:null,[A.SPHERICAL_MOON_PCPF]:xt,[A.UNKNOWN]:null,[A.WEB_MERCATOR]:null,[A.PLATE_CARREE]:null,[A.WGS84]:null,[A.WGS84_ECEF]:null},[A.UNKNOWN]:{[A.CGCS2000]:null,[A.GCSMARS2000]:null,[A.GCSMOON2000]:null,[A.LON_LAT]:null,[A.WGS84_COMPARABLE_LON_LAT]:null,[A.SPHERICAL_ECEF]:null,[A.SPHERICAL_MARS_PCPF]:null,[A.SPHERICAL_MOON_PCPF]:null,[A.UNKNOWN]:xt,[A.WEB_MERCATOR]:null,[A.PLATE_CARREE]:null,[A.WGS84]:null,[A.WGS84_ECEF]:null},[A.LON_LAT]:{[A.CGCS2000]:xt,[A.GCSMARS2000]:xt,[A.GCSMOON2000]:xt,[A.LON_LAT]:xt,[A.WGS84_COMPARABLE_LON_LAT]:xt,[A.SPHERICAL_ECEF]:dd,[A.SPHERICAL_MARS_PCPF]:_P,[A.SPHERICAL_MOON_PCPF]:kP,[A.UNKNOWN]:null,[A.WEB_MERCATOR]:Kg,[A.PLATE_CARREE]:cd,[A.WGS84]:xt,[A.WGS84_ECEF]:pd},[A.WGS84_COMPARABLE_LON_LAT]:{[A.CGCS2000]:null,[A.GCSMARS2000]:null,[A.GCSMOON2000]:null,[A.LON_LAT]:xt,[A.WGS84_COMPARABLE_LON_LAT]:xt,[A.SPHERICAL_ECEF]:dd,[A.SPHERICAL_MARS_PCPF]:null,[A.SPHERICAL_MOON_PCPF]:null,[A.UNKNOWN]:null,[A.WEB_MERCATOR]:null,[A.PLATE_CARREE]:cd,[A.WGS84]:xt,[A.WGS84_ECEF]:pd},[A.PLATE_CARREE]:{[A.CGCS2000]:ud,[A.GCSMARS2000]:null,[A.GCSMOON2000]:null,[A.LON_LAT]:ud,[A.WGS84_COMPARABLE_LON_LAT]:ud,[A.SPHERICAL_ECEF]:Sme,[A.SPHERICAL_MARS_PCPF]:null,[A.SPHERICAL_MOON_PCPF]:null,[A.UNKNOWN]:null,[A.WEB_MERCATOR]:Dme,[A.PLATE_CARREE]:xt,[A.WGS84]:ud,[A.WGS84_ECEF]:$me}};function D7(e,t,i=oE()){return V(e)||V(t)?null:Ame(e,t,i).projector}function Ame(e,t,i){if(V(e)||V(t)||i.source.spatialReference===e&&i.dest.spatialReference===t)return i;const n=nx(e,i.source),r=nx(t,i.dest);return n===A.UNKNOWN&&r===A.UNKNOWN?ir(e,t)?i.projector=xt:i.projector=null:i.projector=v0[n][r],i}function oE(){return{source:{spatialReference:null,spatialReferenceId:A.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:A.UNKNOWN,metersPerUnit:1},projector:xt}}const Ome={spatialReference:null,spatialReferenceId:A.UNKNOWN},Pme={spatialReference:null,spatialReferenceId:A.UNKNOWN},$7=oE();oE();const Uo=Zce(1),vm=Lz(1),Xb=ss(),Cl=ss(),Il=ss(),_i=ss();var tD;let Mo=tD=class extends J{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new tD({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};c([d({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Mo.prototype,"cols",void 0),c([d({type:$t,json:{write:!0}})],Mo.prototype,"level",void 0),c([d({type:String,json:{write:!0}})],Mo.prototype,"levelValue",void 0),c([d({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Mo.prototype,"origin",void 0),c([d({type:Number,json:{write:!0}})],Mo.prototype,"resolution",void 0),c([d({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Mo.prototype,"rows",void 0),c([d({type:Number,json:{write:!0}})],Mo.prototype,"scale",void 0),Mo=tD=c([D("esri.layers.support.LOD")],Mo);const sE=Mo;var Gl;const $P=new Ze({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let Ti=Gl=class extends J{constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.minScale=0,this.maxScale=0,this.size=null,this.spatialReference=null}static create(e={}){const{resolutionFactor:t=1,scales:i,size:n=256,spatialReference:r=He.WebMercator,numLODs:a=24}=e;if(!Xn(r)){const m=[];if(i)for(let f=0;f<i.length;f++){const g=i[f];m.push({level:f,scale:g,resolution:g})}else{let f=5e-4;for(let g=a-1;g>=0;g--)m.unshift({level:g,scale:f,resolution:f}),f*=2}return new Gl({dpi:96,lods:m,origin:new Ie(0,0,r),size:[n,n],spatialReference:r})}const o=to(r),s=e.origin?new Ie({x:e.origin.x,y:e.origin.y,spatialReference:r}):new Ie(o?{x:o.origin[0],y:o.origin[1],spatialReference:r}:{x:0,y:0,spatialReference:r}),l=96,u=1/(jy(r)*39.37*l),h=[];if(i)for(let m=0;m<i.length;m++){const f=i[m],g=f*u;h.push({level:m,scale:f,resolution:g})}else{let m=Y6(r)?512/n*5916575275917094e-7:256/n*591657527591555e-6;const f=Math.ceil(a/t);h.push({level:0,scale:m,resolution:m*u});for(let g=1;g<f;g++){const b=m/2**t,v=b*u;h.push({level:g,scale:b,resolution:v}),m=b}}return new Gl({dpi:l,lods:h,origin:s,size:[n,n],spatialReference:r})}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const i=to(e);return e.isWrappable&&Math.abs(i.origin[0]-t.x)<=i.dx}return!1}readOrigin(e,t){return Ie.fromJSON($({spatialReference:t.spatialReference},e))}set lods(e){let t=0,i=0;const n=[];this._levelToLOD={},e&&(t=-1/0,i=1/0,e.forEach(r=>{n.push(r.scale),t=r.scale>t?r.scale:t,i=r.scale<i?r.scale:i,this._levelToLOD[r.level]=r})),this._set("scales",n),this._set("minScale",t),this._set("maxScale",i),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];{const i=Math.floor(e),n=i+1;return t[i]/(t[i]/t[n])**(e-i)}}scaleToZoom(e){const t=this.scales,i=t.length-1;let n=0;for(;n<i;n++){const r=t[n],a=t[n+1];if(r<=e)return n;if(a===e)return n+1;if(r>e&&a<e)return n+Math.log(r/e)/Math.log(r/a)}return n}snapScale(e,t=.95){const i=this.scaleToZoom(e);return i%Math.floor(i)>=t?this.zoomToScale(Math.ceil(i)):this.zoomToScale(Math.floor(i))}tileAt(e,t,i,n){const r=this.lodAt(e);if(!r)return null;let a,o;if(typeof t=="number")a=t,o=i;else if(ir(t.spatialReference,this.spatialReference))a=t.x,o=t.y,n=i;else{const u=mk(t,this.spatialReference);if(V(u))return null;a=u.x,o=u.y,n=i}const s=r.resolution*this.size[0],l=r.resolution*this.size[1];return n||(n={id:null,level:0,row:0,col:0,extent:qd()}),n.level=e,n.row=Math.floor((this.origin.y-o)/l+.001),n.col=Math.floor((a-this.origin.x)/s+.001),this.updateTileInfo(n),n}updateTileInfo(e,t=Gl.ExtrapolateOptions.NONE){let i=this.lodAt(e.level);if(!i&&t===Gl.ExtrapolateOptions.POWER_OF_TWO){const o=this.lods[this.lods.length-1];o.level<e.level&&(i=o)}if(!i)return;const n=e.level-i.level,r=i.resolution*this.size[0]/2**n,a=i.resolution*this.size[1]/2**n;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=qd()),e.extent[0]=this.origin.x+e.col*r,e.extent[1]=this.origin.y-(e.row+1)*a,e.extent[2]=e.extent[0]+r,e.extent[3]=e.extent[1]+a}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||t.parentLevel===-1)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const{resolution:i}=this.lodAt(t.level),n=i*this.size[0],r=i*this.size[1];return e[0]=this.origin.x+t.col*n,e[1]=this.origin.y-(t.row+1)*r,e[2]=e[0]+n,e[3]=e[1]+r,e}lodAt(e){return this._levelToLOD&&this._levelToLOD[e]||null}clone(){return Gl.fromJSON(this.write({}))}getOrCreateCompatible(e,t){if(this.size[0]===256&&this.size[1]===256)return e===256?this:null;const i=[],n=this.lods.length;for(let r=0;r<n;r++){const a=this.lods[r],o=a.resolution*t;i.push(new sE({level:a.level,scale:a.scale,resolution:o}))}return new Gl({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:i})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let i=0;i<e.length;i++){const n=e[i];this._upsampleLevels[n.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/n.resolution:0},t=n}}};c([d({type:Number,json:{write:!0}})],Ti.prototype,"compressionQuality",void 0),c([d({type:Number,json:{write:!0}})],Ti.prototype,"dpi",void 0),c([d({type:String,json:{read:$P.read,write:$P.write,origins:{"web-scene":{read:!1,write:!1}}}})],Ti.prototype,"format",void 0),c([d({readOnly:!0})],Ti.prototype,"isWrappable",null),c([d({type:Ie,json:{write:!0}})],Ti.prototype,"origin",void 0),c([ae("origin")],Ti.prototype,"readOrigin",null),c([d({type:[sE],value:null,json:{write:!0}})],Ti.prototype,"lods",null),c([d({readOnly:!0})],Ti.prototype,"minScale",void 0),c([d({readOnly:!0})],Ti.prototype,"maxScale",void 0),c([d({readOnly:!0})],Ti.prototype,"scales",void 0),c([d({cast:e=>Array.isArray(e)?e:typeof e=="number"?[e,e]:[256,256]})],Ti.prototype,"size",void 0),c([ae("size",["rows","cols"])],Ti.prototype,"readSize",null),c([ue("size",{cols:{type:$t},rows:{type:$t}})],Ti.prototype,"writeSize",null),c([d({type:He,json:{write:!0}})],Ti.prototype,"spatialReference",void 0),Ti=Gl=c([D("esri.layers.support.TileInfo")],Ti),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}(Ti||(Ti={}));const Lme=Ti,w1={widthBreakpoint:{getValue(e){const t=e.viewSize[0],i=e.breakpoints,n=this.values;return t<=i.xsmall?n.xsmall:t<=i.small?n.small:t<=i.medium?n.medium:t<=i.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const t=e.viewSize[1],i=e.breakpoints,n=this.values;return t<=i.xsmall?n.xsmall:t<=i.small?n.small:t<=i.medium?n.medium:t<=i.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const t=e.viewSize,i=t[0],n=t[1],r=this.values;return n>=i?r.portrait:r.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},v2={xsmall:544,small:768,medium:992,large:1200};function Rme(e){const t=e;return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}function w2(e,t){return t?w1[e].valueToClassName[t].split(" "):[]}const Fme=e=>{let t=class extends e{constructor(...i){super(...i),this._breakpointsHandles=new On,this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=v2}initialize(){this._breakpointsHandles.add(_t(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),Ko))}destroy(){this.destroyed||(this._removeActiveClassNames(),this._breakpointsHandles=Ho(this._breakpointsHandles))}set breakpoints(i){if(i===this._get("breakpoints"))return;const n=Rme(i);if(!n){const r=JSON.stringify(v2,null,2);console.warn("provided breakpoints are not valid, using defaults:"+r)}i=n?i:v2,this._set("breakpoints",$({},i))}_updateClassNames(){if(!this.container)return;const i=Cn.acquire(),n=Cn.acquire();let r,a=!1;for(r in w1){const o=this[r],s=w1[r].getValue({viewSize:this.size,breakpoints:this.breakpoints});o!==s&&(a=!0,this[r]=s,w2(r,o).forEach(l=>n.push(l)),w2(r,s).forEach(l=>i.push(l)))}a&&(this._applyClassNameChanges(i,n),Cn.release(i),Cn.release(n))}_applyClassNameChanges(i,n){const r=this.container;r&&(n.forEach(a=>r.classList.remove(a)),i.forEach(a=>r.classList.add(a)))}_removeActiveClassNames(){const i=this.container;if(!i)return;let n;for(n in w1)w2(n,this[n]).forEach(r=>i.classList.remove(r))}};return c([d()],t.prototype,"breakpoints",null),c([d()],t.prototype,"orientation",void 0),c([d()],t.prototype,"widthBreakpoint",void 0),c([d()],t.prototype,"heightBreakpoint",void 0),t=c([D("esri.views.BreakpointsOwner")],t),t};function lE(e){return typeof e=="string"?document.getElementById(e):e}function C7(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function CP(e,t){const i=t.parentNode;i&&i.insertBefore(e,t)}function IP(e,t){for(;;){const i=e.firstChild;if(!i)break;t.appendChild(i)}}/*!
 * @esri/arcgis-html-sanitizer - v2.9.0 - Mon Dec 13 2021 15:07:01 GMT-0500 (Eastern Standard Time)
 * Copyright (c) 2021 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2017 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 * 
 * Lodash/isPlainObject
 * Copyright (c) JS Foundation and other contributors <https://js.foundation/>
 * MIT License, see https://raw.githubusercontent.com/lodash/lodash/4.17.10-npm/LICENSE for details
 */var Nme="[object Object]";function zme(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function jme(e,t){return function(i){return e(t(i))}}var Vme=Function.prototype,I7=Object.prototype,E7=Vme.toString,Hme=I7.hasOwnProperty,qme=E7.call(Object),Bme=I7.toString,Ume=jme(Object.getPrototypeOf,Object);function Gme(e){return!!e&&typeof e=="object"}function Wme(e){if(!Gme(e)||Bme.call(e)!=Nme||zme(e))return!1;var t=Ume(e);if(t===null)return!0;var i=Hme.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&E7.call(i)==qme}var Jme=Wme,Sp={exports:{}},Zt={},Yg={exports:{}},ah={};function T7(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function Kme(e,t,i){}function Yme(e,t,i){}var Zme=/javascript\s*\:/img;function Xme(e,t){return Zme.test(t)?"":t}ah.whiteList=T7();ah.getDefaultWhiteList=T7;ah.onAttr=Kme;ah.onIgnoreAttr=Yme;ah.safeAttrValue=Xme;var Qme={indexOf:function(e,t){var i,n;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var n,r;if(Array.prototype.forEach)return e.forEach(t,i);for(n=0,r=e.length;n<r;n++)t.call(i,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},Ef=Qme;function efe(e,t){e=Ef.trimRight(e),e[e.length-1]!==";"&&(e+=";");var i=e.length,n=!1,r=0,a=0,o="";function s(){if(!n){var h=Ef.trim(e.slice(r,a)),m=h.indexOf(":");if(m!==-1){var f=Ef.trim(h.slice(0,m)),g=Ef.trim(h.slice(m+1));if(f){var b=t(r,o.length,f,g,h);b&&(o+=b+"; ")}}}r=a+1}for(;a<i;a++){var l=e[a];if(l==="/"&&e[a+1]==="*"){var u=e.indexOf("*/",a+2);if(u===-1)break;a=u+1,r=a+1,n=!1}else l==="("?n=!0:l===")"?n=!1:l===";"?n||s():l===`
`&&s()}return Ef.trim(o)}var tfe=efe,Qb=ah,ife=tfe;function EP(e){return e==null}function nfe(e){var t={};for(var i in e)t[i]=e[i];return t}function M7(e){e=nfe(e||{}),e.whiteList=e.whiteList||Qb.whiteList,e.onAttr=e.onAttr||Qb.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||Qb.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||Qb.safeAttrValue,this.options=e}M7.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,i=t.options,n=i.whiteList,r=i.onAttr,a=i.onIgnoreAttr,o=i.safeAttrValue,s=ife(e,function(l,u,h,m,f){var g=n[h],b=!1;if(g===!0?b=g:typeof g=="function"?b=g(m):g instanceof RegExp&&(b=g.test(m)),b!==!0&&(b=!1),m=o(h,m),!!m){var v={position:u,sourcePosition:l,source:f,isWhite:b};if(b){var w=r(h,m,v);return EP(w)?h+":"+m:w}else{var w=a(h,m,v);if(!EP(w))return w}}});return s};var rfe=M7;(function(e,t){var i=ah,n=rfe;function r(o,s){var l=new n(s);return l.process(o)}t=e.exports=r,t.FilterCSS=n;for(var a in i)t[a]=i[a]})(Yg,Yg.exports);var cE={indexOf:function(e,t){var i,n;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var n,r;if(Array.prototype.forEach)return e.forEach(t,i);for(n=0,r=e.length;n<r;n++)t.call(i,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,i=t.exec(e);return i?i.index:-1}},afe=Yg.exports.FilterCSS,ofe=Yg.exports.getDefaultWhiteList,rx=cE;function A7(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var O7=new afe;function sfe(e,t,i){}function lfe(e,t,i){}function cfe(e,t,i){}function ufe(e,t,i){}function P7(e){return e.replace(hfe,"&lt;").replace(pfe,"&gt;")}function dfe(e,t,i,n){if(i=j7(i),t==="href"||t==="src"){if(i=rx.trim(i),i==="#")return"#";if(!(i.substr(0,7)==="http://"||i.substr(0,8)==="https://"||i.substr(0,7)==="mailto:"||i.substr(0,4)==="tel:"||i.substr(0,11)==="data:image/"||i.substr(0,6)==="ftp://"||i.substr(0,2)==="./"||i.substr(0,3)==="../"||i[0]==="#"||i[0]==="/"))return""}else if(t==="background"){if(ev.lastIndex=0,ev.test(i))return""}else if(t==="style"){if(TP.lastIndex=0,TP.test(i)||(MP.lastIndex=0,MP.test(i)&&(ev.lastIndex=0,ev.test(i))))return"";n!==!1&&(n=n||O7,i=n.process(i))}return i=V7(i),i}var hfe=/</g,pfe=/>/g,mfe=/"/g,ffe=/&quot;/g,gfe=/&#([a-zA-Z0-9]*);?/gim,yfe=/&colon;?/gim,bfe=/&newline;?/gim,ev=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,TP=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,MP=/u\s*r\s*l\s*\(.*/gi;function L7(e){return e.replace(mfe,"&quot;")}function R7(e){return e.replace(ffe,'"')}function F7(e){return e.replace(gfe,function(i,n){return n[0]==="x"||n[0]==="X"?String.fromCharCode(parseInt(n.substr(1),16)):String.fromCharCode(parseInt(n,10))})}function N7(e){return e.replace(yfe,":").replace(bfe," ")}function z7(e){for(var t="",i=0,n=e.length;i<n;i++)t+=e.charCodeAt(i)<32?" ":e.charAt(i);return rx.trim(t)}function j7(e){return e=R7(e),e=F7(e),e=N7(e),e=z7(e),e}function V7(e){return e=L7(e),e=P7(e),e}function vfe(){return""}function wfe(e,t){typeof t!="function"&&(t=function(){});var i=!Array.isArray(e);function n(o){return i?!0:rx.indexOf(e,o)!==-1}var r=[],a=!1;return{onIgnoreTag:function(o,s,l){if(n(o))if(l.isClosing){var u="[/removed]",h=l.position+u.length;return r.push([a!==!1?a:l.position,h]),a=!1,u}else return a||(a=l.position),"[removed]";else return t(o,s,l)},remove:function(o){var s="",l=0;return rx.forEach(r,function(u){s+=o.slice(l,u[0]),l=u[1]}),s+=o.slice(l),s}}}function xfe(e){for(var t="",i=0;i<e.length;){var n=e.indexOf("<!--",i);if(n===-1){t+=e.slice(i);break}t+=e.slice(i,n);var r=e.indexOf("-->",n);if(r===-1)break;i=r+3}return t}function kfe(e){var t=e.split("");return t=t.filter(function(i){var n=i.charCodeAt(0);return n===127?!1:n<=31?n===10||n===13:!0}),t.join("")}Zt.whiteList=A7();Zt.getDefaultWhiteList=A7;Zt.onTag=sfe;Zt.onIgnoreTag=lfe;Zt.onTagAttr=cfe;Zt.onIgnoreTagAttr=ufe;Zt.safeAttrValue=dfe;Zt.escapeHtml=P7;Zt.escapeQuote=L7;Zt.unescapeQuote=R7;Zt.escapeHtmlEntities=F7;Zt.escapeDangerHtml5Entities=N7;Zt.clearNonPrintableCharacter=z7;Zt.friendlyAttrValue=j7;Zt.escapeAttrValue=V7;Zt.onIgnoreTagStripAll=vfe;Zt.StripTagBody=wfe;Zt.stripCommentTag=xfe;Zt.stripBlankChar=kfe;Zt.cssFilter=O7;Zt.getDefaultCSSWhiteList=ofe;var $k={},uc=cE;function _fe(e){var t=uc.spaceIndex(e);if(t===-1)var i=e.slice(1,-1);else var i=e.slice(1,t+1);return i=uc.trim(i).toLowerCase(),i.slice(0,1)==="/"&&(i=i.slice(1)),i.slice(-1)==="/"&&(i=i.slice(0,-1)),i}function Sfe(e){return e.slice(0,2)==="</"}function Dfe(e,t,i){var n="",r=0,a=!1,o=!1,s=0,l=e.length,u="",h="";e:for(s=0;s<l;s++){var m=e.charAt(s);if(a===!1){if(m==="<"){a=s;continue}}else if(o===!1){if(m==="<"){n+=i(e.slice(r,s)),a=s,r=s;continue}if(m===">"){n+=i(e.slice(r,a)),h=e.slice(a,s+1),u=_fe(h),n+=t(a,n.length,u,h,Sfe(h)),r=s+1,a=!1;continue}if(m==='"'||m==="'")for(var f=1,g=e.charAt(s-f);g.trim()===""||g==="=";){if(g==="="){o=m;continue e}g=e.charAt(s-++f)}}else if(m===o){o=!1;continue}}return r<e.length&&(n+=i(e.substr(r))),n}var $fe=/[^a-zA-Z0-9_:\.\-]/gim;function Cfe(e,t){var i=0,n=[],r=!1,a=e.length;function o(m,f){if(m=uc.trim(m),m=m.replace($fe,"").toLowerCase(),!(m.length<1)){var g=t(m,f||"");g&&n.push(g)}}for(var s=0;s<a;s++){var l=e.charAt(s),u,h;if(r===!1&&l==="="){r=e.slice(i,s),i=s+1;continue}if(r!==!1&&s===i&&(l==='"'||l==="'")&&e.charAt(s-1)==="="){if(h=e.indexOf(l,s+1),h===-1)break;u=uc.trim(e.slice(i+1,h)),o(r,u),r=!1,s=h,i=s+1;continue}if(/\s|\n|\t/.test(l))if(e=e.replace(/\s|\n|\t/g," "),r===!1)if(h=Ife(e,s),h===-1){u=uc.trim(e.slice(i,s)),o(u),r=!1,i=s+1;continue}else{s=h-1;continue}else if(h=Efe(e,s-1),h===-1){u=uc.trim(e.slice(i,s)),u=AP(u),o(r,u),r=!1,i=s+1;continue}else continue}return i<e.length&&(r===!1?o(e.slice(i)):o(r,AP(uc.trim(e.slice(i))))),uc.trim(n.join(" "))}function Ife(e,t){for(;t<e.length;t++){var i=e[t];if(i!==" ")return i==="="?t:-1}}function Efe(e,t){for(;t>0;t--){var i=e[t];if(i!==" ")return i==="="?t:-1}}function Tfe(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function AP(e){return Tfe(e)?e.substr(1,e.length-2):e}$k.parseTag=Dfe;$k.parseAttr=Cfe;var Mfe=Yg.exports.FilterCSS,Ba=Zt,H7=$k,Afe=H7.parseTag,Ofe=H7.parseAttr,x1=cE;function tv(e){return e==null}function Pfe(e){var t=x1.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=x1.trim(e.slice(t+1,-1));var i=e[e.length-1]==="/";return i&&(e=x1.trim(e.slice(0,-1))),{html:e,closing:i}}function Lfe(e){var t={};for(var i in e)t[i]=e[i];return t}function q7(e){e=Lfe(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Ba.onIgnoreTagStripAll),e.whiteList=e.whiteList||Ba.whiteList,e.onTag=e.onTag||Ba.onTag,e.onTagAttr=e.onTagAttr||Ba.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Ba.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Ba.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Ba.safeAttrValue,e.escapeHtml=e.escapeHtml||Ba.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new Mfe(e.css))}q7.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,i=t.options,n=i.whiteList,r=i.onTag,a=i.onIgnoreTag,o=i.onTagAttr,s=i.onIgnoreTagAttr,l=i.safeAttrValue,u=i.escapeHtml,h=t.cssFilter;i.stripBlankChar&&(e=Ba.stripBlankChar(e)),i.allowCommentTag||(e=Ba.stripCommentTag(e));var m=!1;if(i.stripIgnoreTagBody){var m=Ba.StripTagBody(i.stripIgnoreTagBody,a);a=m.onIgnoreTag}var f=Afe(e,function(g,b,v,w,x){var S={sourcePosition:g,position:b,isClosing:x,isWhite:n.hasOwnProperty(v)},E=r(v,w,S);if(!tv(E))return E;if(S.isWhite){if(S.isClosing)return"</"+v+">";var C=Pfe(w),_=n[v],I=Ofe(C.html,function(R,H){var Y=x1.indexOf(_,R)!==-1,U=o(v,R,H,Y);if(!tv(U))return U;if(Y)return H=l(v,R,H,h),H?R+'="'+H+'"':R;var U=s(v,R,H,Y);return tv(U)?void 0:U}),w="<"+v;return I&&(w+=" "+I),C.closing&&(w+=" /"),w+=">",w}else{var E=a(v,w,S);return tv(E)?u(w):E}},u);return m&&(f=m.remove(f)),f};var Rfe=q7;(function(e,t){var i=Zt,n=$k,r=Rfe;function a(l,u){var h=new r(u);return h.process(l)}t=e.exports=a,t.filterXSS=a,t.FilterXSS=r;for(var o in i)t[o]=i[o];for(var o in n)t[o]=n[o];function s(){return typeof self!="undefined"&&typeof DedicatedWorkerGlobalScope!="undefined"&&self instanceof DedicatedWorkerGlobalScope}s()&&(self.filterXSS=e.exports)})(Sp,Sp.exports);var Ffe=function(){function e(t,i){var n=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(a,o,s,l){return a==="a"&&o==="href"||(a==="img"||a==="source")&&o==="src"?n.sanitizeUrl(s):Sp.exports.safeAttrValue(a,o,s,l)}};var r;t&&!i?r=t:t&&i?(r=Object.create(this.arcgisFilterOptions),Object.keys(t).forEach(function(a){a==="whiteList"?r.whiteList=n._extendObjectOfArrays([n.arcgisWhiteList,t.whiteList||{}]):r[a]=t[a]})):(r=Object.create(this.arcgisFilterOptions),r.whiteList=this.arcgisWhiteList),this.xssFilterOptions=r,this._xssFilter=new Sp.exports.FilterXSS(r)}return e.prototype.sanitize=function(t,i){switch(i===void 0&&(i={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,i);default:return i.allowUndefined&&typeof t=="undefined"?void 0:null}},e.prototype.sanitizeUrl=function(t){var i=this._trim(t.substring(0,t.indexOf(":")));return t==="/"||t==="#"||t[0]==="#"||this.allowedProtocols.indexOf(i.toLowerCase())>-1?Sp.exports.escapeAttrValue(t):""},e.prototype.sanitizeHTMLAttribute=function(t,i,n,r){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,i,n,r):Sp.exports.safeAttrValue(t,i,n,r)},e.prototype.validate=function(t,i){i===void 0&&(i={});var n=this.sanitize(t,i);return{isValid:t===n,sanitized:n}},e.prototype._extendObjectOfArrays=function(t){var i={};return t.forEach(function(n){Object.keys(n).forEach(function(r){Array.isArray(n[r])&&Array.isArray(i[r])?i[r]=i[r].concat(n[r]):i[r]=n[r]})}),i},e.prototype._iterateOverObject=function(t,i){var n=this;i===void 0&&(i={});try{var r=!1,a=void 0;if(Array.isArray(t))a=t.reduce(function(s,l){var u=n.validate(l,i);return u.isValid?s.concat([l]):(r=!0,s.concat([u.sanitized]))},[]);else if(Jme(t)){var o=Object.keys(t);a=o.reduce(function(s,l){var u=t[l],h=n.validate(u,i);return h.isValid?s[l]=u:(r=!0,s[l]=h.sanitized),s},{})}else return i.allowUndefined&&typeof t=="undefined"?void 0:null;return r?a:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e}();const Ck=new Map;function B7(){Ck.clear()}function Nfe(e){return Ck.get(e)}function zfe(e,t){Ck.set(e,t)}function x2(e){Ck.delete(e)}var Wd,wm,jfe=function(e){if("WebkitTransition"in e.style)Wd="webkitTransitionEnd",wm="webkitAnimationEnd";else{if(!("transition"in e.style))throw new Error("Your browser is not supported!");Wd="transitionend",wm="animationend"}},U7=function(e){Wd||jfe(e)},Vfe=function(e,t){return t===void 0&&(t=e+"-active"),function(i){U7(i);var n=!1,r=function(a){n||(n=!0,i.removeEventListener(Wd,r),i.removeEventListener(wm,r),i.classList.remove(e),i.classList.remove(t))};i.classList.add(e),i.addEventListener(Wd,r),i.addEventListener(wm,r),requestAnimationFrame(function(){i.classList.add(t)})}},Hfe=function(e,t){return t===void 0&&(t=e+"-active"),function(i,n){U7(i);var r=!1,a=function(o){r||(r=!0,i.removeEventListener(Wd,a),i.removeEventListener(wm,a),n())};i.classList.add(e),i.addEventListener(Wd,a),i.addEventListener(wm,a),requestAnimationFrame(function(){i.classList.add(t)})}};const qfe=Q.getLogger("esri.widgets.support.widgetUtils");function G7(e){const t=Cn.acquire();for(let n=0;n<arguments.length;n++){const r=arguments[n],a=typeof r;if(a==="string")t.push(r);else if(Array.isArray(r))t.push.apply(t,r);else if(a==="object")for(const o in r)r[o]&&t.push(o)}const i=t.join(" ");return Cn.release(t),i}(()=>{const e=new Map,t=new ResizeObserver(i=>{B7();for(const n of i)e.get(n.target)(n)});return(i,n,r)=>(e.has(i)&&qfe.error("Already observing element",i),e.set(i,n),t.observe(i,r),Am(()=>{t.unobserve(i),e.delete(i)}))})();function $c(e){const t=e==null?void 0:e.closest("[dir]");return t!==null&&t instanceof HTMLElement&&t.dir==="rtl"||document.dir==="rtl"}function OP(e){const t="data-node-ref";this[e.getAttribute(t)]=null}function iD(e){const t="data-node-ref";this[e.getAttribute(t)]=e}function Bfe(e,t){return(e==="enter"?Vfe:Hfe)(t)}const Ufe=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],Gfe=Ufe.reduce((e,t)=>(e[t]=[],e),{}),Wfe=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],W7=new Ffe({whiteList:Gfe,onTagAttr:(e,t,i)=>{const n=`${t}="${i}"`;if(Wfe.includes(t))return n},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function Jfe(e){return e==="Enter"||e===" "}const J7="http://www.w3.org/",Ik=`${J7}2000/svg`,K7=`${J7}1999/xlink`;let ax,PP=[],uE=(e,t)=>{let i={};return Object.keys(e).forEach(n=>{i[n]=e[n]}),t&&Object.keys(t).forEach(n=>{i[n]=t[n]}),i},dE=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),Y7=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},Kfe=(e,t,i)=>{if(t.vnodeSelector!==""){for(let n=i;n<e.length;n++)if(dE(e[n],t))return n}return-1},k2=(e,t,i,n)=>{let r=e[t];if(r.vnodeSelector==="")return;let a=r.properties;if(!(a&&(a.key===void 0?a.bind:a.key))){for(let o=0;o<e.length;o++)if(o!==t){let s=e[o];if(dE(s,r))throw new Error(`${i.vnodeSelector} had a ${r.vnodeSelector} child ${n==="added"?n:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},Yfe=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},nD=[],rD=!1,Z7=e=>{(e.children||[]).forEach(Z7),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},LP=()=>{rD=!1,nD.forEach(Z7),nD.length=0},RP=e=>{nD.push(e),rD||(rD=!0,typeof window!="undefined"&&"requestIdleCallback"in window?window.requestIdleCallback(LP,{timeout:16}):setTimeout(LP,16))},FP=e=>{let t=e.domNode;if(e.properties){let i=e.properties.exitAnimation;if(i)return t.style.pointerEvents="none",void i(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),RP(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),RP(e))},Zfe=(e,t,i)=>{if(!t)return;let n=i.eventHandlerInterceptor,r=Object.keys(t),a=r.length;for(let o=0;o<a;o++){let s=r[o],l=t[s];if(s==="className")throw new Error('Property "className" is not supported, use "class".');if(s==="class")aD(e,l,!0);else if(s==="classes"){let u=Object.keys(l),h=u.length;for(let m=0;m<h;m++){let f=u[m];l[f]&&e.classList.add(f)}}else if(s==="styles"){let u=Object.keys(l),h=u.length;for(let m=0;m<h;m++){let f=u[m],g=l[f];g&&(Y7(g),i.styleApplyer(e,f,g))}}else if(s!=="key"&&l!=null){let u=typeof l;u==="function"?(s.lastIndexOf("on",0)===0&&(n&&(l=n(s,l,e,t)),s==="oninput"&&function(){let h=l;l=function(m){h.apply(this,[m]),m.target["oninput-value"]=m.target.value}}()),e[s]=l):i.namespace===Ik?s==="href"?e.setAttributeNS(K7,s,l):e.setAttribute(s,l):u==="string"&&s!=="value"?s==="innerHTML"?e[s]=W7.sanitize(l):e.setAttribute(s,l):e[s]=l}}},Xfe=(e,t,i)=>{if(t)for(let n of t)Dp(n,e,void 0,i)},X7=(e,t,i)=>{Xfe(e,t.children,i),t.text&&(e.textContent=t.text),Zfe(e,t.properties,i),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,i,t.vnodeSelector,t.properties,t.children])},Dp=(e,t,i,n)=>{let r,a=0,o=e.vnodeSelector,s=t.ownerDocument;if(o==="")r=e.domNode=s.createTextNode(e.text),i!==void 0?t.insertBefore(r,i):t.appendChild(r);else{for(let l=0;l<=o.length;++l){let u=o.charAt(l);if(l===o.length||u==="."||u==="#"){let h=o.charAt(a-1),m=o.slice(a,l);h==="."?r.classList.add(m):h==="#"?r.id=m:(m==="svg"&&(n=uE(n,{namespace:Ik})),n.namespace!==void 0?r=e.domNode=s.createElementNS(n.namespace,m):(r=e.domNode=e.domNode||s.createElement(m),m==="input"&&e.properties&&e.properties.type!==void 0&&r.setAttribute("type",e.properties.type)),i!==void 0?t.insertBefore(r,i):r.parentNode!==t&&t.appendChild(r)),a=l+1}}X7(r,e,n)}},aD=(e,t,i)=>{t&&t.split(" ").forEach(n=>{n&&e.classList.toggle(n,i)})},Qfe=(e,t,i,n)=>{if(!i)return;let r=!1,a=Object.keys(i),o=a.length;for(let s=0;s<o;s++){let l=a[s],u=i[l],h=t[l];if(l==="class")h!==u&&(aD(e,h,!1),aD(e,u,!0));else if(l==="classes"){let m=e.classList,f=Object.keys(u),g=f.length;for(let b=0;b<g;b++){let v=f[b],w=!!u[v];w!==!!h[v]&&(r=!0,w?m.add(v):m.remove(v))}}else if(l==="styles"){let m=Object.keys(u),f=m.length;for(let g=0;g<f;g++){let b=m[g],v=u[b];v!==h[b]&&(r=!0,v?(Y7(v),n.styleApplyer(e,b,v)):n.styleApplyer(e,b,""))}}else if(u||typeof h!="string"||(u=""),l==="value"){let m=e[l];m!==u&&(e["oninput-value"]?m===e["oninput-value"]:u!==h)&&(e[l]=u,e["oninput-value"]=void 0),u!==h&&(r=!0)}else if(u!==h){let m=typeof u;m==="function"&&n.eventHandlerInterceptor||(n.namespace===Ik?l==="href"?e.setAttributeNS(K7,l,u):e.setAttribute(l,u):m==="string"?l==="innerHTML"?e[l]=W7.sanitize(u):l==="role"&&u===""?e.removeAttribute(l):e.setAttribute(l,u):e[l]!==u&&(e[l]=u),r=!0)}}return r},e0e=(e,t,i,n,r)=>{if(i===n)return!1;n=n||PP;let a,o=(i=i||PP).length,s=n.length,l=0,u=0,h=!1;for(;u<s;){let m=l<o?i[l]:void 0,f=n[u];if(m!==void 0&&dE(m,f))h=ax(m,f,r)||h,l++;else{let g=Kfe(i,f,l+1);if(g>=0){for(a=l;a<g;a++)FP(i[a]),k2(i,a,e,"removed");h=ax(i[g],f,r)||h,l=g+1}else Dp(f,t,l<o?i[l].domNode:void 0,r),Yfe(f),k2(n,u,e,"added")}u++}if(o>l)for(a=l;a<o;a++)FP(i[a]),k2(i,a,e,"removed");return h};ax=(e,t,i)=>{let n=e.domNode,r=!1;if(e===t)return!1;let a=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let o=n.ownerDocument.createTextNode(t.text);return n.parentNode.replaceChild(o,n),t.domNode=o,r=!0,r}t.domNode=n}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(i=uE(i,{namespace:Ik})),e.text!==t.text&&(a=!0,t.text===void 0?n.removeChild(n.firstChild):n.textContent=t.text),t.domNode=n,a=e0e(t,n,e.children,t.children,i)||a,a=Qfe(n,e.properties,t.properties,i)||a,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[n,i,t.vnodeSelector,t.properties,t.children]);return a&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(n,t.properties,e.properties),r};let Tf=(e,t)=>({getLastRender:()=>e,update:i=>{if(e.vnodeSelector!==i.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let n=e;e=i,ax(n,i,t)},domNode:e.domNode});const t0e={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{t.charAt(0)==="-"?e.style.setProperty(t,i):e.style[t]=i}};let Gh=e=>uE(t0e,e),Cc={create:(e,t)=>(t=Gh(t),Dp(e,document.createElement("div"),void 0,t),Tf(e,t)),append:(e,t,i)=>(i=Gh(i),Dp(t,e,void 0,i),Tf(t,i)),insertBefore:(e,t,i)=>(i=Gh(i),Dp(t,e.parentNode,e,i),Tf(t,i)),merge:(e,t,i)=>(i=Gh(i),t.domNode=e,X7(e,t,i),Tf(t,i)),replace:(e,t,i)=>(i=Gh(i),Dp(t,e.parentNode,e,i),e.parentNode.removeChild(e),Tf(t,i))},Q7,i0e=(e,t)=>{let i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i};Q7=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let n0e=(e,t)=>{let i=e;return t.forEach(n=>{i=i&&i.children?Q7(i.children,r=>r.domNode===n):void 0}),i},r0e=(e,t,i)=>{let n=function(r){i("domEvent",r);let a=t(),o=i0e(r.currentTarget,a.domNode);o.reverse();let s,l=n0e(a.getLastRender(),o);return e.scheduleRender(),l&&(s=l.properties[`on${r.type}`].apply(l.properties.bind||this,arguments)),i("domEventProcessed",r),s};return(r,a,o,s)=>n},NP=e=>{let t,i,n=Gh(e),r=n.performanceLogger,a=!0,o=!1,s=[],l=[],u=(m,f,g)=>{let b,v=()=>b;n.eventHandlerInterceptor=r0e(t,v,r),b=m(f,g(),n),s.push(b),l.push(g)},h=()=>{if(i=void 0,a){a=!1,r("renderStart",void 0);for(let m=0;m<s.length;m++){let f=l[m]();r("rendered",void 0),s[m].update(f),r("patched",void 0)}r("renderDone",void 0),a=!0}};return t={renderNow:h,scheduleRender:()=>{i||o||(i=requestAnimationFrame(h))},stop:()=>{i&&(cancelAnimationFrame(i),i=void 0),o=!0},resume:()=>{o=!1,a=!0,t.scheduleRender()},append:(m,f)=>{u(Cc.append,m,f)},insertBefore:(m,f)=>{u(Cc.insertBefore,m,f)},merge:(m,f)=>{u(Cc.merge,m,f)},replace:(m,f)=>{u(Cc.replace,m,f)},detach:m=>{for(let f=0;f<l.length;f++)if(l[f]===m)return l.splice(f,1),s.splice(f,1)[0];throw new Error("renderFunction was not found")}},t},Wl=class extends ge{constructor(){super(...arguments),this.items=new _e,this._watchUpdatingTracking=new qp,this._callbacks=new Map,this._projector=NP(),this._hiddenProjector=NP()}get needsRender(){return this.items.length>0}initialize(){const e=document.createElement("div");e.className="esri-overlay-surface",this._set("surface",e),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),e.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,t=>{for(const i of t.added){const n=()=>i.render();this._callbacks.set(i,n),this._projector.append(this.surface,n)}for(const i of t.removed){const n=this._projector.detach(this._callbacks.get(i));this.surface.removeChild(n.domNode),this._callbacks.delete(i)}})}addItem(e){this.items.add(e)}removeItem(e){this.items.remove(e)}destroy(){this.items.removeAll(),this._callbacks.forEach(e=>this._projector.detach(e)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(e){const t=this._hiddenSurface,i=this._hiddenProjector;let n=null;const r=()=>(n=e.render(),n);i.append(t,r),i.renderNow();const a={left:0,top:0,right:0,bottom:0};if(n&&n.domNode){const o=n.domNode.getBoundingClientRect();a.left=o.left,a.top=o.top,a.right=o.right,a.bottom=o.bottom}for(i.detach(r);t.firstChild;)t.removeChild(t.firstChild);return a}overlaps(e,t){const i=this.computeBoundingRect(e),n=this.computeBoundingRect(t);return Math.max(i.left,n.left)<=Math.min(i.right,n.right)&&Math.max(i.top,n.top)<=Math.min(i.bottom,n.bottom)}get hasVisibleItems(){return this.items.some(e=>e.visible)}renderCanvas(e){if(!this.items.some(i=>i.visible))return;const t=e.getContext("2d");t.save(),t.font=`10px ${getComputedStyle(this.surface).fontFamily}`,this.items.forEach(i=>{t.save(),i.renderCanvas(t),t.restore()}),t.restore()}};c([d({readOnly:!0})],Wl.prototype,"surface",void 0),c([d({readOnly:!0})],Wl.prototype,"items",void 0),c([d({readOnly:!0})],Wl.prototype,"needsRender",null),c([d({readOnly:!0})],Wl.prototype,"_watchUpdatingTracking",void 0),c([d({readOnly:!0,aliasOf:"_watchUpdatingTracking.updating"})],Wl.prototype,"updating",void 0),Wl=c([D("esri.views.overlay.ViewOverlay")],Wl);const zP=Wl;function hE(e,t,i,n){let r=null,a=1e3;typeof t=="number"?(a=t,n=i):(r=t!=null?t:null,a=i);let o,s=0;const l=()=>{s=0,e.apply(n,o)},u=(...h)=>{r&&r.apply(n,h),o=h,a?s||(s=setTimeout(l,a)):l()};return u.remove=()=>{s&&(clearTimeout(s),s=0)},u.forceUpdate=()=>{s&&(clearTimeout(s),l())},u.hasPendingUpdates=()=>!!s,u}const a0e=/\?(\.|$)/g;function Yt(e,t,i,n){const r=Array.isArray(t)?t:t.indexOf(",")>-1?t.split(","):[t],a=kt(e,t,i,n);for(const o of r){const s=o.trim().replace(a0e,"$1"),l=e.get(s);i.call(e,l,l,s,e)}return a}function kt(e,t,i,n){return e.watch(t,i,n)}function ej(e,t,i,n){return qy(e,t,u0e,i,n)}function o0e(e,t,i,n){return qy(e,t,tj,i,n)}function PTe(e,t,i,n){return c0e(e,t,tj,i,n)}function s0e(e,t,i,n){return qy(e,t,d0e,i,n)}function oD(e,t,i,n){return qy(e,t,h0e,i,n)}function l0e(e,t,i,n){let r=!1;const a=e.watch(t,(o,s,l,u)=>{r||i.call(e,o,s,l,u)},n);return{remove(){a.remove()},pause(){r=!0},resume(){r=!1}}}function Ek(e,t,i,n,r,a,o){const s={};function l(h){const m=s[h];m&&(a&&a(m.target,h,e,i),m.handle.remove(),delete s[h])}const u=Yt(e,t,(h,m,f)=>{l(f),tk(h)&&(s[f]={handle:ik(h,i,n),target:h},r&&r(h,f,e,i))},o);return{remove(){u.remove();for(const h in s)l(h)}}}function qy(e,t,i,n,r){const a=e.watch(t,(o,s,l,u)=>{i&&!i(o)||n==null||n.call(e,o,s,l,u)},r);if(Array.isArray(t))for(const o of t){const s=e.get(o);i&&i(s)&&(n==null||n.call(e,s,s,t,e))}else{const o=e.get(t);i&&i(o)&&(n==null||n.call(e,o,o,t,e))}return a}function c0e(e,t,i,n,r){const a=typeof n=="function"?n:null,o=typeof n=="object"?n:null;typeof n=="boolean"&&(r=n);let s,l=!1;function u(){s&&(s.remove(),s=null)}const h=cl();ro(o,()=>{u(),h.reject(hi())});const m={then:h.promise.then.bind(h.promise),catch:h.promise.catch.bind(h.promise),remove:u};return Object.freeze(m),s=qy(e,t,i,(f,g,b,v)=>{l=!0,u(),a&&a.call(e,f,g,b,v),h.resolve({value:f,oldValue:g,propertyName:b,target:v})},r),l&&u(),m}function u0e(e){return!!e}function tj(e){return!e}function d0e(e){return e===!0}function h0e(e){return e===!1}function ke(e,t){const i=t?le($({},t),{source:e}):e;return d({aliasOf:i})}function p0e(){const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=i=>e[i].toString(16);return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}const m0e={handleInterceptedEvent:(e,t,i,n)=>(e.scheduleRender(),t.properties[`on${n.type}`].apply(t.properties.bind||i,[n]))},f0e={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{e.style[t]=i}},g0e=e=>$($({},f0e),e),y0e=(e,t)=>{const i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i},b0e=(e,t)=>e.find(t),jP=(e,t,i=!1)=>{let n=e;return t.forEach((r,a)=>{var o;const s=(o=n)!=null&&o.children?b0e(n.children,l=>l.domNode===r):void 0;i&&!s&&a!==t.length-1||(n=s)}),n},v0e=e=>{let t;const i=$($({},m0e),e),n=g0e(i),r=n.performanceLogger;let a,o=!0,s=!1;const l=[],u=[],h=(f,g,b)=>{let v;n.eventHandlerInterceptor=(x,S,E,C)=>function(_){let I;r("domEvent",_);const O=y0e(_.currentTarget,v.domNode),R=O.some(Y=>{var U;return customElements.get(Y==null||(U=Y.tagName)==null?void 0:U.toLowerCase())});if(_.eventPhase===Event.CAPTURING_PHASE||!R)O.reverse(),I=jP(v.getLastRender(),O);else{const Y=_.composedPath(),U=Y.slice(Y.indexOf(_.currentTarget),Y.indexOf(v.domNode)).filter(ce=>ce.getRootNode()===ce.ownerDocument).reverse();I=jP(v.getLastRender(),U,!0)}let H;return I&&(H=i.handleInterceptedEvent(t,I,this,_)),r("domEventProcessed",_),H},i.postProcessProjectionOptions==null||i.postProcessProjectionOptions(n);const w=b();v=f(g,w,n),l.push(v),u.push(b),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered(v,w)};let m=()=>{if(a=void 0,o){o=!1,r("renderStart",void 0);for(let f=0;f<l.length;f++){const g=u[f]();r("rendered",void 0),l[f].update(g),r("patched",void 0)}r("renderDone",void 0),o=!0}};return i.modifyDoRenderImplementation&&(m=i.modifyDoRenderImplementation(m,l,u)),t={renderNow:m,scheduleRender:()=>{a||s||(a=requestAnimationFrame(m))},stop:()=>{a&&(cancelAnimationFrame(a),a=void 0),s=!0},resume:()=>{s=!1,o=!0,t.scheduleRender()},append:(f,g)=>{h(Cc.append,f,g)},insertBefore:(f,g)=>{h(Cc.insertBefore,f,g)},merge:(f,g)=>{h(Cc.merge,f,g)},replace:(f,g)=>{h(Cc.replace,f,g)},detach:f=>{for(let g=0;g<u.length;g++)if(u[g]===f)return u.splice(g,1),l.splice(g,1)[0];throw new Error("renderFunction was not found")}},t},Dt={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,safari10:!1,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,cssVarShim:!1,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,dynamicImportShim:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0};let Wh,ij,Tk,nj=!1,ox=!1,pE=!1,br=!1,VP=null,sD=!1;const Um=typeof window!="undefined"?window:{};Dt.cssVarShim&&Um.CSS;const io=Um.document||{head:{}},LTe=Um.HTMLElement||class{},nn={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,i,n)=>e.addEventListener(t,i,n),rel:(e,t,i,n)=>e.removeEventListener(t,i,n),ce:(e,t)=>new CustomEvent(e,t)},sx=Dt.shadowDomShim&&Dt.shadowDom?(()=>(io.head.attachShadow+"").indexOf("[native")>-1)():!0,w0e=(()=>{let e=!1;try{io.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch{}return e})(),x0e=e=>Promise.resolve(e),k0e=Dt.constructableCSS?(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replace=="function"}catch{}return!1})():!1,rj=(e,t,i,n)=>{i&&i.map(([r,a,o])=>{const s=S0e(e,r),l=_0e(t,o),u=D0e(r);nn.ael(s,a,l,u),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>nn.rel(s,a,l,u))})},_0e=(e,t)=>i=>{try{Dt.lazyLoad||e.$hostElement$[t](i)}catch(n){By(n)}},S0e=(e,t)=>t&4?io:t&8?Um:t&16?io.body:e,D0e=e=>w0e?{passive:(e&1)!==0,capture:(e&2)!==0}:(e&2)!==0,HP="http://www.w3.org/1999/xlink",Jd=(e,t="")=>()=>{},qP=new WeakMap,$0e=(e,t,i)=>{let n=ux.get(e);k0e&&i?(n=n||new CSSStyleSheet,n.replace(t)):n=t,ux.set(e,n)},C0e=(e,t,i,n)=>{let r=aj(t,i),a=ux.get(r);if(e=e.nodeType===11?e:io,a)if(typeof a=="string"){e=e.head||e;let o=qP.get(e),s;o||qP.set(e,o=new Set),o.has(r)||(s=io.createElement("style"),s.innerHTML=a,e.insertBefore(s,e.querySelector("link")),o&&o.add(r))}else e.adoptedStyleSheets.includes(a)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,a]);return r},I0e=e=>{const t=e.$cmpMeta$,i=e.$hostElement$,n=t.$flags$,r=Jd("attachStyles",t.$tagName$),a=C0e(sx&&i.shadowRoot?i.shadowRoot:i.getRootNode(),t,e.$modeName$);n&10&&(i["s-sc"]=a,i.classList.add(a+"-h"),n&2&&i.classList.add(a+"-s")),r()},aj=(e,t)=>"sc-"+(t&&e.$flags$&32?e.$tagName$+"-"+t:e.$tagName$),E0e=e=>age.map(t=>t(e)).find(t=>!!t),BP={},T0e="http://www.w3.org/2000/svg",M0e="http://www.w3.org/1999/xhtml",A0e=e=>e!=null,mE=e=>(e=typeof e,e==="object"||e==="function"),oj=(e,t,...i)=>{let n=null,r=null,a=null,o=!1,s=!1,l=[];const u=m=>{for(let f=0;f<m.length;f++)n=m[f],Array.isArray(n)?u(n):n!=null&&typeof n!="boolean"&&((o=typeof e!="function"&&!mE(n))&&(n=String(n)),o&&s?l[l.length-1].$text$+=n:l.push(o?lx(null,n):n),s=o)};if(u(i),t&&(Dt.isDev&&e==="input"&&R0e(t),Dt.vdomKey&&t.key&&(r=t.key),Dt.slotRelocation&&t.name&&(a=t.name),Dt.vdomClass)){const m=t.className||t.class;m&&(t.class=typeof m!="object"?m:Object.keys(m).filter(f=>m[f]).join(" "))}if(Dt.isDev&&l.some(sj)&&rge(`The <Host> must be the single root component. Make sure:
- You are NOT using hostData() and <Host> in the same component.
- <Host> is used once, and it's the single root component of the render() function.`),Dt.vdomFunctional&&typeof e=="function")return e(t===null?{}:t,l,P0e);const h=lx(e,null);return h.$attrs$=t,l.length>0&&(h.$children$=l),Dt.vdomKey&&(h.$key$=r),Dt.slotRelocation&&(h.$name$=a),h},lx=(e,t)=>{const i={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return Dt.vdomAttribute&&(i.$attrs$=null),Dt.vdomKey&&(i.$key$=null),Dt.slotRelocation&&(i.$name$=null),i},O0e={},sj=e=>e&&e.$tag$===O0e,P0e={forEach:(e,t)=>e.map(UP).forEach(t),map:(e,t)=>e.map(UP).map(t).map(L0e)},UP=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),L0e=e=>{if(typeof e.vtag=="function"){const i=Object.assign({},e.vattrs);return e.vkey&&(i.key=e.vkey),e.vname&&(i.name=e.vname),oj(e.vtag,i,...e.vchildren||[])}const t=lx(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},R0e=e=>{const t=Object.keys(e),i=t.indexOf("value");if(i===-1)return;const n=t.indexOf("type"),r=t.indexOf("min"),a=t.indexOf("max"),o=t.indexOf("step");(i<n||i<r||i<a||i<o)&&yj('The "value" prop of <input> should be set after "min", "max", "type" and "step"')},GP=(e,t,i,n,r,a)=>{if(i!==n){let o=YP(e,t),s=t.toLowerCase();if(t==="class"){const l=e.classList,u=WP(i),h=WP(n);l.remove(...u.filter(m=>m&&!h.includes(m))),l.add(...h.filter(m=>m&&!u.includes(m)))}else if(t==="style"){for(const l in i)(!n||n[l]==null)&&(l.includes("-")?e.style.removeProperty(l):e.style[l]="");for(const l in n)(!i||n[l]!==i[l])&&(l.includes("-")?e.style.setProperty(l,n[l]):e.style[l]=n[l])}else if(t!=="key")if(t==="ref")n&&n(e);else if(!e.__lookupSetter__(t)&&t[0]==="o"&&t[1]==="n")t[2]==="-"?t=t.slice(3):YP(Um,s)?t=s.slice(2):t=s[2]+t.slice(3),i&&nn.rel(e,t,i,!1),n&&nn.ael(e,t,n,!1);else{const l=mE(n);if((o||l&&n!==null)&&!r)try{if(e.tagName.includes("-"))e[t]=n;else{let h=n==null?"":n;t==="list"?o=!1:(i==null||e[t]!=h)&&(e[t]=h)}}catch{}let u=!1;s!==(s=s.replace(/^xlink\:?/,""))&&(t=s,u=!0),n==null||n===!1?(n!==!1||e.getAttribute(t)==="")&&(u?e.removeAttributeNS(HP,t):e.removeAttribute(t)):(!o||a&4||r)&&!l&&(n=n===!0?"":n,u?e.setAttributeNS(HP,t,n):e.setAttribute(t,n))}}},F0e=/\s/,WP=e=>e?e.split(F0e):[],lj=(e,t,i,n)=>{const r=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,a=e&&e.$attrs$||BP,o=t.$attrs$||BP;for(n in a)n in o||GP(r,n,a[n],void 0,i,t.$flags$);for(n in o)GP(r,n,a[n],o[n],i,t.$flags$)},cx=(e,t,i,n)=>{let r=t.$children$[i],a=0,o,s,l;if(nj||(pE=!0,r.$tag$==="slot"&&(Wh&&n.classList.add(Wh+"-s"),r.$flags$|=r.$children$?2:1)),r.$text$!==null)o=r.$elm$=io.createTextNode(r.$text$);else if(r.$flags$&1)o=r.$elm$=io.createTextNode("");else{if(br||(br=r.$tag$==="svg"),o=r.$elm$=io.createElementNS(br?T0e:M0e,r.$flags$&2?"slot-fb":r.$tag$),br&&r.$tag$==="foreignObject"&&(br=!1),lj(null,r,br),A0e(Wh)&&o["s-si"]!==Wh&&o.classList.add(o["s-si"]=Wh),r.$children$)for(a=0;a<r.$children$.length;++a)s=cx(e,r,a,o),s&&o.appendChild(s);r.$tag$==="svg"?br=!1:o.tagName==="foreignObject"&&(br=!0)}return o["s-hn"]=Tk,r.$flags$&3&&(o["s-sr"]=!0,o["s-cr"]=ij,o["s-sn"]=r.$name$||"",l=e&&e.$children$&&e.$children$[i],l&&l.$tag$===r.$tag$&&e.$elm$&&Zg(e.$elm$,!1)),o},Zg=(e,t)=>{nn.$flags$|=1;const i=e.childNodes;for(let n=i.length-1;n>=0;n--){const r=i[n];r["s-hn"]!==Tk&&r["s-ol"]&&(dj(r).insertBefore(r,fE(r)),r["s-ol"].remove(),r["s-ol"]=void 0,pE=!0),t&&Zg(r,t)}nn.$flags$&=-2},cj=(e,t,i,n,r,a)=>{let o=e["s-cr"]&&e["s-cr"].parentNode||e,s;for(o.shadowRoot&&o.tagName===Tk&&(o=o.shadowRoot);r<=a;++r)n[r]&&(s=cx(null,i,r,e),s&&(n[r].$elm$=s,o.insertBefore(s,fE(t))))},uj=(e,t,i,n,r)=>{for(;t<=i;++t)(n=e[t])&&(r=n.$elm$,mj(n),ox=!0,r["s-ol"]?r["s-ol"].remove():Zg(r,!0),r.remove())},N0e=(e,t,i,n)=>{let r=0,a=0,o=0,s=0,l=t.length-1,u=t[0],h=t[l],m=n.length-1,f=n[0],g=n[m],b,v;for(;r<=l&&a<=m;)if(u==null)u=t[++r];else if(h==null)h=t[--l];else if(f==null)f=n[++a];else if(g==null)g=n[--m];else if(iv(u,f))Jh(u,f),u=t[++r],f=n[++a];else if(iv(h,g))Jh(h,g),h=t[--l],g=n[--m];else if(iv(u,g))(u.$tag$==="slot"||g.$tag$==="slot")&&Zg(u.$elm$.parentNode,!1),Jh(u,g),e.insertBefore(u.$elm$,h.$elm$.nextSibling),u=t[++r],g=n[--m];else if(iv(h,f))(u.$tag$==="slot"||g.$tag$==="slot")&&Zg(h.$elm$.parentNode,!1),Jh(h,f),e.insertBefore(h.$elm$,u.$elm$),h=t[--l],f=n[++a];else{for(o=-1,s=r;s<=l;++s)if(t[s]&&t[s].$key$!==null&&t[s].$key$===f.$key$){o=s;break}o>=0?(v=t[o],v.$tag$!==f.$tag$?b=cx(t&&t[a],i,o,e):(Jh(v,f),t[o]=void 0,b=v.$elm$),f=n[++a]):(b=cx(t&&t[a],i,a,e),f=n[++a]),b&&dj(u.$elm$).insertBefore(b,fE(u.$elm$))}r>l?cj(e,n[m+1]==null?null:n[m+1].$elm$,i,n,a,m):a>m&&uj(t,r,l)},iv=(e,t)=>e.$tag$===t.$tag$?e.$tag$==="slot"?e.$name$===t.$name$:e.$key$===t.$key$:!1,fE=e=>e&&e["s-ol"]||e,dj=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,Jh=(e,t)=>{const i=t.$elm$=e.$elm$,n=e.$children$,r=t.$children$,a=t.$tag$,o=t.$text$;let s;o===null?(br=a==="svg"?!0:a==="foreignObject"?!1:br,a==="slot"||lj(e,t,br),n!==null&&r!==null?N0e(i,n,t,r):r!==null?(e.$text$!==null&&(i.textContent=""),cj(i,null,t,r,0,r.length-1)):n!==null&&uj(n,0,n.length-1),br&&a==="svg"&&(br=!1)):(s=i["s-cr"])?s.parentNode.textContent=o:e.$text$!==o&&(i.data=o)},hj=e=>{let t=e.childNodes,i,n,r,a,o,s;for(n=0,r=t.length;n<r;n++)if(i=t[n],i.nodeType===1){if(i["s-sr"]){for(o=i["s-sn"],i.hidden=!1,a=0;a<r;a++)if(s=t[a].nodeType,t[a]["s-hn"]!==i["s-hn"]||o!==""){if(s===1&&o===t[a].getAttribute("slot")){i.hidden=!0;break}}else if(s===1||s===3&&t[a].textContent.trim()!==""){i.hidden=!0;break}}hj(i)}},Ja=[],pj=e=>{let t,i,n,r,a,o,s=0,l=e.childNodes,u=l.length;for(;s<u;s++){if(t=l[s],t["s-sr"]&&(i=t["s-cr"])&&i.parentNode)for(n=i.parentNode.childNodes,r=t["s-sn"],o=n.length-1;o>=0;o--)i=n[o],!i["s-cn"]&&!i["s-nr"]&&i["s-hn"]!==t["s-hn"]&&(JP(i,r)?(a=Ja.find(h=>h.$nodeToRelocate$===i),ox=!0,i["s-sn"]=i["s-sn"]||r,a?a.$slotRefNode$=t:Ja.push({$slotRefNode$:t,$nodeToRelocate$:i}),i["s-sr"]&&Ja.map(h=>{JP(h.$nodeToRelocate$,i["s-sn"])&&(a=Ja.find(m=>m.$nodeToRelocate$===i),a&&!h.$slotRefNode$&&(h.$slotRefNode$=a.$slotRefNode$))})):Ja.some(h=>h.$nodeToRelocate$===i)||Ja.push({$nodeToRelocate$:i}));t.nodeType===1&&pj(t)}},JP=(e,t)=>e.nodeType===1?e.getAttribute("slot")===null&&t===""||e.getAttribute("slot")===t:e["s-sn"]===t?!0:t==="",mj=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(mj)},z0e=(e,t)=>{const i=e.$hostElement$,n=e.$cmpMeta$,r=e.$vnode$||lx(null,null),a=sj(t)?t:oj(null,null,t);Tk=i.tagName,n.$attrsToReflect$&&(a.$attrs$=a.$attrs$||{},n.$attrsToReflect$.map(([o,s])=>a.$attrs$[s]=i[o])),a.$tag$=null,a.$flags$|=4,e.$vnode$=a,a.$elm$=r.$elm$=i.shadowRoot||i,Wh=i["s-sc"],ij=i["s-cr"],nj=sx&&(n.$flags$&1)!==0,ox=!1,Jh(r,a);{if(nn.$flags$|=1,pE){pj(a.$elm$);let o,s,l,u,h,m,f=0;for(;f<Ja.length;f++)o=Ja[f],s=o.$nodeToRelocate$,s["s-ol"]||(l=io.createTextNode(""),l["s-nr"]=s,s.parentNode.insertBefore(s["s-ol"]=l,s));for(f=0;f<Ja.length;f++)if(o=Ja[f],s=o.$nodeToRelocate$,o.$slotRefNode$){for(u=o.$slotRefNode$.parentNode,h=o.$slotRefNode$.nextSibling,l=s["s-ol"];l=l.previousSibling;)if(m=l["s-nr"],m&&m["s-sn"]===s["s-sn"]&&u===m.parentNode&&(m=m.nextSibling,!m||!m["s-nr"])){h=m;break}(!h&&u!==s.parentNode||s.nextSibling!==h)&&s!==h&&(!s["s-hn"]&&s["s-ol"]&&(s["s-hn"]=s["s-ol"].parentNode.nodeName),u.insertBefore(s,h))}else s.nodeType===1&&(s.hidden=!0)}ox&&hj(a.$elm$),nn.$flags$&=-2,Ja.length=0}},j0e=e=>Dt.lazyLoad?Gm(e).$hostElement$:e,RTe=(e,t,i)=>{const n=j0e(e);return{emit:r=>(Dt.isDev&&!n.isConnected&&yj(`The "${t}" event was emitted, but the dispatcher node is no longer connected to the dom.`),V0e(n,t,{bubbles:!!(i&4),composed:!!(i&2),cancelable:!!(i&1),detail:r}))}},V0e=(e,t,i)=>{const n=nn.ce(t,i);return e.dispatchEvent(n),n},H0e=(e,t)=>{},gE=(e,t)=>(e.$flags$|=16,H0e(e,e.$ancestorComponent$),lge(()=>q0e(e,t))),q0e=(e,t)=>{const i=e.$hostElement$,n=Jd("scheduleUpdate",e.$cmpMeta$.$tagName$),r=i;let a;return t?a=Wp(r,"componentWillLoad"):a=Wp(r,"componentWillUpdate"),a=KP(a,()=>Wp(r,"componentWillRender")),n(),KP(a,()=>B0e(e,r,t))},B0e=async(e,t,i)=>{const n=e.$hostElement$,r=Jd("update",e.$cmpMeta$.$tagName$);n["s-rc"],i&&I0e(e);const a=Jd("render",e.$cmpMeta$.$tagName$);U0e(e,t,n),a(),r(),G0e(e)},U0e=(e,t,i)=>{try{VP=t,t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(Dt.hasRenderFn||Dt.reflect)&&(Dt.vdomRender||Dt.reflect)&&(Dt.hydrateServerSide||z0e(e,t))}catch(s){By(s,e.$hostElement$)}return VP=null,null},G0e=e=>{const t=e.$cmpMeta$.$tagName$,i=e.$hostElement$,n=Jd("postUpdate",t),r=i;e.$ancestorComponent$,Wp(r,"componentDidRender"),e.$flags$&64?(Wp(r,"componentDidUpdate"),n()):(e.$flags$|=64,Wp(r,"componentDidLoad"),n())},FTe=e=>{if(Dt.updatable){const t=Gm(e),i=t.$hostElement$.isConnected;return i&&(t.$flags$&18)===2&&gE(t,!1),i}return!1},Wp=(e,t,i)=>{if(e&&e[t])try{return e[t](i)}catch(n){By(n)}},KP=(e,t)=>e&&e.then?e.then(t):t(),W0e=(e,t)=>e!=null&&!mE(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e,J0e=(e,t)=>Gm(e).$instanceValues$.get(t),K0e=(e,t,i,n)=>{const r=Gm(e),a=e,o=r.$instanceValues$.get(t),s=r.$flags$,l=a;if(i=W0e(i,n.$members$[t][0]),i!==o){r.$instanceValues$.set(t,i);{if(n.$watchers$&&s&128){const u=n.$watchers$[t];u&&u.map(h=>{try{l[h](i,o,t)}catch(m){By(m,a)}})}if((s&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(i,o,t)===!1)return;gE(r,!1)}}}},Y0e=(e,t,i)=>{if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);const n=Object.entries(t.$members$),r=e.prototype;n.map(([a,[o]])=>{(o&31||o&32)&&Object.defineProperty(r,a,{get(){return J0e(this,a)},set(s){K0e(this,a,s,t)},configurable:!0,enumerable:!0})});{const a=new Map;r.attributeChangedCallback=function(o,s,l){nn.jmp(()=>{const u=a.get(o);if(this.hasOwnProperty(u))l=this[u],delete this[u];else if(r.hasOwnProperty(u)&&typeof this[u]=="number"&&this[u]==l)return;this[u]=l===null&&typeof this[u]=="boolean"?!1:l})},e.observedAttributes=n.filter(([o,s])=>s[0]&15).map(([o,s])=>{const l=s[1]||o;return a.set(l,o),s[0]&512&&t.$attrsToReflect$.push([o,l]),l})}}return e},Z0e=async(e,t,i,n,r)=>{if((t.$flags$&32)===0&&(r=e.constructor,t.$flags$|=32,customElements.whenDefined(i.$tagName$).then(()=>t.$flags$|=128),r.style)){let o=r.style;typeof o!="string"&&(o=o[t.$modeName$=E0e(e)]);const s=aj(i,t.$modeName$);if(!ux.has(s)){const l=Jd("registerStyles",i.$tagName$);$0e(s,o,!!(i.$flags$&1)),l()}}t.$ancestorComponent$,(()=>gE(t,!0))()},X0e=e=>{},Q0e=e=>{if((nn.$flags$&1)===0){const t=Gm(e),i=t.$cmpMeta$,n=Jd("connectedCallback",i.$tagName$);t.$flags$&1?(rj(e,t,i.$listeners$),X0e(t.$lazyInstance$)):(t.$flags$|=1,i.$flags$&12&&ege(e),i.$members$&&Object.entries(i.$members$).map(([r,[a]])=>{if(a&31&&e.hasOwnProperty(r)){const o=e[r];delete e[r],e[r]=o}}),Z0e(e,t,i)),n()}},ege=e=>{const t=e["s-cr"]=io.createComment("");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},tge=e=>{if((nn.$flags$&1)===0){const t=Gm(e);t.$rmListeners$&&(t.$rmListeners$.map(i=>i()),t.$rmListeners$=void 0)}},NTe=(e,t)=>{const i={$flags$:t[0],$tagName$:t[1]};i.$members$=t[2],i.$listeners$=t[3],i.$watchers$=e.$watchers$,i.$attrsToReflect$=[],!sx&&i.$flags$&1&&(i.$flags$|=8);const n=e.prototype.connectedCallback,r=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){nge(this,i)},connectedCallback(){Q0e(this),n&&n.call(this)},disconnectedCallback(){tge(this),r&&r.call(this)},__attachShadow(){sx?this.attachShadow({mode:"open",delegatesFocus:!!(i.$flags$&16)}):this.shadowRoot=this}}),e.is=i.$tagName$,Y0e(e,i)},zTe=e=>{const t=new URL(e,nn.$resourcesUrl$);return t.origin!==Um.location.origin?t.href:t.pathname},ige=e=>nn.$resourcesUrl$=e,fj=new WeakMap,Gm=e=>fj.get(e),nge=(e,t)=>{const i={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return rj(e,i,t.$listeners$),fj.set(e,i)},YP=(e,t)=>t in e,By=(e,t)=>(0,console.error)(e,t),gj=Dt.isTesting?["STENCIL:"]:["%cstencil","color: white;background:#4c47ff;font-weight: bold; font-size:10px; padding:2px 6px; border-radius: 5px"],rge=(...e)=>console.error(...gj,...e),yj=(...e)=>console.warn(...gj,...e),ux=new Map,age=[],ZP=[],bj=[],oge=(e,t)=>i=>{e.push(i),sD||(sD=!0,t&&nn.$flags$&4?sge(lD):nn.raf(lD))},XP=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(i){By(i)}e.length=0},lD=()=>{XP(ZP),XP(bj),(sD=ZP.length>0)&&nn.raf(lD)},sge=e=>x0e().then(e),lge=oge(bj,!0),jTe={isDev:!!Dt.isDev,isBrowser:!0,isServer:!1,isTesting:!!Dt.isTesting};let vj;function cge(){ige(Ya(st(vj)))}vj="components/assets";const wj=Symbol("widget"),uge=[],dge={},dx=new WeakMap;function xj(e,t){let i=t.children;if(i&&i.length)for(let r=0;r<i.length;++r)i[r]=xj(e,i[r]);else i=uge;const n=t.vnodeSelector;if(yE(n)){const r=t.properties||dge,a=r.key||n;return{vnodeSelector:"div",properties:{key:a,afterCreate:hge,afterUpdate:pge,afterRemoved:kj,parentWidget:e,widgetConstructor:n,widgetProperties:le($({},r),{key:a,children:i})},children:void 0,text:void 0,domNode:null}}return t}function hge(e,t,i,{parentWidget:n,widgetConstructor:r,widgetProperties:a}){const o=new r(a);o.container=e,dx.set(e,o),o.afterCreate==null||o.afterCreate(o,e),n._internalHandles.add(Am(()=>kj(e)))}function pge(e,t,i,{widgetProperties:n}){const r=dx.get(e);r&&(r.set(n),r.afterUpdate==null||r.afterUpdate(r,e))}function kj(e){const t=dx.get(e);t&&(t.destroy(),dx.delete(e))}function yE(e){return typeof e=="function"&&e[wj]}function _j(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name").replace(/\s|'|"/g,"")}function Sj(){return _j().startsWith("dark")}function mge(){return"calcite-theme-"+(Sj()?"dark":"light")}const Dj="esri.widgets.Widget",QP=Q.getLogger(Dj);let fge=0;const gge={widgetIcon:"esri-icon-checkbox-unchecked"};function $j(e,t){for(const i in t)e[i]!=null&&(typeof e[i]=="object"&&typeof t[i]=="object"?$j(e[i],t[i]):e[i]=t[i]);return e}const yge=v0e({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,i=/capture$/i;e.eventHandlerInterceptor=(n,r,a,o)=>{const s=t(n,r,a,o),l=i.test(n);if(!((n=n.replace(i,"")).toLowerCase()in a)||l){const u=n[2].toLowerCase()+n.slice(3),h=g=>s.call(a,g);a.addEventListener(u,h,l);const m=()=>a.removeEventListener(u,h,l),f=o.afterRemoved;o.afterRemoved=g=>{f==null||f(g),m()}}return s}},handleInterceptedEvent(e,t,i,n){const{eventPhase:r,type:a}=n,o=r===Event.CAPTURING_PHASE;let s=`on${a}${o?"capture":""}`;const l=t.properties;(s in l||(s=`on${a[0].toUpperCase()}${a.slice(1)}${o?"Capture":""}`,s in l))&&(B7(),e.scheduleRender(),l[s].call(l.bind||i,n))}});let _2=!1,vi=class extends lk(Gc.EventedAccessor){constructor(e,t){super(e,t),this._attached=!1,this._internalHandles=new On,this._projector=yge,this._readyForTrueRender=!1,this.domNode=null,this.iconClass=gge.widgetIcon,this.label=this.declaredClass.split(".").pop(),this.visible=!0,this.key=this,this._loadLocale=r6(async()=>{if(this._messageBundleProps&&this._messageBundleProps.length){const s=await Zn(this._messageBundleProps.map(async({bundlePath:l,propertyName:u})=>{let h=await cz(l);this.uiStrings&&Object.keys(this.uiStrings)&&(h=$j(z(h),this.uiStrings)),this[u]=h}));for(const l of s)l.error&&QP.error("widget-intl:locale-error",this.declaredClass,l.error)}await this.loadLocale()}),cge();const i=["light","dark"],n=_j()||"light";i.includes(n)||Yx(QP,"The following themes are deprecated: light-blue, dark-blue, light-green, dark-green, light-purple, dark-purple, light-red, and dark-red.",{version:"4.19",warnOnce:!0,see:"https://developers.arcgis.com/javascript/latest/styling/"});const r="esri-widget-uid-"+p0e(),a=this.render.bind(this);this._trackingTarget=new ak(()=>this.scheduleRender());const o=()=>{var s;if(!this._readyForTrueRender||this.destroyed)return null;if(!this.visible)return{vnodeSelector:"div",properties:{key:r,class:"",styles:{display:"none"}},domNode:void 0,children:void 0,text:void 0};const l=a();let{properties:u}=l;u||(l.properties=u={});let{key:h,styles:m}=u;h||(u.key=r),m||(u.styles=m={}),m.display||(m.display="");let f=0;return(s=l.children)==null||s.forEach(g=>{if(yE(g.vnodeSelector))return;let{properties:b}=g;b||(g.properties=b={}),b.key||(b.key=`${this.id}--${f++}`)}),xj(this,l)};this.render=()=>{if(_2)return o();let s=Nfe(this);if(s)return s;this._trackingTarget.clear(),_2=!0;try{s=ll(this._trackingTarget,o)}finally{_2=!1}return zfe(this,s),s},this.addResolvingPromise(this._resourcesFetch=this.beforeFirstRender().then(()=>{this._readyForTrueRender=!0,this._postInitialize()}))}normalizeCtorArgs(e,t){const i=$({},e);return t&&(i.container=t),i}postInitialize(){}beforeFirstRender(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then(()=>{}).catch(i5)}async loadDependencies(){}async loadLocale(){}destroy(){this.destroyed||(this._trackingTarget=Ho(this._trackingTarget),this.viewModel=Ho(this.viewModel),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null,x2(this))}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return lE(e)}get id(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+fge++}set id(e){e&&this._set("id",e)}get renderable(){return this._resourcesFetch}get test(){return{projector:this._projector,handles:this._internalHandles}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(x2(this),this._projector.scheduleRender())}classes(...e){return G7.apply(this,e)}own(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments)),this._internalHandles.add(e)}renderNow(){x2(this),this._projector.renderNow()}_postInitialize(){var e;if(this.destroyed)return;this.scheduleRender(),(e=this._delegatedEventNames)!=null&&e.length&&this._internalHandles.add(_t(()=>this.viewModel,(i,n)=>{n&&this._internalHandles.remove("delegated-events"),i&&this._internalHandles.add(this._delegatedEventNames.map(r=>i.on(r,a=>{this.emit(r,a)})),"delegated-events")},Ko)),this.postInitialize();const t=async()=>{await this._loadLocale().catch(i5),this.scheduleRender()};this._internalHandles.add([lle(t),_t(()=>this.uiStrings,t),gk(()=>this.container,i=>{this.destroyed||this._attach(i)},{initial:!0,once:!0})])}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){e&&this._attached&&(this._projector.detach(this.render),e.parentNode&&e.parentNode.removeChild(e),this._attached=!1)}};vi[wj]=!0,c([d()],vi.prototype,"_readyForTrueRender",void 0),c([d({value:null})],vi.prototype,"container",null),c([nt("container")],vi.prototype,"castContainer",null),c([d({aliasOf:"container"})],vi.prototype,"domNode",void 0),c([d()],vi.prototype,"iconClass",void 0),c([d()],vi.prototype,"id",null),c([d()],vi.prototype,"label",void 0),c([d()],vi.prototype,"renderable",null),c([d()],vi.prototype,"uiStrings",void 0),c([d()],vi.prototype,"viewModel",void 0),c([d()],vi.prototype,"visible",void 0),c([d()],vi.prototype,"key",void 0),c([d()],vi.prototype,"children",void 0),c([d()],vi.prototype,"afterCreate",void 0),c([d()],vi.prototype,"afterUpdate",void 0),c([d()],vi.prototype,"afterRemoved",void 0),vi=c([D(Dj)],vi);const Pn=vi;function bge(e){return 32+e.length}function vge(){return 16}function VTe(e){if(!e)return 0;let t=32;for(const i in e)if(e.hasOwnProperty(i)){const n=e[i];switch(typeof n){case"string":t+=bge(n);break;case"number":t+=vge();break;case"boolean":t+=4}}return t}function HTe(e,t){return 32+e.length*t}var hx;(function(e){e[e.KILOBYTES=1024]="KILOBYTES",e[e.MEGABYTES=1048576]="MEGABYTES",e[e.GIGABYTES=1073741824]="GIGABYTES"})(hx||(hx={}));const eL=["B","kB","MB","GB","TB"];function wge(e,t){let i=t===0?0:Math.floor(Math.log(t)/Math.log(hx.KILOBYTES));i=ha(i,0,eL.length-1);const n=Hd(t/hx.KILOBYTES**i,{maximumFractionDigits:2});return ts(e.units.bytes[eL[i]],{fileSize:n})}function xge(e){const{exifInfo:t,exifName:i,tagName:n}=e;if(!t||!i||!n)return null;const r=t.find(a=>a.name===i);return r?kge({tagName:n,tags:r.tags}):null}function kge(e){const{tagName:t,tags:i}=e;if(!i||!t)return null;const n=i.find(r=>r.name===t);return n&&n.value||null}var cD;const _ge={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let Nn=cD=class extends J{constructor(e){super(e),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:e}=this,t=xge({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:e});return _ge[t]||null}clone(){return new cD({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};c([d({type:String})],Nn.prototype,"contentType",void 0),c([d()],Nn.prototype,"exifInfo",void 0),c([d({readOnly:!0})],Nn.prototype,"orientationInfo",null),c([d({type:$t})],Nn.prototype,"id",void 0),c([d({type:String})],Nn.prototype,"globalId",void 0),c([d({type:String})],Nn.prototype,"keywords",void 0),c([d({type:String})],Nn.prototype,"name",void 0),c([d({json:{read:!1}})],Nn.prototype,"parentGlobalId",void 0),c([d({json:{read:!1}})],Nn.prototype,"parentObjectId",void 0),c([d({type:$t})],Nn.prototype,"size",void 0),c([d({json:{read:!1}})],Nn.prototype,"url",void 0),Nn=cD=c([D("esri.layers.support.AttachmentInfo")],Nn);const Cj=Nn;var uD;let Yi=uD=class extends J{constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new uD(z({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};c([d({type:[String],json:{write:!0}})],Yi.prototype,"attachmentTypes",void 0),c([d({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],Yi.prototype,"attachmentsWhere",void 0),c([d({type:[String],json:{write:!0}})],Yi.prototype,"keywords",void 0),c([d({type:[Number],json:{write:!0}})],Yi.prototype,"globalIds",void 0),c([d({json:{write:!0}})],Yi.prototype,"name",void 0),c([d({type:Number,json:{read:{source:"resultRecordCount"}}})],Yi.prototype,"num",void 0),c([d({type:[Number],json:{write:!0}})],Yi.prototype,"objectIds",void 0),c([d({type:Boolean,json:{default:!1,write:!0}})],Yi.prototype,"returnMetadata",void 0),c([d({type:[Number],json:{write:!0}})],Yi.prototype,"size",void 0),c([d({type:Number,json:{read:{source:"resultOffset"}}})],Yi.prototype,"start",void 0),c([ue("start"),ue("num")],Yi.prototype,"writeStart",null),c([d({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Yi.prototype,"where",void 0),Yi=uD=c([D("esri.rest.support.AttachmentQuery")],Yi),Yi.from=mi(Yi);const px=Yi,Sge="esri.widgets.Feature.support.featureUtils",tL=Q.getLogger(Sge),Dge=/href=(""|'')/gi,$ge=/(\{([^\{\r\n]+)\})/g,Cge=/\'/g,Ij=/^\s*expression\//i,Ige=/(\n)/gi,Ege=/[\u00A0-\u9999<>\&]/gim,Tge=/href\s*=\s*(?:\"([^\"]+)\"|\'([^\']+)\')/gi,Mge=/^(?:mailto:|tel:)/,Ej="relationships/",dD=d8("short-date-short-time");function Tj(e){if(!V(e))return e.get("sourceLayer")||e.get("layer")}async function mx(e,t){return typeof e=="function"?e.call(null,t):e}function Mj(e=""){if(e)return!Mge.test(e.trim().toLowerCase())}function Aj(e){return!!e&&Ij.test(e)}function Age(e,t){if(!Aj(t)||!e)return null;const i=t.replace(Ij,"").toLowerCase();let n;return e.some(r=>r.name.toLowerCase()===i&&(n=r,!0)),n}function Oj(e,t){const i=Age(t,e==null?void 0:e.fieldName);return i?i.title||null:e?e.label||e.fieldName:null}function Oge(e,t){const i=t.get(e.toLowerCase());return`{${i&&i.fieldName||e}}`}function Pge(e){return e.replace(Dge,"")}function fx(e,t){const i=bE(t,e);return i?i.name:e}function Lge(e,t){return e&&e.map(i=>fx(i,t))}function bE(e,t){return e&&typeof e.getField=="function"?e.getField(t):null}function Pj(e){return`${e}`.trim()}function fd({attributes:e,globalAttributes:t,layer:i,text:n,expressionAttributes:r,fieldInfoMap:a}){return n?hD({formattedAttributes:t,template:zge(n,$($($({},t),r),e),i),fieldInfoMap:a}):""}function hD({formattedAttributes:e,template:t,fieldInfoMap:i}){return Pj(Pge(ts(ts(t,n=>Oge(n,i)),e)))}function Rge(e,t,i=!1){const n=t[e];if(typeof n=="string"){const r="%27",a=(i?encodeURIComponent(n):n).replace(Cge,r);t[e]=a}}function Fge(e,t=!1){const i=$({},e);return Object.keys(i).forEach(n=>Rge(n,i,t)),i}function Nge(e,t,i){const n=(t=Pj(t))&&t[0]!=="{";return ts(e,Fge(i,n))}function pD(e,t){return e.replace($ge,(i,n,r)=>{const a=bE(t,r);return a?`{${a.name}}`:n})}function zge(e,t,i){const n=pD(e,i);return n&&n.replace(Tge,(r,a,o)=>Nge(r,a||o,t))}function jge(e,t){if(typeof e=="string"&&t&&t.dateFormat==null&&(t.places!=null||t.digitSeparator!=null)){const i=Number(e);if(!isNaN(i))return i}return e}function Vge(e){return(e==null?void 0:e.type)==="feature"}function Hge(e){return(e==null?void 0:e.type)==="map-image"}function qge(e){return!(e==null||!e.layer)}function Lj(e,t){const i=t.fieldInfos,n=t.fieldName,r=Rj(i,n),a=r==null?void 0:r.clone(),o=t.preventPlacesFormatting,s=t.layer,l=bE(s,n);if(a&&(l==null?void 0:l.type)==="date"){const h=a.format||new lg;h.dateFormat=h.dateFormat||"short-date-short-time",h.dateTimeFormatOptions=Vge(s)&&s.datesInUnknownTimezone||qge(s)&&Hge(s.layer)&&s.layer.datesInUnknownTimezone?{timeZone:"UTC"}:null,a.format=h}const u=a&&a.format;return typeof(e=jge(e,u))=="string"||e==null||u==null?Uy(e):o?Hd(e,le($({},p8(u)),{minimumFractionDigits:0,maximumFractionDigits:20})):u.format(e)}function Rj(e,t){if(!e||!e.length||!t)return;const i=t.toLowerCase();let n;return e.some(r=>!(!r.fieldName||r.fieldName.toLowerCase()!==i)&&(n=r,!0)),n}function Bge({fieldName:e,graphic:t,layer:i}){if(tl(e)||!i||typeof i.getFeatureType!="function")return null;const{typeIdField:n}=i;if(!n||e!==n)return null;const r=i.getFeatureType(t);return r?r.name:null}function Uge({fieldName:e,value:t,graphic:i,layer:n}){if(tl(e)||!n||typeof n.getFieldDomain!="function")return null;const r=n.getFieldDomain(e,{feature:i});return r&&r.type==="coded-value"?r.getName(t):null}function Gge(e,t){const{creatorField:i,creationDateField:n,editorField:r,editDateField:a}=e;if(!t)return;const o=t[a];if(typeof o=="number"){const l=t[r];return{type:"edit",date:Nc(o,dD),user:l}}const s=t[n];if(typeof s=="number"){const l=t[i];return{type:"create",date:Nc(s,dD),user:l}}return null}function Wge(e,t){const i=new Map;return e&&e.forEach(n=>{const r=fx(n.fieldName,t);n.fieldName=r,i.set(r.toLowerCase(),n)}),i}function iL(e){const t=[];if(!e)return t;const{fieldInfos:i,content:n}=e;return i&&t.push(...i),n&&Array.isArray(n)&&n.forEach(r=>{if(r.type==="fields"){const a=r&&r.fieldInfos;a&&t.push(...a)}}),t}function vE(e){return e.replace(Ege,t=>`&#${t.charCodeAt(0)};`)}function Uy(e){return typeof e=="string"?e.replace(Ige,'<br class="esri-text-new-line" />'):e}function Jge(e){const{value:t,fieldName:i,fieldInfos:n,fieldInfoMap:r,layer:a,graphic:o}=e;if(t==null)return"";const s=Uge({fieldName:i,value:t,graphic:o,layer:a});if(s)return s;const l=Bge({fieldName:i,graphic:o,layer:a});if(l)return l;if(r.get(i.toLowerCase()))return Lj(t,{fieldInfos:n,fieldName:i,layer:a});const u=a&&a.fieldsIndex;return u&&u.isDateField(i)?Nc(t,dD):Uy(t)}function S2({fieldInfos:e,attributes:t,layer:i,graphic:n,fieldInfoMap:r,relatedInfos:a}){const o={};return a==null||a.forEach(s=>Qge(o,s)),Object.keys(t).forEach(s=>{const l=t[s];o[s]=Jge({fieldName:s,fieldInfos:e,fieldInfoMap:r,layer:i,value:l,graphic:n})}),o}async function Kge(e,t){var i,n;const{layer:r,graphic:a,outFields:o,objectIds:s,returnGeometry:l,spatialReference:u}=e,h=s[0];if(typeof h!="number"&&typeof h!="string"){const f="Could not query required fields for the specified feature. The feature's ID is invalid.",g={layer:r,graphic:a,objectId:h,requiredFields:o};return tL.warn(f,g),null}if((i=r.capabilities)==null||(n=i.operations)==null||!n.supportsQuery){const f="The specified layer cannot be queried. The following fields will not be available.",g={layer:r,graphic:a,requiredFields:o,returnGeometry:l};return tL.warn(f,g),null}const m=r.createQuery();return m.objectIds=s,m.outFields=o!=null&&o.length?o:[r.objectIdField],m.returnGeometry=!!l,m.returnZ=!!l,m.returnM=!!l,m.outSpatialReference=u,(await r.queryFeatures(m,t)).features[0]}async function Yge(e){var t;if((t=e.expressionInfos)==null||!t.length)return!1;const i=await dl(),{arcadeUtils:{hasGeometryFunctions:n}}=i;return n(e)}async function Zge({graphic:e,popupTemplate:t,layer:i,spatialReference:n},r){if(!i||!t||(typeof i.load=="function"&&await i.load(r),!e.attributes))return;const a=e.attributes[i.objectIdField];if(a==null)return;const o=[a],s=await t.getRequiredFields(i.fieldsIndex),l=tde(s,e),u=l?[]:s,h=t.returnGeometry||await Yge(t);if(l&&!h)return;const m=await Kge({layer:i,graphic:e,outFields:u,objectIds:o,returnGeometry:h,spatialReference:n},r);m&&(m.geometry&&(e.geometry=m.geometry),m.attributes&&(e.attributes=$($({},e.attributes),m.attributes)))}function tl(e=""){return!!e&&e.indexOf(Ej)!==-1}function Xge(e){return e?`${Ej}${e.layerId}/${e.fieldName}`:""}function nL({attributes:e,graphic:t,relatedInfo:i}){e&&t&&i&&Object.keys(t.attributes).forEach(n=>{const r=Xge({layerId:i.relation.id.toString(),fieldName:n});e[r]=t.attributes[n]})}function Qge(e,t){e&&t&&(t.relatedFeatures&&t.relatedFeatures&&t.relatedFeatures.forEach(i=>nL({attributes:e,graphic:i,relatedInfo:t})),t.relatedStatsFeatures&&t.relatedStatsFeatures&&t.relatedStatsFeatures.forEach(i=>nL({attributes:e,graphic:i,relatedInfo:t})))}const rL=e=>{if(!e)return!1;const t=e.toUpperCase();return t.indexOf("CURRENT_TIMESTAMP")>-1||t.indexOf("CURRENT_DATE")>-1||t.indexOf("CURRENT_TIME")>-1},Fj=({layer:e,method:t,query:i,definitionExpression:n})=>{var r,a;if((r=e.capabilities)==null||(a=r.query)==null||!a.supportsCacheHint||t==="attachments")return;const o=T(i.where)&&i.where,s=T(i.geometry)&&i.geometry;rL(n)||rL(o)||(s==null?void 0:s.type)==="extent"||i.resultType==="tile"||(i.cacheHint=!0)},eye=({query:e,layer:t,method:i})=>{Fj({layer:t,method:i,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression}`})},tye=({queryPayload:e,layer:t,method:i})=>{Fj({layer:t,method:i,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression}`})},aL={editing:!1,operations:{add:!0,update:!0,delete:!0}},Nj=_e.ofType(Cj),iye="graphic.layer.capabilities.operations.supportsResizeAttachments";let Pa=class extends um{constructor(e){super(e),this._getAttachmentsPromise=null,this._attachmentLayer=null,this.abilities=$({},aL),this.activeAttachmentInfo=null,this.attachmentInfos=new Nj,this.graphic=null,this.mode="view",this.handles.add([Yt(this,"graphic",()=>this._graphicChanged())])}destroy(){this._attachmentLayer=null,this.graphic=null}castAbilities(e){return $($({},aL),e)}get state(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}get supportsResizeAttachments(){return this.get(iye)||!1}async getAttachments(){const{_attachmentLayer:e,attachmentInfos:t}=this;if(!e||typeof e.queryAttachments!="function")throw new L("invalid-layer","getAttachments(): A valid layer is required.");const i=this._getFeatureId(),n=new px({objectIds:[i],returnMetadata:!0}),r=[],a=e.queryAttachments(n).then(s=>s[i]||r).catch(()=>r);this._getAttachmentsPromise=a,this.notifyChange("state");const o=await a;return t.removeAll(),o.length&&t.addMany(o),this._getAttachmentsPromise=null,this.notifyChange("state"),o}async addAttachment(e){const{_attachmentLayer:t,attachmentInfos:i,graphic:n,abilities:r}=this;if(!e)throw new L("invalid-attachment","addAttachment(): An attachment is required.",{attachment:e});if(!r.operations.add)throw new L("invalid-abilities","addAttachment(): add abilities are required.");if(!t||typeof t.addAttachment!="function")throw new L("invalid-layer","addAttachment(): A valid layer is required.");const a=t.addAttachment(n,e).then(s=>this._queryAttachment(s.objectId)),o=await a;return i.add(o),o}async deleteAttachment(e){const{_attachmentLayer:t,attachmentInfos:i,graphic:n,abilities:r}=this;if(!e)throw new L("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:e});if(!r.operations.delete)throw new L("invalid-abilities","deleteAttachment(): delete abilities are required.");if(!t||typeof t.deleteAttachments!="function")throw new L("invalid-layer","deleteAttachment(): A valid layer is required.");const a=t.deleteAttachments(n,[e.id]).then(()=>e),o=await a;return i.remove(o),o}async updateAttachment(e,t=this.activeAttachmentInfo){const{_attachmentLayer:i,attachmentInfos:n,graphic:r,abilities:a}=this;if(!e)throw new L("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:e});if(!t)throw new L("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:t});if(!a.operations.update)throw new L("invalid-abilities","updateAttachment(): Update abilities are required.");const o=n.findIndex(u=>u===t);if(!i||typeof i.updateAttachment!="function")throw new L("invalid-layer","updateAttachment(): A valid layer is required.");const s=i.updateAttachment(r,t.id,e).then(u=>this._queryAttachment(u.objectId)),l=await s;return n.splice(o,1,l),l}async _queryAttachment(e){if(!e)throw new L("invalid-attachment-id","Could not query attachment.");const{_attachmentLayer:t}=this,i=this._getFeatureId(),n=new px({objectIds:[i],attachmentsWhere:`AttachmentId=${e}`,returnMetadata:!0});return t.queryAttachments(n).then(r=>r[i][0])}_getFeatureId(){const{_attachmentLayer:e,graphic:t}=this;if(!e||!t)return null;const{objectIdField:i}=e,{attributes:n}=t;return n&&n[i]}_graphicChanged(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch(()=>{}))}_setAttachmentLayer(){const{graphic:e}=this,t=Tj(e);this._attachmentLayer=t?t.type==="scene"&&T(t.associatedLayer)?t.associatedLayer:t:null}};c([d()],Pa.prototype,"abilities",void 0),c([nt("abilities")],Pa.prototype,"castAbilities",null),c([d()],Pa.prototype,"activeAttachmentInfo",void 0),c([d({readOnly:!0,type:Nj})],Pa.prototype,"attachmentInfos",void 0),c([d({type:Mr})],Pa.prototype,"graphic",void 0),c([d()],Pa.prototype,"mode",void 0),c([d({readOnly:!0})],Pa.prototype,"state",null),c([d({readOnly:!0})],Pa.prototype,"supportsResizeAttachments",null),Pa=c([D("esri.widgets.Attachments.AttachmentsViewModel")],Pa);const wE=Pa;function nye(e){const t=e.toLowerCase();return t==="image/bmp"||t==="image/emf"||t==="image/exif"||t==="image/gif"||t==="image/x-icon"||t==="image/jpeg"||t==="image/png"||t==="image/tiff"||t==="image/x-wmf"}function rye(e){const t=st("esri/themes/base/images/files/");return e?e==="text/plain"?`${t}text-32.svg`:e==="application/pdf"?`${t}pdf-32.svg`:e==="text/csv"?`${t}csv-32.svg`:e==="application/gpx+xml"?`${t}gpx-32.svg`:e==="application/x-dwf"?`${t}cad-32.svg`:e==="application/postscript"||e==="application/json"||e==="text/xml"||e==="model/vrml"?`${t}code-32.svg`:e==="application/x-zip-compressed"||e==="application/x-7z-compressed"||e==="application/x-gzip"||e==="application/x-tar"||e==="application/x-gtar"||e==="application/x-bzip2"||e==="application/gzip"||e==="application/x-compress"||e==="application/x-apple-diskimage"||e==="application/x-rar-compressed"||e==="application/zip"?`${t}zip-32.svg`:e.indexOf("image/")!==-1?`${t}image-32.svg`:e.indexOf("audio/")!==-1?`${t}sound-32.svg`:e.indexOf("video/")!==-1?`${t}video-32.svg`:e.indexOf("msexcel")!==-1||e.indexOf("ms-excel")!==-1||e.indexOf("spreadsheetml")!==-1?`${t}excel-32.svg`:e.indexOf("msword")!==-1||e.indexOf("ms-word")!==-1||e.indexOf("wordprocessingml")!==-1?`${t}word-32.svg`:e.indexOf("powerpoint")!==-1||e.indexOf("presentationml")!==-1?`${t}report-32.svg`:`${t}generic-32.svg`:`${t}generic-32.svg`}function Kn(e){return function(t,i){t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:i})}}var aye=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},zj=function(e,t){for(var i=0,n=e.length;i<n;i++){var r=e[i];Array.isArray(r)?zj(r,t):r!=null&&r!==!1&&(r.hasOwnProperty("vnodeSelector")||(r=aye(r)),t.push(r))}},oye=function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];if(i.length===1&&typeof i[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:i[0],domNode:null};var r=[];return zj(i,r),{vnodeSelector:e,properties:t||void 0,children:r,text:void 0,domNode:null}};function F(e,t,...i){return typeof e!="function"||yE(e)?oye(e,t,...i):e(t,...i)}const oL={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},he={base:"esri-attachments",loaderContainer:"esri-attachments__loader-container",loader:"esri-attachments__loader",fadeIn:"esri-attachments--fade-in",container:"esri-attachments__container",containerList:"esri-attachments__container--list",containerPreview:"esri-attachments__container--preview",actions:"esri-attachments__actions",deleteButton:"esri-attachments__delete-button",addAttachmentButton:"esri-attachments__add-attachment-button",errorMessage:"esri-attachments__error-message",items:"esri-attachments__items",item:"esri-attachments__item",itemButton:"esri-attachments__item-button",itemMask:"esri-attachments__item-mask",itemMaskIcon:"esri-attachments__item-mask--icon",itemImage:"esri-attachments__image",itemImageResizable:"esri-attachments__image--resizable",itemLabel:"esri-attachments__label",itemFilename:"esri-attachments__filename",itemChevronIcon:"esri-attachments__item-chevron-icon",itemLink:"esri-attachments__item-link",itemLinkOverlay:"esri-attachments__item-link-overlay",itemLinkOverlayIcon:"esri-attachments__item-link-overlay-icon",itemEditIcon:"esri-attachments__item-edit-icon",itemAddIcon:"esri-attachments__item-add-icon",itemAddButton:"esri-attachments__item-add-button",formNode:"esri-attachments__form-node",fileFieldset:"esri-attachments__file-fieldset",fileLabel:"esri-attachments__file-label",fileName:"esri-attachments__file-name",fileInput:"esri-attachments__file-input",metadata:"esri-attachments__metadata",metadataFieldset:"esri-attachments__metadata-fieldset",progressBar:"esri-attachments__progress-bar",esriWidget:"esri-widget",esriButton:"esri-button",buttonDisabled:"esri-button--disabled",esriButtonSecondary:"esri-button--secondary",esriButtonTertiary:"esri-button--tertiary",esriButtonThird:"esri-button--third",esriButtonSmall:"esri-button--small",esriButtonHalf:"esri-button--half",empty:"esri-widget__content--empty",iconExternalLink:"esri-icon-link-external",iconEdit:"esri-icon-edit",iconRight:"esri-icon-right",iconLeft:"esri-icon-left",iconPlus:"esri-icon-plus"},D2=window.CSS;let cn=class extends Pn{constructor(e,t){super(e,t),this.abilities=null,this.displayType="auto",this.graphic=null,this.label=void 0,this.messages=null,this.messagesUnits=null,this.selectedFile=null,this.submitting=!1,this.viewModel=new wE,this.visibleElements=$({},oL),this._supportsImageOrientation=D2&&D2.supports&&D2.supports("image-orientation","from-image"),this._addAttachmentForm=null,this._updateAttachmentForm=null}initialize(){this.own(Ek(this,"viewModel.attachmentInfos","change",()=>this.scheduleRender()),Yt(this,"viewModel.mode",()=>this._modeChanged()))}get effectiveDisplayType(){const{displayType:e}=this;return e&&e!=="auto"?e:this.viewModel.supportsResizeAttachments?"preview":"list"}castVisibleElements(e){return $($({},oL),e)}addAttachment(){const{_addAttachmentForm:e,viewModel:t}=this;return this._set("submitting",!0),this._set("error",null),t.addAttachment(e).then(i=>(this._set("submitting",!1),this._set("error",null),t.mode="view",i)).catch(i=>{throw this._set("submitting",!1),this._set("error",new L("attachments:add-attachment",this.messages.addErrorMessage,i)),i})}deleteAttachment(e){const{viewModel:t}=this;return this._set("submitting",!0),this._set("error",null),t.deleteAttachment(e).then(i=>(this._set("submitting",!1),this._set("error",null),t.mode="view",i)).catch(i=>{throw this._set("submitting",!1),this._set("error",new L("attachments:delete-attachment",this.messages.deleteErrorMessage,i)),i})}updateAttachment(){const{viewModel:e}=this,{_updateAttachmentForm:t}=this;return this._set("submitting",!0),this._set("error",null),e.updateAttachment(t).then(i=>(this._set("submitting",!1),this._set("error",null),e.mode="view",i)).catch(i=>{throw this._set("submitting",!1),this._set("error",new L("attachments:update-attachment",this.messages.updateErrorMessage,i)),i})}render(){const{submitting:e,viewModel:t}=this,{state:i}=t;return F("div",{class:this.classes(he.base,he.esriWidget)},e?this.renderProgressBar():null,i==="loading"?this.renderLoading():this.renderAttachments(),this.renderErrorMessage())}renderErrorMessage(){const{error:e,visibleElements:t}=this;return e&&t.errorMessage?F("div",{key:"error-message",class:he.errorMessage},e.message):null}renderAttachments(){const{mode:e,activeAttachmentInfo:t}=this.viewModel;return e==="add"?this.renderAddForm():e==="edit"?this.renderDetailsForm(t):this.renderAttachmentContainer()}renderLoading(){return F("div",{class:he.loaderContainer,key:"loader"},F("div",{class:he.loader}))}renderProgressBar(){return this.visibleElements.progressBar?F("div",{class:he.progressBar,key:"progress-bar"}):null}renderAddForm(){const{submitting:e,selectedFile:t}=this,i=e||!t,n=this.visibleElements.cancelAddButton?F("button",{type:"button",bind:this,disabled:e,onclick:this._cancelForm,class:this.classes(he.esriButton,he.esriButtonTertiary,he.esriButtonSmall,he.esriButtonHalf,e&&he.buttonDisabled)},this.messages.cancel):null,r=this.visibleElements.addSubmitButton?F("button",{type:"submit",disabled:i,class:this.classes(he.esriButton,he.esriButtonSecondary,he.esriButtonSmall,he.esriButtonHalf,{[he.buttonDisabled]:i})},this.messages.add):null,a=t?F("span",{key:"file-name",class:he.fileName},t.name):null,o=F("form",{bind:this,afterCreate:iD,afterRemoved:OP,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},F("fieldset",{class:he.fileFieldset},a,F("label",{class:this.classes(he.fileLabel,he.esriButton,he.esriButtonSecondary)},t?this.messages.changeFile:this.messages.selectFile,F("input",{class:he.fileInput,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))),r,n);return F("div",{key:"add-form-container",class:he.formNode},o)}renderDetailsForm(e){const{visibleElements:t,viewModel:i,selectedFile:n,submitting:r}=this,{contentType:a,size:o,url:s}=e,{abilities:l}=i,u=r||!n,h=l.editing&&l.operations.delete&&t.deleteButton?F("button",{key:"delete-button",type:"button",disabled:r,bind:this,onclick:S=>this._submitDeleteAttachment(S,e),class:this.classes(he.esriButton,he.esriButtonSmall,he.esriButtonTertiary,he.deleteButton,{[he.buttonDisabled]:r})},this.messages.delete):null,m=l.editing&&l.operations.update&&t.updateButton?F("button",{disabled:u,key:"update-button",type:"submit",class:this.classes(he.esriButton,he.esriButtonSmall,he.esriButtonThird,{[he.buttonDisabled]:u})},this.messages.update):null,f=this.visibleElements.cancelUpdateButton?F("button",{disabled:r,key:"cancel-button",type:"button",bind:this,onclick:this._cancelForm,class:this.classes(he.esriButton,he.esriButtonSmall,he.esriButtonTertiary,he.esriButtonThird,{[he.buttonDisabled]:r})},this.messages.cancel):null,g=n?F("span",{key:"file-name",class:he.fileName},n.name):null,b=l.editing&&l.operations.update?F("fieldset",{key:"file",class:he.fileFieldset},g,F("label",{class:this.classes(he.fileLabel,he.esriButton,he.esriButtonSecondary)},this.messages.changeFile,F("input",{class:he.fileInput,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))):null,v=F("fieldset",{key:"size",class:he.metadataFieldset},F("label",null,wge(this.messagesUnits,o))),w=F("fieldset",{key:"content-type",class:he.metadataFieldset},F("label",null,a)),x=F("form",{bind:this,afterCreate:iD,afterRemoved:OP,"data-node-ref":"_updateAttachmentForm",onsubmit:this._submitUpdateAttachment},F("div",{class:he.metadata},v,w),b,F("div",{class:he.actions},h,f,m));return F("div",{key:"edit-form-container",class:he.formNode},F("a",{class:he.itemLink,href:s,rel:"noreferrer",target:"_blank"},this.renderImageMask({attachmentInfo:e,size:400}),F("div",{class:he.itemLinkOverlay},F("span",{class:he.itemLinkOverlayIcon},F("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},F("path",{d:"M28 13h1v16H3V3h16v1H4v24h24zm-5-9h4.293L15.646 15.638l.707.707L28 4.707V9h1V3h-6z"}),F("path",{fill:"none",d:"M0 0h32v32H0z"}))))),x)}renderImageMask({attachmentInfo:e,size:t}){const{supportsResizeAttachments:i}=this.viewModel,{contentType:n,name:r,url:a}=e,o=i&&nye(n),s=this._getCSSTransform(e,o),l=s?{transform:s,"image-orientation":"none"}:{},u=a.indexOf("?")===-1?"?":"&",h=o?`${a}${u}w=${t}`:rye(n),m={[he.itemMaskIcon]:!o},f={[he.itemImageResizable]:i};return F("div",{class:this.classes(m,he.itemMask)},F("img",{styles:l,alt:r,src:h,class:this.classes(f,he.itemImage)}))}renderAttachmentInfo({attachmentInfo:e,displayType:t}){const{viewModel:i}=this,{abilities:n}=i,{name:r,url:a}=e,o=this.renderImageMask({attachmentInfo:e,size:t==="list"?48:400}),s=n.editing?F("span",{"aria-hidden":"true",class:this.classes(he.itemChevronIcon,$c(this.container)?he.iconLeft:he.iconRight)}):null,l=[o,F("label",{class:he.itemLabel},F("span",{class:he.itemFilename},r||this.messages.noTitle),s)],u=n.editing?F("button",{key:"details-button",bind:this,class:he.itemButton,title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,"data-attachment-info-id":e.id,onclick:()=>this._startEditAttachment(e),type:"button"},l):F("a",{key:"details-link",class:he.itemButton,href:a,target:"_blank"},l);return F("li",{class:he.item,key:e},u)}renderAttachmentContainer(){const{effectiveDisplayType:e,viewModel:t,visibleElements:i}=this,{attachmentInfos:n,abilities:r}=t,a=n&&n.length,o={[he.containerList]:e!=="preview",[he.containerPreview]:e==="preview"},s=r.editing&&r.operations.add&&i.addButton?F("button",{bind:this,onclick:()=>this._startAddAttachment(),class:this.classes(he.esriButton,he.esriButtonTertiary,he.addAttachmentButton),type:"button"},F("span",{"aria-hidden":"true",class:this.classes(he.itemAddIcon,he.iconPlus)}),this.messages.add):null,l=a?F("ul",{class:he.items},n.toArray().map(u=>this.renderAttachmentInfo({attachmentInfo:u,displayType:e}))):F("div",{class:he.empty},this.messages.noAttachments);return F("div",{key:"attachments-container",class:this.classes(he.container,o)},l,s)}_modeChanged(){this._set("error",null),this._set("selectedFile",null)}_handleFileInputChange(e){const t=e.target,i=t&&t.files&&t.files.item(0);this._set("selectedFile",i)}_submitDeleteAttachment(e,t){e.preventDefault(),this.deleteAttachment(t)}_submitAddAttachment(e){e.preventDefault(),this.addAttachment()}_submitUpdateAttachment(e){e.preventDefault(),this.updateAttachment()}_startEditAttachment(e){const{viewModel:t}=this;t.activeAttachmentInfo=e,t.mode="edit"}_startAddAttachment(){this.viewModel.mode="add"}_cancelForm(e){e.preventDefault(),this.viewModel.mode="view"}_getCSSTransform(e,t){const{orientationInfo:i}=e;return!this._supportsImageOrientation&&t&&i?[i.rotation?`rotate(${i.rotation}deg)`:"",i.mirrored?"scaleX(-1)":""].join(" "):""}};c([ke("viewModel.abilities")],cn.prototype,"abilities",void 0),c([d()],cn.prototype,"displayType",void 0),c([d({readOnly:!0})],cn.prototype,"effectiveDisplayType",null),c([ke("viewModel.graphic")],cn.prototype,"graphic",void 0),c([d({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],cn.prototype,"label",void 0),c([d(),Kn("esri/widgets/Attachments/t9n/Attachments")],cn.prototype,"messages",void 0),c([d(),Kn("esri/core/t9n/Units")],cn.prototype,"messagesUnits",void 0),c([d({readOnly:!0})],cn.prototype,"selectedFile",void 0),c([d({readOnly:!0})],cn.prototype,"submitting",void 0),c([d({readOnly:!0})],cn.prototype,"error",void 0),c([d({type:wE})],cn.prototype,"viewModel",void 0),c([d()],cn.prototype,"visibleElements",void 0),c([nt("visibleElements")],cn.prototype,"castVisibleElements",null),cn=c([D("esri.widgets.Attachments")],cn);const sye=cn;let w0=class extends wE{constructor(e){super(e),this.description=null,this.title=null}};c([d()],w0.prototype,"description",void 0),c([d()],w0.prototype,"title",void 0),w0=c([D("esri.widgets.Feature.FeatureAttachments.FeatureAttachmentsViewModel")],w0);const xE=w0,lye={heading:"esri-widget__heading"};function kE(e,t){const i=cye(e.level),n=`h${i}`;return delete e.level,F(n,le($({},e),{class:G7(lye.heading,e.class),role:"heading","aria-level":String(i)}),t)}function cye(e){return ha(Math.ceil(e),1,6)}const $2={base:"esri-feature-element-info",title:"esri-feature-element-info__title",description:"esri-feature-element-info__description"};let Kh=class extends Pn{constructor(e,t){super(e,t),this.description=null,this.headingLevel=2,this.title=null}render(){return F("div",{class:$2.base},this.renderTitle(),this.renderDescription())}renderTitle(){const{title:e}=this;return e?F(kE,{level:this.headingLevel,class:$2.title},e):null}renderDescription(){const{description:e}=this;return e?F("div",{key:"description",class:$2.description},e):null}};c([d()],Kh.prototype,"description",void 0),c([d()],Kh.prototype,"headingLevel",void 0),c([d()],Kh.prototype,"title",void 0),Kh=c([D("esri.widgets.Feature.support.FeatureElementInfo")],Kh);const _E=Kh,uye={base:"esri-feature-attachments"};let Ao=class extends Pn{constructor(e,t){super(e,t),this._featureElementInfo=null,this.attachmentsWidget=new sye,this.description=null,this.displayType=null,this.graphic=null,this.headingLevel=2,this.title=null,this.viewModel=new xE}initialize(){this._featureElementInfo=new _E,Yt(this,["viewModel.description","viewModel.title","headingLevel"],()=>this._setupFeatureElementInfo()),Yt(this,"viewModel.graphic",e=>this.attachmentsWidget.graphic=e)}destroy(){this.attachmentsWidget.destroy(),this._featureElementInfo.destroy()}render(){var e;const{attachmentsWidget:t}=this;return F("div",{class:uye.base},(e=this._featureElementInfo)==null?void 0:e.render(),t==null?void 0:t.render())}_setupFeatureElementInfo(){const{description:e,title:t,headingLevel:i}=this;this._featureElementInfo.set({description:e,title:t,headingLevel:i})}};c([d({readOnly:!0})],Ao.prototype,"attachmentsWidget",void 0),c([ke("viewModel.description")],Ao.prototype,"description",void 0),c([ke("attachmentsWidget.displayType")],Ao.prototype,"displayType",void 0),c([ke("viewModel.graphic")],Ao.prototype,"graphic",void 0),c([d()],Ao.prototype,"headingLevel",void 0),c([ke("viewModel.title")],Ao.prototype,"title",void 0),c([d({type:xE})],Ao.prototype,"viewModel",void 0),Ao=c([D("esri.widgets.Feature.FeatureAttachments")],Ao);const dye=Ao;let Jl=class extends eh(ge){constructor(e){super(e),this._loadingPromise=null,this.created=null,this.creator=null,this.destroyer=null,this.graphic=null,this.handles.add(Yt(this,"creator",t=>{this._destroyContent(),this._createContent(t)}))}destroy(){this._destroyContent()}get state(){return this._loadingPromise?"loading":"ready"}_destroyContent(){const{created:e,graphic:t,destroyer:i}=this;e&&(mx(i,{graphic:t}).catch(()=>null),this._set("created",null))}async _createContent(e){const{graphic:t}=this,i=mx(e,{graphic:t}).catch(()=>null);this._loadingPromise=i,this.notifyChange("state");const n=await i;i===this._loadingPromise&&(this._loadingPromise=null,this.notifyChange("state"),this._set("created",n))}};c([d({readOnly:!0})],Jl.prototype,"created",void 0),c([d()],Jl.prototype,"creator",void 0),c([d()],Jl.prototype,"destroyer",void 0),c([d({type:Mr})],Jl.prototype,"graphic",void 0),c([d({readOnly:!0})],Jl.prototype,"state",null),Jl=c([D("esri.widgets.Feature.FeatureContent.FeatureContentViewModel")],Jl);const gx=Jl;function Qr(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${t}'`);return{value:pye(e[t])}}}function hye(e){const{type:t}=e;return e instanceof KeyboardEvent||t==="keyup"||t==="keydown"||t==="keypress"}function pye(e){return function(t,...i){hye(t)?Jfe(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call(this,t,...i)}}function mye(e){return e.split(",").map(t=>t.trim())}function fye(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const i=t._delegatedEventNames,n=Array.isArray(e)?e:mye(e);i.push(...n)}}function jj(e){return e&&typeof e.render=="function"}function gye(e){return e&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}const C2={base:"esri-feature-content",loaderContainer:"esri-feature-content__loader-container",loader:"esri-feature-content__loader"};let Yh=class extends Pn{constructor(e,t){super(e,t),this.creator=null,this.graphic=null,this.viewModel=null,this._addTargetToAnchors=i=>{Array.from(i.querySelectorAll("a")).forEach(n=>{Mj(n.href)&&!n.hasAttribute("target")&&n.setAttribute("target","_blank")})}}renderLoading(){return F("div",{class:C2.loaderContainer,key:"loader"},F("div",{class:C2.loader}))}renderCreated(){var e;const t=(e=this.viewModel)==null?void 0:e.created;return t?t instanceof HTMLElement?F("div",{key:t,bind:t,afterCreate:this._attachToNode}):jj(t)?F("div",{key:t},!t.destroyed&&t.render()):F("div",{key:t,innerHTML:t,afterCreate:this._addTargetToAnchors}):null}render(){var e;const t=(e=this.viewModel)==null?void 0:e.state;return F("div",{class:C2.base},t==="loading"?this.renderLoading():this.renderCreated())}_attachToNode(e){const t=this;e.appendChild(t)}};c([ke("viewModel.creator")],Yh.prototype,"creator",void 0),c([ke("viewModel.graphic")],Yh.prototype,"graphic",void 0),c([d({type:gx})],Yh.prototype,"viewModel",void 0),Yh=c([D("esri.widgets.Feature.FeatureContent")],Yh);const k1=Yh;let As=class extends ge{constructor(e){super(e),this.attributes=null,this.expressionInfos=null,this.description=null,this.fieldInfos=null,this.title=null}get formattedFieldInfos(){const{expressionInfos:e,fieldInfos:t}=this,i=[];return t==null||t.forEach(n=>{if(!(!n.hasOwnProperty("visible")||n.visible))return;const r=n.clone();r.label=Oj(r,e),i.push(r)}),i}};c([d()],As.prototype,"attributes",void 0),c([d({type:[x8]})],As.prototype,"expressionInfos",void 0),c([d()],As.prototype,"description",void 0),c([d({type:[Ly]})],As.prototype,"fieldInfos",void 0),c([d({readOnly:!0})],As.prototype,"formattedFieldInfos",null),c([d()],As.prototype,"title",void 0),As=c([D("esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel")],As);const Mk=As,yye=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];function bye(e){let t=null;return yye.some(i=>(i.pattern.test(e)&&(t=i),!!t)),t}function vye(e,t){if(typeof t!="string"||!t)return t;const i=bye(t);if(!i)return t;const n=t.match(i.pattern),r=n&&n[2],a=ts(ts(i.label,{messages:e,hierPart:r}),{appName:i.appName}),o=i.target?` target="${i.target}"`:"",s=i.target==="_blank"?' rel="noreferrer"':"";return t.replace(i.pattern,`<a${o} href="$1"${s}>${a}</a>`)}const Mf={base:"esri-feature-fields",fieldHeader:"esri-feature-fields__field-header",fieldData:"esri-feature-fields__field-data",fieldDataDate:"esri-feature-fields__field-data--date",esriTable:"esri-widget__table"};let La=class extends Pn{constructor(e,t){super(e,t),this._featureElementInfo=null,this.attributes=null,this.description=null,this.expressionInfos=null,this.fieldInfos=null,this.title=null,this.viewModel=new Mk,this.messages=null,this.messagesURIUtils=null}initialize(){this._featureElementInfo=new _E,Yt(this,["viewModel.description","viewModel.title"],()=>this._setupFeatureElementInfo())}destroy(){this._featureElementInfo.destroy()}renderFieldInfo(e,t){const{attributes:i}=this.viewModel,n=e.fieldName,r=e.label||n,a=i?i[n]==null?"":i[n]:"",o=!(!e.format||!e.format.dateFormat),s=typeof a=="number"&&!o?this._forceLTR(a):vye(this.messagesURIUtils,a),l={[Mf.fieldDataDate]:o};return F("tr",{key:`fields-element-info-row-${n}-${t}`},F("th",{key:`fields-element-info-row-header-${n}-${t}`,class:Mf.fieldHeader,innerHTML:r}),F("td",{key:`fields-element-info-row-data-${n}-${t}`,class:this.classes(Mf.fieldData,l),innerHTML:s}))}renderFields(){const{formattedFieldInfos:e}=this.viewModel;return e!=null&&e.length?F("table",{class:Mf.esriTable,summary:this.messages.fieldsSummary},F("tbody",null,e.map((t,i)=>this.renderFieldInfo(t,i)))):null}render(){var e;return F("div",{class:Mf.base},(e=this._featureElementInfo)==null?void 0:e.render(),this.renderFields())}_setupFeatureElementInfo(){const{description:e,title:t}=this;this._featureElementInfo.set({description:e,title:t})}_forceLTR(e){return`&lrm;${e}`}};c([ke("viewModel.attributes")],La.prototype,"attributes",void 0),c([ke("viewModel.description")],La.prototype,"description",void 0),c([ke("viewModel.expressionInfos")],La.prototype,"expressionInfos",void 0),c([ke("viewModel.fieldInfos")],La.prototype,"fieldInfos",void 0),c([ke("viewModel.title")],La.prototype,"title",void 0),c([d({type:Mk})],La.prototype,"viewModel",void 0),c([d(),Kn("esri/widgets/Feature/t9n/Feature")],La.prototype,"messages",void 0),c([d(),Kn("esri/widgets/support/t9n/uriUtils")],La.prototype,"messagesURIUtils",void 0),La=c([D("esri.widgets.Feature.FeatureFields")],La);const Vj=La,sL={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},wye={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function xye(e,t){const i=new Date(e,t+1,1);return i.setDate(0),i.getDate()}function Cd(e,t,i){const n=new Date(e.getTime());if(t&&i){const r=wye[i],{getter:a,setter:o,multiplier:s}=r;if(i==="months"){const l=xye(n.getFullYear(),n.getMonth()+t);n.getDate()>l&&n.setDate(l)}n[o](n[a]()+t*s)}return n}function lL(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return new Date}}function kye(e,t,i){return e===0?0:e*sL[t]/sL[i]}var Ra;let gr=Ra=class extends J{constructor(e){super(e),this.end=null,this.start=null}static get allTime(){return cL}static get empty(){return _ye}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}get isAllTime(){return this.equals(Ra.allTime)}get isEmpty(){return this.equals(Ra.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}clone(){return new Ra({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=T(this.start)?this.start.getTime():this.start,i=T(this.end)?this.end.getTime():this.end,n=T(e.start)?e.start.getTime():e.start,r=T(e.end)?e.end.getTime():e.end;return t===n&&i===r}expandTo(e){if(this.isEmpty||this.isAllTime)return this.clone();const t=gc(this.start,n=>lL(n,e)),i=gc(this.end,n=>Cd(lL(n,e),1,e));return new Ra({start:t,end:i})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return Ra.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=Jf(this.start,-1/0,s=>s.getTime()),i=Jf(this.end,1/0,s=>s.getTime()),n=Jf(e.start,-1/0,s=>s.getTime()),r=Jf(e.end,1/0,s=>s.getTime());let a,o;if(n>=t&&n<=i?a=n:t>=n&&t<=r&&(a=t),i>=n&&i<=r?o=i:r>=t&&r<=i&&(o=r),!isNaN(a)&&!isNaN(o)){const s=new Ra;return s.start=a===-1/0?null:new Date(a),s.end=o===1/0?null:new Date(o),s}return Ra.empty}offset(e,t){if(this.isEmpty||this.isAllTime)return this.clone();const i=new Ra,{start:n,end:r}=this;return T(n)&&(i.start=Cd(n,e,t)),T(r)&&(i.end=Cd(r,e,t)),i}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return cL.clone();const t=T(this.start)&&T(e.start)?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,i=T(this.end)&&T(e.end)?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new Ra({start:t,end:i})}};c([d({type:Date,json:{write:{allowNull:!0}}})],gr.prototype,"end",void 0),c([ae("end")],gr.prototype,"readEnd",null),c([ue("end")],gr.prototype,"writeEnd",null),c([d({readOnly:!0,json:{read:!1}})],gr.prototype,"isAllTime",null),c([d({readOnly:!0,json:{read:!1}})],gr.prototype,"isEmpty",null),c([d({type:Date,json:{write:{allowNull:!0}}})],gr.prototype,"start",void 0),c([ae("start")],gr.prototype,"readStart",null),c([ue("start")],gr.prototype,"writeStart",null),gr=Ra=c([D("esri.TimeExtent")],gr);const cL=new gr,_ye=new gr({start:void 0,end:void 0}),us=gr;var mD;let x0=mD=class extends J{constructor(e){super(e),this.name=null,this.code=null}clone(){return new mD({name:this.name,code:this.code})}};c([d({type:String,json:{write:!0}})],x0.prototype,"name",void 0),c([d({type:[String,Number],json:{write:!0}})],x0.prototype,"code",void 0),x0=mD=c([D("esri.layers.support.CodedValue")],x0);const Sye=x0,Dye=new Ze({inherited:"inherited",codedValue:"coded-value",range:"range"});let k0=class extends J{constructor(e){super(e),this.name=null,this.type=null}};c([d({type:String,json:{write:!0}})],k0.prototype,"name",void 0),c([Se(Dye)],k0.prototype,"type",void 0),k0=c([D("esri.layers.support.Domain")],k0);const Ak=k0;var fD;let _0=fD=class extends Ak{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const i=String(e);this.codedValues.some(n=>(String(n.code)===i&&(t=n.name),!!t))}return t}clone(){return new fD({codedValues:z(this.codedValues),name:this.name})}};c([d({type:[Sye],json:{write:!0}})],_0.prototype,"codedValues",void 0),c([Se({codedValue:"coded-value"})],_0.prototype,"type",void 0),_0=fD=c([D("esri.layers.support.CodedValueDomain")],_0);const Hj=_0;var gD;let _1=gD=class extends Ak{constructor(e){super(e),this.type="inherited"}clone(){return new gD}};c([Se({inherited:"inherited"})],_1.prototype,"type",void 0),_1=gD=c([D("esri.layers.support.InheritedDomain")],_1);const qj=_1;var yD;let Zh=yD=class extends Ak{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new yD({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};c([d({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(e,t,i){t[i]=[this.minValue||0,e]}}}})],Zh.prototype,"maxValue",void 0),c([d({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[0]},write:{target:"range",writer(e,t,i){t[i]=[e,this.maxValue||0]}}}})],Zh.prototype,"minValue",void 0),c([Se({range:"range"})],Zh.prototype,"type",void 0),Zh=yD=c([D("esri.layers.support.RangeDomain")],Zh);const Bj=Zh,Uj={key:"type",base:Ak,typeMap:{range:Bj,"coded-value":Hj,inherited:qj}};function SE(e){if(!e||!e.type)return null;switch(e.type){case"range":return Bj.fromJSON(e);case"codedValue":return Hj.fromJSON(e);case"inherited":return qj.fromJSON(e)}return null}const $ye=new Ze({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"});var bD;const Cye=new Ze({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let xn=bD=class extends J{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(e,{description:t}){let i;try{i=JSON.parse(t)}catch{}return i?i.value:null}readValueType(e,{description:t}){let i;try{i=JSON.parse(t)}catch{}return i?Cye.fromJSON(i.fieldValueType):null}clone(){return new bD({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};c([d({type:String,json:{write:!0}})],xn.prototype,"alias",void 0),c([d({type:[String,Number],json:{write:{allowNull:!0}}})],xn.prototype,"defaultValue",void 0),c([d()],xn.prototype,"description",void 0),c([ae("description")],xn.prototype,"readDescription",null),c([d({types:Uj,json:{read:{reader:SE},write:!0}})],xn.prototype,"domain",void 0),c([d({type:Boolean,json:{write:!0}})],xn.prototype,"editable",void 0),c([d({type:$t,json:{write:!0}})],xn.prototype,"length",void 0),c([d({type:String,json:{write:!0}})],xn.prototype,"name",void 0),c([d({type:Boolean,json:{write:!0}})],xn.prototype,"nullable",void 0),c([Se($ye)],xn.prototype,"type",void 0),c([d()],xn.prototype,"valueType",void 0),c([ae("valueType",["description"])],xn.prototype,"readValueType",null),xn=bD=c([D("esri.layers.support.Field")],xn);const Ok=xn;var vD;let Xh=vD=class extends J{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new vD({mapLayerId:e,gdbVersion:t})}};c([Se({mapLayer:"map-layer"})],Xh.prototype,"type",void 0),c([d({type:$t,json:{write:!0}})],Xh.prototype,"mapLayerId",void 0),c([d({type:String,json:{write:!0}})],Xh.prototype,"gdbVersion",void 0),Xh=vD=c([D("esri.layers.support.source.MapLayerSource")],Xh);var wD;let Os=wD=class extends J{constructor(e){super(e),this.type="query-table"}clone(){var e;const{workspaceId:t,query:i,oidFields:n,spatialReference:r,geometryType:a}=this,o={workspaceId:t,query:i,oidFields:n,spatialReference:(e=r==null?void 0:r.clone())!=null?e:void 0,geometryType:a};return new wD(o)}};c([Se({queryTable:"query-table"})],Os.prototype,"type",void 0),c([d({type:String,json:{write:!0}})],Os.prototype,"workspaceId",void 0),c([d({type:String,json:{write:!0}})],Os.prototype,"query",void 0),c([d({type:String,json:{write:!0}})],Os.prototype,"oidFields",void 0),c([d({type:He,json:{write:!0}})],Os.prototype,"spatialReference",void 0),c([Se(Sue)],Os.prototype,"geometryType",void 0),Os=wD=c([D("esri.layers.support.source.QueryTableDataSource")],Os);var xD;let Qh=xD=class extends J{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new xD({workspaceId:e,dataSourceName:t})}};c([Se({raster:"raster"})],Qh.prototype,"type",void 0),c([d({type:String,json:{write:!0}})],Qh.prototype,"dataSourceName",void 0),c([d({type:String,json:{write:!0}})],Qh.prototype,"workspaceId",void 0),Qh=xD=c([D("esri.layers.support.source.RasterDataSource")],Qh);var kD;let Au=kD=class extends J{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:i}=this;return new kD({workspaceId:e,gdbVersion:t,dataSourceName:i})}};c([Se({table:"table"})],Au.prototype,"type",void 0),c([d({type:String,json:{write:!0}})],Au.prototype,"workspaceId",void 0),c([d({type:String,json:{write:!0}})],Au.prototype,"gdbVersion",void 0),c([d({type:String,json:{write:!0}})],Au.prototype,"dataSourceName",void 0),Au=kD=c([D("esri.layers.support.source.TableDataSource")],Au);var _D,SD;const Iye=an()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let cr=_D=class extends J{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,i){return uL()(e,t,i)}castLeftTableSource(e){return ns(DD(),e)}readRightTableSource(e,t,i){return uL()(e,t,i)}castRightTableSource(e){return ns(DD(),e)}clone(){var e,t;const{leftTableKey:i,rightTableKey:n,leftTableSource:r,rightTableSource:a,joinType:o}=this,s={leftTableKey:i,rightTableKey:n,leftTableSource:(e=r==null?void 0:r.clone())!=null?e:void 0,rightTableSource:(t=a==null?void 0:a.clone())!=null?t:void 0,joinType:o};return new _D(s)}};c([Se({joinTable:"join-table"})],cr.prototype,"type",void 0),c([d({type:String,json:{write:!0}})],cr.prototype,"leftTableKey",void 0),c([d({type:String,json:{write:!0}})],cr.prototype,"rightTableKey",void 0),c([d({json:{write:!0}})],cr.prototype,"leftTableSource",void 0),c([ae("leftTableSource")],cr.prototype,"readLeftTableSource",null),c([nt("leftTableSource")],cr.prototype,"castLeftTableSource",null),c([d({json:{write:!0}})],cr.prototype,"rightTableSource",void 0),c([ae("rightTableSource")],cr.prototype,"readRightTableSource",null),c([nt("rightTableSource")],cr.prototype,"castRightTableSource",null),c([Se(Iye)],cr.prototype,"joinType",void 0),cr=_D=c([D("esri.layers.support.source.JoinTableDataSource")],cr);let I2=null;function uL(){return I2||(I2=Om({types:DD()})),I2}let E2=null;function DD(){return E2||(E2={key:"type",base:null,typeMap:{"data-layer":vr,"map-layer":Xh}}),E2}const Eye={key:"type",base:null,typeMap:{"join-table":cr,"query-table":Os,raster:Qh,table:Au}};let vr=SD=class extends J{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new SD({fields:e,dataSource:t})}};c([Se({dataLayer:"data-layer"})],vr.prototype,"type",void 0),c([d({type:[Ok],json:{write:!0}})],vr.prototype,"fields",void 0),c([d({types:Eye,json:{write:!0}})],vr.prototype,"dataSource",void 0),vr=SD=c([D("esri.layers.support.source.DataLayerSource")],vr),vr.from=mi(vr);var $D;const dL=new Ze({upperLeft:"upper-left",lowerLeft:"lower-left"});let Ou=$D=class extends J{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new $D(z({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};c([d({type:pt,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Ou.prototype,"extent",void 0),c([d({type:["view","edit"],json:{write:!0}})],Ou.prototype,"mode",void 0),c([d({type:String,json:{read:dL.read,write:dL.write}})],Ou.prototype,"originPosition",void 0),c([d({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Ou.prototype,"tolerance",void 0),Ou=$D=c([D("esri.rest.support.QuantizationParameters")],Ou);const Gj=Ou;var CD;const hL=new Ze({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let Fa=CD=class extends J{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(t.statisticParameters=z(e))}clone(){return new CD({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:z(this.statisticParameters)})}};c([d({type:Number,json:{write:!0}})],Fa.prototype,"maxPointCount",void 0),c([d({type:Number,json:{write:!0}})],Fa.prototype,"maxRecordCount",void 0),c([d({type:Number,json:{write:!0}})],Fa.prototype,"maxVertexCount",void 0),c([d({type:String,json:{write:!0}})],Fa.prototype,"onStatisticField",void 0),c([d({type:String,json:{write:!0}})],Fa.prototype,"outStatisticFieldName",void 0),c([d({type:String,json:{read:{source:"statisticType",reader:hL.read},write:{target:"statisticType",writer:hL.write}}})],Fa.prototype,"statisticType",void 0),c([d({type:Object})],Fa.prototype,"statisticParameters",void 0),c([ue("statisticParameters")],Fa.prototype,"writeStatisticParameters",null),Fa=CD=c([D("esri.rest.support.StatisticDefinition")],Fa);const Wj=Fa;var Jp;const Tye=new Ze({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),Mye=new Ze({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Ce=Jp=class extends J{constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}static from(e){return tI(Jp,e)}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const i={};for(const n in e){const r=e[n];Array.isArray(r)?i[n]=r.map(a=>a instanceof Date?a.getTime():a):r instanceof Date?i[n]=r.getTime():i[n]=r}t.parameterValues=i}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new Jp(z({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:T(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};Ce.MAX_MAX_RECORD_COUNT_FACTOR=5,c([d({json:{write:!0}})],Ce.prototype,"aggregateIds",void 0),c([d({type:Boolean,json:{write:!0}})],Ce.prototype,"cacheHint",void 0),c([d({type:Boolean,json:{default:!1,write:!0}})],Ce.prototype,"compactGeometryEnabled",void 0),c([d({json:{write:!0}})],Ce.prototype,"datumTransformation",void 0),c([nt("datumTransformation")],Ce.prototype,"castDatumTransformation",null),c([d({type:Boolean,json:{default:!1,write:!0}})],Ce.prototype,"defaultSpatialReferenceEnabled",void 0),c([d({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],Ce.prototype,"distance",void 0),c([d({type:vr,json:{write:!0}})],Ce.prototype,"dynamicDataSource",void 0),c([d({type:String,json:{write:!0}})],Ce.prototype,"formatOf3DObjects",void 0),c([d({type:String,json:{write:!0}})],Ce.prototype,"gdbVersion",void 0),c([d({types:th,json:{read:Fc,write:!0}})],Ce.prototype,"geometry",void 0),c([d({type:Number,json:{write:!0}})],Ce.prototype,"geometryPrecision",void 0),c([d({type:[String],json:{write:!0}})],Ce.prototype,"groupByFieldsForStatistics",void 0),c([d({type:String,json:{write:!0}})],Ce.prototype,"having",void 0),c([d({type:Date})],Ce.prototype,"historicMoment",void 0),c([ue("historicMoment")],Ce.prototype,"writeHistoricMoment",null),c([d({type:Number,json:{write:!0}})],Ce.prototype,"maxAllowableOffset",void 0),c([d({type:Number,cast:e=>e<1?1:e>Jp.MAX_MAX_RECORD_COUNT_FACTOR?Jp.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],Ce.prototype,"maxRecordCountFactor",void 0),c([d({type:["xyFootprint"],json:{write:!0}})],Ce.prototype,"multipatchOption",void 0),c([d({type:Number,json:{read:{source:"resultRecordCount"}}})],Ce.prototype,"num",void 0),c([d({json:{write:!0}})],Ce.prototype,"objectIds",void 0),c([d({type:[String],json:{write:!0}})],Ce.prototype,"orderByFields",void 0),c([d({type:[String],json:{write:!0}})],Ce.prototype,"outFields",void 0),c([d({type:He,json:{name:"outSR",write:!0}})],Ce.prototype,"outSpatialReference",void 0),c([d({type:[Wj],json:{write:{enabled:!0,overridePolicy(){return{enabled:T(this.outStatistics)&&this.outStatistics.length>0}}}}})],Ce.prototype,"outStatistics",void 0),c([d({json:{write:!0}})],Ce.prototype,"parameterValues",void 0),c([ue("parameterValues")],Ce.prototype,"writeParameterValues",null),c([d({type:Ie,json:{write:!0}})],Ce.prototype,"pixelSize",void 0),c([d({type:Gj,json:{write:!0}})],Ce.prototype,"quantizationParameters",void 0),c([d({type:[Object],json:{write:!0}})],Ce.prototype,"rangeValues",void 0),c([d({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],Ce.prototype,"relationParameter",void 0),c([d({type:String,json:{write:!0}})],Ce.prototype,"resultType",void 0),c([d({type:Boolean,json:{default:!1,write:!0}})],Ce.prototype,"returnCentroid",void 0),c([d({type:Boolean,json:{default:!1,write:!0}})],Ce.prototype,"returnDistinctValues",void 0),c([d({type:Boolean,json:{default:!0,write:!0}})],Ce.prototype,"returnExceededLimitFeatures",void 0),c([d({type:Boolean,json:{write:!0}})],Ce.prototype,"returnGeometry",void 0),c([d({type:Boolean,json:{default:!1,write:!0}})],Ce.prototype,"returnQueryGeometry",void 0),c([d({type:Boolean,json:{default:!1,write:!0}})],Ce.prototype,"returnM",void 0),c([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Ce.prototype,"returnZ",void 0),c([d({type:He,json:{write:!0}})],Ce.prototype,"sourceSpatialReference",void 0),c([Se(Tye,{ignoreUnknown:!1,name:"spatialRel"})],Ce.prototype,"spatialRelationship",void 0),c([d({type:Number,json:{read:{source:"resultOffset"}}})],Ce.prototype,"start",void 0),c([ue("start"),ue("num")],Ce.prototype,"writeStart",null),c([d({type:String,json:{write:!0}})],Ce.prototype,"sqlFormat",void 0),c([d({type:String,json:{write:!0}})],Ce.prototype,"text",void 0),c([d({type:us,json:{write:!0}})],Ce.prototype,"timeExtent",void 0),c([d({type:Boolean,json:{default:!1,write:!0}})],Ce.prototype,"timeReferenceUnknownClient",void 0),c([Se(Mye,{ignoreUnknown:!1}),d({json:{write:{overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],Ce.prototype,"units",void 0),c([d({type:String,json:{write:{overridePolicy(e){return{enabled:e!=null||this.start>0}}}}})],Ce.prototype,"where",void 0),c([ue("where")],Ce.prototype,"writeWhere",null),Ce=Jp=c([D("esri.rest.support.Query")],Ce);const In=Ce;var ID;let Ut=ID=class extends J{constructor(e){super(e),this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(t.definitionExpression="1=1")}clone(){return new ID(z({dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};c([d({type:vr,json:{write:!0}})],Ut.prototype,"dynamicDataSource",void 0),c([d({type:String,json:{write:!0}})],Ut.prototype,"gdbVersion",void 0),c([d({type:Number,json:{write:!0}})],Ut.prototype,"geometryPrecision",void 0),c([d({type:Date})],Ut.prototype,"historicMoment",void 0),c([ue("historicMoment")],Ut.prototype,"_writeHistoricMoment",null),c([d({type:Number,json:{write:!0}})],Ut.prototype,"maxAllowableOffset",void 0),c([d({type:[Number],json:{write:!0}})],Ut.prototype,"objectIds",void 0),c([d({type:[String],json:{write:!0}})],Ut.prototype,"orderByFields",void 0),c([d({type:[String],json:{write:!0}})],Ut.prototype,"outFields",void 0),c([d({type:He,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Ut.prototype,"outSpatialReference",void 0),c([d({json:{write:!0}})],Ut.prototype,"relationshipId",void 0),c([d({type:Number,json:{read:{source:"resultOffset"}}})],Ut.prototype,"start",void 0),c([ue("start"),ue("num")],Ut.prototype,"writeStart",null),c([d({type:Number,json:{read:{source:"resultRecordCount"}}})],Ut.prototype,"num",void 0),c([d({json:{write:!0}})],Ut.prototype,"returnGeometry",void 0),c([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Ut.prototype,"returnM",void 0),c([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Ut.prototype,"returnZ",void 0),c([d({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Ut.prototype,"where",void 0),Ut=ID=c([D("esri.rest.support.RelationshipQuery")],Ut),Ut.from=mi(Ut);const Kd=Ut;function qTe(e,t){return t?le($({},t),{query:$($({},e),t.query)}):{query:e}}function fa(e){return typeof e=="string"?Gi(e):e}function Aye(e,t,i){const n={};for(const r in e){if(r==="declaredClass")continue;const a=e[r];if(a!=null&&typeof a!="function")if(Array.isArray(a)){n[r]=[];for(let o=0;o<a.length;o++)n[r][o]=Aye(a[o])}else if(typeof a=="object")if(a.toJSON){const o=a.toJSON(i&&i[r]);n[r]=t?o:JSON.stringify(o)}else n[r]=t?a:JSON.stringify(a);else n[r]=a}return n}function Gy(e){const t={};for(const i in e){if(i==="declaredClass")continue;const n=e[i];if(n!=null&&typeof n!="function")if(Array.isArray(n)){t[i]=[];for(let r=0;r<n.length;r++)t[i][r]=Gy(n[r])}else typeof n=="object"?n.toJSON&&(t[i]=JSON.stringify(n)):t[i]=n}return t}function Oye(e){const t=e.toJSON();return t.attachmentTypes&&(t.attachmentTypes=t.attachmentTypes.join(",")),t.keywords&&(t.keywords=t.keywords.join(",")),t.globalIds&&(t.globalIds=t.globalIds.join(",")),t.objectIds&&(t.objectIds=t.objectIds.join(",")),t.size&&(t.size=t.size.join(",")),t}function Pye(e,t){const i={};for(const n of e){const{parentObjectId:r,parentGlobalId:a,attachmentInfos:o}=n;for(const s of o){const{id:l}=s,u=Xoe(Dse(`${t}/${r}/attachments/${l}`)),h=Cj.fromJSON(s);h.set({url:u,parentObjectId:r,parentGlobalId:a}),i[r]?i[r].push(h):i[r]=[h]}}return i}function Lye(e,t,i){let n={query:Gy($(le($({},e.query),{f:"json"}),Oye(t)))};return i&&(n=le($($({},i),n),{query:$($({},i.query),n.query)})),Lt(e.path+"/queryAttachments",n)}async function Rye(e,t,i){const n=fa(e);return Lye(n,px.from(t),$({},i)).then(r=>Pye(r.data.attachmentGroups,n.path))}const $p={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new _r({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:He.WebMercator}),minus180Line:new _r({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:He.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new _r({paths:[[[180,-180],[180,180]]],spatialReference:He.WGS84}),minus180Line:new _r({paths:[[[-180,-180],[-180,180]]],spatialReference:He.WGS84})}};function gd(e,t){return Math.ceil((e-t)/(2*t))}function Jj(e,t){const i=mg(e);for(const n of i)for(const r of n)r[0]+=t;return e}function mg(e){return Sd(e)?e.rings:e.paths}function BTe(e){const t=e!=null&&e.isWebMercator?102100:4326;return[$p[t].minX,$p[t].maxX]}async function Fye(e,t,i,n){const r=typeof e=="string"?Gi(e):e,a=t[0].spatialReference,o=le($({},n),{query:le($({},r.query),{f:"json",sr:JSON.stringify(a),target:JSON.stringify({geometryType:Oy(t[0]),geometries:t}),cutter:JSON.stringify(i)})}),s=await Lt(r.path+"/cut",o),{cutIndexes:l,geometries:u=[]}=s.data;return{cutIndexes:l,geometries:u.map(h=>{const m=Fc(h);return m.spatialReference=a,m})}}async function Nye(e,t,i){const n=typeof e=="string"?Gi(e):e,r=t[0].spatialReference,a=Oy(t[0]),o=le($({},i),{query:le($({},n.query),{f:"json",sr:r.wkid?r.wkid:JSON.stringify(r),geometries:JSON.stringify(zye(t))})});return jye((await Lt(n.path+"/simplify",o)).data,a,r)}function zye(e){return{geometryType:Oy(e[0]),geometries:e.map(t=>t.toJSON())}}function jye(e,t,i){const n=$ue(t);return e.map(r=>{const a=n.fromJSON(r);return a.spatialReference=i,a})}const Vye=Q.getLogger("esri.geometry.support.normalizeUtils");function Hye(e){return e.type==="polygon"}function qye(e){return e[0].type==="polygon"}function Bye(e){return e[0].type==="polyline"}function Uye(e,t){if(!(e instanceof _r||e instanceof ao)){const r="straightLineDensify: the input geometry is neither polyline nor polygon";throw Vye.error(r),new L(r)}const i=mg(e),n=[];for(const r of i){const a=[];n.push(a),a.push([r[0][0],r[0][1]]);for(let o=0;o<r.length-1;o++){const s=r[o][0],l=r[o][1],u=r[o+1][0],h=r[o+1][1],m=Math.sqrt((u-s)*(u-s)+(h-l)*(h-l)),f=(h-l)/m,g=(u-s)/m,b=m/t;if(b>1){for(let S=1;S<=b-1;S++){const E=S*t,C=g*E+s,_=f*E+l;a.push([C,_])}const v=(m+Math.floor(b-1)*t)/2,w=g*v+s,x=f*v+l;a.push([w,x])}a.push([u,h])}}return Hye(e)?new ao({rings:n,spatialReference:e.spatialReference}):new _r({paths:n,spatialReference:e.spatialReference})}function pL(e,t,i){if(t){const n=Uye(e,1e6);e=Zf(n,!0)}return i&&(e=Jj(e,i)),e}function mL(e,t,i){if(Array.isArray(e)){const n=e[0];if(n>t){const r=gd(n,t);e[0]=n+r*(-2*t)}else if(n<i){const r=gd(n,i);e[0]=n+r*(-2*i)}}else{const n=e.x;if(n>t){const r=gd(n,t);e=e.clone().offset(r*(-2*t),0)}else if(n<i){const r=gd(n,i);e=e.clone().offset(r*(-2*i),0)}}return e}function Gye(e,t){let i=-1;for(let n=0;n<t.cutIndexes.length;n++){const r=t.cutIndexes[n],a=t.geometries[n],o=mg(a);for(let s=0;s<o.length;s++){const l=o[s];l.some(u=>{if(u[0]<180)return!0;{let h=0;for(let f=0;f<l.length;f++){const g=l[f][0];h=g>h?g:h}h=Number(h.toFixed(9));const m=-360*gd(h,180);for(let f=0;f<l.length;f++){const g=a.getPoint(s,f);a.setPoint(s,f,g.clone().offset(m,0))}return!0}})}if(r===i){if(qye(e))for(const s of mg(a))e[r]=e[r].addRing(s);else if(Bye(e))for(const s of mg(a))e[r]=e[r].addPath(s)}else i=r,e[r]=a}return e}async function DE(e,t,i){var n;if(!Array.isArray(e))return DE([e],t);const r=(n=t==null?void 0:t.url)!=null?n:vt.geometryServiceUrl;let a,o,s,l,u,h,m,f,g=0;const b=[],v=[];for(const _ of e)if(V(_))v.push(_);else if(a||(a=_.spatialReference,o=to(a),s=a.isWebMercator,h=s?102100:4326,l=$p[h].maxX,u=$p[h].minX,m=$p[h].plus180Line,f=$p[h].minus180Line),o)if(_.type==="mesh")v.push(_);else if(_.type==="point")v.push(mL(_.clone(),l,u));else if(_.type==="multipoint"){const I=_.clone();I.points=I.points.map(O=>mL(O,l,u)),v.push(I)}else if(_.type==="extent"){const I=_.clone()._normalize(!1,!1,o);v.push(I.rings?new ao(I):I)}else if(_.extent){const I=_.extent,O=gd(I.xmin,u)*(2*l);let R=O===0?_.clone():Jj(_.clone(),O);I.offset(O,0),I.intersects(m)&&I.xmax!==l?(g=I.xmax>g?I.xmax:g,R=pL(R,s),b.push(R),v.push("cut")):I.intersects(f)&&I.xmin!==u?(g=I.xmax*(2*l)>g?I.xmax*(2*l):g,R=pL(R,s,360),b.push(R),v.push("cut")):v.push(R)}else v.push(_.clone());else v.push(_);let w=gd(g,l),x=-90;const S=w,E=new _r;for(;w>0;){const _=360*w-180;E.addPath([[_,x],[_,-1*x]]),x*=-1,w--}if(b.length>0&&S>0){const _=Gye(b,await Fye(r,b,E,i)),I=[],O=[];for(let Y=0;Y<v.length;Y++){const U=v[Y];if(U!=="cut")O.push(U);else{const ce=_.shift(),ne=e[Y];T(ne)&&ne.type==="polygon"&&ne.rings&&ne.rings.length>1&&ce.rings.length>=ne.rings.length?(I.push(ce),O.push("simplify")):O.push(s?Tc(ce):ce)}}if(!I.length)return O;const R=await Nye(r,I,i),H=[];for(let Y=0;Y<O.length;Y++){const U=O[Y];U!=="simplify"?H.push(U):H.push(s?Tc(R.shift()):R.shift())}return H}const C=[];for(let _=0;_<v.length;_++){const I=v[_];if(I!=="cut")C.push(I);else{const O=b.shift();C.push(s===!0?Tc(O):O)}}return Promise.resolve(C)}function UTe(e,t){const i=to(t);if(i){const[n,r]=i.valid,a=r-n;if(e<n)for(;e<n;)e+=a;if(e>r)for(;e>r;)e-=a}return e}var dc;(function(e){e[e.varint=0]="varint",e[e.fixed64=1]="fixed64",e[e.delimited=2]="delimited",e[e.fixed32=5]="fixed32",e[e.unknown=99]="unknown"})(dc||(dc={}));const fL=4294967296,Wye=new TextDecoder("utf-8"),Jye=q("safari")||q("ios")?6:q("ff")?12:32;class Id{constructor(t,i,n=0,r=t?t.byteLength:0){this._tag=0,this._dataType=dc.unknown,this._init(t,i,n,r)}_init(t,i,n,r){this._data=t,this._dataView=i,this._pos=n,this._end=r}clone(){return new Id(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(t){this._pos=t}nextTag(t){for(;;){if(this._pos===this._end)return!1;const i=this._decodeVarint();if(this._tag=i>>3,this._dataType=7&i,!t||t===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const t=this._decodeVarint();return this._tag=t>>3,this._dataType=7&t,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let t=4294967295;return t=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?t:(t=(t|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?t:void 0))))}getUInt64(){return this._decodeVarint()}getSInt32(){const t=this.getUInt32();return t>>>1^-(1&t)|0}getSInt64(){return this._decodeSVarint()}getBool(){const t=this._data[this._pos]!==0;return this._skip(1),t}getEnum(){return this._decodeVarint()}getFixed64(){const t=this._dataView,i=this._pos,n=t.getUint32(i,!0)+t.getUint32(i+4,!0)*fL;return this._skip(8),n}getSFixed64(){const t=this._dataView,i=this._pos,n=t.getUint32(i,!0)+t.getInt32(i+4,!0)*fL;return this._skip(8),n}getDouble(){const t=this._dataView.getFloat64(this._pos,!0);return this._skip(8),t}getFixed32(){const t=this._dataView.getUint32(this._pos,!0);return this._skip(4),t}getSFixed32(){const t=this._dataView.getInt32(this._pos,!0);return this._skip(4),t}getFloat(){const t=this._dataView.getFloat32(this._pos,!0);return this._skip(4),t}getString(){const t=this._getLength(),i=this._pos,n=this._toString(this._data,i,i+t);return this._skip(t),n}getBytes(){const t=this._getLength(),i=this._pos,n=this._toBytes(this._data,i,i+t);return this._skip(t),n}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(t,i,n,r){const a=this.getMessage(),o=t(a,i,n,r);return a.release(),o}processMessage(t){const i=this.getMessage(),n=t(i);return i.release(),n}getMessage(){const t=this._getLength(),i=Id.pool.acquire();return i._init(this._data,this._dataView,this._pos,this._pos+t),this._skip(t),i}release(){Id.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case dc.varint:this._decodeVarint();break;case dc.fixed64:this._skip(8);break;case dc.delimited:this._skip(this._getLength());break;case dc.fixed32:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(t){this._skip(t)}_skip(t){if(this._pos+t>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=t}_decodeVarint(){const t=this._data;let i,n=this._pos,r=0;if(this._end-n>=10)do{if(i=t[n++],r|=127&i,(128&i)==0||(i=t[n++],r|=(127&i)<<7,(128&i)==0)||(i=t[n++],r|=(127&i)<<14,(128&i)==0)||(i=t[n++],r|=(127&i)<<21,(128&i)==0)||(i=t[n++],r+=268435456*(127&i),(128&i)==0)||(i=t[n++],r+=34359738368*(127&i),(128&i)==0)||(i=t[n++],r+=4398046511104*(127&i),(128&i)==0)||(i=t[n++],r+=562949953421312*(127&i),(128&i)==0)||(i=t[n++],r+=72057594037927940*(127&i),(128&i)==0)||(i=t[n++],r+=9223372036854776e3*(127&i),(128&i)==0))break;throw new Error("Varint too long!")}while(0);else{let a=1;for(;n!==this._end&&(i=t[n],(128&i)!=0);)++n,r+=(127&i)*a,a*=128;if(n===this._end)throw new Error("Varint overrun!");++n,r+=i*a}return this._pos=n,r}_decodeSVarint(){const t=this._decodeVarint();return t%2?-(t+1)/2:t/2}_getLength(){if(this._dataType!==dc.delimited)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(t,i,n){if((n=Math.min(this._end,n))-i>Jye){const o=t.subarray(i,n);return Wye.decode(o)}let r="",a="";for(let o=i;o<n;++o){const s=t[o];128&s?a+="%"+s.toString(16):(r+=decodeURIComponent(a)+String.fromCharCode(s),a="")}return a.length&&(r+=decodeURIComponent(a)),r}_toBytes(t,i,n){return n=Math.min(this._end,n),new Uint8Array(t.buffer,i,n-i)}}Id.pool=new no(Id,null,e=>{e._data=null,e._dataView=null});class er{constructor(t=[],i=[],n=!1){this.lengths=t!=null?t:[],this.coords=i!=null?i:[],this.hasIndeterminateRingOrder=n}get isPoint(){return this.lengths.length===0}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((t,i)=>t+i)}forEachVertex(t){let i=0;this.lengths.length||t(this.coords[0],this.coords[1]);for(let n=0;n<this.lengths.length;n++){const r=this.lengths[n];for(let a=0;a<r;a++)t(this.coords[2*(a+i)],this.coords[2*(a+i)+1]);i+=r}}clone(t){return t?(t.set(this.coords),new er(this.lengths.slice(),t,this.hasIndeterminateRingOrder)):new er(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}class os{constructor(t=null,i={},n,r){this.geometry=t,this.attributes=i,this.centroid=n,this.objectId=r,this.displayId=0,this.geohashX=0,this.geohashY=0}weakClone(){const t=new os(this.geometry,this.attributes,this.centroid,this.objectId);return t.displayId=this.displayId,t.geohashX=this.geohashX,t.geohashY=this.geohashY,t}}function Kye(e){return!(V(e.geometry)||!e.geometry.coords||!e.geometry.coords.length)}class GTe extends os{}class Pk{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const t=new Pk;return t.objectIdFieldName=this.objectIdFieldName,t.globalIdFieldName=this.globalIdFieldName,t.geohashFieldName=this.geohashFieldName,t.geometryProperties=this.geometryProperties,t.geometryType=this.geometryType,t.spatialReference=this.spatialReference,t.hasZ=this.hasZ,t.hasM=this.hasM,t.features=this.features,t.fields=this.fields,t.transform=this.transform,t.exceededTransferLimit=this.exceededTransferLimit,t.uniqueIdField=this.uniqueIdField,t.queryGeometry=this.queryGeometry,t.queryGeometryType=this.queryGeometryType,t}}const Kj=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];class WTe{constructor(t){this.options=t,this.geometryTypes=Kj,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new Pk}prepareFeatures(t){this._vertexDimension=2,t.hasZ&&this._vertexDimension++,t.hasM&&this._vertexDimension++}finishFeatureResult(t){if(!t||!t.features||!t.hasZ||!this.options.sourceSpatialReference||!t.spatialReference||ir(t.spatialReference,this.options.sourceSpatialReference)||t.spatialReference.vcsWkid)return;const i=gm(this.options.sourceSpatialReference)/gm(t.spatialReference);if(i!==1)for(const n of t.features){if(!Kye(n))continue;const r=n.geometry.coords;for(let a=2;a<r.length;a+=3)r[a]*=i}}addFeature(t,i){t.features.push(i)}createFeature(){return new os}createSpatialReference(){return{wkid:0}}createGeometry(){return new er}addField(t,i){t.fields.push(i)}allocateCoordinates(t){t.coords.length=t.lengths.reduce((i,n)=>i+n,0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(t,i){t.coords[this._coordinatePtr++]=i}addCoordinatePoint(t,i){t.coords.push(i)}addLength(t,i){t.lengths.push(i)}addQueryGeometry(t,i){t.queryGeometry=i.queryGeometry,t.queryGeometryType=i.queryGeometryType}createPointGeometry(){return new er}}const gL=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML"],yL=["sqlTypeBigInt","sqlTypeBinary","sqlTypeBit","sqlTypeChar","sqlTypeDate","sqlTypeDecimal","sqlTypeDouble","sqlTypeFloat","sqlTypeGeometry","sqlTypeGUID","sqlTypeInteger","sqlTypeLongNVarchar","sqlTypeLongVarbinary","sqlTypeLongVarchar","sqlTypeNChar","sqlTypeNVarchar","sqlTypeOther","sqlTypeReal","sqlTypeSmallInt","sqlTypeSqlXml","sqlTypeTime","sqlTypeTimestamp","sqlTypeTimestamp2","sqlTypeTinyInt","sqlTypeVarbinary","sqlTypeVarchar"],bL=["upperLeft","lowerLeft"];function vL(e){return e>=gL.length?null:gL[e]}function Yye(e){return e>=yL.length?null:yL[e]}function wL(e){return e>=bL.length?null:bL[e]}function xL(e,t){return t>=e.geometryTypes.length?null:e.geometryTypes[t]}function Zye(e,t,i){const r=t.createPointGeometry(i);for(;e.next();)switch(e.tag()){case 3:{const a=e.getUInt32(),o=e.pos()+a;let s=0;for(;e.pos()<o;)t.addCoordinatePoint(r,e.getSInt64(),s++);break}default:e.skip()}return r}function Xye(e,t,i){const a=t.createGeometry(i),o=2+(i.hasZ?1:0)+(i.hasM?1:0);for(;e.next();)switch(e.tag()){case 2:{const s=e.getUInt32(),l=e.pos()+s;let u=0;for(;e.pos()<l;)t.addLength(a,e.getUInt32(),u++);break}case 3:{const s=e.getUInt32(),l=e.pos()+s;let u=0;for(t.allocateCoordinates(a);e.pos()<l;)t.addCoordinate(a,e.getSInt64(),u),u++,u===o&&(u=0);break}default:e.skip()}return a}function Qye(e){const r=new er;let a="esriGeometryPoint";for(;e.next();)switch(e.tag()){case 2:{const o=e.getUInt32(),s=e.pos()+o;for(;e.pos()<s;)r.lengths.push(e.getUInt32());break}case 3:{const o=e.getUInt32(),s=e.pos()+o;for(;e.pos()<s;)r.coords.push(e.getSInt64());break}case 1:a=Kj[e.getEnum()];break;default:e.skip()}return{queryGeometry:r,queryGeometryType:a}}function ebe(e){for(;e.next();)switch(e.tag()){case 1:return e.getString();case 2:return e.getFloat();case 3:return e.getDouble();case 4:return e.getSInt32();case 5:return e.getUInt32();case 6:return e.getInt64();case 7:return e.getUInt64();case 8:return e.getSInt64();case 9:return e.getBool();default:return e.skip(),null}return null}function tbe(e){const s={type:vL(0)};for(;e.next();)switch(e.tag()){case 1:s.name=e.getString();break;case 2:s.type=vL(e.getEnum());break;case 3:s.alias=e.getString();break;case 4:s.sqlType=Yye(e.getEnum());break;case 5:e.skip();break;case 6:s.defaultValue=e.getString();break;default:e.skip()}return s}function ibe(e){const n={};for(;e.next();)switch(e.tag()){case 1:n.name=e.getString();break;case 2:n.isSystemMaintained=e.getBool();break;default:e.skip()}return n}function nbe(e,t,i,n){const s=t.createFeature(i);let l=0;for(;e.next();)switch(e.tag()){case 1:{const u=n[l++].name;s.attributes[u]=e.processMessage(ebe);break}case 2:s.geometry=e.processMessageWithArgs(Xye,t,i);break;case 4:s.centroid=e.processMessageWithArgs(Zye,t,i);break;default:e.skip()}return s}function rbe(e){const a=[1,1,1,1];for(;e.next();)switch(e.tag()){case 1:a[0]=e.getDouble();break;case 2:a[1]=e.getDouble();break;case 4:a[2]=e.getDouble();break;case 3:a[3]=e.getDouble();break;default:e.skip()}return a}function abe(e){const a=[0,0,0,0];for(;e.next();)switch(e.tag()){case 1:a[0]=e.getDouble();break;case 2:a[1]=e.getDouble();break;case 4:a[2]=e.getDouble();break;case 3:a[3]=e.getDouble();break;default:e.skip()}return a}function obe(e){const r={originPosition:wL(0)};for(;e.next();)switch(e.tag()){case 1:r.originPosition=wL(e.getEnum());break;case 2:r.scale=e.processMessage(rbe);break;case 3:r.translate=e.processMessage(abe);break;default:e.skip()}return r}function sbe(e){const r={};for(;e.next();)switch(e.tag()){case 1:r.shapeAreaFieldName=e.getString();break;case 2:r.shapeLengthFieldName=e.getString();break;case 3:r.units=e.getString();break;default:e.skip()}return r}function lbe(e,t){const s=t.createSpatialReference();for(;e.next();)switch(e.tag()){case 1:s.wkid=e.getUInt32();break;case 5:s.wkt=e.getString();break;case 2:s.latestWkid=e.getUInt32();break;case 3:s.vcsWkid=e.getUInt32();break;case 4:s.latestVcsWkid=e.getUInt32();break;default:e.skip()}return s}function cbe(e,t){const v=t.createFeatureResult();v.geometryType=xL(t,0);let w=!1;for(;e.next();)switch(e.tag()){case 1:v.objectIdFieldName=e.getString();break;case 3:v.globalIdFieldName=e.getString();break;case 4:v.geohashFieldName=e.getString();break;case 5:v.geometryProperties=e.processMessage(sbe);break;case 7:v.geometryType=xL(t,e.getEnum());break;case 8:v.spatialReference=e.processMessageWithArgs(lbe,t);break;case 10:v.hasZ=e.getBool();break;case 11:v.hasM=e.getBool();break;case 12:v.transform=e.processMessage(obe);break;case 9:{const x=e.getBool();v.exceededTransferLimit=x;break}case 13:t.addField(v,e.processMessage(tbe));break;case 15:w||(t.prepareFeatures(v),w=!0),t.addFeature(v,e.processMessageWithArgs(nbe,t,v,v.fields));break;case 2:v.uniqueIdField=e.processMessage(ibe);break;default:e.skip()}return t.finishFeatureResult(v),v}function ube(e,t){const r={};let a=null;for(;e.next();)switch(e.tag()){case 4:a=e.processMessageWithArgs(Qye);break;case 1:r.featureResult=e.processMessageWithArgs(cbe,t);break;default:e.skip()}return T(a)&&r.featureResult&&t.addQueryGeometry(r,a),r}function dbe(e,t){try{const n=new Id(new Uint8Array(e),new DataView(e)),r={};for(;n.next();)n.tag()===2?r.queryResult=n.processMessageWithArgs(ube,t):n.skip();return r}catch(i){throw new L("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:i})}}function hbe(e,t){const i=dbe(e,t),n=i.queryResult.featureResult,r=i.queryResult.queryGeometry,a=i.queryResult.queryGeometryType;if(n&&n.features&&n.features.length&&n.objectIdFieldName){const o=n.objectIdFieldName;for(const s of n.features)s.attributes&&(s.objectId=s.attributes[o])}return n&&(n.queryGeometry=r,n.queryGeometryType=a),n}function yx(e,t,i){if(!i||!i.features||!i.hasZ)return;const n=w7(i.geometryType,t,e.outSpatialReference);if(!V(n))for(const r of i.features)n(r.geometry)}const kL="Layer does not support extent calculation.";function Yj(e,t){if(t&&e.type==="extent")return`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`;if(t&&e.type==="point")return`${e.x},${e.y}`;const i=e.toJSON();return delete i.spatialReference,JSON.stringify(i)}function Zj(e,t){const i=e.geometry,n=e.toJSON();delete n.compactGeometryEnabled,delete n.defaultSpatialReferenceEnabled;const r=n,a=e.outSpatialReference;let o,s;if(T(i)&&(o=i.spatialReference,s=i.spatialReference.wkid||JSON.stringify(i.spatialReference),r.geometryType=Oy(i),r.geometry=Yj(i,e.compactGeometryEnabled),r.inSR=s),n.groupByFieldsForStatistics&&(r.groupByFieldsForStatistics=n.groupByFieldsForStatistics.join(",")),n.objectIds&&(r.objectIds=n.objectIds.join(",")),n.orderByFields&&(r.orderByFields=n.orderByFields.join(",")),!n.outFields||!n.returnDistinctValues&&(t!=null&&t.returnCountOnly||t!=null&&t.returnExtentOnly||t!=null&&t.returnIdsOnly)?delete r.outFields:n.outFields.indexOf("*")!==-1?r.outFields="*":r.outFields=n.outFields.join(","),n.outSR?r.outSR=n.outSR.wkid||JSON.stringify(n.outSR):i&&(n.returnGeometry||n.returnCentroid)&&(r.outSR=r.inSR),n.returnGeometry&&delete n.returnGeometry,n.outStatistics&&(r.outStatistics=JSON.stringify(n.outStatistics)),n.pixelSize&&(r.pixelSize=JSON.stringify(n.pixelSize)),n.quantizationParameters&&(e.defaultSpatialReferenceEnabled&&T(o)&&T(e.quantizationParameters)&&T(e.quantizationParameters.extent)&&o.equals(e.quantizationParameters.extent.spatialReference)&&delete n.quantizationParameters.extent.spatialReference,r.quantizationParameters=JSON.stringify(n.quantizationParameters)),n.parameterValues&&(r.parameterValues=JSON.stringify(n.parameterValues)),n.rangeValues&&(r.rangeValues=JSON.stringify(n.rangeValues)),n.dynamicDataSource&&(r.layer=JSON.stringify({source:n.dynamicDataSource}),delete n.dynamicDataSource),n.timeExtent){const l=n.timeExtent,{start:u,end:h}=l;u==null&&h==null||(r.time=u===h?u:`${u==null?"null":u},${h==null?"null":h}`),delete n.timeExtent}return e.defaultSpatialReferenceEnabled&&T(o)&&T(a)&&o.equals(a)&&(r.defaultSR=r.inSR,delete r.inSR,delete r.outSR),r}async function Xj(e,t,i,n){const r=T(t.timeExtent)&&t.timeExtent.isEmpty?{data:{features:[]}}:await Wm(e,t,"json",n);return yx(t,i,r.data),r}async function Qj(e,t,i,n){if(T(t.timeExtent)&&t.timeExtent.isEmpty)return Promise.resolve({data:i.createFeatureResult()});const r=await eV(e,t,n),a=r;return a.data=hbe(r.data,i),a}function eV(e,t,i){return Wm(e,t,"pbf",i)}function tV(e,t,i){return T(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):Wm(e,t,"json",i,{returnIdsOnly:!0})}function iV(e,t,i){return T(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):Wm(e,t,"json",i,{returnIdsOnly:!0,returnCountOnly:!0})}function nV(e,t,i){return T(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):Wm(e,t,"json",i,{returnExtentOnly:!0,returnCountOnly:!0}).then(n=>{const r=n.data;if(r.hasOwnProperty("extent"))return n;if(r.features)throw new Error(kL);if(r.hasOwnProperty("count"))throw new Error(kL);return n})}function Wm(e,t,i,n={},r={}){const a=typeof e=="string"?Gi(e):e,o=t.geometry?[t.geometry]:[];return n.responseType=i==="pbf"?"array-buffer":"json",DE(o,null,n).then(s=>{const l=s&&s[0];T(l)&&((t=t.clone()).geometry=l);const u=Gy($($(le($({},a.query),{f:i}),r),Zj(t,r)));return Lt(Lc(a.path,"query"),le($({},n),{query:$($({},u),n.query)}))})}var JTe=Object.freeze(Object.defineProperty({__proto__:null,encodeGeometry:Yj,executeQuery:Xj,executeQueryForCount:iV,executeQueryForExtent:nV,executeQueryForIds:tV,executeQueryPBF:Qj,executeQueryPBFBuffer:eV,queryToQueryStringParameters:Zj,runQuery:Wm},Symbol.toStringTag,{value:"Module"}));async function pbe(e,t,i){const n=fa(e);return iV(n,In.from(t),$({},i)).then(r=>r.data.count)}async function mbe(e,t,i){const n=fa(e);return nV(n,In.from(t),$({},i)).then(r=>({count:r.data.count,extent:pt.fromJSON(r.data.extent)}))}async function fbe(e,t,i){const n=fa(e);return tV(n,In.from(t),$({},i)).then(r=>r.data.objectIds)}var ED;const TD=new Ze({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let Hi=ED=class extends J{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){const i=He.fromJSON(t.spatialReference),n=[];for(let r=0;r<e.length;r++){const a=e[r],o=Mr.fromJSON(a),s=a.geometry&&a.geometry.spatialReference;T(o.geometry)&&!s&&(o.geometry.spatialReference=i);const l=a.aggregateGeometries,u=o.aggregateGeometries;if(l&&T(u))for(const h in u){const m=u[h],f=l[h],g=f==null?void 0:f.spatialReference;T(m)&&!g&&(m.spatialReference=i)}n.push(o)}return n}writeGeometryType(e,t,i,n){if(e)return void TD.write(e,t,i,n);const{features:r}=this;if(r){for(const a of r)if(a&&T(a.geometry))return void TD.write(a.geometry.type,t,i,n)}}readQueryGeometry(e,t){if(!e)return null;const i=!!e.spatialReference,n=Fc(e);return!i&&t.spatialReference&&(n.spatialReference=He.fromJSON(t.spatialReference)),n}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:i}=this;if(i){for(const n of i)if(n&&T(n.geometry)&&n.geometry.spatialReference)return void(t.spatialReference=n.geometry.spatialReference.toJSON())}}clone(){return new ED(this.cloneProperties())}cloneProperties(){return z({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let i=0;i<t.features.length;i++){const n=t.features[i];if(n.geometry){const r=e&&e[i];n.geometry=r&&r.toJSON()||n.geometry}}return t}quantize(e){const{scale:[t,i],translate:[n,r]}=e,a=u=>Math.round((u-n)/t),o=u=>Math.round((r-u)/i),s=this.features,l=this._getQuantizationFunction(this.geometryType,a,o);for(let u=0,h=s.length;u<h;u++)l(s[u].geometry)||(s.splice(u,1),u--,h--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:i}=this;if(!i)return this;const{translate:[n,r],scale:[a,o]}=i,s=h=>h*a+n,l=h=>r-h*o,u=this._getHydrationFunction(e,s,l);for(const{geometry:h}of t)T(h)&&u(h);return this.transform=null,this}_quantizePoints(e,t,i){let n,r;const a=[];for(let o=0,s=e.length;o<s;o++){const l=e[o];if(o>0){const u=t(l[0]),h=i(l[1]);u===n&&h===r||(a.push([u-n,h-r]),n=u,r=h)}else n=t(l[0]),r=i(l[1]),a.push([n,r])}return a.length>0?a:null}_getQuantizationFunction(e,t,i){return e==="point"?n=>(n.x=t(n.x),n.y=i(n.y),n):e==="polyline"||e==="polygon"?n=>{const r=Sd(n)?n.rings:n.paths,a=[];for(let o=0,s=r.length;o<s;o++){const l=r[o],u=this._quantizePoints(l,t,i);u&&a.push(u)}return a.length>0?(Sd(n)?n.rings=a:n.paths=a,n):null}:e==="multipoint"?n=>{const r=this._quantizePoints(n.points,t,i);return r.length>0?(n.points=r,n):null}:e==="extent"?n=>n:null}_getHydrationFunction(e,t,i){return e==="point"?n=>{n.x=t(n.x),n.y=i(n.y)}:e==="polyline"||e==="polygon"?n=>{const r=Sd(n)?n.rings:n.paths;let a,o;for(let s=0,l=r.length;s<l;s++){const u=r[s];for(let h=0,m=u.length;h<m;h++){const f=u[h];h>0?(a+=f[0],o+=f[1]):(a=f[0],o=f[1]),f[0]=t(a),f[1]=i(o)}}}:e==="extent"?n=>{n.xmin=t(n.xmin),n.ymin=i(n.ymin),n.xmax=t(n.xmax),n.ymax=i(n.ymax)}:e==="multipoint"?n=>{const r=n.points;let a,o;for(let s=0,l=r.length;s<l;s++){const u=r[s];s>0?(a+=u[0],o+=u[1]):(a=u[0],o=u[1]),u[0]=t(a),u[1]=i(o)}}:void 0}};c([d({type:String,json:{write:!0}})],Hi.prototype,"displayFieldName",void 0),c([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Hi.prototype,"exceededTransferLimit",void 0),c([d({type:[Mr],json:{write:!0}})],Hi.prototype,"features",void 0),c([ae("features")],Hi.prototype,"readFeatures",null),c([d({type:[Ok],json:{write:!0}})],Hi.prototype,"fields",void 0),c([d({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:TD.read}}})],Hi.prototype,"geometryType",void 0),c([ue("geometryType")],Hi.prototype,"writeGeometryType",null),c([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Hi.prototype,"hasM",void 0),c([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Hi.prototype,"hasZ",void 0),c([d({types:th,json:{write:!0}})],Hi.prototype,"queryGeometry",void 0),c([ae("queryGeometry")],Hi.prototype,"readQueryGeometry",null),c([d({type:He,json:{write:!0}})],Hi.prototype,"spatialReference",void 0),c([ue("spatialReference")],Hi.prototype,"writeSpatialReference",null),c([d({json:{write:!0}})],Hi.prototype,"transform",void 0),Hi=ED=c([D("esri.rest.support.FeatureSet")],Hi),Hi.prototype.toJSON.isDefaultToJSON=!0;const oh=Hi;var KTe=Object.freeze(Object.defineProperty({__proto__:null,default:oh},Symbol.toStringTag,{value:"Module"}));async function YTe(e,t,i){const n=await rV(e,t,i);return oh.fromJSON(n)}async function rV(e,t,i){const n=fa(e),r=$({},i),a=In.from(t),{data:o}=await Xj(n,a,a.sourceSpatialReference,r);return o}function rn(e,t){return e?t?4:3:t?3:2}const Jm=Q.getLogger("esri.layers.graphics.featureConversionUtils"),aV={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},oV=(e,t,i,n,r,a)=>{e[i]=r,e[i+1]=a},bx=(e,t,i,n,r,a)=>{e[i]=r,e[i+1]=a,e[i+2]=t[n+2]},gbe=(e,t,i,n,r,a)=>{e[i]=r,e[i+1]=a,e[i+2]=t[n+3]},sV=(e,t,i,n,r,a)=>{e[i]=r,e[i+1]=a,e[i+2]=t[n+2],e[i+3]=t[n+3]};function $E(e,t,i,n){if(e){if(i)return t&&n?sV:bx;if(t&&n)return gbe}else if(t&&n)return bx;return oV}function T2({scale:e,translate:t},i){return Math.round((i-t[0])/e[0])}function M2({scale:e,translate:t},i){return Math.round((t[1]-i)/e[1])}function _L({scale:e,translate:t},i){return i*e[0]+t[0]}function SL({scale:e,translate:t},i){return t[1]-i*e[1]}function ZTe(e,t,i){return e?t?i?EE(e):CE(e):i?IE(e):Lk(e):null}function Lk(e){const t=e.coords;return{x:t[0],y:t[1]}}function lV(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function CE(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2]}}function ybe(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function IE(e){const t=e.coords;return{x:t[0],y:t[1],m:t[2]}}function bbe(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function EE(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2],m:t[3]}}function vbe(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function wbe(e,t,i,n){let r=Lk;i&&n?r=EE:i?r=CE:n&&(r=IE);for(const a of t){const{geometry:o,attributes:s}=a,l=T(o)?r(o):null;e.push({attributes:s,geometry:l})}return e}function cV(e,t){return e&&t?vbe:e?ybe:t?bbe:lV}function uV(e,t,i,n,r){const a=cV(i,n);for(const o of t){const{geometry:s,attributes:l}=o;let u;s&&(u=a(new er,s)),e.push(new os(u,l,null,l[r]))}return e}function xbe(e,t,i,n){for(const r of t){const{geometry:a,attributes:o}=r;let s;a&&(s=dV(a,i,n)),e.push({attributes:o,geometry:s})}return e}function dV(e,t,i){if(V(e))return null;const n=rn(t,i),r=[];for(let a=0;a<e.coords.length;a+=n){const o=[];for(let s=0;s<n;s++)o.push(e.coords[a+s]);r.push(o)}return t?i?{points:r,hasZ:t,hasM:i}:{points:r,hasZ:t}:i?{points:r,hasM:i}:{points:r}}function hV(e,t,i,n,r){const a=rn(i,n);for(const o of t){const s=o.geometry,l=o.attributes;let u;s&&(u=pV(new er,s,a)),e.push(new os(u,l,null,l[r]))}return e}function pV(e,t,i=rn(t.hasZ,t.hasM)){e.lengths[0]=t.points.length;const n=e.coords;let r=0;for(const a of t.points)for(let o=0;o<i;o++)n[r++]=a[o];return e}function kbe(e,t,i,n){for(const r of t){const{geometry:a,attributes:o}=r;let s;T(a)&&(s=mV(a,i,n)),e.push({attributes:o,geometry:s})}return e}function mV(e,t,i){if(!e)return null;const n=rn(t,i),{coords:r,lengths:a}=e,o=[];let s=0;for(const l of a){const u=[];for(let h=0;h<l;h++){const m=[];for(let f=0;f<n;f++)m.push(r[s++]);u.push(m)}o.push(u)}return t?i?{paths:o,hasZ:t,hasM:i}:{paths:o,hasZ:t}:i?{paths:o,hasM:i}:{paths:o}}function fV(e,t,i,n,r){const a=rn(i,n);for(const o of t){const s=o.geometry,l=o.attributes;let u;s&&(u=gV(new er,s,a)),e.push(new os(u,l,null,l[r]))}return e}function gV(e,t,i=rn(t.hasZ,t.hasM)){const{lengths:n,coords:r}=e;let a=0;for(const o of t.paths){for(const s of o)for(let l=0;l<i;l++)r[a++]=s[l];n.push(o.length)}return e}function _be(e,t,i,n){for(const r of t){const{geometry:a,attributes:o,centroid:s}=r;let l;if(T(a)&&(l=yV(a,i,n)),T(s)){const u=Lk(s);e.push({attributes:o,centroid:u,geometry:l})}else e.push({attributes:o,geometry:l})}return e}function yV(e,t,i){if(!e)return null;const n=rn(t,i),{coords:r,lengths:a}=e,o=[];let s=0;for(const l of a){const u=[];for(let h=0;h<l;h++){const m=[];for(let f=0;f<n;f++)m.push(r[s++]);u.push(m)}o.push(u)}return t?i?{rings:o,hasZ:t,hasM:i}:{rings:o,hasZ:t}:i?{rings:o,hasM:i}:{rings:o}}function bV(e,t,i,n,r){for(const a of t){const o=a.geometry,s=a.centroid,l=a.attributes;let u;o&&(u=vV(new er,o,i,n)),T(s)?e.push(new os(u,l,lV(new er,s),l[r])):e.push(new os(u,l,null,l[r]))}return e}function vV(e,t,i=t.hasZ,n=t.hasM){return Sbe(e,t.rings,i,n),e}function Sbe(e,t,i,n){const r=rn(i,n),{lengths:a,coords:o}=e;let s=0;a.length=o.length=0;for(const l of t){for(const u of l)for(let h=0;h<r;h++)o[s++]=u[h];a.push(l.length)}return e}const Kp=[],fg=[];function XTe(e,t,i,n,r){Kp[0]=e;const[a]=wV(fg,Kp,t,i,n,r);return Kp.length=fg.length=0,a}function wV(e,t,i,n,r,a){if(e.length=0,!i){for(const o of t){const s=o.attributes[a];e.push(new os(null,o.attributes,null,s))}return e}switch(i){case"esriGeometryPoint":return uV(e,t,n,r,a);case"esriGeometryMultipoint":return hV(e,t,n,r,a);case"esriGeometryPolyline":return fV(e,t,n,r,a);case"esriGeometryPolygon":return bV(e,t,n,r,a);default:Jm.error("convertToFeatureSet:unknown-geometry",new L(`Unable to parse unknown geometry type '${i}'`)),e.length=0}return e}function QTe(e,t,i,n,r,a){const o=e.length;switch(i){case"esriGeometryPoint":uV(e,t,n,r,a);break;case"esriGeometryMultipoint":hV(e,t,n,r,a);break;case"esriGeometryPolyline":fV(e,t,n,r,a);break;case"esriGeometryPolygon":bV(e,t,n,r,a);break;default:Jm.error("convertToFeatureSet:unknown-geometry",new L(`Unable to parse unknown geometry type '${i}'`))}for(let s=0;s<t.length;s++)e[s+o].geometryType=i,e[s+o].insertAfter=t[s].insertAfter,e[s+o].groupId=t[s].groupId;return e}function eMe(e,t,i,n){fg[0]=e,kV(Kp,fg,t,i,n);const r=Kp[0];return Kp.length=fg.length=0,r}function tMe(e,t,i){if(V(e))return null;const n=new er;return"hasZ"in e&&t==null&&(t=e.hasZ),"hasM"in e&&i==null&&(i=e.hasM),MI(e)?cV(t!=null?t:e.z!=null,i!=null?i:e.m!=null)(n,e):Sd(e)?vV(n,e,t,i):AI(e)?gV(n,e,rn(t,i)):TI(e)?pV(n,e,rn(t,i)):void Jm.error("convertFromGeometry:unknown-geometry",new L(`Unable to parse unknown geometry type '${e}'`))}function xV(e,t,i,n){const r=e&&("coords"in e?e:e.geometry);if(V(r))return null;switch(t){case"esriGeometryPoint":{let a=Lk;return i&&n?a=EE:i?a=CE:n&&(a=IE),a(r)}case"esriGeometryMultipoint":return dV(r,i,n);case"esriGeometryPolyline":return mV(r,i,n);case"esriGeometryPolygon":return yV(r,i,n);default:return void Jm.error("convertToGeometry:unknown-geometry",new L(`Unable to parse unknown geometry type '${t}'`))}}function Dbe(e,t){for(const i of t)e.push({attributes:i.attributes});return e}function kV(e,t,i,n,r){if(e.length=0,V(i))return Dbe(e,t);switch(i){case"esriGeometryPoint":return wbe(e,t,n,r);case"esriGeometryMultipoint":return xbe(e,t,n,r);case"esriGeometryPolyline":return kbe(e,t,n,r);case"esriGeometryPolygon":return _be(e,t,n,r);default:Jm.error("convertToFeatureSet:unknown-geometry",new L(`Unable to parse unknown geometry type '${i}'`))}return e}function iMe(e){const{objectIdFieldName:t,spatialReference:i,transform:n,fields:r,hasM:a,hasZ:o,features:s,geometryType:l,exceededTransferLimit:u,uniqueIdField:h,queryGeometry:m,queryGeometryType:f}=e,g={features:kV([],s,l,o,a),fields:r,geometryType:l,objectIdFieldName:t,spatialReference:i,uniqueIdField:h,queryGeometry:xV(m,f,!1,!1)};return n&&(g.transform=n),u&&(g.exceededTransferLimit=u),a&&(g.hasM=a),o&&(g.hasZ=o),g}function nMe(e,t){const i=new Pk,{hasM:n,hasZ:r,features:a,objectIdFieldName:o,spatialReference:s,geometryType:l,exceededTransferLimit:u,transform:h,fields:m}=e;return m&&(i.fields=m),i.geometryType=l,i.objectIdFieldName=o||t,i.spatialReference=s,i.objectIdFieldName?(a&&wV(i.features,a,l,r,n,i.objectIdFieldName),u&&(i.exceededTransferLimit=u),n&&(i.hasM=n),r&&(i.hasZ=r),h&&(i.transform=h),i):(Jm.error(new L("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),i)}function rMe(e){const{transform:t,features:i,hasM:n,hasZ:r}=e;if(!t)return e;for(const a of i)T(a.geometry)&&AD(a.geometry,a.geometry,n,r,t),T(a.centroid)&&AD(a.centroid,a.centroid,n,r,t);return e.transform=null,e}function aMe(e,t){const{geometryType:i,features:n,hasM:r,hasZ:a}=t;if(!e)return t;for(let o=0;o<n.length;o++){const s=n[o],l=s.weakClone();l.geometry=new er,DL(l.geometry,s.geometry,r,a,i,e),s.centroid&&(l.centroid=new er,DL(l.centroid,s.centroid,r,a,"esriGeometryPoint",e)),n[o]=l}return t.transform=e,t}function DL(e,t,i,n,r,a,o=i,s=n){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),V(t)||!t.coords.length)return null;const l=aV[r],{coords:u,lengths:h}=t,m=rn(i,n),f=rn(i&&o,n&&s),g=$E(i,n,o,s);if(!h.length)return g(e.coords,u,0,0,T2(a,u[0]),M2(a,u[1])),e.lengths.length&&(e.lengths.length=0),e.coords.length=m,e;let b,v,w,x,S=0,E=0,C=E;for(const _ of h){if(_<l)continue;let I=0;E=C,w=b=T2(a,u[S]),x=v=M2(a,u[S+1]),g(e.coords,u,E,S,w,x),I++,S+=m,E+=f;for(let O=1;O<_;O++,S+=m)w=T2(a,u[S]),x=M2(a,u[S+1]),w===b&&x===v||(g(e.coords,u,E,S,w-b,x-v),E+=f,I++,b=w,v=x);I>=l&&(e.lengths.push(I),C=E)}return e.coords.length=C,e.coords.length?e:null}function oMe(e,t,i,n,r,a,o=i,s=n){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;const l=aV[r],{coords:u,lengths:h}=t,m=rn(i,n),f=rn(i&&o,n&&s),g=$E(i,n,o,s);if(!h.length)return g(e.coords,u,0,0,u[0],u[1]),e.lengths.length&&(e.lengths.length=0),e.coords.length=m,e;let b=0;const v=a*a;for(const w of h){if(w<l){b+=w*m;continue}const x=e.coords.length/f,S=b,E=b+(w-1)*m;g(e.coords,u,e.coords.length,S,u[S],u[S+1]),MD(e.coords,u,m,v,g,S,E),g(e.coords,u,e.coords.length,E,u[E],u[E+1]);const C=e.coords.length/f-x;C>=l?e.lengths.push(C):e.coords.length=x*f,b+=w*m}return e.coords.length?e:null}function $be(e,t,i,n){const r=e[t],a=e[t+1],o=e[i],s=e[i+1],l=e[n],u=e[n+1];let h=o,m=s,f=l-h,g=u-m;if(f!==0||g!==0){const b=((r-h)*f+(a-m)*g)/(f*f+g*g);b>1?(h=l,m=u):b>0&&(h+=f*b,m+=g*b)}return f=r-h,g=a-m,f*f+g*g}function MD(e,t,i,n,r,a,o){let s,l=n,u=0;for(let h=a+i;h<o;h+=i)s=$be(t,h,a,o),s>l&&(u=h,l=s);l>n&&(u-a>i&&MD(e,t,i,n,r,a,u),r(e,t,e.length,u,t[u],t[u+1]),o-u>i&&MD(e,t,i,n,r,u,o))}function sMe(e,t,i,n){if(V(t)||!t.coords||!t.coords.length)return null;const r=rn(i,n);let a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;if(t&&t.coords){const u=t.coords;for(let h=0;h<u.length;h+=r){const m=u[h],f=u[h+1];a=Math.min(a,m),s=Math.max(s,m),o=Math.min(o,f),l=Math.max(l,f)}}return e[0]=a,e[1]=o,e[2]=s,e[3]=l,e}function AD(e,t,i,n,r){const{coords:a,lengths:o}=t,s=i?n?sV:bx:n?bx:oV,l=rn(i,n);if(!a.length)return e!==t&&(e.lengths.length=0,e.coords.length=0),e;if(!o.length)return s(e.coords,a,0,0,_L(r,a[0]),SL(r,a[1])),e!==t&&(e.lengths.length=0,e.coords.length=l),e;const[u,h]=r.scale;let m=0;for(let f=0;f<o.length;f++){const g=o[f];e.lengths[f]=g;let b=_L(r,a[m]),v=SL(r,a[m+1]);s(e.coords,a,m,m,b,v),m+=l;for(let w=1;w<g;w++,m+=l)b+=a[m]*u,v-=a[m+1]*h,s(e.coords,a,m,m,b,v)}return e!==t&&(e.lengths.length=o.length,e.coords.length=a.length),e}function lMe(e,t,i,n,r,a){const o=rn(i,n),s=$E(i,n,r,a),l=t.coords;e.coords.length=0,e.lengths.length=0,e.lengths.push(...t.lengths);for(let u=0;u<l.length;u+=o)s(e.coords,l,e.coords.length,u,l[u],l[u+1]);return e}function Cbe(e,t,i,n){let r=0,a=e[n*t],o=e[n*(t+1)];for(let s=1;s<i;s++){const l=a+e[n*(t+s)],u=o+e[n*(t+s)+1],h=(l-a)*(u+o);a=l,o=u,r+=h}return .5*r}function cMe(e,t){const{coords:i,lengths:n}=e;let r=0,a=0;for(let o=0;o<n.length;o++)a+=Cbe(i,r,n[o],t),r+=o;return Math.abs(a)}function uMe(e,t){if(V(e))return null;const i=e.clone(),n=e.coords,r=e.lengths;let a=0;for(let o=0;o<r.length;o++){const s=r[o];let l=n[t*a],u=n[t*a+1];for(let h=1;h<s;h++){const m=l+n[t*(a+h)],f=u+n[t*(a+h)+1];i.coords[t*(a+h)]=m,i.coords[t*(a+h)+1]=f,l=m,u=f}a+=s}return i}function Ibe(e,t){return t}function TE(e,t,i,n){switch(i){case 0:return Xg(e,t+n,0);case 1:return e.originPosition==="lowerLeft"?Xg(e,t+n,1):Mbe(e,t+n,1)}}function _V(e,t,i,n){return i===2?Xg(e,t,2):TE(e,t,i,n)}function Ebe(e,t,i,n){return i===2?Xg(e,t,3):TE(e,t,i,n)}function Tbe(e,t,i,n){return i===3?Xg(e,t,3):_V(e,t,i,n)}function Xg({translate:e,scale:t},i,n){return e[n]+i*t[n]}function Mbe({translate:e,scale:t},i,n){return e[n]-i*t[n]}class Abe{constructor(t){this.options=t,this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"],this.previousCoordinate=[0,0],this.transform=null,this.applyTransform=Ibe,this.lengths=[],this.currentLengthIndex=0,this.toAddInCurrentPath=0,this.vertexDimension=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,this._attributesConstructor=function(){}}createFeatureResult(){return{fields:[],features:[]}}finishFeatureResult(t){if(this.options.applyTransform&&(t.transform=null),this._attributesConstructor=function(){},this.coordinateBuffer=null,this.lengths.length=0,!t.hasZ)return;const i=w7(t.geometryType,this.options.sourceSpatialReference,t.spatialReference);if(!V(i))for(const n of t.features)i(n.geometry)}createSpatialReference(){return{}}addField(t,i){t.fields.push(i);const n=t.fields.map(r=>r.name);this._attributesConstructor=function(){for(const r of n)this[r]=null}}addFeature(t,i){t.features.push(i)}prepareFeatures(t){switch(this.transform=t.transform,this.options.applyTransform&&t.transform&&(this.applyTransform=this._deriveApplyTransform(t)),this.vertexDimension=2,t.hasZ&&this.vertexDimension++,t.hasM&&this.vertexDimension++,t.geometryType){case"esriGeometryPoint":this.addCoordinate=(i,n,r)=>this.addCoordinatePoint(i,n,r),this.createGeometry=i=>this.createPointGeometry(i);break;case"esriGeometryPolygon":this.addCoordinate=(i,n,r)=>this._addCoordinatePolygon(i,n,r),this.createGeometry=i=>this._createPolygonGeometry(i);break;case"esriGeometryPolyline":this.addCoordinate=(i,n,r)=>this._addCoordinatePolyline(i,n,r),this.createGeometry=i=>this._createPolylineGeometry(i);break;case"esriGeometryMultipoint":this.addCoordinate=(i,n,r)=>this._addCoordinateMultipoint(i,n,r),this.createGeometry=i=>this._createMultipointGeometry(i);break;default:t.geometryType}}createFeature(){return this.lengths.length=0,this.currentLengthIndex=0,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,{attributes:new this._attributesConstructor}}allocateCoordinates(){}addLength(t,i,n){this.lengths.length===0&&(this.toAddInCurrentPath=i),this.lengths.push(i)}addQueryGeometry(t,i){const{queryGeometry:n,queryGeometryType:r}=i,a=AD(n.clone(),n,!1,!1,this.transform),o=xV(a,r,!1,!1);t.queryGeometryType=r,t.queryGeometry=$({},o)}createPointGeometry(t){const i={x:0,y:0,spatialReference:t.spatialReference};return t.hasZ&&(i.z=0),t.hasM&&(i.m=0),i}addCoordinatePoint(t,i,n){switch(i=this.applyTransform(this.transform,i,n,0),n){case 0:t.x=i;break;case 1:t.y=i;break;case 2:"z"in t?t.z=i:t.m=i;break;case 3:t.m=i}}_transformPathLikeValue(t,i){let n=0;return i<=1&&(n=this.previousCoordinate[i],this.previousCoordinate[i]+=t),this.applyTransform(this.transform,t,i,n)}_addCoordinatePolyline(t,i,n){this._dehydratedAddPointsCoordinate(t.paths,i,n)}_addCoordinatePolygon(t,i,n){this._dehydratedAddPointsCoordinate(t.rings,i,n)}_addCoordinateMultipoint(t,i,n){n===0&&t.points.push([]);const r=this._transformPathLikeValue(i,n);t.points[t.points.length-1].push(r)}_createPolygonGeometry(t){return{rings:[[]],spatialReference:t.spatialReference,hasZ:!!t.hasZ,hasM:!!t.hasM}}_createPolylineGeometry(t){return{paths:[[]],spatialReference:t.spatialReference,hasZ:!!t.hasZ,hasM:!!t.hasM}}_createMultipointGeometry(t){return{points:[],spatialReference:t.spatialReference,hasZ:!!t.hasZ,hasM:!!t.hasM}}_dehydratedAddPointsCoordinate(t,i,n){n===0&&this.toAddInCurrentPath--==0&&(t.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);const r=this._transformPathLikeValue(i,n),a=t[t.length-1];n===0&&(this.coordinateBufferPtr=0,this.coordinateBuffer=new Array(this.vertexDimension),a.push(this.coordinateBuffer)),this.coordinateBuffer[this.coordinateBufferPtr++]=r}_deriveApplyTransform(t){const{hasZ:i,hasM:n}=t;return i&&n?Tbe:i?_V:n?Ebe:TE}}async function Obe(e,t,i){const n=fa(e),r=$({},i),a=In.from(t),o=!a.quantizationParameters,{data:s}=await Qj(n,a,new Abe({sourceSpatialReference:a.sourceSpatialReference,applyTransform:o}),r);return s}function Pbe(e,t){const i=e.toJSON();return i.objectIds&&(i.objectIds=i.objectIds.join(",")),i.orderByFields&&(i.orderByFields=i.orderByFields.join(",")),!i.outFields||t!=null&&t.returnCountOnly?delete i.outFields:i.outFields.indexOf("*")!==-1?i.outFields="*":i.outFields=i.outFields.join(","),i.outSpatialReference&&(i.outSR=i.outSR.wkid||JSON.stringify(i.outSR.toJSON()),delete i.outSpatialReference),i.dynamicDataSource&&(i.layer=JSON.stringify({source:i.dynamicDataSource}),delete i.dynamicDataSource),i}async function Lbe(e,t,i){const n=await SV(e,t,i),r=n.data,a=r.geometryType,o=r.spatialReference,s={};for(const l of r.relatedRecordGroups){const u={fields:void 0,objectIdFieldName:void 0,geometryType:a,spatialReference:o,hasZ:!!r.hasZ,hasM:!!r.hasM,features:l.relatedRecords};if(l.objectId!=null)s[l.objectId]=u;else for(const h in l)l.hasOwnProperty(h)&&h!=="relatedRecords"&&(s[l[h]]=u)}return le($({},n),{data:s})}async function Rbe(e,t,i){const n=await SV(e,t,i,{returnCountOnly:!0}),r=n.data,a={};for(const o of r.relatedRecordGroups)o.objectId!=null&&(a[o.objectId]=o.count);return le($({},n),{data:a})}async function SV(e,t,i={},n){const r=Gy($($(le($({},e.query),{f:"json"}),n),Pbe(t,n)));return Lt(e.path+"/queryRelatedRecords",le($({},i),{query:$($({},i.query),r)}))}async function Fbe(e,t,i){t=Kd.from(t);const n=fa(e);return Lbe(n,t,i).then(r=>{const a=r.data,o={};return Object.keys(a).forEach(s=>o[s]=oh.fromJSON(a[s])),o})}async function Nbe(e,t,i){t=Kd.from(t);const n=fa(e);return Rbe(n,t,$({},i)).then(r=>r.data)}const $L="Layer does not support extent calculation.";function zbe(e,t){var i,n;const r=e.geometry,a=e.toJSON(),o=a;if(T(r)&&(o.geometry=JSON.stringify(r),o.geometryType=Oy(r),o.inSR=r.spatialReference.wkid||JSON.stringify(r.spatialReference)),(i=a.topFilter)!=null&&i.groupByFields&&(o.topFilter.groupByFields=a.topFilter.groupByFields.join(",")),(n=a.topFilter)!=null&&n.orderByFields&&(o.topFilter.orderByFields=a.topFilter.orderByFields.join(",")),a.topFilter&&(o.topFilter=JSON.stringify(o.topFilter)),a.objectIds&&(o.objectIds=a.objectIds.join(",")),a.orderByFields&&(o.orderByFields=a.orderByFields.join(",")),a.outFields&&!(t!=null&&t.returnCountOnly||t!=null&&t.returnExtentOnly||t!=null&&t.returnIdsOnly)?a.outFields.indexOf("*")!==-1?o.outFields="*":o.outFields=a.outFields.join(","):delete o.outFields,a.outSR?o.outSR=a.outSR.wkid||JSON.stringify(a.outSR):r&&a.returnGeometry&&(o.outSR=o.inSR),a.returnGeometry&&delete a.returnGeometry,a.timeExtent){const s=a.timeExtent,{start:l,end:u}=s;l==null&&u==null||(o.time=l===u?l:`${l==null?"null":l},${u==null?"null":u}`),delete a.timeExtent}return o}async function jbe(e,t,i,n){const r=await Rk(e,t,"json",n);return yx(t,i,r.data),r}async function Vbe(e,t,i){return T(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):Rk(e,t,"json",i,{returnIdsOnly:!0})}async function Hbe(e,t,i){return T(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):Rk(e,t,"json",i,{returnExtentOnly:!0,returnCountOnly:!0}).then(n=>{const r=n.data;if(r.hasOwnProperty("extent"))return n;if(r.features)throw new Error($L);if(r.hasOwnProperty("count"))throw new Error($L);return n})}function qbe(e,t,i){return T(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):Rk(e,t,"json",i,{returnIdsOnly:!0,returnCountOnly:!0})}function Rk(e,t,i,n={},r={}){const a=typeof e=="string"?Gi(e):e,o=t.geometry?[t.geometry]:[];return n.responseType=i==="pbf"?"array-buffer":"json",DE(o,null,n).then(s=>{const l=s&&s[0];T(l)&&((t=t.clone()).geometry=l);const u=Gy($($(le($({},a.query),{f:i}),r),zbe(t,r)));return Lt(Lc(a.path,"queryTopFeatures"),le($({},n),{query:$($({},u),n.query)}))})}var OD;let ep=OD=class extends J{constructor(e){super(e),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new OD({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};c([d({type:[String],json:{write:!0}})],ep.prototype,"groupByFields",void 0),c([d({type:Number,json:{write:!0}})],ep.prototype,"topCount",void 0),c([d({type:[String],json:{write:!0}})],ep.prototype,"orderByFields",void 0),ep=OD=c([D("esri.rest.support.TopFilter")],ep);const Bbe=ep;var PD;const CL=new Ze({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),IL=new Ze({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let It=PD=class extends J{constructor(e){super(e),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new PD(z({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};c([d({type:Boolean,json:{write:!0}})],It.prototype,"cacheHint",void 0),c([d({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],It.prototype,"distance",void 0),c([d({types:th,json:{read:Fc,write:!0}})],It.prototype,"geometry",void 0),c([d({type:Number,json:{write:!0}})],It.prototype,"geometryPrecision",void 0),c([d({type:Number,json:{write:!0}})],It.prototype,"maxAllowableOffset",void 0),c([d({type:Number,json:{read:{source:"resultRecordCount"}}})],It.prototype,"num",void 0),c([d({json:{write:!0}})],It.prototype,"objectIds",void 0),c([d({type:[String],json:{write:!0}})],It.prototype,"orderByFields",void 0),c([d({type:[String],json:{write:!0}})],It.prototype,"outFields",void 0),c([d({type:He,json:{read:{source:"outSR"},write:{target:"outSR"}}})],It.prototype,"outSpatialReference",void 0),c([d({type:String,json:{write:!0}})],It.prototype,"resultType",void 0),c([d({json:{write:!0}})],It.prototype,"returnGeometry",void 0),c([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],It.prototype,"returnM",void 0),c([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],It.prototype,"returnZ",void 0),c([d({type:Number,json:{read:{source:"resultOffset"}}})],It.prototype,"start",void 0),c([ue("start"),ue("num")],It.prototype,"writeStart",null),c([d({type:String,json:{read:{source:"spatialRel",reader:CL.read},write:{target:"spatialRel",writer:CL.write}}})],It.prototype,"spatialRelationship",void 0),c([d({type:us,json:{write:!0}})],It.prototype,"timeExtent",void 0),c([d({type:Bbe,json:{write:!0}})],It.prototype,"topFilter",void 0),c([d({type:String,json:{read:IL.read,write:{writer:IL.write,overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],It.prototype,"units",void 0),c([d({type:String,json:{write:!0}})],It.prototype,"where",void 0),It=PD=c([D("esri.rest.support.TopFeaturesQuery")],It),It.from=mi(It);const Ic=It;async function Ube(e,t,i,n){const r=fa(e),a=$({},n),{data:o}=await jbe(r,Ic.from(t),i,a);return oh.fromJSON(o)}async function Gbe(e,t,i){const n=fa(e);return(await Vbe(n,Ic.from(t),$({},i))).data.objectIds}async function Wbe(e,t,i){const n=fa(e),r=await Hbe(n,Ic.from(t),$({},i));return{count:r.data.count,extent:pt.fromJSON(r.data.extent)}}async function Jbe(e,t,i){const n=fa(e);return(await qbe(n,Ic.from(t),$({},i))).data.count}let tp=class extends ge{constructor(...e){super(...e),this.requestOptions=null,this.url=null}normalizeCtorArgs(e,t){return typeof e!="string"?e:$({url:e},t)}get parsedUrl(){return this._parseUrl(this.url)}_parseUrl(e){return e?Gi(e):null}_encode(e,t,i){const n={};for(const r in e){if(r==="declaredClass")continue;const a=e[r];if(a!=null&&typeof a!="function")if(Array.isArray(a)){n[r]=[];for(let o=0;o<a.length;o++)n[r][o]=this._encode(a[o])}else if(typeof a=="object")if(a.toJSON){const o=a.toJSON(i&&i[r]);n[r]=t?o:JSON.stringify(o)}else n[r]=t?a:JSON.stringify(a);else n[r]=a}return n}};c([d({readOnly:!0})],tp.prototype,"parsedUrl",null),c([d()],tp.prototype,"requestOptions",void 0),c([d({type:String})],tp.prototype,"url",void 0),tp=c([D("esri.tasks.Task")],tp);const Kbe=tp;let Ps=class extends Kbe{constructor(e){super(e),this.dynamicDataSource=null,this.fieldsIndex=null,this.format="json",this.gdbVersion=null,this.infoFor3D=null,this.sourceSpatialReference=null}execute(e,t){return this.executeJSON(e,t).then(i=>this.featureSetFromJSON(e,i,t))}async executeJSON(e,t){var i;const n=$($({},this.requestOptions),t),r=this._normalizeQuery(e),a=((i=e.outStatistics)==null?void 0:i[0])!=null,o=q("featurelayer-pbf-statistics"),s=!a||o;let l;if(this.format==="pbf"&&s)try{l=await Obe(this.url,r,n)}catch(u){if(u.name!=="query:parsing-pbf")throw u;this.format="json"}return this.format!=="json"&&s||(l=await rV(this.url,r,n)),this._normalizeFields(l.fields),l}async featureSetFromJSON(e,t,i){if(!(this._queryIs3DObjectFormat(e)&&T(this.infoFor3D)&&t.features&&t.features.length))return oh.fromJSON(t);const{meshFeatureSetFromJSON:n}=await n6(import("./meshFeatureSet.e68938ce.js").then(function(r){return r.a}),i);return n(e,this.infoFor3D,t)}executeForCount(e,t){const i=$($({},this.requestOptions),t),n=this._normalizeQuery(e);return pbe(this.url,n,i)}executeForExtent(e,t){const i=$($({},this.requestOptions),t),n=this._normalizeQuery(e);return mbe(this.url,n,i)}executeForIds(e,t){const i=$($({},this.requestOptions),t),n=this._normalizeQuery(e);return fbe(this.url,n,i)}executeRelationshipQuery(e,t){e=Kd.from(e);const i=$($({},this.requestOptions),t);return(this.gdbVersion||this.dynamicDataSource)&&((e=e.clone()).gdbVersion=e.gdbVersion||this.gdbVersion,e.dynamicDataSource=e.dynamicDataSource||this.dynamicDataSource),Fbe(this.url,e,i)}executeRelationshipQueryForCount(e,t){e=Kd.from(e);const i=$($({},this.requestOptions),t);return(this.gdbVersion||this.dynamicDataSource)&&((e=e.clone()).gdbVersion=e.gdbVersion||this.gdbVersion,e.dynamicDataSource=e.dynamicDataSource||this.dynamicDataSource),Nbe(this.url,e,i)}executeAttachmentQuery(e,t){const i=$($({},this.requestOptions),t);return Rye(this.url,e,i)}executeTopFeaturesQuery(e,t){const i=$($({},this.requestOptions),t);return Ube(this.parsedUrl,e,this.sourceSpatialReference,i)}executeForTopIds(e,t){const i=$($({},this.requestOptions),t);return Gbe(this.parsedUrl,e,i)}executeForTopExtents(e,t){const i=$($({},this.requestOptions),t);return Wbe(this.parsedUrl,e,i)}executeForTopCount(e,t){const i=$($({},this.requestOptions),t);return Jbe(this.parsedUrl,e,i)}_normalizeQuery(e){let t=In.from(e);if(t.sourceSpatialReference=t.sourceSpatialReference||this.sourceSpatialReference,(this.gdbVersion||this.dynamicDataSource)&&(t=t===e?t.clone():t,t.gdbVersion=e.gdbVersion||this.gdbVersion,t.dynamicDataSource=e.dynamicDataSource?vr.from(e.dynamicDataSource):this.dynamicDataSource),T(this.infoFor3D)&&this._queryIs3DObjectFormat(e)){t=t===e?t.clone():t,t.formatOf3DObjects=null;for(const i of this.infoFor3D.queryFormats){if(i.id==="3D_glb"){t.formatOf3DObjects=i.id;break}i.id!=="3D_gltf"||t.formatOf3DObjects||(t.formatOf3DObjects=i.id)}if(!t.formatOf3DObjects)throw new L("query:unsupported-3d-query-formats","Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if(V(t.outFields)||!t.outFields.includes("*")){t=t===e?t.clone():t,V(t.outFields)&&(t.outFields=[]);const{originX:i,originY:n,originZ:r,translationX:a,translationY:o,translationZ:s,scaleX:l,scaleY:u,scaleZ:h,rotationX:m,rotationY:f,rotationZ:g,rotationDeg:b}=this.infoFor3D.transformFieldRoles;t.outFields.push(i,n,r,a,o,s,l,u,h,m,f,g,b)}}return t}_normalizeFields(e){if(T(this.fieldsIndex)&&T(e))for(const t of e){const i=this.fieldsIndex.get(t.name);i&&Object.assign(t,i.toJSON())}}_queryIs3DObjectFormat(e){return T(this.infoFor3D)&&e.returnGeometry&&e.multipatchOption!=="xyFootprint"&&!e.outStatistics}};c([d({type:vr})],Ps.prototype,"dynamicDataSource",void 0),c([d()],Ps.prototype,"fieldsIndex",void 0),c([d()],Ps.prototype,"format",void 0),c([d()],Ps.prototype,"gdbVersion",void 0),c([d()],Ps.prototype,"infoFor3D",void 0),c([d()],Ps.prototype,"sourceSpatialReference",void 0),Ps=c([D("esri.tasks.QueryTask")],Ps);const Ybe=Ps,Zbe="esri.widgets.Feature.support.relatedFeatureUtils",EL=Q.getLogger(Zbe),TL=new Map;function S0(e){if(!tl(e))return null;const[t,i]=e.split("/").slice(1);return{layerId:t,fieldName:i}}function Xbe(e,t){if(!t.relationships)return null;let i=null;const{relationships:n}=t;return n.some(r=>r.id===parseInt(e,10)&&(i=r,!0)),i}function Qbe({originRelationship:e,relationships:t,layerId:i}){let n;return t&&t.some(r=>(`${r.relatedTableId}`===i&&r.id===e.id&&(n=r),!!n)),n}function eve(e,t){const i=t.toLowerCase();for(const n in e)if(n.toLowerCase()===i)return e[n];return null}function tve(e,t){const i=Xbe(e,t);if(!i)return;const n=`${t.url}/${i.relatedTableId}`;return{url:n,queryTask:new Ybe({url:n,sourceSpatialReference:t.spatialReference}),relation:i,relatedFields:[],outStatistics:[]}}function ive(e,t){if(!t||!e)return;const{features:i,statsFeatures:n}=e,r=i&&i.value;t.relatedFeatures=r?r.features:[];const a=n&&n.value;t.relatedStatsFeatures=a?a.features:[]}function nve(e,t,i,n){const r=new Kd;return r.outFields=["*"],r.relationshipId=typeof t.id=="number"?t.id:parseInt(t.id,10),r.objectIds=[e.attributes[i.objectIdField]],i.queryRelatedFeatures(r,n)}function rve(e,t,i){let n=0;const r=[];for(;n<t.length;)r.push(`${e} IN (${t.slice(n,i+n)})`),n+=i;return r.join(" OR ")}async function ave(e,t,i,n){const r=i.layerId.toString(),{layerInfo:a,queryTask:o,relation:s,relatedFields:l,outStatistics:u}=t,h=Qbe({originRelationship:s,relationships:a.relationships,layerId:r});if(h.relationshipTableId&&h.keyFieldInRelationshipTable){const f=(await nve(e,h,i,n))[e.attributes[i.objectIdField]];if(!f)return null;const g=f.features.map(b=>b.attributes[a.objectIdField]);if((u==null?void 0:u.length)>0&&a.supportsStatistics){const b=new In;b.where=rve(a.objectIdField,g,1e3),b.outFields=l,b.outStatistics=u;const v={features:Promise.resolve(f),statsFeatures:o.execute(b)};return Zn(v)}}const m=h==null?void 0:h.keyField;if(m){const f=RI(uve(a.fields,m)),g=eve(e.attributes,s.keyField),b=f?`${m}=${g}`:`${m}='${g}'`,v=o.execute(new In({where:b,outFields:t.relatedFields}),n),w=t.outStatistics&&t.outStatistics.length>0&&a.supportsStatistics?o.execute(new In({where:b,outFields:t.relatedFields,outStatistics:t.outStatistics}),n):null,x={features:v};return w&&(x.statsFeatures=w),Zn(x)}return null}function ove(e,t){return Lt(e,{query:{f:"json"},signal:t&&t.signal})}function sve({relatedInfos:e,layer:t},i){const n={};return e.forEach((r,a)=>{const{relation:o}=r;if(!o){const m=new L("relation-required","A relation is required on a layer to retrieve related records.");throw EL.error(m),m}const{relatedTableId:s}=o;if(typeof s!="number"){const m=new L("A related table ID is required on a layer to retrieve related records.");throw EL.error(m),m}const l=`${t.url}/${s}`,u=TL.get(l),h=u||ove(l,i);u||TL.set(l,h),n[a]=h}),Zn(n)}function lve({graphic:e,relatedInfos:t,layer:i},n){const r={};return t.forEach((a,o)=>{a.layerInfo&&(r[o]=ave(e,a,i,n))}),Zn(r)}function cve({relatedInfo:e,fieldName:t,fieldInfo:i}){if(e.relatedFields.push(t),i.statisticType){const n=new Wj({statisticType:i.statisticType,onStatisticField:t,outStatisticFieldName:t});e.outStatistics.push(n)}}function uve(e,t){if(e!=null){t=t.toLowerCase();for(const i of e)if(i&&i.name.toLowerCase()===t)return i}return null}const ML={chartAnimation:!0};let Mi=class extends ge{constructor(e){super(e),this.abilities=$({},ML),this.activeMediaInfoIndex=0,this.attributes=null,this.description=null,this.fieldInfoMap=null,this.formattedAttributes=null,this.expressionAttributes=null,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null}castAbilities(e){return $($({},ML),e)}get activeMediaInfo(){return this.formattedMediaInfos[this.activeMediaInfoIndex]||null}get formattedMediaInfos(){return this._formatMediaInfos()||[]}get formattedMediaInfoCount(){return this.formattedMediaInfos.length}setActiveMedia(e){this._setContentElementMedia(e)}next(){this._pageContentElementMedia(1)}previous(){this._pageContentElementMedia(-1)}_setContentElementMedia(e){const{formattedMediaInfoCount:t}=this,i=(e+t)%t;this.activeMediaInfoIndex=i}_pageContentElementMedia(e){const{activeMediaInfoIndex:t}=this,i=t+e;this._setContentElementMedia(i)}_formatMediaInfos(){const{attributes:e,mediaInfos:t,formattedAttributes:i,expressionAttributes:n,fieldInfoMap:r,layer:a}=this;return t==null?void 0:t.map(o=>{const s=o==null?void 0:o.clone();if(!s)return null;if(s.title=fd({attributes:e,fieldInfoMap:r,globalAttributes:i,expressionAttributes:n,layer:a,text:s.title}),s.caption=fd({attributes:e,fieldInfoMap:r,globalAttributes:i,expressionAttributes:n,layer:a,text:s.caption}),s.altText=fd({attributes:e,fieldInfoMap:r,globalAttributes:i,expressionAttributes:n,layer:a,text:s.altText}),s.type==="image"){const{value:l}=s;return this._setImageValue({value:l,formattedAttributes:i,layer:a}),s.value.sourceURL?s:void 0}if(s.type==="pie-chart"||s.type==="line-chart"||s.type==="column-chart"||s.type==="bar-chart"){const{value:l}=s;return this._setChartValue({value:l,chartType:s.type,attributes:e,formattedAttributes:i,layer:a}),s}return null}).filter(Boolean)}_setImageValue(e){const{fieldInfoMap:t}=this,{value:i,formattedAttributes:n,layer:r}=e,{linkURL:a,sourceURL:o}=i;if(o){const s=pD(o,r);i.sourceURL=hD({formattedAttributes:n,template:s,fieldInfoMap:t})}if(a){const s=pD(a,r);i.linkURL=hD({formattedAttributes:n,template:s,fieldInfoMap:t})}}_setChartValue(e){const{value:t,attributes:i,formattedAttributes:n,chartType:r,layer:a}=e,{popupTemplate:o,relatedInfos:s}=this,{fields:l,normalizeField:u}=t;if(t.fields=Lge(l,a),u&&(t.normalizeField=fx(u,a)),!l.some(m=>!!(n[m]!=null||tl(m)&&s.size)))return;const h=o==null?void 0:o.fieldInfos;l.forEach(m=>{if(tl(m))return void(t.series=[...t.series,...this._getRelatedChartInfos({fieldInfos:h,fieldName:m,formattedAttributes:n,chartType:r,value:t})]);const f=this._getChartOption({value:t,attributes:i,chartType:r,formattedAttributes:n,fieldName:m,fieldInfos:h});t.series.push(f)})}_getRelatedChartInfos(e){var t;const{fieldInfos:i,fieldName:n,formattedAttributes:r,chartType:a,value:o}=e,s=[],l=S0(n),{layerId:u,fieldName:h}=l,m=(t=this.relatedInfos)==null?void 0:t.get(u.toString());if(!m)return s;const{relatedFeatures:f,relation:g}=m;if(!g||!f)return s;const{cardinality:b}=g;return f.forEach(v=>{const{attributes:w}=v;w&&Object.keys(w).forEach(x=>{x===h&&s.push(this._getChartOption({value:o,attributes:w,formattedAttributes:r,fieldName:n,chartType:a,relatedFieldName:x,fieldInfos:i}))})}),b==="one-to-many"||b==="many-to-many"?s:[s[0]]}_getTooltip({label:e,value:t,chartType:i}){return i==="pie-chart"?e:`${e}: ${t}`}_getChartOption(e){var t;const{value:i,attributes:n,formattedAttributes:r,fieldName:a,relatedFieldName:o,fieldInfos:s,chartType:l}=e,{layer:u}=this,{normalizeField:h,tooltipField:m}=i,f=h?tl(h)?n[S0(h).fieldName]:n[h]:null,g=o&&n[o]!==void 0?n[o]:n[a]!==void 0?n[a]:r[a],b=g===void 0?null:g&&f?g/f:g,v=new m8({value:b});if(tl(a)){const C=S0(a),_=S0(m),I=_?_.fieldName:null,O=Lj(b,{fieldInfos:s,fieldName:o,layer:u,preventPlacesFormatting:!!f}),R=C?C.label||C.fieldName:o,H=I&&n[I]!==void 0?n[I]:R;return v.tooltip=this._getTooltip({label:H,value:O,chartType:l}),v}const w=Rj(s,a),x=fx(a,u),S=m&&r[m]!==void 0?r[m]:Oj(w||new Ly({fieldName:x}),(t=this.popupTemplate)==null?void 0:t.expressionInfos),E=r[x];return v.tooltip=this._getTooltip({label:S,value:E,chartType:l}),v}};c([d()],Mi.prototype,"abilities",void 0),c([nt("abilities")],Mi.prototype,"castAbilities",null),c([d()],Mi.prototype,"activeMediaInfoIndex",void 0),c([d({readOnly:!0})],Mi.prototype,"activeMediaInfo",null),c([d()],Mi.prototype,"attributes",void 0),c([d()],Mi.prototype,"description",void 0),c([d()],Mi.prototype,"fieldInfoMap",void 0),c([d()],Mi.prototype,"formattedAttributes",void 0),c([d()],Mi.prototype,"expressionAttributes",void 0),c([d({readOnly:!0})],Mi.prototype,"formattedMediaInfos",null),c([d()],Mi.prototype,"layer",void 0),c([d({readOnly:!0})],Mi.prototype,"formattedMediaInfoCount",null),c([d()],Mi.prototype,"mediaInfos",void 0),c([d()],Mi.prototype,"popupTemplate",void 0),c([d()],Mi.prototype,"relatedInfos",void 0),c([d()],Mi.prototype,"title",void 0),Mi=c([D("esri.widgets.Feature.FeatureMedia.FeatureMediaViewModel")],Mi);const yd=Mi;var AL=["#ffffff","#858585","#ffbebe","#ffebbe","#ffebaf","#ffffbe","#e9ffbe","#d3ffbe","#beffe8","#bee8ff","#bed2ff","#e8beff","#ffbee8","#ebebeb","#707070","#ff7f7f","#ffa77f","#ffd37f","#ffff73","#d1ff73","#a3ff73","#73ffdf","#73dfff","#73b2ff","#df73ff","#ff73df","#d6d6d6","#5c5c5c","#ff0000","#ff5500","#ffaa00","#ffff00","#aaff00","#55ff00","#00ffc5","#00c5ff","#0070ff","#c500ff","#ff00c5","#c2c2c2","#474747","#e60000","#e64c00","#e69800","#e6e600","#98e600","#4ce600","#00e6a9","#00a9e6","#005ce6","#a900e6","#e600a9","#adadad","#242424","#a80000","#a83800","#a87000","#a8a800","#70a800","#38a800","#00a884","#0084a8","#004da8","#8400a8","#a80084","#999999","#1a1a1a","#730000","#732600","#734c00","#737300","#4c7300","#267300","#00734c","#004c73","#002673","#4c0073","#73004"],dve=[].concat(AL.slice(30,39),AL.slice(28,30).reverse()),hve=[{name:"default",colors:dve},{name:"cat-dark",colors:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"]},{name:"tropical-bliss",colors:["#fce138","#ff9399","#fcd27e","#f1983c","#a553b7","#b1a9d0","#6ecffc","#4c81cd","#fc6f84","#fc3e5a","#6af689","#48885c"]},{name:"desert-blooms",colors:["#102432","#144d59","#ffc730","#ed9310","#a64f1b","#661510","#d9351a","#b31515","#4a0932","#8c213f","#18382e","#2c6954"]},{name:"under-the-sea",colors:["#bf9727","#607100","#00734c","#704489","#01acca","#024e76","#f09100","#ea311f","#c6004b","#7570b3","#666666","#333333"]},{name:"vibrant-rainbow",colors:["#fffb00","#f5cb11","#9fd40c","#46e39c","#32b8a6","#7ff2fa","#ac08cc","#dd33ff","#eb7200","#e8a784","#bf2e2e","#6c7000"]},{name:"ocean-bay",colors:["#191921","#11495c","#78b1c2","#454f4b","#8f8f82","#9be0c0","#87b051","#f7ec88","#ebdcc1","#dbb658","#c43541","#75351e"]},{name:"prairie-summer",colors:["#332424","#751555","#d47013","#d68989","#211173","#82aad6","#7bfaeb","#6ec9a8","#6b6408","#eada40","#ccc54a","#1fc235"]},{name:"pastel-chalk",colors:["#fffd99","#f5e6a4","#c1d48c","#b8e3d0","#a0b8b5","#cbf7fa","#d791f2","#dfc1eb","#f2b983","#e8c4b2","#bf8e8e","#94995c"]},{name:"seq-yellow-orange-red-bright",colors:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffb454","#ffda74","#ffed85"]},{name:"seq-reds-bright",colors:["#57453b","#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae","#fff0dc"]},{name:"seq-purples-bright",colors:["#4e465c","#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff","#e6e1ff"]},{name:"seq-blues-bright",colors:["#404d54","#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9","#e6faff"]},{name:"seq-greens-bright",colors:["#39544c","#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9","#f4ffea"]},{name:"seq-browns-bright",colors:["#524834","#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7","#fff8eb"]}];const OL="en-us",ME=new Map([["ar",()=>import("./ar.38e380ee.js").then(e=>e.a)],["bg-bg",()=>import("./bg_BG.fca66666.js").then(e=>e.b)],["bs-ba",()=>import("./bs_BA.caf3952d.js").then(e=>e.b)],["ca-es",()=>import("./ca_ES.0c519c51.js").then(e=>e.c)],["cs-cz",()=>import("./cs_CZ.00bd1a64.js").then(e=>e.c)],["da-dk",()=>import("./da_DK.dc0199ff.js").then(e=>e.d)],["de-de",()=>import("./de_DE.dc54f440.js").then(e=>e.d)],["de-ch",()=>import("./de_CH.a25a623b.js").then(e=>e.d)],["el-gr",()=>import("./el_GR.35e63930.js").then(e=>e.e)],["en-us",()=>import("./en_US.b10260c1.js").then(e=>e.e)],["en-ca",()=>import("./en_CA.da09073c.js").then(e=>e.e)],["es-es",()=>import("./es_ES.b94ae131.js").then(e=>e.e)],["et-ee",()=>import("./et_EE.9a26a6ac.js").then(e=>e.e)],["fi-fi",()=>import("./fi_FI.2af7adda.js").then(e=>e.f)],["fr-fr",()=>import("./fr_FR.48085237.js").then(e=>e.f)],["he-il",()=>import("./he_IL.ce5a6a3e.js").then(e=>e.h)],["hr-hr",()=>import("./hr_HR.cf2a7837.js").then(e=>e.h)],["hu-hu",()=>import("./hu_HU.bbb79808.js").then(e=>e.h)],["id-id",()=>import("./id_ID.ff4a99da.js").then(e=>e.i)],["it-it",()=>import("./it_IT.6824c9c8.js").then(e=>e.i)],["ja-jp",()=>import("./ja_JP.39652ec4.js").then(e=>e.j)],["ko-kr",()=>import("./ko_KR.563a0748.js").then(e=>e.k)],["lt-lt",()=>import("./lt_LT.9357f23e.js").then(e=>e.l)],["lv-lv",()=>import("./lv_LV.a5d523da.js").then(e=>e.l)],["nb-no",()=>import("./nb_NO.ebb2ac2a.js").then(e=>e.n)],["nl-nl",()=>import("./nl_NL.d1cc23ad.js").then(e=>e.n)],["pl-pl",()=>import("./pl_PL.bb2e9960.js").then(e=>e.p)],["pt-br",()=>import("./pt_BR.74c5e8ca.js").then(e=>e.p)],["pt-pt",()=>import("./pt_PT.bfab834c.js").then(e=>e.p)],["ro-ro",()=>import("./ro_RO.42f83482.js").then(e=>e.r)],["ru-ru",()=>import("./ru_RU.abc0b5cc.js").then(e=>e.r)],["sk-sk",()=>import("./sk_SK.e9d48714.js").then(e=>e.s)],["sl-sl",()=>import("./sl_SL.4c1fa8ed.js").then(e=>e.s)],["sr-rs",()=>import("./sr_RS.d0337641.js").then(e=>e.s)],["sv-se",()=>import("./sv_SE.4d29b9ab.js").then(e=>e.s)],["th-th",()=>import("./th_TH.98339202.js").then(e=>e.t)],["tr-tr",()=>import("./tr_TR.adda76a3.js").then(e=>e.t)],["uk-ua",()=>import("./uk_UA.4942722a.js").then(e=>e.u)],["vi-vn",()=>import("./vi_VN.defda39a.js").then(e=>e.v)],["zh-cn",()=>import("./zh_Hans.87e0b7d8.js").then(e=>e.z)],["zh-hk",()=>import("./zh_Hant.d85df562.js").then(e=>e.z)],["zh-tw",()=>import("./zh_Hant.d85df562.js").then(e=>e.z)]]);function pve(e){const t=e.split("-")[0].toLowerCase();let i=null;for(const n of ME.keys())if(n.startsWith(t)){i=n;break}return i}function mve(e){return e?ME.has(e.toLowerCase())?e.toLowerCase():pve(e)||OL:OL}let xh,Af;async function fve(e=Dr()){if(e=mve(e),xh&&e===Af)return xh;xh=import("./index.1256ab99.js").then(t=>t.i),Af=e;try{const[t,i]=await Promise.all([xh,ME.get(Af)()]);Af===e&&(t.am4core.options.defaultLocale=i.default),t.am4core.options.suppressWarnings=!0,t.am4core.options.autoDispose=!0}catch{return xh=null,Af=null,null}return xh}function gve(e,t="default"){const i=hve.find(n=>n.name===t);return i?i.colors.map(n=>e.color(n)):null}const Bt={base:"esri-feature-media",mediaContainer:"esri-feature-media__container",mediaItemContainer:"esri-feature-media__item-container",mediaItem:"esri-feature-media__item",mediaItemTitle:"esri-feature-media__item-title",mediaItemCaption:"esri-feature-media__item-caption",mediaPrevious:"esri-feature-media__previous",mediaPreviousIconLTR:"esri-feature-media__previous-icon",mediaPreviousIconRTL:"esri-feature-media__previous-icon--rtl",mediaNext:"esri-feature-media__next",mediaNextIconLTR:"esri-feature-media__next-icon",mediaNextIconRTL:"esri-feature-media__next-icon--rtl",mediaChart:"esri-feature-media__chart",mediaButton:"esri-feature-media__button",mediaIcon:"esri-feature-media__icon",iconLeftTriangleArrow:"esri-icon-left-triangle-arrow",iconRightTriangleArrow:"esri-icon-right-triangle-arrow"},A2=.05,O2=.95,P2=15;let zn=class extends Pn{constructor(e,t){super(e,t),this._refreshTimer=null,this._refreshIntervalInfo=null,this._featureElementInfo=null,this.attributes=null,this.activeMediaInfoIndex=null,this.description=null,this.fieldInfoMap=null,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null,this.viewModel=new yd,this.messages=null,this._getChartDependencies=async i=>{const n=await fve(),{destroyed:r,viewModel:a}=this;if(r||!a||!i)return;const{activeMediaInfo:o}=a;this._renderChart({chartDiv:i,mediaInfo:o,chartsModule:n})}}initialize(){this._featureElementInfo=new _E,this.own(Yt(this,["viewModel.activeMediaInfo","viewModel.activeMediaInfoIndex"],()=>this._setupMediaRefreshTimer()),Yt(this,["viewModel.description","viewModel.title"],()=>this._setupFeatureElementInfo()))}destroy(){this._clearMediaRefreshTimer(),this._featureElementInfo.destroy()}render(){var e;return F("div",{bind:this,class:Bt.base,onkeyup:this._handleMediaKeyup},(e=this._featureElementInfo)==null?void 0:e.render(),this.renderMedia())}renderMedia(){const{formattedMediaInfoCount:e}=this.viewModel;return e?F("div",{key:"media-element-container",class:Bt.mediaContainer},this.renderMediaPageButton("previous"),this.renderMediaInfo(),this.renderMediaPageButton("next")):null}renderImageMediaInfo(e){const{_refreshIntervalInfo:t}=this,{activeMediaInfoIndex:i,formattedMediaInfoCount:n}=this.viewModel,{value:r,refreshInterval:a,altText:o,title:s,type:l}=e,{sourceURL:u,linkURL:h}=r,m=Mj(h)?"_blank":"_self",f=m==="_blank"?"noreferrer":"",g=a?t:null,b=g?g.timestamp:0,v=g?g.sourceURL:u,w=F("img",{alt:o||s,key:`media-${l}-${i}-${n}-${b}`,src:v});return(h?F("a",{title:s,href:h,rel:f,target:m},w):null)||w}renderChartMediaInfo(e){const{activeMediaInfoIndex:t,formattedMediaInfoCount:i}=this.viewModel;return F("div",{key:`media-${e.type}-${t}-${i}`,bind:this,class:Bt.mediaChart,afterCreate:this._getChartDependencies})}renderMediaInfoType(){const{activeMediaInfo:e}=this.viewModel;return e?e.type==="image"?this.renderImageMediaInfo(e):e.type.indexOf("chart")!==-1?this.renderChartMediaInfo(e):null:null}renderMediaInfo(){const{activeMediaInfo:e}=this.viewModel;if(!e)return null;const t=e.title?F("div",{key:"media-title",class:Bt.mediaItemTitle,innerHTML:e.title}):null,i=e.caption?F("div",{key:"media-caption",class:Bt.mediaItemCaption,innerHTML:e.caption}):null;return F("div",{key:"media-container",class:Bt.mediaItemContainer},F("div",{key:"media-item-container",class:Bt.mediaItem},this.renderMediaInfoType()),t,i)}renderMediaPageButton(e){if(this.viewModel.formattedMediaInfoCount<2)return null;const t=e==="previous",i=t?this.messages.previous:this.messages.next,n=t?this.classes(Bt.mediaButton,Bt.mediaPrevious):this.classes(Bt.mediaButton,Bt.mediaNext),r=t?this.classes(Bt.mediaIcon,Bt.mediaPreviousIconLTR,Bt.iconLeftTriangleArrow):this.classes(Bt.mediaIcon,Bt.mediaNextIconLTR,Bt.iconRightTriangleArrow),a=t?this.classes(Bt.mediaIcon,Bt.mediaPreviousIconRTL,Bt.iconRightTriangleArrow):this.classes(Bt.mediaIcon,Bt.mediaNextIconRTL,Bt.iconLeftTriangleArrow),o=t?"media-previous":"media-next",s=t?this._previous:this._next;return F("button",{type:"button",key:o,title:i,"aria-label":i,tabIndex:0,class:n,bind:this,onclick:s},F("span",{"aria-hidden":"true",class:r}),F("span",{"aria-hidden":"true",class:a}))}_setupFeatureElementInfo(){const{description:e,title:t}=this;this._featureElementInfo.set({description:e,title:t})}_next(){this.viewModel.next()}_previous(){this.viewModel.previous()}_handleMediaKeyup(e){const t=Xu(e);t==="ArrowLeft"&&(e.stopPropagation(),this.viewModel.previous()),t==="ArrowRight"&&(e.stopPropagation(),this.viewModel.next())}_renderChart(e){const{abilities:t}=this.viewModel,{chartsModule:i,chartDiv:n,mediaInfo:r}=e,{value:a,type:o}=r,{am4core:s}=i,l=gve(s);function u(f){f instanceof s.ColorSet&&l&&(f.list=l)}Sj()&&s.useTheme(i.am4themes_dark);const h=window.matchMedia("(prefers-reduced-motion: reduce)");t.chartAnimation&&!h.matches?s.useTheme(i.am4themes_animated):s.unuseTheme(i.am4themes_animated),s.useTheme(u);const m=o==="pie-chart"?this._createPieChart(e):this._createXYChart(e);n.setAttribute("aria-label",r.altText||r.title),m.data=a.series.map(f=>({tooltip:f.tooltip,value:f.value})).filter(f=>o!=="pie-chart"||f.value>0)}_customizeChartTooltip(e,t){e.label.wrap=!0,e.label.maxWidth=200,e.autoTextColor=!1,e.getFillFromObject=!1,e.label.fill=t.color("#ffffff"),e.background.fill=t.color({r:0,g:0,b:0,a:.7})}_createPieChart(e){const{chartDiv:t,chartsModule:i}=e,{am4core:n,am4charts:r}=i,a=n.create(t,r.PieChart);a.rtl=$c(this.container);const o=a.series.push(new r.PieSeries);return o.labels.template.disabled=!0,o.ticks.template.disabled=!0,o.dataFields.value="value",o.dataFields.category="tooltip",this._customizeChartTooltip(o.tooltip,n),o.slices.template.tooltipText=a.rtl?"{category}: %{value.percent.formatNumber('#.0')}":"{category}: {value.percent.formatNumber('#.0')}%",a}_getMinSeriesValue(e){let t=0;return e.forEach(i=>t=Math.min(i.value,t)),t}_createColumnChart(e,t){const{chartsModule:i,mediaInfo:n}=t,{value:r}=n,{am4core:a,am4charts:o}=i,s=e.xAxes.push(new o.CategoryAxis);s.dataFields.category="tooltip",s.renderer.labels.template.disabled=!0,this._customizeChartTooltip(s.tooltip,a),s.tooltip.events.on("sizechanged",()=>{s.tooltip.dy=-s.tooltip.contentHeight});const l=e.yAxes.push(new o.ValueAxis),u=l.renderer.labels.template;l.renderer.minLabelPosition=A2,l.renderer.maxLabelPosition=O2,l.min=this._getMinSeriesValue(r.series),this._customizeChartTooltip(l.tooltip,a),u.wrap=!0;const h=e.series.push(new o.ColumnSeries);h.dataFields.valueY="value",h.dataFields.categoryX="tooltip",e.cursor=new o.XYCursor,r.series.length>P2&&(e.scrollbarX=new a.Scrollbar)}_createBarChart(e,t){const{chartsModule:i,mediaInfo:n}=t,{value:r}=n,{am4core:a,am4charts:o}=i,s=e.yAxes.push(new o.CategoryAxis);s.dataFields.category="tooltip",s.renderer.inversed=!0,s.renderer.labels.template.disabled=!0,this._customizeChartTooltip(s.tooltip,a),s.tooltip.events.on("sizechanged",()=>{s.tooltip.dx=s.tooltip.contentWidth});const l=e.xAxes.push(new o.ValueAxis),u=l.renderer.labels.template;l.renderer.minLabelPosition=A2,l.renderer.maxLabelPosition=O2,l.min=this._getMinSeriesValue(r.series),this._customizeChartTooltip(l.tooltip,a),u.wrap=!0;const h=e.series.push(new o.ColumnSeries);h.dataFields.valueX="value",h.dataFields.categoryY="tooltip",e.cursor=new o.XYCursor,r.series.length>P2&&(e.scrollbarY=new a.Scrollbar)}_createLineChart(e,t){const{chartsModule:i,mediaInfo:n}=t,{value:r}=n,{am4core:a,am4charts:o}=i,s=e.xAxes.push(new o.CategoryAxis);s.dataFields.category="tooltip",s.renderer.labels.template.disabled=!0,this._customizeChartTooltip(s.tooltip,a),s.tooltip.events.on("sizechanged",()=>{s.tooltip.dy=-s.tooltip.contentHeight});const l=e.yAxes.push(new o.ValueAxis),u=l.renderer.labels.template;l.renderer.minLabelPosition=A2,l.renderer.maxLabelPosition=O2,l.min=this._getMinSeriesValue(r.series),this._customizeChartTooltip(l.tooltip,a),u.wrap=!0;const h=e.series.push(new o.LineSeries);h.dataFields.categoryX="tooltip",h.dataFields.valueY="value",e.cursor=new o.XYCursor,r.series.length>P2&&(e.scrollbarX=new a.Scrollbar)}_createXYChart(e){const{chartDiv:t,chartsModule:i,mediaInfo:n}=e,{type:r}=n,{am4core:a,am4charts:o}=i,s=a.create(t,o.XYChart);return s.rtl=$c(this.container),r==="column-chart"&&this._createColumnChart(s,e),r==="bar-chart"&&this._createBarChart(s,e),r==="line-chart"&&this._createLineChart(s,e),s}_clearMediaRefreshTimer(){const{_refreshTimer:e}=this;e&&(clearTimeout(e),this._refreshTimer=null)}_updateMediaInfoTimestamp(e){const t=Date.now();this._refreshIntervalInfo={timestamp:t,sourceURL:this._getImageSource(e,t)},this.scheduleRender()}_setupMediaRefreshTimer(){this._clearMediaRefreshTimer();const{activeMediaInfo:e}=this.viewModel;e&&e.type==="image"&&e.refreshInterval&&this._setRefreshTimeout(e)}_setRefreshTimeout(e){const{refreshInterval:t,value:i}=e;if(!t)return;const n=6e4*t;this._updateMediaInfoTimestamp(i.sourceURL);const r=setInterval(()=>{this._updateMediaInfoTimestamp(i.sourceURL)},n);this._refreshTimer=r}_getImageSource(e,t){const i=e.indexOf("?")!==-1?"&":"?",[n,r=""]=e.split("#");return`${n}${i}timestamp=${t}${r?"#":""}${r}`}};c([ke("viewModel.attributes")],zn.prototype,"attributes",void 0),c([ke("viewModel.activeMediaInfoIndex")],zn.prototype,"activeMediaInfoIndex",void 0),c([ke("viewModel.description")],zn.prototype,"description",void 0),c([ke("viewModel.fieldInfoMap")],zn.prototype,"fieldInfoMap",void 0),c([ke("viewModel.layer")],zn.prototype,"layer",void 0),c([ke("viewModel.mediaInfos")],zn.prototype,"mediaInfos",void 0),c([ke("viewModel.popupTemplate")],zn.prototype,"popupTemplate",void 0),c([ke("viewModel.relatedInfos")],zn.prototype,"relatedInfos",void 0),c([ke("viewModel.title")],zn.prototype,"title",void 0),c([d({type:yd})],zn.prototype,"viewModel",void 0),c([d(),Kn("esri/widgets/Feature/t9n/Feature")],zn.prototype,"messages",void 0),zn=c([D("esri.widgets.Feature.FeatureMedia")],zn);const DV=zn;class yve{constructor(t,i){this.definition=null,this.context=null,this.definition=t,this.context=i}}class ds{constructor(t=[]){this._elements=t}length(){return this._elements.length}get(t){return this._elements[t]}toArray(){const t=[];for(let i=0;i<this.length();i++)t.push(this.get(i));return t}}class sh extends ds{constructor(t,i,n,r,a,o){super(t),this._lazyPt=[],this._hasZ=!1,this._hasM=!1,this._spRef=i,this._hasZ=n,this._hasM=r,this._cacheId=a,this._partId=o}get(t){if(this._lazyPt[t]===void 0){const i=this._elements[t];if(i===void 0)return;const n=this._hasZ,r=this._hasM;let a=null;a=n&&!r?new Ie(i[0],i[1],i[2],void 0,this._spRef):r&&!n?new Ie(i[0],i[1],void 0,i[2],this._spRef):n&&r?new Ie(i[0],i[1],i[2],i[3],this._spRef):new Ie(i[0],i[1],this._spRef),a.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+t.toString(),this._lazyPt[t]=a}return this._lazyPt[t]}equalityTest(t){return t===this||t!==null&&t instanceof sh&&t.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()+"-"+this._partId.toString()}}class AE extends ds{constructor(t,i,n,r,a){super(t),this._lazyPath=[],this._hasZ=!1,this._hasM=!1,this._hasZ=n,this._hasM=r,this._spRef=i,this._cacheId=a}get(t){if(this._lazyPath[t]===void 0){const i=this._elements[t];if(i===void 0)return;this._lazyPath[t]=new sh(i,this._spRef,this._hasZ,this._hasM,this._cacheId,t)}return this._lazyPath[t]}equalityTest(t){return t===this||t!==null&&t instanceof AE&&t.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()}}class lh extends Error{}class bve extends lh{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class vve extends lh{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class wve extends lh{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class D0 extends lh{}class $V extends lh{constructor(t){super(`Invalid unit ${t}`)}}class na extends lh{}class El extends lh{constructor(){super("Zone is an abstract class")}}const de="numeric",oo="short",Cr="long",LD={year:de,month:de,day:de},CV={year:de,month:oo,day:de},xve={year:de,month:oo,day:de,weekday:oo},IV={year:de,month:Cr,day:de},EV={year:de,month:Cr,day:de,weekday:Cr},TV={hour:de,minute:de},MV={hour:de,minute:de,second:de},AV={hour:de,minute:de,second:de,timeZoneName:oo},OV={hour:de,minute:de,second:de,timeZoneName:Cr},PV={hour:de,minute:de,hourCycle:"h23"},LV={hour:de,minute:de,second:de,hourCycle:"h23"},RV={hour:de,minute:de,second:de,hourCycle:"h23",timeZoneName:oo},FV={hour:de,minute:de,second:de,hourCycle:"h23",timeZoneName:Cr},NV={year:de,month:de,day:de,hour:de,minute:de},zV={year:de,month:de,day:de,hour:de,minute:de,second:de},jV={year:de,month:oo,day:de,hour:de,minute:de},VV={year:de,month:oo,day:de,hour:de,minute:de,second:de},kve={year:de,month:oo,day:de,weekday:oo,hour:de,minute:de},HV={year:de,month:Cr,day:de,hour:de,minute:de,timeZoneName:oo},qV={year:de,month:Cr,day:de,hour:de,minute:de,second:de,timeZoneName:oo},BV={year:de,month:Cr,day:de,weekday:Cr,hour:de,minute:de,timeZoneName:Cr},UV={year:de,month:Cr,day:de,weekday:Cr,hour:de,minute:de,second:de,timeZoneName:Cr};function rt(e){return typeof e=="undefined"}function Ed(e){return typeof e=="number"}function Fk(e){return typeof e=="number"&&e%1===0}function _ve(e){return typeof e=="string"}function Sve(e){return Object.prototype.toString.call(e)==="[object Date]"}function GV(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Dve(e){return Array.isArray(e)?e:[e]}function PL(e,t,i){if(e.length!==0)return e.reduce((n,r)=>{const a=[t(r),r];return n&&i(n[0],a[0])===n[0]?n:a},null)[1]}function $ve(e,t){return t.reduce((i,n)=>(i[n]=e[n],i),{})}function xm(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function il(e,t,i){return Fk(e)&&e>=t&&e<=i}function Cve(e,t){return e-t*Math.floor(e/t)}function ki(e,t=2){const i=e<0;let n;return i?n="-"+(""+-e).padStart(t,"0"):n=(""+e).padStart(t,"0"),n}function hc(e){if(!(rt(e)||e===null||e===""))return parseInt(e,10)}function su(e){if(!(rt(e)||e===null||e===""))return parseFloat(e)}function OE(e){if(!(rt(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function PE(e,t,i=!1){const n=10**t;return(i?Math.trunc:Math.round)(e*n)/n}function Wy(e){return e%4===0&&(e%100!==0||e%400===0)}function gg(e){return Wy(e)?366:365}function vx(e,t){const i=Cve(t-1,12)+1,n=e+(t-i)/12;return i===2?Wy(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function LE(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function wx(e){const t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,i=e-1,n=(i+Math.floor(i/4)-Math.floor(i/100)+Math.floor(i/400))%7;return t===4||n===3?53:52}function RD(e){return e>99?e:e>60?1900+e:2e3+e}function WV(e,t,i,n=null){const r=new Date(e),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(a.timeZone=n);const o=$({timeZoneName:t},a),s=new Intl.DateTimeFormat(i,o).formatToParts(r).find(l=>l.type.toLowerCase()==="timezonename");return s?s.value:null}function Nk(e,t){let i=parseInt(e,10);Number.isNaN(i)&&(i=0);const n=parseInt(t,10)||0,r=i<0||Object.is(i,-0)?-n:n;return i*60+r}function JV(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new na(`Invalid unit value ${e}`);return t}function xx(e,t){const i={};for(const n in e)if(xm(e,n)){const r=e[n];if(r==null)continue;i[t(n)]=JV(r)}return i}function kx(e,t){const i=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),r=e>=0?"+":"-";switch(t){case"short":return`${r}${ki(i,2)}:${ki(n,2)}`;case"narrow":return`${r}${i}${n>0?`:${n}`:""}`;case"techie":return`${r}${ki(i,2)}${ki(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function zk(e){return $ve(e,["hour","minute","second","millisecond"])}const Ive=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z0-9_+-]{1,256}(\/[A-Za-z0-9_+-]{1,256})?)?/,Eve=["January","February","March","April","May","June","July","August","September","October","November","December"],KV=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Tve=["J","F","M","A","M","J","J","A","S","O","N","D"];function YV(e){switch(e){case"narrow":return[...Tve];case"short":return[...KV];case"long":return[...Eve];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const ZV=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],XV=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Mve=["M","T","W","T","F","S","S"];function QV(e){switch(e){case"narrow":return[...Mve];case"short":return[...XV];case"long":return[...ZV];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const eH=["AM","PM"],Ave=["Before Christ","Anno Domini"],Ove=["BC","AD"],Pve=["B","A"];function tH(e){switch(e){case"narrow":return[...Pve];case"short":return[...Ove];case"long":return[...Ave];default:return null}}function Lve(e){return eH[e.hour<12?0:1]}function Rve(e,t){return QV(t)[e.weekday-1]}function Fve(e,t){return YV(t)[e.month-1]}function Nve(e,t){return tH(t)[e.year<0?0:1]}function zve(e,t,i="always",n=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=["hours","minutes","seconds"].indexOf(e)===-1;if(i==="auto"&&a){const m=e==="days";switch(t){case 1:return m?"tomorrow":`next ${r[e][0]}`;case-1:return m?"yesterday":`last ${r[e][0]}`;case 0:return m?"today":`this ${r[e][0]}`}}const o=Object.is(t,-0)||t<0,s=Math.abs(t),l=s===1,u=r[e],h=n?l?u[1]:u[2]||u[1]:l?r[e][0]:e;return o?`${s} ${h} ago`:`in ${s} ${h}`}function LL(e,t){let i="";for(const n of e)n.literal?i+=n.val:i+=t(n.val);return i}const jve={D:LD,DD:CV,DDD:IV,DDDD:EV,t:TV,tt:MV,ttt:AV,tttt:OV,T:PV,TT:LV,TTT:RV,TTTT:FV,f:NV,ff:jV,fff:HV,ffff:BV,F:zV,FF:VV,FFF:qV,FFFF:UV};class Gn{static create(t,i={}){return new Gn(t,i)}static parseFormat(t){let i=null,n="",r=!1;const a=[];for(let o=0;o<t.length;o++){const s=t.charAt(o);s==="'"?(n.length>0&&a.push({literal:r,val:n}),i=null,n="",r=!r):r||s===i?n+=s:(n.length>0&&a.push({literal:!1,val:n}),n=s,i=s)}return n.length>0&&a.push({literal:r,val:n}),a}static macroTokenToFormatOpts(t){return jve[t]}constructor(t,i){this.opts=i,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,$($({},this.opts),i)).format()}formatDateTime(t,i={}){return this.loc.dtFormatter(t,$($({},this.opts),i)).format()}formatDateTimeParts(t,i={}){return this.loc.dtFormatter(t,$($({},this.opts),i)).formatToParts()}resolvedOptions(t,i={}){return this.loc.dtFormatter(t,$($({},this.opts),i)).resolvedOptions()}num(t,i=0){if(this.opts.forceSimple)return ki(t,i);const n=$({},this.opts);return i>0&&(n.padTo=i),this.loc.numberFormatter(n).format(t)}formatDateTimeFromString(t,i){const n=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",a=(g,b)=>this.loc.extract(t,g,b),o=g=>t.isOffsetFixed&&t.offset===0&&g.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,g.format):"",s=()=>n?Lve(t):a({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(g,b)=>n?Fve(t,g):a(b?{month:g}:{month:g,day:"numeric"},"month"),u=(g,b)=>n?Rve(t,g):a(b?{weekday:g}:{weekday:g,month:"long",day:"numeric"},"weekday"),h=g=>{const b=Gn.macroTokenToFormatOpts(g);return b?this.formatWithSystemDefault(t,b):g},m=g=>n?Nve(t,g):a({era:g},"era"),f=g=>{switch(g){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return s();case"d":return r?a({day:"numeric"},"day"):this.num(t.day);case"dd":return r?a({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return r?a({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return r?a({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return r?a({month:"numeric"},"month"):this.num(t.month);case"MM":return r?a({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return r?a({year:"numeric"},"year"):this.num(t.year);case"yy":return r?a({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return r?a({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return r?a({year:"numeric"},"year"):this.num(t.year,6);case"G":return m("short");case"GG":return m("long");case"GGGGG":return m("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return h(g)}};return LL(Gn.parseFormat(i),f)}formatDurationFromString(t,i){const n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},r=l=>u=>{const h=n(u);return h?this.num(l.get(h),u.length):u},a=Gn.parseFormat(i),o=a.reduce((l,{literal:u,val:h})=>u?l:l.concat(h),[]),s=t.shiftTo(...o.map(n).filter(l=>l));return LL(a,r(s))}}class Xa{constructor(t,i){this.reason=t,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class Jy{get type(){throw new El}get name(){throw new El}get isUniversal(){throw new El}offsetName(t,i){throw new El}formatOffset(t,i){throw new El}offset(t){throw new El}equals(t){throw new El}get isValid(){throw new El}}let L2=null;class RE extends Jy{static get instance(){return L2===null&&(L2=new RE),L2}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:i,locale:n}){return WV(t,i,n)}formatOffset(t,i){return kx(this.offset(t),i)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let S1={};function Vve(e){return S1[e]||(S1[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),S1[e]}const Hve={year:0,month:1,day:2,hour:3,minute:4,second:5};function qve(e,t){const i=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(i),[,r,a,o,s,l,u]=n;return[o,r,a,s,l,u]}function Bve(e,t){const i=e.formatToParts(t),n=[];for(let r=0;r<i.length;r++){const{type:a,value:o}=i[r],s=Hve[a];rt(s)||(n[s]=parseInt(o,10))}return n}let nv={};class hl extends Jy{static create(t){return nv[t]||(nv[t]=new hl(t)),nv[t]}static resetCache(){nv={},S1={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super();this.zoneName=t,this.valid=hl.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:i,locale:n}){return WV(t,i,n,this.name)}formatOffset(t,i){return kx(this.offset(t),i)}offset(t){const i=new Date(t);if(isNaN(i))return NaN;const n=Vve(this.name),[r,a,o,s,l,u]=n.formatToParts?Bve(n,i):qve(n,i),m=LE({year:r,month:a,day:o,hour:s===24?0:s,minute:l,second:u,millisecond:0});let f=+i;const g=f%1e3;return f-=g>=0?g:1e3+g,(m-f)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let R2=null;class En extends Jy{static get utcInstance(){return R2===null&&(R2=new En(0)),R2}static instance(t){return t===0?En.utcInstance:new En(t)}static parseSpecifier(t){if(t){const i=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new En(Nk(i[1],i[2]))}return null}constructor(t){super();this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${kx(this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,i){return kx(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class Uve extends Jy{constructor(t){super();this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function bc(e,t){if(rt(e)||e===null)return t;if(e instanceof Jy)return e;if(_ve(e)){const i=e.toLowerCase();return i==="local"||i==="system"?t:i==="utc"||i==="gmt"?En.utcInstance:En.parseSpecifier(i)||hl.create(e)}else return Ed(e)?En.instance(e):typeof e=="object"&&e.offset&&typeof e.offset=="number"?e:new Uve(e)}let RL=()=>Date.now(),FL="system",NL=null,zL=null,jL=null,VL;class Pi{static get now(){return RL}static set now(t){RL=t}static set defaultZone(t){FL=t}static get defaultZone(){return bc(FL,RE.instance)}static get defaultLocale(){return NL}static set defaultLocale(t){NL=t}static get defaultNumberingSystem(){return zL}static set defaultNumberingSystem(t){zL=t}static get defaultOutputCalendar(){return jL}static set defaultOutputCalendar(t){jL=t}static get throwOnInvalid(){return VL}static set throwOnInvalid(t){VL=t}static resetCaches(){Jt.resetCache(),hl.resetCache()}}let HL={};function Gve(e,t={}){const i=JSON.stringify([e,t]);let n=HL[i];return n||(n=new Intl.ListFormat(e,t),HL[i]=n),n}let FD={};function ND(e,t={}){const i=JSON.stringify([e,t]);let n=FD[i];return n||(n=new Intl.DateTimeFormat(e,t),FD[i]=n),n}let zD={};function Wve(e,t={}){const i=JSON.stringify([e,t]);let n=zD[i];return n||(n=new Intl.NumberFormat(e,t),zD[i]=n),n}let jD={};function Jve(e,t={}){const o=t,{base:i}=o,n=g_(o,["base"]),r=JSON.stringify([e,n]);let a=jD[r];return a||(a=new Intl.RelativeTimeFormat(e,t),jD[r]=a),a}let $0=null;function Kve(){return $0||($0=new Intl.DateTimeFormat().resolvedOptions().locale,$0)}function Yve(e){const t=e.indexOf("-u-");if(t===-1)return[e];{let i;const n=e.substring(0,t);try{i=ND(e).resolvedOptions()}catch{i=ND(n).resolvedOptions()}const{numberingSystem:r,calendar:a}=i;return[n,r,a]}}function Zve(e,t,i){return(i||t)&&(e+="-u",i&&(e+=`-ca-${i}`),t&&(e+=`-nu-${t}`)),e}function Xve(e){const t=[];for(let i=1;i<=12;i++){const n=Ne.utc(2016,i,1);t.push(e(n))}return t}function Qve(e){const t=[];for(let i=1;i<=7;i++){const n=Ne.utc(2016,11,13+i);t.push(e(n))}return t}function rv(e,t,i,n,r){const a=e.listingMode(i);return a==="error"?null:a==="en"?n(t):r(t)}function e1e(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class t1e{constructor(t,i,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const s=n,{padTo:r,floor:a}=s,o=g_(s,["padTo","floor"]);if(!i||Object.keys(o).length>0){const l=$({useGrouping:!1},n);n.padTo>0&&(l.minimumIntegerDigits=n.padTo),this.inf=Wve(t,l)}}format(t){if(this.inf){const i=this.floor?Math.floor(t):t;return this.inf.format(i)}else{const i=this.floor?Math.floor(t):PE(t,3);return ki(i,this.padTo)}}}class i1e{constructor(t,i,n){this.opts=n;let r;if(t.zone.isUniversal){const o=-1*(t.offset/60),s=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;t.offset!==0&&hl.create(s).valid?(r=s,this.dt=t):(r="UTC",n.timeZoneName?this.dt=t:this.dt=t.offset===0?t:Ne.fromMillis(t.ts+t.offset*60*1e3))}else t.zone.type==="system"?this.dt=t:(this.dt=t,r=t.zone.name);const a=$({},this.opts);r&&(a.timeZone=r),this.dtf=ND(i,a)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class n1e{constructor(t,i,n){this.opts=$({style:"long"},n),!i&&GV()&&(this.rtf=Jve(t,n))}format(t,i){return this.rtf?this.rtf.format(t,i):zve(i,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,i){return this.rtf?this.rtf.formatToParts(t,i):[]}}class Jt{static fromOpts(t){return Jt.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)}static create(t,i,n,r=!1){const a=t||Pi.defaultLocale,o=a||(r?"en-US":Kve()),s=i||Pi.defaultNumberingSystem,l=n||Pi.defaultOutputCalendar;return new Jt(o,s,l,a)}static resetCache(){$0=null,FD={},zD={},jD={}}static fromObject({locale:t,numberingSystem:i,outputCalendar:n}={}){return Jt.create(t,i,n)}constructor(t,i,n,r){const[a,o,s]=Yve(t);this.locale=a,this.numberingSystem=i||o||null,this.outputCalendar=n||s||null,this.intl=Zve(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=e1e(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&i?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:Jt.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone(le($({},t),{defaultToEN:!0}))}redefaultToSystem(t={}){return this.clone(le($({},t),{defaultToEN:!1}))}months(t,i=!1,n=!0){return rv(this,t,n,YV,()=>{const r=i?{month:t,day:"numeric"}:{month:t},a=i?"format":"standalone";return this.monthsCache[a][t]||(this.monthsCache[a][t]=Xve(o=>this.extract(o,r,"month"))),this.monthsCache[a][t]})}weekdays(t,i=!1,n=!0){return rv(this,t,n,QV,()=>{const r=i?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},a=i?"format":"standalone";return this.weekdaysCache[a][t]||(this.weekdaysCache[a][t]=Qve(o=>this.extract(o,r,"weekday"))),this.weekdaysCache[a][t]})}meridiems(t=!0){return rv(this,void 0,t,()=>eH,()=>{if(!this.meridiemCache){const i={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Ne.utc(2016,11,13,9),Ne.utc(2016,11,13,19)].map(n=>this.extract(n,i,"dayperiod"))}return this.meridiemCache})}eras(t,i=!0){return rv(this,t,i,tH,()=>{const n={era:t};return this.eraCache[t]||(this.eraCache[t]=[Ne.utc(-40,1,1),Ne.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[t]})}extract(t,i,n){const r=this.dtFormatter(t,i),a=r.formatToParts(),o=a.find(s=>s.type.toLowerCase()===n);return o?o.value:null}numberFormatter(t={}){return new t1e(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,i={}){return new i1e(t,this.intl,i)}relFormatter(t={}){return new n1e(this.intl,this.isEnglish(),t)}listFormatter(t={}){return Gve(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}function Km(...e){const t=e.reduce((i,n)=>i+n.source,"");return RegExp(`^${t}$`)}function ch(...e){return t=>e.reduce(([i,n,r],a)=>{const[o,s,l]=a(t,r);return[$($({},i),o),n||s,l]},[{},null,1]).slice(0,2)}function Ym(e,...t){if(e==null)return[null,null];for(const[i,n]of t){const r=i.exec(e);if(r)return n(r)}return[null,null]}function iH(...e){return(t,i)=>{const n={};let r;for(r=0;r<e.length;r++)n[e[r]]=hc(t[i+r]);return[n,null,i+r]}}const nH=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,FE=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,rH=RegExp(`${FE.source}${nH.source}?`),NE=RegExp(`(?:T${rH.source})?`),r1e=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,a1e=/(\d{4})-?W(\d\d)(?:-?(\d))?/,o1e=/(\d{4})-?(\d{3})/,s1e=iH("weekYear","weekNumber","weekDay"),l1e=iH("year","ordinal"),c1e=/(\d{4})-(\d\d)-(\d\d)/,aH=RegExp(`${FE.source} ?(?:${nH.source}|(${Ive.source}))?`),u1e=RegExp(`(?: ${aH.source})?`);function Yp(e,t,i){const n=e[t];return rt(n)?i:hc(n)}function oH(e,t){return[{year:Yp(e,t),month:Yp(e,t+1,1),day:Yp(e,t+2,1)},null,t+3]}function uh(e,t){return[{hours:Yp(e,t,0),minutes:Yp(e,t+1,0),seconds:Yp(e,t+2,0),milliseconds:OE(e[t+3])},null,t+4]}function Zm(e,t){const i=!e[t]&&!e[t+1],n=Nk(e[t+1],e[t+2]),r=i?null:En.instance(n);return[{},r,t+3]}function sH(e,t){const i=e[t]?hl.create(e[t]):null;return[{},i,t+1]}const d1e=RegExp(`^T?${FE.source}$`),h1e=/^-?P(?:(?:(-?\d{1,9}(?:\.\d{1,9})?)Y)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,9}(?:\.\d{1,9})?)W)?(?:(-?\d{1,9}(?:\.\d{1,9})?)D)?(?:T(?:(-?\d{1,9}(?:\.\d{1,9})?)H)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function p1e(e){const[t,i,n,r,a,o,s,l,u]=e,h=t[0]==="-",m=l&&l[0]==="-",f=(g,b=!1)=>g!==void 0&&(b||g&&h)?-g:g;return[{years:f(su(i)),months:f(su(n)),weeks:f(su(r)),days:f(su(a)),hours:f(su(o)),minutes:f(su(s)),seconds:f(su(l),l==="-0"),milliseconds:f(OE(u),m)}]}const m1e={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function zE(e,t,i,n,r,a,o){const s={year:t.length===2?RD(hc(t)):hc(t),month:KV.indexOf(i)+1,day:hc(n),hour:hc(r),minute:hc(a)};return o&&(s.second=hc(o)),e&&(s.weekday=e.length>3?ZV.indexOf(e)+1:XV.indexOf(e)+1),s}const f1e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function g1e(e){const[,t,i,n,r,a,o,s,l,u,h,m]=e,f=zE(t,r,n,i,a,o,s);let g;return l?g=m1e[l]:u?g=0:g=Nk(h,m),[f,new En(g)]}function y1e(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const b1e=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,v1e=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,w1e=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function qL(e){const[,t,i,n,r,a,o,s]=e;return[zE(t,r,n,i,a,o,s),En.utcInstance]}function x1e(e){const[,t,i,n,r,a,o,s]=e;return[zE(t,s,i,n,r,a,o),En.utcInstance]}const k1e=Km(r1e,NE),_1e=Km(a1e,NE),S1e=Km(o1e,NE),D1e=Km(rH),$1e=ch(oH,uh,Zm),C1e=ch(s1e,uh,Zm),I1e=ch(l1e,uh,Zm),E1e=ch(uh,Zm);function T1e(e){return Ym(e,[k1e,$1e],[_1e,C1e],[S1e,I1e],[D1e,E1e])}function M1e(e){return Ym(y1e(e),[f1e,g1e])}function A1e(e){return Ym(e,[b1e,qL],[v1e,qL],[w1e,x1e])}function O1e(e){return Ym(e,[h1e,p1e])}const P1e=ch(uh);function L1e(e){return Ym(e,[d1e,P1e])}const R1e=Km(c1e,u1e),F1e=Km(aH),N1e=ch(oH,uh,Zm,sH),z1e=ch(uh,Zm,sH);function j1e(e){return Ym(e,[R1e,N1e],[F1e,z1e])}const V1e="Invalid Duration",lH={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},H1e=$({years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3}},lH),jr=146097/400,kh=146097/4800,q1e=$({years:{quarters:4,months:12,weeks:jr/7,days:jr,hours:jr*24,minutes:jr*24*60,seconds:jr*24*60*60,milliseconds:jr*24*60*60*1e3},quarters:{months:3,weeks:jr/28,days:jr/4,hours:jr*24/4,minutes:jr*24*60/4,seconds:jr*24*60*60/4,milliseconds:jr*24*60*60*1e3/4},months:{weeks:kh/7,days:kh,hours:kh*24,minutes:kh*24*60,seconds:kh*24*60*60,milliseconds:kh*24*60*60*1e3}},lH),Pu=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],B1e=Pu.slice(0).reverse();function lu(e,t,i=!1){const n={values:i?t.values:$($({},e.values),t.values||{}),loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy};return new lt(n)}function U1e(e){return e<0?Math.floor(e):Math.ceil(e)}function cH(e,t,i,n,r){const a=e[r][i],o=t[i]/a,s=Math.sign(o)===Math.sign(n[r]),l=!s&&n[r]!==0&&Math.abs(o)<=1?U1e(o):Math.trunc(o);n[r]+=l,t[i]-=l*a}function G1e(e,t){B1e.reduce((i,n)=>rt(t[n])?i:(i&&cH(e,t,i,t,n),n),null)}class lt{constructor(t){const i=t.conversionAccuracy==="longterm"||!1;this.values=t.values,this.loc=t.loc||Jt.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=i?q1e:H1e,this.isLuxonDuration=!0}static fromMillis(t,i){return lt.fromObject({milliseconds:t},i)}static fromObject(t,i={}){if(t==null||typeof t!="object")throw new na(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new lt({values:xx(t,lt.normalizeUnit),loc:Jt.fromObject(i),conversionAccuracy:i.conversionAccuracy})}static fromDurationLike(t){if(Ed(t))return lt.fromMillis(t);if(lt.isDuration(t))return t;if(typeof t=="object")return lt.fromObject(t);throw new na(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,i){const[n]=O1e(t);return n?lt.fromObject(n,i):lt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,i){const[n]=L1e(t);return n?lt.fromObject(n,i):lt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,i=null){if(!t)throw new na("need to specify a reason the Duration is invalid");const n=t instanceof Xa?t:new Xa(t,i);if(Pi.throwOnInvalid)throw new wve(n);return new lt({invalid:n})}static normalizeUnit(t){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!i)throw new $V(t);return i}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,i={}){const n=le($({},i),{floor:i.round!==!1&&i.floor!==!1});return this.isValid?Gn.create(this.loc,n).formatDurationFromString(this,t):V1e}toHuman(t={}){const i=Pu.map(n=>{const r=this.values[n];return rt(r)?null:this.loc.numberFormatter(le($({style:"unit",unitDisplay:"long"},t),{unit:n.slice(0,-1)})).format(r)}).filter(n=>n);return this.loc.listFormatter($({type:"conjunction",style:t.listStyle||"narrow"},t)).format(i)}toObject(){return this.isValid?$({},this.values):{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=PE(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const i=this.toMillis();if(i<0||i>=864e5)return null;t=$({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},t);const n=this.shiftTo("hours","minutes","seconds","milliseconds");let r=t.format==="basic"?"hhmm":"hh:mm";(!t.suppressSeconds||n.seconds!==0||n.milliseconds!==0)&&(r+=t.format==="basic"?"ss":":ss",(!t.suppressMilliseconds||n.milliseconds!==0)&&(r+=".SSS"));let a=n.toFormat(r);return t.includePrefix&&(a="T"+a),a}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const i=lt.fromDurationLike(t),n={};for(const r of Pu)(xm(i.values,r)||xm(this.values,r))&&(n[r]=i.get(r)+this.get(r));return lu(this,{values:n},!0)}minus(t){if(!this.isValid)return this;const i=lt.fromDurationLike(t);return this.plus(i.negate())}mapUnits(t){if(!this.isValid)return this;const i={};for(const n of Object.keys(this.values))i[n]=JV(t(this.values[n],n));return lu(this,{values:i},!0)}get(t){return this[lt.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const i=$($({},this.values),xx(t,lt.normalizeUnit));return lu(this,{values:i})}reconfigure({locale:t,numberingSystem:i,conversionAccuracy:n}={}){const r=this.loc.clone({locale:t,numberingSystem:i}),a={loc:r};return n&&(a.conversionAccuracy=n),lu(this,a)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return G1e(this.matrix,t),lu(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(o=>lt.normalizeUnit(o));const i={},n={},r=this.toObject();let a;for(const o of Pu)if(t.indexOf(o)>=0){a=o;let s=0;for(const u in n)s+=this.matrix[u][o]*n[u],n[u]=0;Ed(r[o])&&(s+=r[o]);const l=Math.trunc(s);i[o]=l,n[o]=(s*1e3-l*1e3)/1e3;for(const u in r)Pu.indexOf(u)>Pu.indexOf(o)&&cH(this.matrix,r,u,i,o)}else Ed(r[o])&&(n[o]=r[o]);for(const o in n)n[o]!==0&&(i[a]+=o===a?n[o]:n[o]/this.matrix[a][o]);return lu(this,{values:i},!0).normalize()}negate(){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=this.values[i]===0?0:-this.values[i];return lu(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function i(n,r){return n===void 0||n===0?r===void 0||r===0:n===r}for(const n of Pu)if(!i(this.values[n],t.values[n]))return!1;return!0}}const Of="Invalid Interval";function W1e(e,t){return!e||!e.isValid?ri.invalid("missing or invalid start"):!t||!t.isValid?ri.invalid("missing or invalid end"):t<e?ri.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class ri{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,i=null){if(!t)throw new na("need to specify a reason the Interval is invalid");const n=t instanceof Xa?t:new Xa(t,i);if(Pi.throwOnInvalid)throw new vve(n);return new ri({invalid:n})}static fromDateTimes(t,i){const n=Rf(t),r=Rf(i),a=W1e(n,r);return a==null?new ri({start:n,end:r}):a}static after(t,i){const n=lt.fromDurationLike(i),r=Rf(t);return ri.fromDateTimes(r,r.plus(n))}static before(t,i){const n=lt.fromDurationLike(i),r=Rf(t);return ri.fromDateTimes(r.minus(n),r)}static fromISO(t,i){const[n,r]=(t||"").split("/",2);if(n&&r){let a,o;try{a=Ne.fromISO(n,i),o=a.isValid}catch{o=!1}let s,l;try{s=Ne.fromISO(r,i),l=s.isValid}catch{l=!1}if(o&&l)return ri.fromDateTimes(a,s);if(o){const u=lt.fromISO(r,i);if(u.isValid)return ri.after(a,u)}else if(l){const u=lt.fromISO(n,i);if(u.isValid)return ri.before(s,u)}}return ri.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds"){if(!this.isValid)return NaN;const i=this.start.startOf(t),n=this.end.startOf(t);return Math.floor(n.diff(i,t).get(t))+1}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:i}={}){return this.isValid?ri.fromDateTimes(t||this.s,i||this.e):this}splitAt(...t){if(!this.isValid)return[];const i=t.map(Rf).filter(o=>this.contains(o)).sort(),n=[];let{s:r}=this,a=0;for(;r<this.e;){const o=i[a]||this.e,s=+o>+this.e?this.e:o;n.push(ri.fromDateTimes(r,s)),r=s,a+=1}return n}splitBy(t){const i=lt.fromDurationLike(t);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s:n}=this,r=1,a;const o=[];for(;n<this.e;){const s=this.start.plus(i.mapUnits(l=>l*r));a=+s>+this.e?this.e:s,o.push(ri.fromDateTimes(n,a)),n=a,r+=1}return o}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const i=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return i>=n?null:ri.fromDateTimes(i,n)}union(t){if(!this.isValid)return this;const i=this.s<t.s?this.s:t.s,n=this.e>t.e?this.e:t.e;return ri.fromDateTimes(i,n)}static merge(t){const[i,n]=t.sort((r,a)=>r.s-a.s).reduce(([r,a],o)=>a?a.overlaps(o)||a.abutsStart(o)?[r,a.union(o)]:[r.concat([a]),o]:[r,o],[[],null]);return n&&i.push(n),i}static xor(t){let i=null,n=0;const r=[],a=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...a),s=o.sort((l,u)=>l.time-u.time);for(const l of s)n+=l.type==="s"?1:-1,n===1?i=l.time:(i&&+i!=+l.time&&r.push(ri.fromDateTimes(i,l.time)),i=null);return ri.merge(r)}difference(...t){return ri.xor([this].concat(t)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Of}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Of}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Of}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Of}toFormat(t,{separator:i=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(t)}${i}${this.e.toFormat(t)}`:Of}toDuration(t,i){return this.isValid?this.e.diff(this.s,t,i):lt.invalid(this.invalidReason)}mapEndpoints(t){return ri.fromDateTimes(t(this.s),t(this.e))}}class av{static hasDST(t=Pi.defaultZone){const i=Ne.now().setZone(t).set({month:12});return!t.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(t){return hl.isValidZone(t)}static normalizeZone(t){return bc(t,Pi.defaultZone)}static months(t="long",{locale:i=null,numberingSystem:n=null,locObj:r=null,outputCalendar:a="gregory"}={}){return(r||Jt.create(i,n,a)).months(t)}static monthsFormat(t="long",{locale:i=null,numberingSystem:n=null,locObj:r=null,outputCalendar:a="gregory"}={}){return(r||Jt.create(i,n,a)).months(t,!0)}static weekdays(t="long",{locale:i=null,numberingSystem:n=null,locObj:r=null}={}){return(r||Jt.create(i,n,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:i=null,numberingSystem:n=null,locObj:r=null}={}){return(r||Jt.create(i,n,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return Jt.create(t).meridiems()}static eras(t="short",{locale:i=null}={}){return Jt.create(i,null,"gregory").eras(t)}static features(){return{relative:GV()}}}function BL(e,t){const i=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=i(t)-i(e);return Math.floor(lt.fromMillis(n).as("days"))}function J1e(e,t,i){const n=[["years",(s,l)=>l.year-s.year],["quarters",(s,l)=>l.quarter-s.quarter],["months",(s,l)=>l.month-s.month+(l.year-s.year)*12],["weeks",(s,l)=>{const u=BL(s,l);return(u-u%7)/7}],["days",BL]],r={};let a,o;for(const[s,l]of n)if(i.indexOf(s)>=0){a=s;let u=l(e,t);o=e.plus({[s]:u}),o>t?(e=e.plus({[s]:u-1}),u-=1):e=o,r[s]=u}return[e,r,o,a]}function K1e(e,t,i,n){let[r,a,o,s]=J1e(e,t,i);const l=t-r,u=i.filter(m=>["hours","minutes","seconds","milliseconds"].indexOf(m)>=0);u.length===0&&(o<t&&(o=r.plus({[s]:1})),o!==r&&(a[s]=(a[s]||0)+l/(o-r)));const h=lt.fromObject(a,n);return u.length>0?lt.fromMillis(l,n).shiftTo(...u).plus(h):h}const jE={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},UL={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Y1e=jE.hanidec.replace(/[\[|\]]/g,"").split("");function Z1e(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let i=0;i<e.length;i++){const n=e.charCodeAt(i);if(e[i].search(jE.hanidec)!==-1)t+=Y1e.indexOf(e[i]);else for(const r in UL){const[a,o]=UL[r];n>=a&&n<=o&&(t+=n-a)}}return parseInt(t,10)}else return t}function $a({numberingSystem:e},t=""){return new RegExp(`${jE[e||"latn"]}${t}`)}const X1e="missing Intl.DateTimeFormat.formatToParts support";function dt(e,t=i=>i){return{regex:e,deser:([i])=>t(Z1e(i))}}const Q1e=String.fromCharCode(160),uH=`( |${Q1e})`,dH=new RegExp(uH,"g");function ewe(e){return e.replace(/\./g,"\\.?").replace(dH,uH)}function GL(e){return e.replace(/\./g,"").replace(dH," ").toLowerCase()}function Ca(e,t){return e===null?null:{regex:RegExp(e.map(ewe).join("|")),deser:([i])=>e.findIndex(n=>GL(i)===GL(n))+t}}function WL(e,t){return{regex:e,deser:([,i,n])=>Nk(i,n),groups:t}}function F2(e){return{regex:e,deser:([t])=>t}}function twe(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function iwe(e,t){const i=$a(t),n=$a(t,"{2}"),r=$a(t,"{3}"),a=$a(t,"{4}"),o=$a(t,"{6}"),s=$a(t,"{1,2}"),l=$a(t,"{1,3}"),u=$a(t,"{1,6}"),h=$a(t,"{1,9}"),m=$a(t,"{2,4}"),f=$a(t,"{4,6}"),g=w=>({regex:RegExp(twe(w.val)),deser:([x])=>x,literal:!0}),v=(w=>{if(e.literal)return g(w);switch(w.val){case"G":return Ca(t.eras("short",!1),0);case"GG":return Ca(t.eras("long",!1),0);case"y":return dt(u);case"yy":return dt(m,RD);case"yyyy":return dt(a);case"yyyyy":return dt(f);case"yyyyyy":return dt(o);case"M":return dt(s);case"MM":return dt(n);case"MMM":return Ca(t.months("short",!0,!1),1);case"MMMM":return Ca(t.months("long",!0,!1),1);case"L":return dt(s);case"LL":return dt(n);case"LLL":return Ca(t.months("short",!1,!1),1);case"LLLL":return Ca(t.months("long",!1,!1),1);case"d":return dt(s);case"dd":return dt(n);case"o":return dt(l);case"ooo":return dt(r);case"HH":return dt(n);case"H":return dt(s);case"hh":return dt(n);case"h":return dt(s);case"mm":return dt(n);case"m":return dt(s);case"q":return dt(s);case"qq":return dt(n);case"s":return dt(s);case"ss":return dt(n);case"S":return dt(l);case"SSS":return dt(r);case"u":return F2(h);case"uu":return F2(s);case"uuu":return dt(i);case"a":return Ca(t.meridiems(),0);case"kkkk":return dt(a);case"kk":return dt(m,RD);case"W":return dt(s);case"WW":return dt(n);case"E":case"c":return dt(i);case"EEE":return Ca(t.weekdays("short",!1,!1),1);case"EEEE":return Ca(t.weekdays("long",!1,!1),1);case"ccc":return Ca(t.weekdays("short",!0,!1),1);case"cccc":return Ca(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return WL(new RegExp(`([+-]${s.source})(?::(${n.source}))?`),2);case"ZZZ":return WL(new RegExp(`([+-]${s.source})(${n.source})?`),2);case"z":return F2(/[a-z_+-/]{1,256}?/i);default:return g(w)}})(e)||{invalidReason:X1e};return v.token=e,v}const nwe={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function rwe(e,t,i){const{type:n,value:r}=e;if(n==="literal")return{literal:!0,val:r};const a=i[n];let o=nwe[n];if(typeof o=="object"&&(o=o[a]),o)return{literal:!1,val:o}}function awe(e){return[`^${e.map(i=>i.regex).reduce((i,n)=>`${i}(${n.source})`,"")}$`,e]}function owe(e,t,i){const n=e.match(t);if(n){const r={};let a=1;for(const o in i)if(xm(i,o)){const s=i[o],l=s.groups?s.groups+1:1;!s.literal&&s.token&&(r[s.token.val[0]]=s.deser(n.slice(a,a+l))),a+=l}return[n,r]}else return[n,{}]}function swe(e){const t=a=>{switch(a){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let i=null,n;return rt(e.z)||(i=hl.create(e.z)),rt(e.Z)||(i||(i=new En(e.Z)),n=e.Z),rt(e.q)||(e.M=(e.q-1)*3+1),rt(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),rt(e.u)||(e.S=OE(e.u)),[Object.keys(e).reduce((a,o)=>{const s=t(o);return s&&(a[s]=e[o]),a},{}),i,n]}let N2=null;function lwe(){return N2||(N2=Ne.fromMillis(1555555555555)),N2}function cwe(e,t){if(e.literal)return e;const i=Gn.macroTokenToFormatOpts(e.val);if(!i)return e;const a=Gn.create(t,i).formatDateTimeParts(lwe()).map(o=>rwe(o,t,i));return a.includes(void 0)?e:a}function uwe(e,t){return Array.prototype.concat(...e.map(i=>cwe(i,t)))}function hH(e,t,i){const n=uwe(Gn.parseFormat(i),e),r=n.map(o=>iwe(o,e)),a=r.find(o=>o.invalidReason);if(a)return{input:t,tokens:n,invalidReason:a.invalidReason};{const[o,s]=awe(r),l=RegExp(o,"i"),[u,h]=owe(t,l,s),[m,f,g]=h?swe(h):[null,null,void 0];if(xm(h,"a")&&xm(h,"H"))throw new D0("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:n,regex:l,rawMatches:u,matches:h,result:m,zone:f,specificOffset:g}}}function dwe(e,t,i){const{result:n,zone:r,specificOffset:a,invalidReason:o}=hH(e,t,i);return[n,r,a,o]}const pH=[0,31,59,90,120,151,181,212,243,273,304,334],mH=[0,31,60,91,121,152,182,213,244,274,305,335];function ra(e,t){return new Xa("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function fH(e,t,i){const n=new Date(Date.UTC(e,t-1,i)).getUTCDay();return n===0?7:n}function gH(e,t,i){return i+(Wy(e)?mH:pH)[t-1]}function yH(e,t){const i=Wy(e)?mH:pH,n=i.findIndex(a=>a<t),r=t-i[n];return{month:n+1,day:r}}function VD(e){const{year:t,month:i,day:n}=e,r=gH(t,i,n),a=fH(t,i,n);let o=Math.floor((r-a+10)/7),s;return o<1?(s=t-1,o=wx(s)):o>wx(t)?(s=t+1,o=1):s=t,$({weekYear:s,weekNumber:o,weekday:a},zk(e))}function JL(e){const{weekYear:t,weekNumber:i,weekday:n}=e,r=fH(t,1,4),a=gg(t);let o=i*7+n-r-3,s;o<1?(s=t-1,o+=gg(s)):o>a?(s=t+1,o-=gg(t)):s=t;const{month:l,day:u}=yH(s,o);return $({year:s,month:l,day:u},zk(e))}function z2(e){const{year:t,month:i,day:n}=e,r=gH(t,i,n);return $({year:t,ordinal:r},zk(e))}function KL(e){const{year:t,ordinal:i}=e,{month:n,day:r}=yH(t,i);return $({year:t,month:n,day:r},zk(e))}function hwe(e){const t=Fk(e.weekYear),i=il(e.weekNumber,1,wx(e.weekYear)),n=il(e.weekday,1,7);return t?i?n?!1:ra("weekday",e.weekday):ra("week",e.week):ra("weekYear",e.weekYear)}function pwe(e){const t=Fk(e.year),i=il(e.ordinal,1,gg(e.year));return t?i?!1:ra("ordinal",e.ordinal):ra("year",e.year)}function bH(e){const t=Fk(e.year),i=il(e.month,1,12),n=il(e.day,1,vx(e.year,e.month));return t?i?n?!1:ra("day",e.day):ra("month",e.month):ra("year",e.year)}function vH(e){const{hour:t,minute:i,second:n,millisecond:r}=e,a=il(t,0,23)||t===24&&i===0&&n===0&&r===0,o=il(i,0,59),s=il(n,0,59),l=il(r,0,999);return a?o?s?l?!1:ra("millisecond",r):ra("second",n):ra("minute",i):ra("hour",t)}const j2="Invalid DateTime",YL=864e13;function ov(e){return new Xa("unsupported zone",`the zone "${e.name}" is not supported`)}function V2(e){return e.weekData===null&&(e.weekData=VD(e.c)),e.weekData}function Pf(e,t){const i={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new Ne(le($($({},i),t),{old:i}))}function wH(e,t,i){let n=e-t*60*1e3;const r=i.offset(n);if(t===r)return[n,t];n-=(r-t)*60*1e3;const a=i.offset(n);return r===a?[n,r]:[e-Math.min(r,a)*60*1e3,Math.max(r,a)]}function ZL(e,t){e+=t*60*1e3;const i=new Date(e);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function D1(e,t,i){return wH(LE(e),t,i)}function XL(e,t){const i=e.o,n=e.c.year+Math.trunc(t.years),r=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,a=le($({},e.c),{year:n,month:r,day:Math.min(e.c.day,vx(n,r))+Math.trunc(t.days)+Math.trunc(t.weeks)*7}),o=lt.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),s=LE(a);let[l,u]=wH(s,i,e.zone);return o!==0&&(l+=o,u=e.zone.offset(l)),{ts:l,o:u}}function Lf(e,t,i,n,r,a){const{setZone:o,zone:s}=i;if(e&&Object.keys(e).length!==0){const l=t||s,u=Ne.fromObject(e,le($({},i),{zone:l,specificOffset:a}));return o?u:u.setZone(s)}else return Ne.invalid(new Xa("unparsable",`the input "${r}" can't be parsed as ${n}`))}function sv(e,t,i=!0){return e.isValid?Gn.create(Jt.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(e,t):null}function H2(e,t){const i=e.c.year>9999||e.c.year<0;let n="";return i&&e.c.year>=0&&(n+="+"),n+=ki(e.c.year,i?6:4),t?(n+="-",n+=ki(e.c.month),n+="-",n+=ki(e.c.day)):(n+=ki(e.c.month),n+=ki(e.c.day)),n}function QL(e,t,i,n,r){let a=ki(e.c.hour);return t?(a+=":",a+=ki(e.c.minute),(e.c.second!==0||!i)&&(a+=":")):a+=ki(e.c.minute),(e.c.second!==0||!i)&&(a+=ki(e.c.second),(e.c.millisecond!==0||!n)&&(a+=".",a+=ki(e.c.millisecond,3))),r&&(e.isOffsetFixed&&e.offset===0?a+="Z":e.o<0?(a+="-",a+=ki(Math.trunc(-e.o/60)),a+=":",a+=ki(Math.trunc(-e.o%60))):(a+="+",a+=ki(Math.trunc(e.o/60)),a+=":",a+=ki(Math.trunc(e.o%60)))),a}const xH={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},mwe={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},fwe={ordinal:1,hour:0,minute:0,second:0,millisecond:0},kH=["year","month","day","hour","minute","second","millisecond"],gwe=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],ywe=["year","ordinal","hour","minute","second","millisecond"];function e4(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new $V(e);return t}function t4(e,t){const i=bc(t.zone,Pi.defaultZone),n=Jt.fromObject(t),r=Pi.now();let a,o;if(rt(e.year))a=r;else{for(const u of kH)rt(e[u])&&(e[u]=xH[u]);const s=bH(e)||vH(e);if(s)return Ne.invalid(s);const l=i.offset(r);[a,o]=D1(e,l,i)}return new Ne({ts:a,zone:i,loc:n,o})}function i4(e,t,i){const n=rt(i.round)?!0:i.round,r=(o,s)=>(o=PE(o,n||i.calendary?0:2,!0),t.loc.clone(i).relFormatter(i).format(o,s)),a=o=>i.calendary?t.hasSame(e,o)?0:t.startOf(o).diff(e.startOf(o),o).get(o):t.diff(e,o).get(o);if(i.unit)return r(a(i.unit),i.unit);for(const o of i.units){const s=a(o);if(Math.abs(s)>=1)return r(s,o)}return r(e>t?-0:0,i.units[i.units.length-1])}function n4(e){let t={},i;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],i=Array.from(e).slice(0,e.length-1)):i=Array.from(e),[t,i]}class Ne{constructor(t){const i=t.zone||Pi.defaultZone;let n=t.invalid||(Number.isNaN(t.ts)?new Xa("invalid input"):null)||(i.isValid?null:ov(i));this.ts=rt(t.ts)?Pi.now():t.ts;let r=null,a=null;if(!n)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(i))[r,a]=[t.old.c,t.old.o];else{const s=i.offset(this.ts);r=ZL(this.ts,s),n=Number.isNaN(r.year)?new Xa("invalid input"):null,r=n?null:r,a=n?null:s}this._zone=i,this.loc=t.loc||Jt.create(),this.invalid=n,this.weekData=null,this.c=r,this.o=a,this.isLuxonDateTime=!0}static now(){return new Ne({})}static local(){const[t,i]=n4(arguments),[n,r,a,o,s,l,u]=i;return t4({year:n,month:r,day:a,hour:o,minute:s,second:l,millisecond:u},t)}static utc(){const[t,i]=n4(arguments),[n,r,a,o,s,l,u]=i;return t.zone=En.utcInstance,t4({year:n,month:r,day:a,hour:o,minute:s,second:l,millisecond:u},t)}static fromJSDate(t,i={}){const n=Sve(t)?t.valueOf():NaN;if(Number.isNaN(n))return Ne.invalid("invalid input");const r=bc(i.zone,Pi.defaultZone);return r.isValid?new Ne({ts:n,zone:r,loc:Jt.fromObject(i)}):Ne.invalid(ov(r))}static fromMillis(t,i={}){if(Ed(t))return t<-YL||t>YL?Ne.invalid("Timestamp out of range"):new Ne({ts:t,zone:bc(i.zone,Pi.defaultZone),loc:Jt.fromObject(i)});throw new na(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,i={}){if(Ed(t))return new Ne({ts:t*1e3,zone:bc(i.zone,Pi.defaultZone),loc:Jt.fromObject(i)});throw new na("fromSeconds requires a numerical input")}static fromObject(t,i={}){t=t||{};const n=bc(i.zone,Pi.defaultZone);if(!n.isValid)return Ne.invalid(ov(n));const r=Pi.now(),a=rt(i.specificOffset)?n.offset(r):i.specificOffset,o=xx(t,e4),s=!rt(o.ordinal),l=!rt(o.year),u=!rt(o.month)||!rt(o.day),h=l||u,m=o.weekYear||o.weekNumber,f=Jt.fromObject(i);if((h||s)&&m)throw new D0("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&s)throw new D0("Can't mix ordinal dates with month/day");const g=m||o.weekday&&!h;let b,v,w=ZL(r,a);g?(b=gwe,v=mwe,w=VD(w)):s?(b=ywe,v=fwe,w=z2(w)):(b=kH,v=xH);let x=!1;for(const R of b){const H=o[R];rt(H)?x?o[R]=v[R]:o[R]=w[R]:x=!0}const S=g?hwe(o):s?pwe(o):bH(o),E=S||vH(o);if(E)return Ne.invalid(E);const C=g?JL(o):s?KL(o):o,[_,I]=D1(C,a,n),O=new Ne({ts:_,zone:n,o:I,loc:f});return o.weekday&&h&&t.weekday!==O.weekday?Ne.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${O.toISO()}`):O}static fromISO(t,i={}){const[n,r]=T1e(t);return Lf(n,r,i,"ISO 8601",t)}static fromRFC2822(t,i={}){const[n,r]=M1e(t);return Lf(n,r,i,"RFC 2822",t)}static fromHTTP(t,i={}){const[n,r]=A1e(t);return Lf(n,r,i,"HTTP",i)}static fromFormat(t,i,n={}){if(rt(t)||rt(i))throw new na("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:a=null}=n,o=Jt.fromOpts({locale:r,numberingSystem:a,defaultToEN:!0}),[s,l,u,h]=dwe(o,t,i);return h?Ne.invalid(h):Lf(s,l,n,`format ${i}`,t,u)}static fromString(t,i,n={}){return Ne.fromFormat(t,i,n)}static fromSQL(t,i={}){const[n,r]=j1e(t);return Lf(n,r,i,"SQL",t)}static invalid(t,i=null){if(!t)throw new na("need to specify a reason the DateTime is invalid");const n=t instanceof Xa?t:new Xa(t,i);if(Pi.throwOnInvalid)throw new bve(n);return new Ne({invalid:n})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?V2(this).weekYear:NaN}get weekNumber(){return this.isValid?V2(this).weekNumber:NaN}get weekday(){return this.isValid?V2(this).weekday:NaN}get ordinal(){return this.isValid?z2(this.c).ordinal:NaN}get monthShort(){return this.isValid?av.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?av.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?av.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?av.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return Wy(this.year)}get daysInMonth(){return vx(this.year,this.month)}get daysInYear(){return this.isValid?gg(this.year):NaN}get weeksInWeekYear(){return this.isValid?wx(this.weekYear):NaN}resolvedLocaleOptions(t={}){const{locale:i,numberingSystem:n,calendar:r}=Gn.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:i,numberingSystem:n,outputCalendar:r}}toUTC(t=0,i={}){return this.setZone(En.instance(t),i)}toLocal(){return this.setZone(Pi.defaultZone)}setZone(t,{keepLocalTime:i=!1,keepCalendarTime:n=!1}={}){if(t=bc(t,Pi.defaultZone),t.equals(this.zone))return this;if(t.isValid){let r=this.ts;if(i||n){const a=t.offset(this.ts),o=this.toObject();[r]=D1(o,a,t)}return Pf(this,{ts:r,zone:t})}else return Ne.invalid(ov(t))}reconfigure({locale:t,numberingSystem:i,outputCalendar:n}={}){const r=this.loc.clone({locale:t,numberingSystem:i,outputCalendar:n});return Pf(this,{loc:r})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const i=xx(t,e4),n=!rt(i.weekYear)||!rt(i.weekNumber)||!rt(i.weekday),r=!rt(i.ordinal),a=!rt(i.year),o=!rt(i.month)||!rt(i.day),s=a||o,l=i.weekYear||i.weekNumber;if((s||r)&&l)throw new D0("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(o&&r)throw new D0("Can't mix ordinal dates with month/day");let u;n?u=JL($($({},VD(this.c)),i)):rt(i.ordinal)?(u=$($({},this.toObject()),i),rt(i.day)&&(u.day=Math.min(vx(u.year,u.month),u.day))):u=KL($($({},z2(this.c)),i));const[h,m]=D1(u,this.o,this.zone);return Pf(this,{ts:h,o:m})}plus(t){if(!this.isValid)return this;const i=lt.fromDurationLike(t);return Pf(this,XL(this,i))}minus(t){if(!this.isValid)return this;const i=lt.fromDurationLike(t).negate();return Pf(this,XL(this,i))}startOf(t){if(!this.isValid)return this;const i={},n=lt.normalizeUnit(t);switch(n){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(n==="weeks"&&(i.weekday=1),n==="quarters"){const r=Math.ceil(this.month/3);i.month=(r-1)*3+1}return this.set(i)}endOf(t){return this.isValid?this.plus({[t]:1}).startOf(t).minus(1):this}toFormat(t,i={}){return this.isValid?Gn.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,t):j2}toLocaleString(t=LD,i={}){return this.isValid?Gn.create(this.loc.clone(i),t).formatDateTime(this):j2}toLocaleParts(t={}){return this.isValid?Gn.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:i=!1,suppressMilliseconds:n=!1,includeOffset:r=!0}={}){if(!this.isValid)return null;const a=t==="extended";let o=H2(this,a);return o+="T",o+=QL(this,a,i,n,r),o}toISODate({format:t="extended"}={}){return this.isValid?H2(this,t==="extended"):null}toISOWeekDate(){return sv(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:i=!1,includeOffset:n=!0,includePrefix:r=!1,format:a="extended"}={}){return this.isValid?(r?"T":"")+QL(this,a==="extended",i,t,n):null}toRFC2822(){return sv(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return sv(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?H2(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:i=!1,includeOffsetSpace:n=!0}={}){let r="HH:mm:ss.SSS";return(i||t)&&(n&&(r+=" "),i?r+="z":t&&(r+="ZZ")),sv(this,r,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():j2}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const i=$({},this.c);return t.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,i="milliseconds",n={}){if(!this.isValid||!t.isValid)return lt.invalid("created by diffing an invalid DateTime");const r=$({locale:this.locale,numberingSystem:this.numberingSystem},n),a=Dve(i).map(lt.normalizeUnit),o=t.valueOf()>this.valueOf(),s=o?this:t,l=o?t:this,u=K1e(s,l,a,r);return o?u.negate():u}diffNow(t="milliseconds",i={}){return this.diff(Ne.now(),t,i)}until(t){return this.isValid?ri.fromDateTimes(this,t):this}hasSame(t,i){if(!this.isValid)return!1;const n=t.valueOf(),r=this.setZone(t.zone,{keepLocalTime:!0});return r.startOf(i)<=n&&n<=r.endOf(i)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const i=t.base||Ne.fromObject({},{zone:this.zone}),n=t.padding?this<i?-t.padding:t.padding:0;let r=["years","months","days","hours","minutes","seconds"],a=t.unit;return Array.isArray(t.unit)&&(r=t.unit,a=void 0),i4(i,this.plus(n),le($({},t),{numeric:"always",units:r,unit:a}))}toRelativeCalendar(t={}){return this.isValid?i4(t.base||Ne.fromObject({},{zone:this.zone}),this,le($({},t),{numeric:"auto",units:["years","months","days"],calendary:!0})):null}static min(...t){if(!t.every(Ne.isDateTime))throw new na("min requires all arguments be DateTimes");return PL(t,i=>i.valueOf(),Math.min)}static max(...t){if(!t.every(Ne.isDateTime))throw new na("max requires all arguments be DateTimes");return PL(t,i=>i.valueOf(),Math.max)}static fromFormatExplain(t,i,n={}){const{locale:r=null,numberingSystem:a=null}=n,o=Jt.fromOpts({locale:r,numberingSystem:a,defaultToEN:!0});return hH(o,t,i)}static fromStringExplain(t,i,n={}){return Ne.fromFormatExplain(t,i,n)}static get DATE_SHORT(){return LD}static get DATE_MED(){return CV}static get DATE_MED_WITH_WEEKDAY(){return xve}static get DATE_FULL(){return IV}static get DATE_HUGE(){return EV}static get TIME_SIMPLE(){return TV}static get TIME_WITH_SECONDS(){return MV}static get TIME_WITH_SHORT_OFFSET(){return AV}static get TIME_WITH_LONG_OFFSET(){return OV}static get TIME_24_SIMPLE(){return PV}static get TIME_24_WITH_SECONDS(){return LV}static get TIME_24_WITH_SHORT_OFFSET(){return RV}static get TIME_24_WITH_LONG_OFFSET(){return FV}static get DATETIME_SHORT(){return NV}static get DATETIME_SHORT_WITH_SECONDS(){return zV}static get DATETIME_MED(){return jV}static get DATETIME_MED_WITH_SECONDS(){return VV}static get DATETIME_MED_WITH_WEEKDAY(){return kve}static get DATETIME_FULL(){return HV}static get DATETIME_FULL_WITH_SECONDS(){return qV}static get DATETIME_HUGE(){return BV}static get DATETIME_HUGE_WITH_SECONDS(){return UV}}function Rf(e){if(Ne.isDateTime(e))return e;if(e&&e.valueOf&&Ed(e.valueOf()))return Ne.fromJSDate(e);if(e&&typeof e=="object")return Ne.fromObject(e);throw new na(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const q2={ar:[".",","],bg:[",","\xA0"],bs:[",","."],ca:[",","."],cs:[",","\xA0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\xA0"],fi:[",","\xA0"],fr:[",","\u202F"],"fr-ch":[",","\u202F"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\xA0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\xA0"],lv:[",","\xA0"],mk:[",","."],nb:[",","\xA0"],nl:[",","."],pl:[",","\xA0"],pt:[",","."],"pt-pt":[",","\xA0"],ro:[",","."],ru:[",","\xA0"],sk:[",","\xA0"],sl:[",","."],sr:[",","."],sv:[",","\xA0"],th:[".",","],tr:[",","."],uk:[",","\xA0"],vi:[",","."],zh:[".",","]};function _H(e){e||(e=Dr());let t=e in q2;if(!t){const a=e.split("-");a.length>1&&a[0]in q2&&(e=a[0],t=!0),t||(e="en")}const[i,n,r="#,##0.###"]=q2[e];return{decimal:i,group:n,pattern:r}}function bwe(e,t){const i=_H((t=$({},t)).locale);t.customs=i;const n=t.pattern||i.pattern;return isNaN(e)||Math.abs(e)===1/0?null:vwe(e,n,t)}const SH=/[#0,]*[#0](?:\.0*#*)?/;function vwe(e,t,i){const n=(i=i||{}).customs.group,r=i.customs.decimal,a=t.split(";"),o=a[0];if((t=a[e<0?1:0]||"-"+o).indexOf("%")!==-1)e*=100;else if(t.indexOf("\u2030")!==-1)e*=1e3;else{if(t.indexOf("\xA4")!==-1)throw new Error("currency notation not supported");if(t.indexOf("E")!==-1)throw new Error("exponential notation not supported")}const s=SH,l=o.match(s);if(!l)throw new Error("unable to find a number expression in pattern: "+t);return i.fractional===!1&&(i.places=0),t.replace(s,wwe(e,l[0],{decimal:r,group:n,places:i.places,round:i.round}))}function wwe(e,t,i){(i=i||{}).places===!0&&(i.places=0),i.places===1/0&&(i.places=6);const n=t.split("."),r=typeof i.places=="string"&&i.places.indexOf(",");let a=i.places;r?a=i.places.substring(r+1):a>=0||(a=(n[1]||[]).length),i.round<0||(e=Number(e.toFixed(Number(a))));const o=String(Math.abs(e)).split("."),s=o[1]||"";if(n[1]||i.places){r&&(i.places=i.places.substring(0,r));const b=i.places!==void 0?i.places:n[1]&&n[1].lastIndexOf("0")+1;b>s.length&&(o[1]=s.padEnd(Number(b),"0")),a<s.length&&(o[1]=s.substr(0,Number(a)))}else o[1]&&o.pop();const l=n[0].replace(",","");let u=l.indexOf("0");u!==-1&&(u=l.length-u,u>o[0].length&&(o[0]=o[0].padStart(u,"0")),l.indexOf("#")===-1&&(o[0]=o[0].substr(o[0].length-u)));let h,m,f=n[0].lastIndexOf(",");if(f!==-1){h=n[0].length-f-1;const b=n[0].substr(0,f);f=b.lastIndexOf(","),f!==-1&&(m=b.length-f-1)}const g=[];for(let b=o[0];b;){const v=b.length-h;g.push(v>0?b.substr(v):b),b=v>0?b.slice(0,v):"",m&&(h=m,m=void 0)}return o[0]=g.reverse().join(i.group||","),o.join(i.decimal||".")}function xwe(e){const t=_H((e=e||{}).locale),i=e.pattern||t.pattern,n=t.group,r=t.decimal;let a=1;if(i.indexOf("%")!==-1)a/=100;else if(i.indexOf("\u2030")!==-1)a/=1e3;else if(i.indexOf("\xA4")!==-1)throw new Error("currency notation not supported");const o=i.split(";");return o.length===1&&o.push("-"+o[0]),{regexp:Qg(o,function(l){return(l="(?:"+BN(l,".")+")").replace(SH,function(u){const h={signed:!1,separator:e.strict?n:[n,""],fractional:e.fractional,decimal:r,exponent:!1},m=u.split(".");let f=e.places;m.length===1&&a!==1&&(m[1]="###"),m.length===1||f===0?h.fractional=!1:(f===void 0&&(f=e.pattern?m[1].lastIndexOf("0")+1:1/0),f&&e.fractional==null&&(h.fractional=!0),!e.places&&f<m[1].length&&(f+=","+m[1].length),h.places=f);const g=m[0].split(",");return g.length>1&&(h.groupSize=g.pop().length,g.length>1&&(h.groupSize2=g.pop().length)),"("+_we(h)+")"})},!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:n,decimal:r,factor:a}}function kwe(e,t){const i=xwe(t),n=new RegExp("^"+i.regexp+"$").exec(e);if(!n)return NaN;let r=n[1];if(!n[1]){if(!n[2])return NaN;r=n[2],i.factor*=-1}return r=r.replace(new RegExp("["+i.group+"\\s\\xa0]","g"),"").replace(i.decimal,"."),Number(r)*i.factor}function _we(e){"places"in(e=e||{})||(e.places=1/0),typeof e.decimal!="string"&&(e.decimal="."),"fractional"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);const t=r4(e),i=Qg(e.fractional,function(r){let a="";return r&&e.places!==0&&(a="\\"+e.decimal,e.places===1/0?a="(?:"+a+"\\d+)?":a+="\\d{"+e.places+"}"),a},!0);let n=t+i;return i&&(n="(?:(?:"+n+")|(?:"+i+"))"),n+Qg(e.exponent,function(r){return r?"([eE]"+r4({signed:e.eSigned})+")":""})}function r4(e){return"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="",Qg(e.signed,function(t){return t?"[-+]":""},!0)+Qg(e.separator,function(t){if(!t)return"(?:\\d+)";(t=BN(t))===" "?t="\\s":t==="\xA0"&&(t="\\s\\xa0");const i=e.groupSize,n=e.groupSize2;if(n){const r="(?:0|[1-9]\\d{0,"+(n-1)+"}(?:["+t+"]\\d{"+n+"})*["+t+"]\\d{"+i+"})";return i-n>0?"(?:"+r+"|(?:0|[1-9]\\d{0,"+(i-1)+"}))":r}return"(?:0|[1-9]\\d{0,"+(i-1)+"}(?:["+t+"]\\d{"+i+"})*)"},!0)}const Qg=function(e,t,i){if(!(e instanceof Array))return t(e);const n=[];for(let r=0;r<e.length;r++)n.push(t(e[r]));return Swe(n.join("|"),i)},Swe=function(e,t){return"("+(t?"?:":"")+e+")"};var a4,o4;function dMe(e){return Ok.fromJSON(e.toJSON())}function Dwe(e){return e.toJSON?e.toJSON():e}function hMe(e){return typeof e=="string"||e instanceof String}function pMe(e){return typeof e=="number"}function s4(e){return e instanceof Date}function mMe(e,t){return e===t||!(!s4(e)||!s4(t))&&e.getTime()===t.getTime()}function fMe(e){if(e===void 0)return null;if(typeof e=="number")return e;switch(e.toLowerCase()){case"meters":case"meter":return 109404;case"miles":case"mile":return 109413;case"kilometers":case"kilometer":case"km":return 109414}return null}function gMe(e){if(e===null)return null;switch(e.type){case"polygon":case"multipoint":case"polyline":return e.extent;case"point":return new pt({xmin:e.x,ymin:e.y,xmax:e.x,ymax:e.y,spatialReference:e.spatialReference});case"extent":return e}return null}function yMe(e){if(e===void 0)return null;if(typeof e=="number"||typeof e=="number")return e;switch(e.toLowerCase()){case"meters":case"meter":return 9001;case"miles":case"mile":return 9035;case"kilometers":case"kilometer":case"km":return 9036}return null}(function(e){e[e.Standardised=0]="Standardised",e[e.StandardisedNoInterval=1]="StandardisedNoInterval",e[e.SqlServer=2]="SqlServer",e[e.Oracle=3]="Oracle",e[e.Postgres=4]="Postgres",e[e.PGDB=5]="PGDB",e[e.FILEGDB=6]="FILEGDB",e[e.NotEvaluated=7]="NotEvaluated"})(a4||(a4={})),function(e){e[e.InFeatureSet=0]="InFeatureSet",e[e.NotInFeatureSet=1]="NotInFeatureSet",e[e.Unknown=2]="Unknown"}(o4||(o4={}));const bMe=1e3,vMe={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"},l4={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"},wMe={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger",long:"esriFieldTypeLong",single:"esriFieldTypeSingle",double:"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"eesriFieldTypeXML",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"eesriFieldTypeXML"};function xMe(e,t){return XC((i,n)=>{const r=wp(!0);e.reduce((a,o,s,l)=>a.then(u=>{try{return t(u,o,s,l)}catch(h){return nO(h)}},u=>nO(u)),r).then(i,n)})}function kMe(e){return e===void 0?"":e=(e=(e=e.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer")).replace(/\/mapserver\/[0-9]*/i,"/MapServer")).split("?")[0]}function _Me(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});const i=typeof t.cycles=="boolean"&&t.cycles,n=t.cmp&&(r=t.cmp,function(o){return function(s,l){const u={key:s,value:o[s]},h={key:l,value:o[l]};return r(u,h)}});var r;const a=[];return function o(s){if(s&&s.toJSON&&typeof s.toJSON=="function"&&(s=s.toJSON()),s===void 0)return;if(typeof s=="number")return isFinite(s)?""+s:"null";if(typeof s!="object")return JSON.stringify(s);let l,u;if(Array.isArray(s)){for(u="[",l=0;l<s.length;l++)l&&(u+=","),u+=o(s[l])||"null";return u+"]"}if(s===null)return"null";if(a.indexOf(s)!==-1){if(i)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const h=a.push(s)-1,m=Object.keys(s).sort(n&&n(s));for(u="",l=0;l<m.length;l++){const f=m[l],g=o(s[f]);g&&(u&&(u+=","),u+=JSON.stringify(f)+":"+g)}return a.splice(h,1),"{"+u+"}"}(e)}class DH{constructor(t){this.value=t}}class $H{constructor(t){this.value=t}}class VE{constructor(t){this.fn=t}}class HE{constructor(t,i){this.paramCount=i,this.fn=t}}const $we=VE,Cwe=$H,Iwe=DH,Ewe=HE,wr={type:"VOID"},Twe={type:"BREAK"},Mwe={type:"CONTINUE"};function ey(e,t,i){return t===""||t==null||t===i||t===i?e:e=e.split(t).join(i)}function qE(e){return e instanceof VE||e instanceof yve||e instanceof HE}function _x(e){return!!en(e)||!!$n(e)||!!hn(e)||!!Dn(e)||e===null||e===wr||typeof e=="number"}function Awe(e,t){return e===void 0?t:e}function en(e){return typeof e=="string"||e instanceof String}function Dn(e){return typeof e=="boolean"}function $n(e){return typeof e=="number"}function Owe(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}function pa(e){return e instanceof Array}function Pwe(e){return(e==null?void 0:e.arcadeDeclaredClass)==="esri.arcade.Feature"}function Lwe(e){return(e&&e.declaredRootClass&&e.declaredRootClass==="esri.arcade.featureset.support.FeatureSet")===!0}function Rwe(e){return(e&&e.declaredRootClass&&e.declaredRootClass==="esri.arcade.featureSetCollection")===!0}function Yd(e){return e instanceof ds}function hn(e){return e instanceof Date}function Fwe(e,t,i){if(e.length<t||e.length>i)throw new Error("Function called with wrong number of Parameters")}function Nwe(e){return e<0?-Math.round(-e):Math.round(e)}function zwe(){let e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),(t==="x"?i:3&i|8).toString(16)})}function BE(e,t){return isNaN(e)===!1?t==null||t===""?e.toString():(t=ey(t,"\u2030",""),t=ey(t,"\xA4",""),bwe(e,{pattern:t})):e.toString()}function jk(e,t){const i=Ne.fromJSDate(e);return t==null||t===""?i.toISO({suppressMilliseconds:!0}):i.toFormat(CH(t),{locale:Dr(),numberingSystem:"latn"})}function CH(e){e=e.replace(/LTS|LT|LL?L?L?|l{1,4}/g,"[$&]");let t="";const i=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const n of e.match(i))switch(n){case"D":t+="d";break;case"DD":t+="dd";break;case"DDD":t+="o";break;case"d":t+="c";break;case"ddd":t+="ccc";break;case"dddd":t+="cccc";break;case"M":t+="L";break;case"MM":t+="LL";break;case"MMM":t+="LLL";break;case"MMMM":t+="LLLL";break;case"YY":t+="yy";break;case"Y":case"YYYY":t+="yyyy";break;case"Q":t+="q";break;case"Z":t+="ZZ";break;case"ZZ":t+="ZZZ";break;case"S":t+="'S'";break;case"SS":t+="'SS'";break;case"SSS":t+="u";break;case"A":case"a":t+="a";break;case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":case"X":case"x":t+=n;break;default:n.length>=2&&n.slice(0,1)==="["&&n.slice(-1)==="]"?t+=`'${n.slice(1,-1)}'`:t+=`'${n}'`}return t}function mt(e,t,i){switch(i){case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}return!1}function jwe(e,t,i){if(e===null){if(t===null||t===wr)return mt(null,null,i);if($n(t))return mt(0,t,i);if(en(t)||Dn(t))return mt(0,Wt(t),i);if(hn(t))return mt(0,t.getTime(),i)}if(e===wr){if(t===null||t===wr)return mt(null,null,i);if($n(t))return mt(0,t,i);if(en(t)||Dn(t))return mt(0,Wt(t),i);if(hn(t))return mt(0,t.getTime(),i)}else if($n(e)){if($n(t))return mt(e,t,i);if(Dn(t))return mt(e,Wt(t),i);if(t===null||t===wr)return mt(e,0,i);if(en(t))return mt(e,Wt(t),i);if(hn(t))return mt(e,t.getTime(),i)}else if(en(e)){if(en(t))return mt(Mc(e),Mc(t),i);if(hn(t))return mt(Wt(e),t.getTime(),i);if($n(t))return mt(Wt(e),t,i);if(t===null||t===wr)return mt(Wt(e),0,i);if(Dn(t))return mt(Wt(e),Wt(t),i)}else if(hn(e)){if(hn(t))return mt(e,t,i);if(t===null||t===wr)return mt(e.getTime(),0,i);if($n(t))return mt(e.getTime(),t,i);if(Dn(t)||en(t))return mt(e.getTime(),Wt(t),i)}else if(Dn(e)){if(Dn(t))return mt(e,t,i);if($n(t))return mt(Wt(e),Wt(t),i);if(hn(t))return mt(Wt(e),t.getTime(),i);if(t===null||t===wr)return mt(Wt(e),0,i);if(en(t))return mt(Wt(e),Wt(t),i)}return!!IH(e,t)&&(i==="<="||i===">=")}function IH(e,t){if(e===t||e===null&&t===wr||t===null&&e===wr)return!0;if(hn(e)&&hn(t))return e.getTime()===t.getTime();if(e instanceof AE||e instanceof sh)return e.equalityTest(t);if(e instanceof Ie&&t instanceof Ie){const i=e.cache._arcadeCacheId,n=t.cache._arcadeCacheId;if(i!=null)return i===n}return e!==void 0&&t!==void 0&&e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&(e._arcadeCacheId===t._arcadeCacheId&&e._arcadeCacheId!==void 0&&e._arcadeCacheId!==null||e._underlyingGraphic===t._underlyingGraphic&&e._underlyingGraphic!==void 0&&e._underlyingGraphic!==null)}function Mc(e,t){if(en(e))return e;if(e===null)return"";if($n(e))return BE(e,t);if(Dn(e))return e.toString();if(hn(e))return jk(e,t);if(e instanceof Qn)return JSON.stringify(e.toJSON());if(pa(e)){const i=[];for(let n=0;n<e.length;n++)i[n]=Sx(e[n]);return"["+i.join(",")+"]"}if(e instanceof ds){const i=[];for(let n=0;n<e.length();n++)i[n]=Sx(e.get(n));return"["+i.join(",")+"]"}return e!==null&&typeof e=="object"&&e.castToText!==void 0?e.castToText():qE(e)?"object, Function":""}function Vwe(e){const t=[];if(pa(e)===!1)return null;if(e instanceof ds){for(let i=0;i<e.length();i++)t[i]=Wt(e.get(i));return t}for(let i=0;i<e.length;i++)t[i]=Wt(e[i]);return t}function $1(e,t){if(en(e))return e;if(e===null)return"";if($n(e))return BE(e,t);if(Dn(e))return e.toString();if(hn(e))return jk(e,t);if(e instanceof Qn)return e instanceof pt?'{"xmin":'+e.xmin.toString()+',"ymin":'+e.ymin.toString()+","+(e.hasZ?'"zmin":'+e.zmin.toString()+",":"")+(e.hasM?'"mmin":'+e.mmin.toString()+",":"")+'"xmax":'+e.xmax.toString()+',"ymax":'+e.ymax.toString()+","+(e.hasZ?'"zmax":'+e.zmax.toString()+",":"")+(e.hasM?'"mmax":'+e.mmax.toString()+",":"")+'"spatialReference":'+HD(e.spatialReference)+"}":HD(e.toJSON(),(i,n)=>i.key===n.key?0:i.key==="spatialReference"?1:n.key==="spatialReference"||i.key<n.key?-1:i.key>n.key?1:0);if(pa(e)){const i=[];for(let n=0;n<e.length;n++)i[n]=Sx(e[n]);return"["+i.join(",")+"]"}if(e instanceof ds){const i=[];for(let n=0;n<e.length();n++)i[n]=Sx(e.get(n));return"["+i.join(",")+"]"}return e!==null&&typeof e=="object"&&e.castToText!==void 0?e.castToText():qE(e)?"object, Function":""}function Sx(e){if(e===null)return"null";if(Dn(e)||$n(e)||en(e))return JSON.stringify(e);if(e instanceof Qn||e instanceof ds||e instanceof Array)return $1(e);if(e instanceof Date)return JSON.stringify(jk(e,""));if(e!==null&&typeof e=="object"){if(e.castToText!==void 0)return e.castToText()}else if(e===wr)return"null";return"null"}function Wt(e,t){return $n(e)?e:e===null||e===""?0:hn(e)?NaN:Dn(e)?e?1:0:pa(e)||e===""||e===void 0?NaN:t!==void 0&&en(e)?(t=ey(t,"\u2030",""),t=ey(t,"\xA4",""),kwe(e,{pattern:t})):e===wr?0:Number(e)}function Hwe(e){if(hn(e))return e;if(en(e)){const t=EH(e);if(t)return t.toJSDate()}return null}function qwe(e){return hn(e)?Ne.fromJSDate(e):en(e)?EH(e):null}function EH(e){const t=/ (\d\d)/;let i=Ne.fromISO(e);return i.isValid||t.test(e)&&(e=e.replace(t,"T$1"),i=Ne.fromISO(e),i.isValid)?i:null}function Bwe(e){return Dn(e)?e:en(e)?(e=e.toLowerCase())==="true":!!$n(e)&&e!==0&&!isNaN(e)}function Uwe(e,t){return V(e)?null:(e.spatialReference!==null&&e.spatialReference!==void 0||(e.spatialReference=t),e)}function Gwe(e){if(e===null)return null;if(e instanceof Ie)return e.x==="NaN"||e.x===null||isNaN(e.x)?null:e;if(e instanceof ao){if(e.rings.length===0)return null;for(const t of e.rings)if(t.length>0)return e;return null}if(e instanceof _r){if(e.paths.length===0)return null;for(const t of e.paths)if(t.length>0)return e;return null}return e instanceof Fm?e.points.length===0?null:e:e instanceof pt?e.xmin==="NaN"||e.xmin===null||isNaN(e.xmin)?null:e:null}function TH(e,t){if(!e||!e.domain)return t;let i=null;if(e.field.type==="string"||e.field.type==="esriFieldTypeString")t=Mc(t);else{if(t==null)return null;if(t==="")return t;t=Wt(t)}for(let n=0;n<e.domain.codedValues.length;n++){const r=e.domain.codedValues[n];r.code===t&&(i=r)}return i===null?t:i.name}function MH(e,t){if(!e||!e.domain)return t;let i=null;t=Mc(t);for(let n=0;n<e.domain.codedValues.length;n++){const r=e.domain.codedValues[n];r.name===t&&(i=r)}return i===null?t:i.code}function Vk(e,t,i=null,n=null){if(!t||!t.fields)return null;let r,a,o=null;for(let s=0;s<t.fields.length;s++){const l=t.fields[s];l.name.toLowerCase()===e.toString().toLowerCase()&&(o=l)}if(o===null)throw new Error("Field not found");return n===null&&i&&t.typeIdField&&(n=i.hasField(t.typeIdField)?i.field(t.typeIdField):null),n!=null&&t.types.some(function(s){return s.id===n&&(r=s.domains&&s.domains[o.name],r&&r.type==="inherited"&&(r=c4(o.name,t),a=!0),!0)}),a||r||(r=c4(e,t)),{field:o,domain:r}}function c4(e,t){let i;return t.fields.some(function(n){return n.name.toLowerCase()===e.toLowerCase()&&(i=n.domain),!!i}),i}function HD(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});const i=typeof t.cycles=="boolean"&&t.cycles,n=t.cmp&&(r=t.cmp,function(o){return function(s,l){const u={key:s,value:o[s]},h={key:l,value:o[l]};return r(u,h)}});var r;const a=[];return function o(s){if(s&&s.toJSON&&typeof s.toJSON=="function"&&(s=s.toJSON()),s===void 0)return;if(typeof s=="number")return isFinite(s)?""+s:"null";if(typeof s!="object")return JSON.stringify(s);let l,u;if(Array.isArray(s)){for(u="[",l=0;l<s.length;l++)l&&(u+=","),u+=o(s[l])||"null";return u+"]"}if(s===null)return"null";if(a.indexOf(s)!==-1){if(i)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const h=a.push(s)-1,m=Object.keys(s).sort(n&&n(s));for(u="",l=0;l<m.length;l++){const f=m[l],g=o(s[f]);g&&(u&&(u+=","),u+=JSON.stringify(f)+":"+g)}return a.splice(h,1),"{"+u+"}"}(e)}function Wwe(e){if(e===null)return null;const t=[];for(const i of e)i&&i.arcadeDeclaredClass&&i.arcadeDeclaredClass==="esri.arcade.Feature"?t.push(i.geometry()):t.push(i);return t}function km(e,t){if(!(t instanceof Ie))throw new Error("Invalid Argument");e.push(t.hasZ?t.hasM?[t.x,t.y,t.z,t.m]:[t.x,t.y,t.z]:[t.x,t.y])}function Jwe(e,t){if(pa(e)||Yd(e)){let i=!1,n=!1,r=[],a=t;if(pa(e)){for(const o of e)km(r,o);r.length>0&&(a=e[0].spatialReference,i=e[0].hasZ,n=e[0].hasM)}else if(e instanceof sh)r=e._elements,r.length>0&&(i=e._hasZ,n=e._hasM,a=e.get(0).spatialReference);else{if(!Yd(e))throw new Error("Invalid Argument");for(const o of e.toArray())km(r,o);r.length>0&&(a=e.get(0).spatialReference,i=e.get(0).hasZ===!0,n=e.get(0).hasM===!0)}return r.length===0?null:($I(r,n,i)===!1&&(r=r.slice(0).reverse()),new ao({rings:[r],spatialReference:a,hasZ:i,hasM:n}))}return e}function Kwe(e,t){if(pa(e)||Yd(e)){let i=!1,n=!1,r=[],a=t;if(pa(e)){for(const o of e)km(r,o);r.length>0&&(a=e[0].spatialReference,i=e[0].hasZ===!0,n=e[0].hasM===!0)}else if(e instanceof sh)r=e._elements,r.length>0&&(i=e._hasZ,n=e._hasM,a=e.get(0).spatialReference);else if(Yd(e)){for(const o of e.toArray())km(r,o);r.length>0&&(a=e.get(0).spatialReference,i=e.get(0).hasZ===!0,n=e.get(0).hasM===!0)}return r.length===0?null:new _r({paths:[r],spatialReference:a,hasZ:i,hasM:n})}return e}function Ywe(e,t){if(pa(e)||Yd(e)){let i=!1,n=!1,r=[],a=t;if(pa(e)){for(const o of e)km(r,o);r.length>0&&(a=e[0].spatialReference,i=e[0].hasZ===!0,n=e[0].hasM===!0)}else if(e instanceof sh)r=e._elements,r.length>0&&(i=e._hasZ,n=e._hasM,a=e.get(0).spatialReference);else if(Yd(e)){for(const o of e.toArray())km(r,o);r.length>0&&(a=e.get(0).spatialReference,i=e.get(0).hasZ===!0,n=e.get(0).hasM===!0)}return r.length===0?null:new Fm({points:r,spatialReference:a,hasZ:i,hasM:n})}return e}function Zwe(e,t=!1){const i=[];if(e===null)return i;if(pa(e)===!0){for(let n=0;n<e.length;n++){const r=Mc(e[n]);r===""&&t!==!0||i.push(r)}return i}if(e instanceof ds){for(let n=0;n<e.length();n++){const r=Mc(e.get(n));r===""&&t!==!0||i.push(r)}return i}if(_x(e)){const n=Mc(e);return n===""&&t!==!0||i.push(n),i}return[]}let B2=0;function Xwe(e){return B2++,B2%100==0?(B2=0,XC(t=>{setTimeout(()=>{t(e)},0)})):e}function Qwe(e,t,i){switch(i){case"&":return e&t;case"|":return e|t;case"^":return e^t;case"<<":return e<<t;case">>":return e>>t;case">>>":return e>>>t}}function ty(e,t=null){return e==null?null:Dn(e)||$n(e)||en(e)?e:e instanceof Qn?(t==null?void 0:t.keepGeometryType)===!0?e:e.toJSON():e instanceof ds?e.toArray().map(i=>ty(i,t)):e instanceof Array?e.map(i=>ty(i,t)):e instanceof Date?e:e!==null&&typeof e=="object"&&e.castAsJson!==void 0?e.castAsJson(t):null}function exe(e,t,i,n,r){return UE(e,t,i).then(a=>{r[n]=a})}function UE(e,t=null,i=null){if(e instanceof ds&&(e=e.toArray()),e==null)return wp(null);if(_x(e)||e instanceof Qn||e instanceof Date)return wp(ty(e,i));if(e instanceof Array){const n=[],r=[];for(const a of e)a===null||_x(a)||a instanceof Qn||a instanceof Date?r.push(ty(a,i)):(r.push(null),n.push(exe(a,t,i,r.length-1,r)));return n.length>0?i6(n).then(()=>r):wp(r)}return e!==null&&typeof e=="object"&&e.castAsJsonAsync!==void 0?e.castAsJsonAsync(t,i):wp(null)}function txe(e,t,i){const n=e.fullSchema();return n===null||!n.fields?null:Vk(t,n,e,i)}function ixe(e){const t=e.fullSchema();return t===null?null:t.fields&&t.typeIdField?{subtypeField:t.typeIdField,subtypes:t.types?t.types.map(i=>({name:i.name,code:i.id})):[]}:null}function nxe(e,t,i,n){const r=e.fullSchema();if(r===null||!r.fields)return null;const a=Vk(t,r,e,n);if(i===void 0)try{i=e.field(t)}catch{return null}return TH(a,i)}function rxe(e,t,i,n){const r=e.fullSchema();if(r===null||!r.fields)return null;if(i===void 0){try{i=e.field(t)}catch{return null}return i}return MH(Vk(t,r,e,n),i)}function axe(e){const t=e.fullSchema();if(t===null||!t.fields)return null;const i=[];for(const n of t.fields)i.push(Dwe(n));return{objectIdField:t.objectIdField,globalIdField:t.globalIdField,geometryType:l4[t.geometryType]===void 0?"":l4[t.geometryType],fields:i}}const SMe=Object.freeze({__proto__:null,ReturnResultE:DH,ImplicitResultE:$H,NativeFunctionE:VE,SizzleFunctionE:HE,NativeFunction:$we,ImplicitResult:Cwe,ReturnResult:Iwe,SizzleFunction:Ewe,voidOperation:wr,breakResult:Twe,continueResult:Mwe,multiReplace:ey,isFunctionParameter:qE,isSimpleType:_x,defaultUndefined:Awe,isString:en,isBoolean:Dn,isNumber:$n,isInteger:Owe,isArray:pa,isFeature:Pwe,isFeatureSet:Lwe,isFeatureSetCollection:Rwe,isImmutableArray:Yd,isDate:hn,pcCheck:Fwe,absRound:Nwe,generateUUID:zwe,formatNumber:BE,formatDate:jk,standardiseDateFormat:CH,greaterThanLessThan:jwe,equalityTest:IH,toString:Mc,toNumberArray:Vwe,toStringExplicit:$1,toNumber:Wt,toDate:Hwe,toDateTime:qwe,toBoolean:Bwe,fixSpatialReference:Uwe,fixNullGeometry:Gwe,getDomainValue:TH,getDomainCode:MH,getDomain:Vk,stableStringify:HD,autoCastFeatureToGeometry:Wwe,autoCastArrayOfPointsToPolygon:Jwe,autoCastArrayOfPointsToPolyline:Kwe,autoCastArrayOfPointsToMultiPoint:Ywe,toStringArray:Zwe,tick:Xwe,binaryOperator:Qwe,castAsJson:ty,castAsJsonAsync:UE,featureFullDomain:txe,featureSubtypes:ixe,featureDomainValueLookup:nxe,featureDomainCodeLookup:rxe,featureSchema:axe});var qD;let C0=qD=class extends J{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new qD({minValue:this.minValue,maxValue:this.maxValue})}};c([d({type:Number,json:{write:!0}})],C0.prototype,"minValue",void 0),c([d({type:Number,json:{write:!0}})],C0.prototype,"maxValue",void 0),C0=qD=c([D("esri.renderer.support.AuthoringInfoClassBreakInfo")],C0);const oxe=C0;var BD;let Lu=BD=class extends J{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new BD({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:z(this.classBreakInfos)})}};c([d({type:String,json:{write:!0}})],Lu.prototype,"field",void 0),c([d({type:String,json:{write:!0}})],Lu.prototype,"normalizationField",void 0),c([d({type:String,json:{write:!0}})],Lu.prototype,"label",void 0),c([d({type:[oxe],json:{write:!0}})],Lu.prototype,"classBreakInfos",void 0),Lu=BD=c([D("esri.renderers.support.AuthoringInfoFieldInfo")],Lu);const u4=Lu;var UD;const lv=new Ze({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),cv=new Ze({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),d4={key:e=>typeof e=="number"?"number":"string",typeMap:{number:Number,string:String},base:null},h4=["high-to-low","above-and-below","centered-on","extremes"],p4=[...new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])],m4=["seconds","minutes","hours","days","months","years"];let jn=UD=class extends J{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return typeof e=="string"||typeof e=="number"?e:null}castStartTime(e){return typeof e=="string"||typeof e=="number"?e:null}get style(){return this.type==="color"?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return this.type==="color"||this.type==="size"?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new UD({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};c([d({types:d4,json:{write:!0}})],jn.prototype,"endTime",void 0),c([nt("endTime")],jn.prototype,"castEndTime",null),c([d({type:String,json:{write:!0}})],jn.prototype,"field",void 0),c([d({type:Number,json:{write:!0}})],jn.prototype,"maxSliderValue",void 0),c([d({type:Number,json:{write:!0}})],jn.prototype,"minSliderValue",void 0),c([d({types:d4,json:{write:!0}})],jn.prototype,"startTime",void 0),c([nt("startTime")],jn.prototype,"castStartTime",null),c([d({type:lv.apiValues,value:null,json:{type:lv.jsonValues,read:lv.read,write:lv.write}})],jn.prototype,"style",null),c([d({type:p4,value:null,json:{type:p4,origins:{"web-scene":{type:h4,write:{writer:(e,t)=>{h4.indexOf(e)>-1&&(t.theme=e)}}}},write:!0}})],jn.prototype,"theme",null),c([d({type:cv.apiValues,json:{type:cv.jsonValues,read:cv.read,write:cv.write}})],jn.prototype,"type",void 0),c([d({type:m4,json:{type:m4,write:!0}})],jn.prototype,"units",void 0),jn=UD=c([D("esri.renderers.support.AuthoringInfoVisualVariable")],jn);const sxe=jn;let C1=class extends J{constructor(e){super(e),this.type=null}};c([d({readOnly:!0,json:{read:!1,write:!0}})],C1.prototype,"type",void 0),C1=c([D("esri.rest.support.ColorRamp")],C1);const GE=C1;var GD;let Ru=GD=class extends GE{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new GD({fromColor:z(this.fromColor),toColor:z(this.toColor),algorithm:this.algorithm})}};c([Se({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],Ru.prototype,"algorithm",void 0),c([d({type:Re,json:{type:[$t],write:!0}})],Ru.prototype,"fromColor",void 0),c([d({type:Re,json:{type:[$t],write:!0}})],Ru.prototype,"toColor",void 0),c([d({type:["algorithmic"]})],Ru.prototype,"type",void 0),Ru=GD=c([D("esri.rest.support.AlgorithmicColorRamp")],Ru);const WE=Ru;var WD;let I0=WD=class extends GE{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new WD({colorRamps:z(this.colorRamps)})}};c([d({type:[WE],json:{write:!0}})],I0.prototype,"colorRamps",void 0),c([d({type:["multipart"]})],I0.prototype,"type",void 0),I0=WD=c([D("esri.rest.support.MultipartColorRamp")],I0);const AH=I0,lxe={key:"type",base:GE,typeMap:{algorithmic:WE,multipart:AH}};function cxe(e){return e&&e.type?e.type==="algorithmic"?WE.fromJSON(e):e.type==="multipart"?AH.fromJSON(e):null:null}var JD;const cu=new Ze({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),uv=new Ze({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),f4=new Ze({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),g4=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"],uxe=["high-to-low","above-and-below","above","below","90-10"],dxe=["flow-line","wave-front"],hxe=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let ci=JD=class extends J{constructor(e){super(e),this.colorRamp=null,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type;return t&&t!=="relationship"?t==="class-breaks-size"||t==="class-breaks-color"?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){if(e)return cxe(e)}get fields(){return this.type&&this.type!=="predominance"?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&this.type!=="relationship"?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&this.type!=="relationship"?null:this._get("field2")}set field2(e){this._set("field2",e)}get flowTheme(){return this.type==="flow"?this._get("flowTheme"):null}set flowTheme(e){this._set("flowTheme",e)}get focus(){return this.type&&this.type!=="relationship"?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&this.type!=="relationship"?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type;return e&&e!=="relationship"&&e!=="class-breaks-size"&&e!=="class-breaks-color"||this.classificationMethod&&this.classificationMethod!=="standard-deviation"?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e;e==="classed-size"?t="class-breaks-size":e==="classed-color"&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return this.type==="univariate-color-size"?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){return new JD({classificationMethod:this.classificationMethod,colorRamp:z(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:z(this.field1),field2:z(this.field2),focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(e=>e.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};c([d({type:cu.apiValues,value:null,json:{type:cu.jsonValues,read:cu.read,write:cu.write,origins:{"web-document":{default:"manual",type:cu.jsonValues,read:cu.read,write:cu.write}}}})],ci.prototype,"classificationMethod",null),c([d({types:lxe,json:{write:!0}})],ci.prototype,"colorRamp",void 0),c([ae("colorRamp")],ci.prototype,"readColorRamp",null),c([d({type:[String],value:null,json:{write:!0}})],ci.prototype,"fields",null),c([d({type:u4,value:null,json:{write:!0}})],ci.prototype,"field1",null),c([d({type:u4,value:null,json:{write:!0}})],ci.prototype,"field2",null),c([d({type:dxe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],ci.prototype,"flowTheme",null),c([d({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],ci.prototype,"focus",null),c([d({type:Number,value:null,json:{type:$t,write:!0}})],ci.prototype,"numClasses",null),c([d({type:g4,json:{type:g4,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],ci.prototype,"lengthUnit",void 0),c([d({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],ci.prototype,"maxSliderValue",void 0),c([d({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],ci.prototype,"minSliderValue",void 0),c([d({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],ci.prototype,"statistics",null),c([d({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],ci.prototype,"standardDeviationInterval",null),c([d({type:uv.apiValues,value:null,json:{type:uv.jsonValues,read:uv.read,write:uv.write,origins:{"web-scene":{type:f4.jsonValues,write:{writer:f4.write,overridePolicy:e=>({enabled:e!=="flow"})}}}}})],ci.prototype,"type",null),c([d({type:[sxe],json:{write:!0}})],ci.prototype,"visualVariables",void 0),c([d({type:hxe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],ci.prototype,"univariateSymbolStyle",null),c([d({type:uxe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],ci.prototype,"univariateTheme",null),ci=JD=c([D("esri.renderers.support.AuthoringInfo")],ci);const pxe=ci,U2=new Ze({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary"},{ignoreUnknown:!0});let E0=class extends J{constructor(e){super(e),this.authoringInfo=null,this.type=null}async getRequiredFields(e){if(!this.collectRequiredFields)return[];const t=new Set;return await this.collectRequiredFields(t,e),Array.from(t).sort()}getSymbol(e,t){}async getSymbolAsync(e,t){}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};c([d({type:pxe,json:{write:!0}})],E0.prototype,"authoringInfo",void 0),c([d({type:U2.apiValues,readOnly:!0,json:{type:U2.jsonValues,read:!1,write:{writer:U2.write,ignoreOrigin:!0}}})],E0.prototype,"type",void 0),E0=c([D("esri.renderers.Renderer")],E0);const Kc=E0;var KD;let I1=KD=class extends J{constructor(){super(...arguments),this.title=null}clone(){return new KD({title:this.title})}};c([d({type:String,json:{write:!0}})],I1.prototype,"title",void 0),I1=KD=c([D("esri.renderers.support.LegendOptions")],I1);const JE=I1;var YD;let E1=YD=class extends JE{constructor(){super(...arguments),this.showLegend=null}clone(){return new YD({title:this.title,showLegend:this.showLegend})}};c([d({type:Boolean,json:{write:!0}})],E1.prototype,"showLegend",void 0),E1=YD=c([D("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],E1);const OH=E1,mxe=Q.getLogger("esri.renderers.visualVariables.VisualVariable"),G2=new Ze({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let Na=class extends J{constructor(e){super(e),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(e){return e==null?e:typeof e=="function"?(mxe.error(".field: field must be a string value"),null):My(e)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};c([d()],Na.prototype,"index",void 0),c([d({type:G2.apiValues,readOnly:!0,json:{read:G2.read,write:G2.write}})],Na.prototype,"type",void 0),c([d({type:String,json:{write:!0}})],Na.prototype,"field",void 0),c([nt("field")],Na.prototype,"castField",null),c([d({type:String,json:{write:!0}})],Na.prototype,"valueExpression",void 0),c([d({type:String,json:{write:!0}})],Na.prototype,"valueExpressionTitle",void 0),c([d({readOnly:!0})],Na.prototype,"arcadeRequired",null),c([d({type:OH,json:{write:!0}})],Na.prototype,"legendOptions",void 0),Na=c([D("esri.renderers.visualVariables.VisualVariable")],Na);const Ky=Na;var ZD;let Fu=ZD=class extends J{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,i){t[i]=e==null?0:e}clone(){return new ZD({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};c([d({type:Re,json:{type:[$t],write:!0}})],Fu.prototype,"color",void 0),c([d({type:String,json:{write:!0}})],Fu.prototype,"label",void 0),c([d({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],Fu.prototype,"value",void 0),c([ue("value")],Fu.prototype,"writeValue",null),Fu=ZD=c([D("esri.renderers.visualVariables.support.ColorStop")],Fu);const fxe=Fu;var XD;let Nu=XD=class extends Ky{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,i)=>t.value-i.value),this._set("stops",e)}clone(){return new XD({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};c([d({readOnly:!0})],Nu.prototype,"cache",null),c([d({type:["color"],json:{type:["colorInfo"]}})],Nu.prototype,"type",void 0),c([d({type:String,json:{write:!0}})],Nu.prototype,"normalizationField",void 0),c([d({type:[fxe],json:{write:!0}})],Nu.prototype,"stops",null),Nu=XD=c([D("esri.renderers.visualVariables.ColorVariable")],Nu);const PH=Nu;var QD;let Kl=QD=class extends J{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return zg(t.transparency)}writeOpacity(e,t,i){t[i]=_I(e)}clone(){return new QD({label:this.label,opacity:this.opacity,value:this.value})}};c([d({type:String,json:{write:!0}})],Kl.prototype,"label",void 0),c([d({type:Number,json:{type:$t,write:{target:"transparency"}}})],Kl.prototype,"opacity",void 0),c([ae("opacity",["transparency"])],Kl.prototype,"readOpacity",null),c([ue("opacity")],Kl.prototype,"writeOpacity",null),c([d({type:Number,json:{write:!0}})],Kl.prototype,"value",void 0),Kl=QD=c([D("esri.renderers.visualVariables.support.OpacityStop")],Kl);const gxe=Kl;var e$;let zu=e$=class extends Ky{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,i)=>t.value-i.value),this._set("stops",e)}clone(){return new e$({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};c([d({readOnly:!0})],zu.prototype,"cache",null),c([d({type:["opacity"],json:{type:["transparencyInfo"]}})],zu.prototype,"type",void 0),c([d({type:String,json:{write:!0}})],zu.prototype,"normalizationField",void 0),c([d({type:[gxe],json:{write:!0}})],zu.prototype,"stops",null),zu=e$=c([D("esri.renderers.visualVariables.OpacityVariable")],zu);const LH=zu;var t$;let Ls=t$=class extends Ky{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(e,t,i,n){if(n&&n.messages){const r=`visualVariables[${this.index}]`;n.messages.push(new L("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:r+".valueExpressionTitle",context:n}))}}clone(){return new t$({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})}};c([d({readOnly:!0})],Ls.prototype,"cache",null),c([d({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],Ls.prototype,"axis",void 0),c([d({type:["rotation"],json:{type:["rotationInfo"]}})],Ls.prototype,"type",void 0),c([d({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],Ls.prototype,"rotationType",void 0),c([d({type:String,json:{write:!0}})],Ls.prototype,"valueExpressionTitle",void 0),c([ue("web-scene","valueExpressionTitle")],Ls.prototype,"writeValueExpressionTitleWebScene",null),Ls=t$=c([D("esri.renderers.visualVariables.RotationVariable")],Ls);const RH=Ls;var i$;let ip=i$=class extends J{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new i$({label:this.label,size:this.size,value:this.value})}};c([d({type:String,json:{write:!0}})],ip.prototype,"label",void 0),c([d({type:Number,cast:ut,json:{write:!0}})],ip.prototype,"size",void 0),c([d({type:Number,json:{write:!0}})],ip.prototype,"value",void 0),ip=i$=c([D("esri.renderers.visualVariables.support.SizeStop")],ip);const yxe=ip;var n$;let T1=n$=class extends OH{constructor(){super(...arguments),this.customValues=null}clone(){return new n$({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}};c([d({type:[Number],json:{write:!0}})],T1.prototype,"customValues",void 0),T1=n$=c([D("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],T1);const bxe=T1;var al,Ri;function Cp(e){return e&&e.declaredClass==="esri.renderers.visualVariables.SizeVariable"}function iy(e){return e!=null&&!isNaN(e)&&isFinite(e)}function FH(e){return e.valueExpression?al.Expression:e.field&&typeof e.field=="string"?al.Field:al.Unknown}function vxe(e,t){const i=t||FH(e),n=e.valueUnit||"unknown";return i===al.Unknown?Ri.Constant:e.stops?Ri.Stops:e.minSize!=null&&e.maxSize!=null&&e.minDataValue!=null&&e.maxDataValue!=null?Ri.ClampedLinear:n==="unknown"?e.minSize!=null&&e.minDataValue!=null?e.minSize&&e.minDataValue?Ri.Proportional:Ri.Additive:Ri.Identity:Ri.RealWorldSize}(function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"})(al||(al={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(Ri||(Ri={}));const NH={inches:Jr(1,"meters","inches"),feet:Jr(1,"meters","feet"),"us-feet":Jr(1,"meters","us-feet"),yards:Jr(1,"meters","yards"),miles:Jr(1,"meters","miles"),"nautical-miles":Jr(1,"meters","nautical-miles"),millimeters:Jr(1,"meters","millimeters"),centimeters:Jr(1,"meters","centimeters"),decimeters:Jr(1,"meters","decimeters"),meters:Jr(1,"meters","meters"),kilometers:Jr(1,"meters","kilometers"),"decimal-degrees":1/upe(1,"meters",Et.radius)},jc=Q.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),y4=new Mr,M1=Math.PI,zH=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function jH(e,t,i){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(b=>b.type==="color"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.ColorVariable")return void jc.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const r=typeof t=="number",a=r?null:t,o=a&&a.attributes;let s=r?t:null;const l=n.field,{ipData:u,hasExpression:h}=n.cache;let m=n.cache.compiledFunc;if(!l&&!h){const b=n.stops;return b&&b[0]&&b[0].color}if(typeof s!="number")if(h){if(!T(i)||!T(i.arcade))return void jc.error("Use of arcade expressions requires an arcade context");const b={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},v=i.arcade.arcadeUtils,w=v.getViewInfo(b),x=v.createExecContext(a,w);if(!m){const S=v.createSyntaxTree(n.valueExpression);m=v.createFunction(S),n.cache.compiledFunc=m}s=v.executeFunction(m,x)}else o&&(s=o[l]);const f=n.normalizationField,g=o?parseFloat(o[f]):void 0;if(s!=null&&(!f||r||!isNaN(g)&&g!==0)){isNaN(g)||r||(s/=g);const b=KE(s,u);if(b){const v=b[0],w=b[1],x=v===w?n.stops[v].color:Re.blendColors(n.stops[v].color,n.stops[w].color,b[2],T(i)?i.color:void 0);return new Re(x)}}}function VH(e,t,i){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(b=>b.type==="opacity"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.OpacityVariable")return void jc.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const r=typeof t=="number",a=r?null:t,o=a&&a.attributes;let s=r?t:null;const l=n.field,{ipData:u,hasExpression:h}=n.cache;let m=n.cache.compiledFunc;if(!l&&!h){const b=n.stops;return b&&b[0]&&b[0].opacity}if(typeof s!="number")if(h){if(V(i)||V(i.arcade))return void jc.error("Use of arcade expressions requires an arcade context");const b={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},v=i.arcade.arcadeUtils,w=v.getViewInfo(b),x=v.createExecContext(a,w);if(!m){const S=v.createSyntaxTree(n.valueExpression);m=v.createFunction(S),n.cache.compiledFunc=m}s=v.executeFunction(m,x)}else o&&(s=o[l]);const f=n.normalizationField,g=o?parseFloat(o[f]):void 0;if(s!=null&&(!f||r||!isNaN(g)&&g!==0)){isNaN(g)||r||(s/=g);const b=KE(s,u);if(b){const v=b[0],w=b[1];if(v===w)return n.stops[v].opacity;{const x=n.stops[v].opacity;return x+(n.stops[w].opacity-x)*b[2]}}}}function HH(e,t,i){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(g=>g.type==="rotation"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.RotationVariable")return void jc.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const r=n.axis||"heading",a=r==="heading"&&n.rotationType==="arithmetic"?90:0,o=r==="heading"&&n.rotationType==="arithmetic"?-1:1,s=typeof t=="number"?null:t,l=s&&s.attributes,u=n.field,{hasExpression:h}=n.cache;let m=n.cache.compiledFunc,f=0;if(!u&&!h)return f;if(h){if(V(i)||V(i.arcade))return void jc.error("Use of arcade expressions requires an arcade context");const g={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},b=i.arcade.arcadeUtils,v=b.getViewInfo(g),w=b.createExecContext(s,v);if(!m){const x=b.createSyntaxTree(n.valueExpression);m=b.createFunction(x),n.cache.compiledFunc=m}f=b.executeFunction(m,w)}else l&&(f=l[u]||0);return f=typeof f!="number"||isNaN(f)?null:a+o*f,f}function wxe(e,t,i){const n=typeof t=="number",r=n?null:t,a=r&&r.attributes;let o=n?t:null;const{isScaleDriven:s}=e.cache;let l=e.cache.compiledFunc;if(s){const h=T(i)?i.scale:void 0,m=T(i)?i.view:void 0;o=h==null||m==="3d"?xxe(e):h}else if(!n)switch(e.inputValueType){case al.Expression:{if(V(i)||V(i.arcade))return void jc.error("Use of arcade expressions requires an arcade context");const h={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},m=i.arcade.arcadeUtils,f=m.getViewInfo(h),g=m.createExecContext(r,f);if(!l){const b=m.createSyntaxTree(e.valueExpression);l=m.createFunction(b),e.cache.compiledFunc=l}o=m.executeFunction(l,g);break}case al.Field:a&&(o=a[e.field]);break;case al.Unknown:o=null}if(!iy(o))return null;if(n||!e.normalizationField)return o;const u=a?parseFloat(a[e.normalizationField]):null;return iy(u)&&u!==0?o/u:null}function xxe(e){let t=null,i=null;const n=e.stops;return n?(t=n[0].value,i=n[n.length-1].value):(t=e.minDataValue||0,i=e.maxDataValue||0),(t+i)/2}function Hk(e,t,i){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(a=>a.type==="size"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.SizeVariable")return void jc.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const r=BH(wxe(n,t,i),n,t,i,n.cache.ipData);return r==null||isNaN(r)?0:r}function Yn(e,t,i){return e==null?null:Cp(e)?Hk(e,t,i):iy(e)?e:null}function qH(e,t,i){return iy(i)&&e>i?i:iy(t)&&e<t?t:e}function kxe(e,t,i,n){return e+(Yn(t.minSize,i,n)||t.minDataValue)}function _xe(e,t,i){const n=e.stops;let r=n&&n.length&&n[0].size;return r==null&&(r=e.minSize),Yn(r,t,i)}function Sxe(e,t,i,n){const r=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),a=Yn(t.minSize,i,n),o=Yn(t.maxSize,i,n),s=T(n)?n.shape:void 0;if(e<=t.minDataValue)return a;if(e>=t.maxDataValue)return o;if(t.scaleBy==="area"&&s){const l=s==="circle",u=l?M1*(a/2)**2:a*a,h=u+r*((l?M1*(o/2)**2:o*o)-u);return l?2*Math.sqrt(h/M1):Math.sqrt(h)}return a+r*(o-a)}function Dxe(e,t,i,n){const r=T(n)?n.shape:void 0,a=e/t.minDataValue,o=Yn(t.minSize,i,n),s=Yn(t.maxSize,i,n);let l=null;return l=r==="circle"?2*Math.sqrt(a*(o/2)**2):r==="square"||r==="diamond"||r==="image"?Math.sqrt(a*o**2):a*o,qH(l,o,s)}function $xe(e,t,i,n,r){const[a,o,s]=KE(e,r);if(a===o)return Yn(t.stops[a].size,i,n);{const l=Yn(t.stops[a].size,i,n);return l+(Yn(t.stops[o].size,i,n)-l)*s}}function Cxe(e,t,i,n){const r=(T(n)&&n.resolution?n.resolution:1)*NH[t.valueUnit],a=Yn(t.minSize,i,n),o=Yn(t.maxSize,i,n),{valueRepresentation:s}=t;let l=null;return l=s==="area"?2*Math.sqrt(e/M1)/r:s==="radius"||s==="distance"?2*e/r:e/r,qH(l,a,o)}function BH(e,t,i,n,r){switch(t.transformationType){case Ri.Additive:return kxe(e,t,i,n);case Ri.Constant:return _xe(t,i,n);case Ri.ClampedLinear:return Sxe(e,t,i,n);case Ri.Proportional:return Dxe(e,t,i,n);case Ri.Stops:return $xe(e,t,i,n,r);case Ri.RealWorldSize:return Cxe(e,t,i,n);case Ri.Identity:return e;case Ri.Unknown:return null}}function Ixe(e,t,i){const{isScaleDriven:n}=e.cache;if(!(n&&i==="3d"||t))return null;const r={scale:t,view:i};let a=Yn(e.minSize,y4,r),o=Yn(e.maxSize,y4,r);if(a!=null||o!=null){if(a>o){const s=o;o=a,a=s}return{minSize:a,maxSize:o}}}function Exe(e,t,i){if(!e.visualVariables)return;const n=[],r=[],a=[],o=[],s=[];for(const l of e.visualVariables)switch(l.type){case"color":r.push(l);break;case"opacity":a.push(l);break;case"rotation":s.push(l);break;case"size":o.push(l)}return r.forEach(l=>{const u=jH(l,t,i);n.push({variable:l,value:u})}),a.forEach(l=>{const u=VH(l,t,i);n.push({variable:l,value:u})}),s.forEach(l=>{const u=HH(l,t,i);n.push({variable:l,value:u})}),o.forEach(l=>{const u=Hk(l,t,i);n.push({variable:l,value:u})}),n.filter(l=>l.value!=null)}function KE(e,t){if(!t)return;let i=0,n=t.length-1;return t.some((r,a)=>e<r?(n=a,!0):(i=a,!1)),[i,n,(e-t[i])/(t[n]-t[i])]}function Txe(e,t,i){const n=["proportional","proportional","proportional"];for(const r of e){const a=r.useSymbolValue?"symbol-value":Hk(r,t,i);switch(r.axis){case"width":n[0]=a;break;case"depth":n[1]=a;break;case"height":n[2]=a;break;case"width-and-depth":n[0]=a,n[1]=a;break;case"all":case void 0:case null:n[0]=a,n[1]=a,n[2]=a;break;default:r.axis}}return n}var Mxe=Object.freeze(Object.defineProperty({__proto__:null,getAllSizes:Txe,getColor:jH,getOpacity:VH,getRotationAngle:HH,getSize:Hk,getSizeForValue:BH,getSizeFromNumberOrVariable:Yn,getSizeRangeAtScale:Ixe,getVisualVariableValues:Exe,viewScaleRE:zH},Symbol.toStringTag,{value:"Module"})),r$;const _h=Q.getLogger("esri.renderers.visualVariables.SizeVariable"),dv=new Ze({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),a$=new Ze({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function b4(e){if(e!=null)return typeof e=="string"||typeof e=="number"?ut(e):e.type==="size"?Cp(e)?e:(delete(e=$({},e)).type,new at(e)):void 0}function v4(e,t,i){if(typeof e!="object")return e;const n=new at;return n.read(e,i),n}let at=r$=class extends Ky{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:zH.test(this.valueExpression)}}set expression(e){_h.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),e==="view.scale"?(this.valueExpression="$view.scale",this._set("expression",e)):this._set("expression",null)}set index(e){Cp(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),Cp(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return FH(this)}set maxDataValue(e){e&&this.stops&&(_h.warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(_h.warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return b4(e)}readMaxSize(e,t,i){return v4(e,t,i)}set minDataValue(e){e&&this.stops&&(_h.warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(_h.warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return b4(e)}readMinSize(e,t,i){return v4(e,t,i)}get arcadeRequired(){return!!this.valueExpression||this.minSize&&typeof this.minSize=="object"&&this.minSize.arcadeRequired||this.maxSize&&typeof this.maxSize=="object"&&this.maxSize.arcadeRequired}set stops(e){this.minDataValue==null&&this.maxDataValue==null&&this.minSize==null&&this.maxSize==null?e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,i)=>t.value-i.value):e&&(_h.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return vxe(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,i,n){if(e==="$view.scale"){if(n&&n.messages){const r=this.index,a=typeof r=="string"?r:`visualVariables[${r}]`;n.messages.push(new L("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:a+".valueExpression",context:n}))}}else t[i]=e}readValueUnit(e){return e?a$.read(e):null}clone(){return new r$({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:Cp(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:Cp(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(e=>e.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}flipSizes(){if(this.transformationType===Ri.ClampedLinear){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===Ri.Stops){const e=this.stops,t=e.map(n=>n.size).reverse(),i=e.length;for(let n=0;n<i;n++)e[n].size=t[n];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};c([d({readOnly:!0})],at.prototype,"cache",null),c([d({type:dv.apiValues,json:{type:dv.jsonValues,origins:{"web-map":{read:!1}},read:dv.read,write:dv.write}})],at.prototype,"axis",void 0),c([d({type:String,value:null,json:{read:!1}})],at.prototype,"expression",null),c([d()],at.prototype,"index",null),c([d({type:String,readOnly:!0})],at.prototype,"inputValueType",null),c([d({type:bxe,json:{write:!0}})],at.prototype,"legendOptions",void 0),c([d({type:Number,value:null,json:{write:!0}})],at.prototype,"maxDataValue",null),c([d({type:Number,value:null,json:{write:!0}})],at.prototype,"maxSize",null),c([nt("maxSize")],at.prototype,"castMaxSize",null),c([ae("maxSize")],at.prototype,"readMaxSize",null),c([d({type:Number,value:null,json:{write:!0}})],at.prototype,"minDataValue",null),c([d({type:Number,value:null,json:{write:!0}})],at.prototype,"minSize",null),c([nt("minSize")],at.prototype,"castMinSize",null),c([ae("minSize")],at.prototype,"readMinSize",null),c([d({type:String,json:{write:!0}})],at.prototype,"normalizationField",void 0),c([d({readOnly:!0})],at.prototype,"arcadeRequired",null),c([d({type:String})],at.prototype,"scaleBy",void 0),c([d({type:[yxe],value:null,json:{write:!0}})],at.prototype,"stops",null),c([d({type:["outline"],json:{write:!0}})],at.prototype,"target",void 0),c([d({type:String,readOnly:!0})],at.prototype,"transformationType",null),c([d({type:["size"],json:{type:["sizeInfo"]}})],at.prototype,"type",void 0),c([d({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],at.prototype,"useSymbolValue",void 0),c([d({type:String,json:{write:!0}})],at.prototype,"valueExpression",void 0),c([ae("valueExpression",["valueExpression","expression"])],at.prototype,"readValueExpression",null),c([ue("web-scene","valueExpression")],at.prototype,"writeValueExpressionWebScene",null),c([d({type:["radius","diameter","area","width","distance"],json:{write:!0}})],at.prototype,"valueRepresentation",void 0),c([d({type:a$.apiValues,json:{write:a$.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],at.prototype,"valueUnit",void 0),c([ae("valueUnit")],at.prototype,"readValueUnit",null),at=r$=c([D("esri.renderers.visualVariables.SizeVariable")],at);const UH=at,Axe=Q.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),Oxe={color:PH,size:UH,opacity:LH,rotation:RH},Pxe=new Ze({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),Lxe=/^\[([^\]]+)\]$/i;let A1=class extends ge{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(e){if(this._resetVariables(),(e=e&&e.filter(t=>!!t))&&e.length){for(const t of e)switch(t.type){case"color":this.colorVariables.push(t);break;case"opacity":this.opacityVariables.push(t);break;case"rotation":this.rotationVariables.push(t);break;case"size":this.sizeVariables.push(t)}this.sizeVariables.length&&this.sizeVariables.some(t=>!!t.target)&&e.sort((t,i)=>{let n=null;return n=t.target===i.target?0:t.target?1:-1,n});for(let t=0;t<e.length;t++)e[t].index=t;this._set("visualVariables",e)}else this._set("visualVariables",e)}readVariables(e,t,i){const{rotationExpression:n,rotationType:r}=t,a=n&&n.match(Lxe),o=a&&a[1];if(o&&(e||(e=[]),e.push({type:"rotationInfo",rotationType:r,field:o})),e)return e.map(s=>{const l=Pxe.read(s.type),u=Oxe[l];u||(Axe.warn(`Unknown variable type: ${l}`),i&&i.messages&&i.messages.push(new An("visual-variable:unsupported",`visualVariable of type '${l}' is not supported`,{definition:s,context:i})));const h=new u;return h.read(s,i),h})}writeVariables(e,t){const i=[];for(const n of e){const r=n.toJSON(t);r&&i.push(r)}return i}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};c([d()],A1.prototype,"visualVariables",null),A1=c([D("esri.renderers.visualVariables.VisualVariableFactory")],A1);const Rxe=A1,Fxe={base:Ky,key:"type",typeMap:{opacity:LH,color:PH,rotation:RH,size:UH}},Yy=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new Rxe}set visualVariables(i){this._vvFactory.visualVariables=i,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(i,n,r){return this._vvFactory.readVariables(i,n,r)}writeVisualVariables(i,n,r,a){n[r]=this._vvFactory.writeVariables(i,a)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const i of this.visualVariables)if(i.arcadeRequired)return!0;return!1}hasVisualVariables(i,n){return i?this.getVisualVariablesForType(i,n).length>0:this.getVisualVariablesForType("size",n).length>0||this.getVisualVariablesForType("color",n).length>0||this.getVisualVariablesForType("opacity",n).length>0||this.getVisualVariablesForType("rotation",n).length>0}getVisualVariablesForType(i,n){const r=this.visualVariables;return r?r.filter(a=>a.type===i&&(typeof n=="string"?a.target===n:n!==!1||!a.target)):[]}async collectVVRequiredFields(i,n){let r=[];this.visualVariables&&(r=r.concat(this.visualVariables));for(const a of r)a&&(a.field&&ca(i,n,a.field),a.normalizationField&&ca(i,n,a.normalizationField),a.valueExpression&&await Tr(i,n,a.valueExpression))}};return c([d({types:[Fxe],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),c([ae("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),c([ue("visualVariables")],t.prototype,"writeVisualVariables",null),t=c([D("esri.renderers.mixins.VisualVariablesMixin")],t),t},Ff={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function Nxe(e,t=Ff){if(!e)return{symbol:null};const{retainId:i=Ff.retainId,ignoreDrivers:n=Ff.ignoreDrivers,hasLabelingContext:r=Ff.hasLabelingContext,retainCIM:a=Ff.retainCIM}=t;let o;if(Gg(e)||e instanceof rh)o=e.clone();else if(e.type==="cim"){var s,l;const u=(s=e.data)==null||(l=s.symbol)==null?void 0:l.type;if(u!=="CIMPointSymbol")return{error:new L("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${u||"unknown"}' is unsupported in 3D`,{symbol:e})};o=a?e.clone():sd.fromCIMSymbol(e)}else if(e instanceof ho)o=Sk.fromSimpleLineSymbol(e);else if(e instanceof qm)o=sd.fromSimpleMarkerSymbol(e);else if(e instanceof Dk)o=sd.fromPictureMarkerSymbol(e);else if(e instanceof nh)o=zy.fromSimpleFillSymbol(e);else{if(!(e instanceof Bm))return{error:new L("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};o=r?_k.fromTextSymbol(e):sd.fromTextSymbol(e)}if(i&&o.type!=="cim"&&(o.id=e.id),n&&Gg(o))for(let u=0;u<o.symbolLayers.length;++u)o.symbolLayers.getItemAt(u)._ignoreDrivers=!0;return{symbol:o}}function Dx(e,t,i,n){const r=GH(e,{},{context:n,isLabelSymbol:!1});T(r)&&(t[i]=r)}function w4(e,t,i,n){const r=GH(e,{},{context:n,isLabelSymbol:!0});T(r)&&(t[i]=r)}function GH(e,t,i){if(V(e))return null;const{context:n,isLabelSymbol:r}=i;if(n&&n.origin==="web-scene"&&!(e instanceof Hm)&&!(e instanceof rh)){const a=Nxe(e,{retainCIM:!0,hasLabelingContext:r});return T(a.symbol)?a.symbol.write(t,n):(n.messages&&n.messages.push(new L("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:n,error:a.error})),null)}return n&&n.origin==="web-map"&&e.type==="web-style"?(n.messages&&n.messages.push(new L("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:e,context:n})),null):e.write(t,n)}function DMe(e,t){return xhe(e,null,t)}const Zy={types:Z8,json:{write:{writer:Dx},origins:{"web-scene":{types:tP,write:{writer:Dx},read:{reader:Om({types:tP})}}}}},WH={types:{base:nr,key:"type",typeMap:{"simple-fill":Dd.typeMap["simple-fill"],"picture-fill":Dd.typeMap["picture-fill"],"polygon-3d":Dd.typeMap["polygon-3d"]}},json:{write:{writer:Dx},origins:{"web-scene":{type:zy,write:{writer:Dx}}}}};var o$;let Yl=o$=class extends J{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new o$({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};c([d({type:String,json:{write:!0}})],Yl.prototype,"description",void 0),c([d({type:String,json:{write:!0}})],Yl.prototype,"label",void 0),c([d({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],Yl.prototype,"minValue",void 0),c([d({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],Yl.prototype,"maxValue",void 0),c([d(Zy)],Yl.prototype,"symbol",void 0),Yl=o$=c([D("esri.renderers.support.ClassBreakInfo")],Yl);const $x=Yl;var s$;const hv=Q.getLogger("esri.renderers.ClassBreaksRenderer"),JH="log",O1="percent-of-total",P1="field",pv=new Ze({esriNormalizeByLog:JH,esriNormalizeByPercentOfTotal:O1,esriNormalizeByField:P1}),zxe=mi($x);let wi=s$=class extends Yy(Kc){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,i){if(!Array.isArray(e))return;let n=t.minValue;return e.map(r=>{const a=new $x;return a.read(r,i),a.minValue==null&&(a.minValue=n),a.maxValue==null&&(a.maxValue=a.minValue),n=a.maxValue,a})}writeClassBreakInfos(e,t,i,n){const r=e.map(a=>a.write({},n));this._areClassBreaksConsecutive()&&r.forEach(a=>delete a.classMinValue),t[i]=r}castField(e){return e==null?e:typeof e=="function"?(hv.error(".field: field must be a string value"),null):My(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,i=this.normalizationTotal!=null;return t||i?(e=t&&P1||i&&O1||null,t&&i&&hv.warn("warning: both normalizationField and normalizationTotal are set!")):e!==P1&&e!==O1||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,i){let n=null;n=typeof e=="number"?new $x({minValue:e,maxValue:t,symbol:X8(i)}):zxe(z(e)),this.classBreakInfos.push(n),this.classBreakInfos.length===1&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const i=this.classBreakInfos.length;for(let n=0;n<i;n++){const r=[this.classBreakInfos[n].minValue,this.classBreakInfos[n].maxValue];if(r[0]===e&&r[1]===t){this.classBreakInfos.splice(n,1);break}}}getBreakIndex(e,t){return this.valueExpression&&(V(t)||V(t.arcade))&&hv.warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let i=t;this.valueExpression&&(V(t)||V(t.arcade))&&(i=le($({},i),{arcade:await dl()}));const n=this.getBreakIndex(e,i);return n!==-1?this.classBreakInfos[n]:null}getSymbol(e,t){if(this.valueExpression&&(V(t)||V(t.arcade)))return void hv.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this.getBreakIndex(e,t);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let i=t;if(this.valueExpression&&(V(t)||V(t.arcade))){const r=await dl(),{arcadeUtils:a}=r;a.hasGeometryOperations(this.valueExpression)&&await a.enableGeometryOperations(),i=le($({},i),{arcade:r})}const n=this.getBreakIndex(e,i);return n>-1?this.classBreakInfos[n].symbol:this.defaultSymbol}getSymbols(){const e=[];return this.classBreakInfos.forEach(t=>{t.symbol&&e.push(t.symbol)}),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),i=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce((n,r)=>n+r.getMeshHash(),"")}.${i}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new s$({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:z(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:z(this.visualVariables),legendOptions:z(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}async collectRequiredFields(e,t){const i=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(i)}async collectSymbolFields(e,t){const i=[...this.getSymbols().map(n=>n.collectRequiredFields(e,t)),Tr(e,t,this.valueExpression)];ca(e,t,this.field),ca(e,t,this.normalizationField),await Promise.all(i)}_getBreakIndexForExpression(e,t){const{viewingMode:i,scale:n,spatialReference:r,arcade:a}=JC(t,{});let o=this._compiledValueExpression.valueExpression===this.valueExpression?this._compiledValueExpression.compiledFunction:null;const s=a.arcadeUtils;if(!o){const u=s.createSyntaxTree(this.valueExpression);o=s.createFunction(u),this._compiledValueExpression.compiledFunction=o}this._compiledValueExpression.valueExpression=this.valueExpression;const l=s.executeFunction(o,s.createExecContext(e,s.getViewInfo({viewingMode:i,scale:n,spatialReference:r})));return this._getBreakIndexfromInfos(l)}_getBreakIndexForField(e){const t=this.field,i=e.attributes,n=this.normalizationType;let r=parseFloat(i[t]);if(n){const a=this.normalizationTotal,o=parseFloat(i[this.normalizationField]);if(n===JH)r=Math.log(r)*Math.LOG10E;else if(n!==O1||isNaN(a)){if(n===P1&&!isNaN(o)){if(isNaN(r)||isNaN(o))return-1;r/=o}}else r=r/a*100}return this._getBreakIndexfromInfos(r)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(e!=null&&typeof e=="number"&&!isNaN(e))for(let i=0;i<this.classBreakInfos.length;i++){const n=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(n[0]<=e&&(t?e<=n[1]:e<n[1]))return i}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let i=1;i<t;i++)if(e[i-1].maxValue!==e[i].minValue)return!1;return!0}};c([d(WH)],wi.prototype,"backgroundFillSymbol",void 0),c([d({type:[$x]})],wi.prototype,"classBreakInfos",void 0),c([ae("classBreakInfos")],wi.prototype,"readClassBreakInfos",null),c([ue("classBreakInfos")],wi.prototype,"writeClassBreakInfos",null),c([d({type:String,json:{write:!0}})],wi.prototype,"defaultLabel",void 0),c([d(Zy)],wi.prototype,"defaultSymbol",void 0),c([d({type:String,json:{write:!0}})],wi.prototype,"field",void 0),c([nt("field")],wi.prototype,"castField",null),c([d({type:Boolean})],wi.prototype,"isMaxInclusive",void 0),c([d({type:JE,json:{write:!0}})],wi.prototype,"legendOptions",void 0),c([d({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return this.classBreakInfos.length!==0&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],wi.prototype,"minValue",null),c([d({type:String,json:{write:!0}})],wi.prototype,"normalizationField",void 0),c([d({type:Number,cast:e=>ia(e),json:{write:!0}})],wi.prototype,"normalizationTotal",void 0),c([d({type:pv.apiValues,value:null,json:{type:pv.jsonValues,read:pv.read,write:pv.write}})],wi.prototype,"normalizationType",null),c([Se({classBreaks:"class-breaks"})],wi.prototype,"type",void 0),c([d({type:String,json:{write:!0}})],wi.prototype,"valueExpression",void 0),c([d({type:String,json:{write:!0}})],wi.prototype,"valueExpressionTitle",void 0),wi=s$=c([D("esri.renderers.ClassBreaksRenderer")],wi);const KH=wi,W2=-3;var pc;(function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"})(pc||(pc={}));class $Me{constructor(t,i,n){this._namespace=t,this._storage=i,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",n&&(this._storage.registerRemoveFunc(this._namespace,n),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(t,i,n,r=0){this._storage.put(this._namespace+t,i,n,r)}get(t){const i=this._storage.get(this._namespace+t);return i===void 0?++this._miss:++this._hit,i}pop(t){const i=this._storage.pop(this._namespace+t);return i===void 0?++this._miss:++this._hit,i}updateSize(t,i,n){this._storage.updateSize(this._namespace+t,i,n)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class YH{constructor(t=10485760){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new _d,this._users=new _d}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,i){this._removeFuncs.push([t,i])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace(i=>i[0]!==t)}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,0),this._checkSizeLimit()}put(t,i,n,r){const a=this._db.get(t);if(a&&(this._size-=a.size,this._db.delete(t),a.entry!==i&&this._notifyRemove(t,a.entry,pc.ALL)),n>this._maxSize)return void this._notifyRemove(t,i,pc.ALL);if(i===void 0)return void console.warn("Refusing to cache undefined entry ");if(!n||n<0)return void console.warn("Refusing to cache entry with invalid size "+n);const o=1+Math.max(r,W2)-W2;this._db.set(t,{entry:i,size:n,lifetime:o,lives:o}),this._size+=n,this._checkSizeLimit()}updateSize(t,i,n){const r=this._db.get(t);if(r&&r.entry===i){for(this._size-=r.size;n>this._maxSize;){const a=this._notifyRemove(t,i,pc.SOME);if(!(T(a)&&a>0))return void this._db.delete(t);n=a}r.size=n,this._size+=n,this._checkSizeLimit()}}pop(t){const i=this._db.get(t);if(i)return this._size-=i.size,this._db.delete(t),++this._hit,i.entry;++this._miss}get(t){const i=this._db.get(t);if(i!==void 0)return this._db.delete(t),i.lives=i.lifetime,this._db.set(t,i),++this._hit,i.entry;++this._miss}getStats(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},i={},n=new Array;this._db.forEach((o,s)=>{const l=o.lifetime;n[l]=(n[l]||0)+o.size,this._users.forAll(u=>{const h=u.namespace;if(s.startsWith(h)){const m=i[h]||0;i[h]=m+o.size}})});const r={};this._users.forAll(o=>{const s=o.namespace;if(!isNaN(o.hitRate)&&o.hitRate>0){const l=i[s]||0;i[s]=l,r[s]=Math.round(100*o.hitRate)+"%"}else r[s]="0%"});const a=Object.keys(i);a.sort((o,s)=>i[s]-i[o]),a.forEach(o=>t[o]=Math.round(i[o]/2**20)+"MB / "+r[o]);for(let o=n.length-1;o>=0;--o){const s=n[o];s&&(t["Priority "+(o+W2-1)]=Math.round(s/this.size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll(t=>t.resetHitRate())}clear(t){this._db.forEach((i,n)=>{n.startsWith(t)&&(this._size-=i.size,this._db.delete(n),this._notifyRemove(n,i.entry,pc.ALL))})}clearAll(){this._db.forEach((t,i)=>this._notifyRemove(i,t.entry,pc.ALL)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,i,n){let r;return this._removeFuncs.some(a=>{if(t.startsWith(a[0])){const o=a[1](i,n);return typeof o=="number"&&(r=o),!0}return!1}),r}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[t,i]of this._db){if(this._db.delete(t),i.lives<=1){this._size-=i.size;const n=this._notifyRemove(t,i.entry,pc.SOME);T(n)&&n>0&&(this._size+=n,i.lives=i.lifetime,i.size=n,this._db.set(t,i))}else--i.lives,this._db.set(t,i);if(this._size<=.9*this.maxSize)return}}}class jxe{constructor(t,i){this._storage=new YH,this._storage.maxSize=t,i&&this._storage.registerRemoveFunc("",i)}put(t,i,n){this._storage.put(t,i,n,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}}const x4=Q.getLogger("esri.renderers.support.DictionaryLoader"),Vxe={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class YE{constructor(t,i,n){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new jxe(100),this.url=t,this.config=i,this.fieldMap=n}getSymbolFields(){return this._symbolFields}async getSymbolAsync(t,i){let n;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(i));try{n=await this._dictionaryPromise}catch(g){if(ma(g))return this._dictionaryPromise=null,null}const r={};if(this.fieldMap)for(const g of this._symbolFields){const b=this.fieldMap[g];if(b&&t.attributes[b]!=null){const v=""+t.attributes[b];r[g]=v}else r[g]=""}const a=n(r,i);if(!a||typeof a!="string")return null;const o=KC(a).toString(),s=this._symbolCache.get(o);if(s)return s.catch(()=>{this._symbolCache.pop(o)}),s;const l=a.split(";"),u=[],h=[];for(const g of l)if(g)if(g.includes("po:")){const b=g.substr(3).split("|");if(b.length===3){const v=b[0],w=b[1];let x=b[2];if(w==="DashTemplate")x=x.split(" ").map(S=>Number(S));else if(w==="Color"){const S=new Re(x).toRgba();x=[S[0],S[1],S[2],255*S[3]]}else x=Number(x);h.push({primitiveName:v,propertyName:w,value:x})}}else if(g.includes("|")){for(const b of g.split("|"))if(this._itemNames.has(b)){u.push(b);break}}else this._itemNames.has(g)&&u.push(g);const m=!T(t.geometry)||!t.geometry.hasZ&&t.geometry.type==="point",f=this._cimPartsToCIMSymbol(u,h,m,i);return this._symbolCache.put(o,f,1),f}async fetchResources(t){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void x4.error("no valid URL!");const i=T(t)?t.abortOptions:null,n=Lt(this.url+"/resources/styles/dictionary-info.json",$({responseType:"json",query:{f:"json"}},i)),[{data:r}]=await Promise.all([n,dl()]);if(!r)throw this._dictionaryPromise=null,new L("esri.renderers.DictionaryRenderer","Bad dictionary data!");const a=r.expression,o=r.authoringInfo;this._refSymbolUrlTemplate=this.url+"/"+r.cimRefTemplateUrl,this._itemNames=new Set(r.itemsNames),this._symbolFields=o.symbol;const s={};if(this.config){const u=this.config;for(const h in u)s[h]=u[h]}if(o.configuration)for(const u of o.configuration)s.hasOwnProperty(u.name)||(s[u.name]=u.value);const l=[];if(T(t)&&t.fields&&this.fieldMap)for(const u of this._symbolFields){const h=this.fieldMap[u],m=t.fields.filter(f=>f.name===h);m.length>0&&l.push(le($({},m[0]),{name:u}))}return this._dictionaryPromise=Lue(a,T(t)?t.spatialReference:null,l,s).then(u=>{const h={scale:0};return(m,f)=>{const g=u.repurposeFeature({geometry:null,attributes:m});return h.scale=T(f)?f.scale:void 0,u.evaluate({$feature:g,$view:h})}}).catch(u=>(x4.error("Creating dictinoary expression failed:",u),null)),this._dictionaryPromise}async _cimPartsToCIMSymbol(t,i,n,r){const a=new Array(t.length);for(let l=0;l<t.length;l++)a[l]=this._getSymbolPart(t[l],r);const o=await Promise.all(a),s=this.fieldMap;for(const l of o)ZH(l,s);return new Ry({data:this._combineSymbolParts(o,i,n)})}async _getSymbolPart(t,i){if(this._ongoingRequests.has(t))return this._ongoingRequests.get(t).then(a=>a.data);const n=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,t),r=Lt(n,$({responseType:"json",query:{f:"json"}},i));this._ongoingRequests.set(t,r);try{return(await r).data}catch(a){return this._ongoingRequests.delete(t),Promise.reject(a)}}_combineSymbolParts(t,i,n){if(!t||t.length===0)return null;const r=$({},t[0]);if(t.length>1){r.symbolLayers=[];for(const a of t){const o=a;r.symbolLayers.unshift(...o.symbolLayers)}}return n&&(r.callout=Vxe),{type:"CIMSymbolReference",symbol:r,primitiveOverrides:i}}}function ZH(e,t){if(!e)return;const i=e.symbolLayers;if(!i)return;let n=i.length;for(;n--;){const r=i[n];r&&r.enable!==!1&&r.type==="CIMVectorMarker"&&Hxe(r,t)}}function Hxe(e,t){const i=e.markerGraphics;if(i)for(const n of i){if(!n)continue;const r=n.symbol;if(r)switch(r.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":ZH(r,t);break;case"CIMTextSymbol":r.fieldMap=t}}}var CMe=Object.freeze(Object.defineProperty({__proto__:null,DictionaryLoader:YE},Symbol.toStringTag,{value:"Module"})),l$;let za=l$=class extends Yy(Kc){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new YE(this.url,this.config,this.fieldMap)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,i,n){n!=null&&n.origin||super.writeVisualVariables(e,t,i,n)}clone(){return new l$({config:z(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:z(this.fieldMap),url:z(this.url),visualVariables:z(this.visualVariables)})}async getSymbolAsync(e,t){return this._loader.getSymbolAsync(e,t)}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await Tr(e,t,this.scaleExpression);for(const i in this.fieldMap){const n=this.fieldMap[i];t.has(n)&&e.add(n)}}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};c([d({type:YE})],za.prototype,"_loader",null),c([d({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],za.prototype,"config",void 0),c([d({type:Object,json:{write:!0}})],za.prototype,"fieldMap",void 0),c([d({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],za.prototype,"scaleExpression",void 0),c([ue("scaleExpression")],za.prototype,"writeData",null),c([d({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],za.prototype,"scaleExpressionTitle",void 0),c([d({type:String,json:{write:!0}})],za.prototype,"url",void 0),c([ue("visualVariables")],za.prototype,"writeVisualVariables",null),za=l$=c([D("esri.renderers.DictionaryRenderer")],za);const qxe=za;var c$;const Bxe=Q.getLogger("esri.renderers.support.AttributeColorInfo");let Rs=c$=class extends J{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return e==null?e:typeof e=="function"?(Bxe.error(".field: field must be a string value"),null):My(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new c$({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};c([d({type:Re,json:{type:[Number],write:!0}})],Rs.prototype,"color",void 0),c([d({type:String,json:{write:!0}})],Rs.prototype,"field",void 0),c([nt("field")],Rs.prototype,"castField",null),c([d({type:String,json:{write:!0}})],Rs.prototype,"label",void 0),c([d({type:String,json:{write:!0}})],Rs.prototype,"valueExpression",void 0),c([d({type:String,json:{write:!0}})],Rs.prototype,"valueExpressionTitle",void 0),Rs=c$=c([D("esri.renderers.support.AttributeColorInfo")],Rs);const Uxe=Rs;var u$;let L1=u$=class extends J{constructor(){super(...arguments),this.unit=null}clone(){return new u$({unit:this.unit})}};c([d({type:String,json:{write:!0}})],L1.prototype,"unit",void 0),L1=u$=c([D("esri.renderers.support.DotDensityLegendOptions")],L1);const Gxe=L1;var d$;let un=d$=class extends Yy(Kc){constructor(e){super(e),this.attributes=null,this.backgroundColor=new Re([0,0,0,0]),this.blendDots=!0,this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new ho,this.dotValue=null,this.referenceDotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(this.referenceScale==null)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new nh({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes&&this.attributes.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new d$({attributes:z(this.attributes),backgroundColor:z(this.backgroundColor),dotBlendingEnabled:z(this.dotBlendingEnabled),dotShape:z(this.dotShape),dotSize:z(this.dotSize),dotValue:z(this.dotValue),legendOptions:z(this.legendOptions),outline:z(this.outline),referenceScale:z(this.referenceScale),visualVariables:z(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes.map(e=>e.field||e.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const i of this.attributes)i.valueExpression&&await Tr(e,t,i.valueExpression),i.field&&e.add(i.field)}};c([d({type:[Uxe],json:{write:!0}})],un.prototype,"attributes",void 0),c([d({type:Re,json:{write:!0}})],un.prototype,"backgroundColor",void 0),c([d({type:Boolean}),ke("dotBlendingEnabled")],un.prototype,"blendDots",void 0),c([d({type:Boolean,json:{write:!0}})],un.prototype,"dotBlendingEnabled",void 0),c([d({type:String,json:{write:!1}})],un.prototype,"dotShape",void 0),c([d({type:Number,json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1}}}})],un.prototype,"dotSize",void 0),c([d({type:Gxe,json:{write:!0}})],un.prototype,"legendOptions",void 0),c([d({type:ho,json:{default:null,write:!0}})],un.prototype,"outline",void 0),c([d({type:Number,json:{write:!0}})],un.prototype,"dotValue",void 0),c([d({type:Number}),ke("dotValue")],un.prototype,"referenceDotValue",void 0),c([d({type:Number,json:{write:!0}})],un.prototype,"referenceScale",void 0),c([d({type:Number,json:{write:!0}})],un.prototype,"seed",void 0),c([Se({dotDensity:"dot-density"})],un.prototype,"type",void 0),un=d$=c([D("esri.renderers.DotDensityRenderer")],un);const Wxe=un;var h$;let T0=h$=class extends J{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new h$({color:this.color,ratio:this.ratio})}};c([d({type:Re,json:{write:!0}})],T0.prototype,"color",void 0),c([d({type:Number,json:{write:!0}})],T0.prototype,"ratio",void 0),T0=h$=c([D("esri.renderers.support.HeatmapColorStop")],T0);const R1=T0;var p$;let ja=p$=class extends Kc{constructor(e){super(e),this.blurRadius=10,this.referenceScale=0,this.colorStops=[new R1({ratio:0,color:new Re("rgba(255, 140, 0, 0)")}),new R1({ratio:.75,color:new Re("rgba(255, 140, 0, 1)")}),new R1({ratio:.9,color:new Re("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.maxPixelIntensity=100,this.minPixelIntensity=0,this.type="heatmap"}async collectRequiredFields(e,t){const i=this.field;i&&typeof i=="string"&&ca(e,t,i)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new p$({blurRadius:this.blurRadius,referenceScale:this.referenceScale,colorStops:z(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})}};c([d({type:Number,json:{write:!0}})],ja.prototype,"blurRadius",void 0),c([d({type:Number})],ja.prototype,"referenceScale",void 0),c([d({type:[R1],json:{write:!0}})],ja.prototype,"colorStops",void 0),c([d({type:String,json:{write:!0}})],ja.prototype,"field",void 0),c([d({type:Number,json:{write:{overridePolicy:(e,t,i)=>({enabled:i==null})}}})],ja.prototype,"fieldOffset",void 0),c([d({type:Number,json:{write:!0}})],ja.prototype,"maxPixelIntensity",void 0),c([d({type:Number,json:{write:!0}})],ja.prototype,"minPixelIntensity",void 0),c([Se({heatmap:"heatmap"})],ja.prototype,"type",void 0),ja=p$=c([D("esri.renderers.HeatmapRenderer")],ja);const Jxe=ja;var m$;let ju=m$=class extends Yy(Kc){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.getSymbols().map(i=>i.collectRequiredFields(e,t)))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((e,t)=>e+JSON.stringify(t),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new m$({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:z(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};c([d({type:String,json:{write:!0}})],ju.prototype,"description",void 0),c([d({type:String,json:{write:!0}})],ju.prototype,"label",void 0),c([d(Zy)],ju.prototype,"symbol",void 0),c([Se({simple:"simple"})],ju.prototype,"type",void 0),ju=m$=c([D("esri.renderers.SimpleRenderer")],ju);const ZE=ju,Kxe=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function f$(e){return e instanceof ge}function k4(e){return e instanceof _e?Object.keys(e.items):f$(e)?Mn(e).keys():e?Object.keys(e):[]}function mv(e,t){return e instanceof _e?e.items[t]:e[t]}function Yxe(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function yg(e){return e?e.declaredClass:null}function XH(e,t){const i=e.diff;if(i&&typeof i=="function")return i(e,t);const n=k4(e),r=k4(t);if(n.length===0&&r.length===0)return;if(!n.length||!r.length||Yxe(e,t))return{type:"complete",oldValue:e,newValue:t};const a=r.filter(m=>n.indexOf(m)===-1),o=n.filter(m=>r.indexOf(m)===-1),s=n.filter(m=>r.indexOf(m)>-1&&mv(e,m)!==mv(t,m)).concat(a,o).sort(),l=yg(e);if(l&&Kxe.indexOf(l)>-1&&s.length)return{type:"complete",oldValue:e,newValue:t};let u;const h=f$(e)&&f$(t);for(const m of s){const f=mv(e,m),g=mv(t,m);let b;(h||typeof f!="function"&&typeof g!="function")&&f!==g&&(f==null&&g==null||(b=i&&i[m]&&typeof i[m]=="function"?i[m](f,g):typeof f=="object"&&typeof g=="object"&&yg(f)===yg(g)?XH(f,g):{type:"complete",oldValue:f,newValue:g},T(b)&&(T(u)?u.diff[m]=b:u={type:"partial",diff:{[m]:b}})))}return u}function Zxe(e,t){if(V(e))return!1;const i=t.split(".");let n=e;for(const r of i){if(n.type==="complete")return!0;if(n.type!=="partial")return!1;{const a=n.diff[r];if(!a)return!1;n=a}}return!0}function IMe(e,t){for(const i of t)if(Zxe(e,i))return!0;return!1}function Xxe(e,t){if(!(typeof e=="function"||typeof t=="function"||V(e)&&V(t)))return V(e)||V(t)||typeof e=="object"&&typeof t=="object"&&yg(e)!==yg(t)?{type:"complete",oldValue:e,newValue:t}:XH(e,t)}var g$;let Zl=g$=class extends J{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}castValue(e){return e==null||typeof e=="string"||typeof e=="number"?e:`${e}`}clone(){return new g$({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${e}`}};c([d({type:String,json:{write:!0}})],Zl.prototype,"description",void 0),c([d({type:String,json:{write:!0}})],Zl.prototype,"label",void 0),c([d(Zy)],Zl.prototype,"symbol",void 0),c([d({json:{type:String,write:{writer:(e,t)=>{t.value=e==null?void 0:e.toString()}}}})],Zl.prototype,"value",void 0),c([nt("value")],Zl.prototype,"castValue",null),Zl=g$=c([D("esri.renderers.support.UniqueValueInfo")],Zl);const Cx=Zl,Qxe=()=>!!q("enable-feature:force-wosr"),J2={};async function eke(e,t){try{return{data:(await rke(e,t)).data,baseUrl:cse(e),styleUrl:e}}catch(i){return Ey(i),null}}function tke(e,t,i){const n=t&&t.portal||Er.getDefault();let r;const a=`${n.url} - ${n.user&&n.user.username} - ${e}`;return J2[a]||(J2[a]=ike(e,n,i).then(o=>(r=o,o.fetchData())).then(o=>({data:o,baseUrl:r.itemUrl,styleName:e}))),J2[a]}function ike(e,t,i){return t.load(i).then(()=>{const n=new Qs({disableExtraQuery:!0,query:`owner:${_4} AND type:${S4} AND typekeywords:"${e}"`});return t.queryItems(n,i)}).then(({results:n})=>{let r=null;const a=e.toLowerCase();if(n&&Array.isArray(n)){for(const o of n)if(o.typeKeywords.some(s=>s.toLowerCase()===a)&&o.type===S4&&o.owner===_4){r=o;break}}if(!r)throw new L("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return r.load(i)})}function nke(e,t,i){return e.styleUrl?eke(e.styleUrl,i):e.styleName?tke(e.styleName,t,i):Promise.reject(new L("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function EMe(e){return e===null||e.type==="CIMSymbolReference"?e:{type:"CIMSymbolReference",symbol:e}}function TMe(e,t){if(t==="cimRef")return e.cimRef;if(e.formatInfos&&!Qxe()){for(const i of e.formatInfos)if(i.type==="gltf")return i.href}return e.webRef}function rke(e,t){const i=$({responseType:"json",query:{f:"json"}},t);return Lt(eo(e),i)}const _4="esri_en",S4="Style",MMe="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var M0;const uu=Q.getLogger("esri.renderers.UniqueValueRenderer"),ake=mi(Cx);let Gt=M0=class extends Yy(Kc){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this.type="unique-value",this.backgroundFillSymbol=null,this.field=null,this.field2=null,this.field3=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.fieldDelimiter=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(t,i){if(!t&&!i)return;if(!t||!i)return{type:"complete",oldValue:t,newValue:i};let n=!1;const r={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let a=0;a<i.length;a++){const o=t.find(s=>s.value===i[a].value);o?Xxe(o,i[a])?(r.changed.push({type:"complete",oldValue:o,newValue:i[a]}),n=!0):r.unchanged.push({oldValue:o,newValue:i[a]}):(r.added.push(i[a]),n=!0)}for(let a=0;a<t.length;a++)i.find(o=>o.value===t[a].value)||(r.removed.push(t[a]),n=!0);return n?r:void 0}},this._set("uniqueValueInfos",[])}get _cache(){return{compiledFunc:null}}castField(e){return e==null||typeof e=="function"?e:My(e)}writeField(e,t,i,n){typeof e=="string"?t[i]=e:n&&n.messages?n.messages.push(new L("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):uu.error(".field: cannot write field to JSON since it's not a string value")}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}readPortal(e,t,i){return i.portal||Er.getDefault()}readStyleOrigin(e,t,i){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const n=zm(t.styleUrl,i);return Object.freeze({styleUrl:n})}}writeStyleOrigin(e,t,i,n){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=Ny(e.styleUrl,n))}set uniqueValueInfos(e){this.styleOrigin?uu.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap())}addUniqueValueInfo(e,t){if(this.styleOrigin)return void uu.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let i;i=typeof e=="object"?ake(e):new Cx({value:e,symbol:X8(t)}),this.uniqueValueInfos.push(i),this._valueInfoMap[i.value]=i}removeUniqueValueInfo(e){if(this.styleOrigin)uu.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(let t=0;t<this.uniqueValueInfos.length;t++)if(this.uniqueValueInfos[t].value===e+""){delete this._valueInfoMap[e],this.uniqueValueInfos.splice(t,1);break}}async getUniqueValueInfo(e,t){let i=t;return this.valueExpression&&(V(t)||V(t.arcade))&&(i=le($({},i),{arcade:await dl()})),this._getUniqueValueInfo(e,i)}getSymbol(e,t){if(this.valueExpression&&(V(t)||V(t.arcade)))return void uu.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this._getUniqueValueInfo(e,t);return i&&i.symbol||this.defaultSymbol}async getSymbolAsync(e,t){let i=t;if(this.valueExpression&&(V(i)||V(i.arcade))){const r=await dl(),{arcadeUtils:a}=r;a.hasGeometryOperations(this.valueExpression)&&await a.enableGeometryOperations(),i=le($({},i),{arcade:r})}const n=this._getUniqueValueInfo(e,i);return n&&n.symbol||this.defaultSymbol}getSymbols(){const e=[];for(const t of this.uniqueValueInfos)t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return`${JSON.stringify(this.backgroundFillSymbol)}.${JSON.stringify(this.defaultSymbol)}.${this.uniqueValueInfos.reduce((e,t)=>e+t.getMeshHash(),"")}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const e=new M0({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:z(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:z(this.visualVariables),legendOptions:z(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:z(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=z(this.uniqueValueInfos);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(z(this.styleOrigin))),Object.freeze(t)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const i=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(i)}async collectSymbolFields(e,t){const i=[...this.getSymbols().map(n=>n.collectRequiredFields(e,t)),Tr(e,t,this.valueExpression)];ca(e,t,this.field),ca(e,t,this.field2),ca(e,t,this.field3),await Promise.all(i)}populateFromStyle(){return nke(this.styleOrigin,{portal:this.portal}).then(e=>{const t=[];return this._valueInfoMap={},e&&e.data&&Array.isArray(e.data.items)&&e.data.items.forEach(i=>{const n=new rh({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:i.name});this.defaultSymbol||i.name!==e.data.defaultItem||(this.defaultSymbol=n,this._isDefaultSymbolDerived=!0);const r=new Cx({value:i.name,symbol:n});t.push(r),this._valueInfoMap[i.name]=r}),this._set("uniqueValueInfos",Object.freeze(t)),!this.defaultSymbol&&this.uniqueValueInfos.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateValueInfoMap(){this._valueInfoMap={},this.uniqueValueInfos.forEach(e=>this._valueInfoMap[e.value+""]=e)}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:i,scale:n,spatialReference:r,arcade:a}=JC(t,{});let o=this._cache.compiledFunc;const s=a.arcadeUtils;if(!o){const u=s.createSyntaxTree(this.valueExpression);o=s.createFunction(u),this._cache.compiledFunc=o}const l=s.executeFunction(o,s.createExecContext(e,s.getViewInfo({viewingMode:i,scale:n,spatialReference:r})));return this._valueInfoMap[l+""]}_getUnqiueValueInfoForFields(e){const t=this.field,i=e.attributes;let n;if(typeof t!="function"&&this.field2){const r=this.field2,a=this.field3,o=[];t&&o.push(i[t]),r&&o.push(i[r]),a&&o.push(i[a]),n=o.join(this.fieldDelimiter||"")}else typeof t=="function"?n=t(e):t&&(n=i[t]);return this._valueInfoMap[n+""]}static fromPortalStyle(e,t){const i=new M0(t&&t.properties);i._set("styleOrigin",Object.freeze({styleName:e})),i._set("portal",t&&t.portal||Er.getDefault());const n=i.populateFromStyle();return n.catch(r=>{uu.error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",r)}),n}static fromStyleUrl(e,t){const i=new M0(t&&t.properties);i._set("styleOrigin",Object.freeze({styleUrl:e}));const n=i.populateFromStyle();return n.catch(r=>{uu.error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",r)}),n}};c([d({readOnly:!0})],Gt.prototype,"_cache",null),c([Se({uniqueValue:"unique-value"})],Gt.prototype,"type",void 0),c([d(WH)],Gt.prototype,"backgroundFillSymbol",void 0),c([d({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],Gt.prototype,"field",void 0),c([nt("field")],Gt.prototype,"castField",null),c([ue("field")],Gt.prototype,"writeField",null),c([d({type:String,json:{write:!0}})],Gt.prototype,"field2",void 0),c([d({type:String,json:{write:!0}})],Gt.prototype,"field3",void 0),c([d({type:String,json:{write:!0}})],Gt.prototype,"valueExpression",void 0),c([d({type:String,json:{write:!0}})],Gt.prototype,"valueExpressionTitle",void 0),c([d({type:JE,json:{write:!0}})],Gt.prototype,"legendOptions",void 0),c([d({type:String,json:{write:!0}})],Gt.prototype,"defaultLabel",void 0),c([d(VN($({},Zy),{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],Gt.prototype,"defaultSymbol",null),c([d({type:String,json:{write:!0}})],Gt.prototype,"fieldDelimiter",void 0),c([d({type:Er,readOnly:!0})],Gt.prototype,"portal",void 0),c([ae("portal",["styleName"])],Gt.prototype,"readPortal",null),c([d({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],Gt.prototype,"styleOrigin",void 0),c([ae("styleOrigin",["styleName","styleUrl"])],Gt.prototype,"readStyleOrigin",null),c([ue("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],Gt.prototype,"writeStyleOrigin",null),c([d({type:[Cx],json:{write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],Gt.prototype,"uniqueValueInfos",null),Gt=M0=c([D("esri.renderers.UniqueValueRenderer")],Gt);const XE=Gt,QH={key:"type",base:Kc,typeMap:{heatmap:Jxe,simple:ZE,"unique-value":XE,"class-breaks":KH,"dot-density":Wxe,dictionary:qxe},errorContext:"renderer"},oke={key:"type",base:Kc,typeMap:{simple:ZE,"unique-value":XE,"class-breaks":KH},errorContext:"renderer"};function AMe(e,t){return eq(e,null,t)}const ske=Om({types:QH});function eq(e,t,i){return e?e&&(e.styleName||e.styleUrl)&&e.type!=="uniqueValue"?(i&&i.messages&&i.messages.push(new An("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:i})),null):ske(e,t,i):null}class QE{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(e5),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){const i=new QE,n=this._originStores[Xe.DEFAULTS];n&&n.forEach((r,a)=>{i.set(a,z(r),Xe.DEFAULTS)});for(let r=Xe.SERVICE;r<e5;r++){const a=this._originStores[r];a&&a.forEach((o,s)=>{t&&t.has(s)||i.set(s,z(o),r)})}return i}get(t,i){const n=i===void 0?this._values:this._originStores[i];return n?n.get(t):void 0}keys(t){const i=t==null?this._values:this._originStores[t];return i?[...i.keys()]:[]}set(t,i,n=Xe.USER){let r=this._originStores[n];if(r||(r=new Map,this._originStores[n]=r),r.set(t,i),!this._values.has(t)||this._propertyOriginMap.get(t)<=n){const a=this._values.get(t);return this._values.set(t,i),this._propertyOriginMap.set(t,n),a!==i}return!1}delete(t,i=Xe.USER){const n=this._originStores[i];if(!n)return;const r=n.get(t);if(n.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===i){this._values.delete(t);for(let a=i-1;a>=0;a--){const o=this._originStores[a];if(o&&o.has(t)){this._values.set(t,o.get(t)),this._propertyOriginMap.set(t,a);break}}}return r}has(t,i){const n=i===void 0?this._values:this._originStores[i];return!!n&&n.has(t)}revert(t,i){for(;i>0&&!this.has(t,i);)--i;const n=this._originStores[i],r=n&&n.get(t),a=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,i),a!==r}originOf(t){return this._propertyOriginMap.get(t)||Xe.DEFAULTS}forEach(t){this._values.forEach(t)}}const tq=e=>{let t=class extends e{constructor(...i){super(...i);const n=Mn(this),r=n.store,a=new QE;n.store=a,T6(n,r,a)}read(i,n){A6(this,i,n)}getAtOrigin(i,n){const r=K2(this),a=wc(n);if(typeof i=="string")return r.get(i,a);const o={};return i.forEach(s=>{o[s]=r.get(s,a)}),o}originOf(i){return Dw(this.originIdOf(i))}originIdOf(i){return K2(this).originOf(i)}revert(i,n){const r=K2(this),a=wc(n),o=Mn(this);let s;s=typeof i=="string"?i==="*"?r.keys(a):[i]:i,s.forEach(l=>{o.invalidate(l),r.revert(l,a),o.commit(l)})}};return t=c([D("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function K2(e){return Mn(e).store}let D4=class extends tq(ge){};D4=c([D("esri.core.ReadOnlyMultiOriginJSONSupport")],D4);const lke=e=>{let t=class extends e{constructor(...i){super(...i)}clear(i,n="user"){return Y2(this).delete(i,wc(n))}write(i={},n){return P6(this,i=i||{},n),i}setAtOrigin(i,n,r){Mn(this).setAtOrigin(i,n,wc(r))}removeOrigin(i){const n=Y2(this),r=wc(i),a=n.keys(r);for(const o of a)n.originOf(o)===r&&n.set(o,n.get(o,r),Xe.USER)}updateOrigin(i,n){const r=Y2(this),a=wc(n),o=this.get(i);for(let s=a+1;s<e5;++s)r.delete(i,s);r.set(i,o,a)}toJSON(i){return this.write({},i)}};return t=c([D("esri.core.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function Y2(e){return Mn(e).store}const iq=e=>{let t=class extends lke(tq(e)){constructor(...i){super(...i)}};return t=c([D("esri.core.MultiOriginJSONSupport")],t),t};let $4=class extends iq(ge){};$4=c([D("esri.core.MultiOriginJSONSupport")],$4);async function cke(e,t){const{WhereClause:i}=await import("./WhereClause.4b9e8d34.js");return i.create(e,t)}var y$;let Vu=y$=class extends J{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new y$({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};c([d({type:String,json:{write:!0}})],Vu.prototype,"expression",void 0),c([d({type:String,json:{write:!0}})],Vu.prototype,"name",void 0),c([d({type:["boolean","date","number","string"],json:{write:!0}})],Vu.prototype,"returnType",void 0),c([d({type:String,json:{write:!0}})],Vu.prototype,"title",void 0),Vu=y$=c([D("esri.form.ExpressionInfo")],Vu);const uke=Vu;let Hu=class extends J{constructor(e){super(e),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};c([d({type:String,json:{write:!0}})],Hu.prototype,"description",void 0),c([d({type:String,json:{write:!0}})],Hu.prototype,"label",void 0),c([d()],Hu.prototype,"type",void 0),c([d({type:String,json:{write:!0}})],Hu.prototype,"visibilityExpression",void 0),Hu=c([D("esri.form.elements.Element")],Hu);const _m=Hu;var b$;let F1=b$=class extends J{constructor(e){super(e),this.type=null}clone(){return new b$({type:this.type})}};c([d({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],F1.prototype,"type",void 0),F1=b$=c([D("esri.form.elements.inputs.AttachmentInput")],F1);const dke=F1;var v$;let qu=v$=class extends _m{constructor(e){super(e),this.attachmentKeyword=null,this.editable=!0,this.input=null,this.type="attachment"}clone(){return new v$({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};c([d({type:String,json:{write:!0}})],qu.prototype,"attachmentKeyword",void 0),c([d({type:Boolean,json:{write:!0}})],qu.prototype,"editable",void 0),c([d({type:dke,json:{read:{source:"inputType"},write:{target:"inputType"}}})],qu.prototype,"input",void 0),c([d({type:["attachment"],json:{read:!1,write:!0}})],qu.prototype,"type",void 0),qu=v$=c([D("esri.form.elements.AttachmentElement")],qu);const C4=qu;let N1=class extends J{constructor(e){super(e),this.type=null}};c([d()],N1.prototype,"type",void 0),N1=c([D("esri.form.elements.inputs.Input")],N1);const Xm=N1;let A0=class extends Xm{constructor(e){super(e),this.maxLength=null,this.minLength=0}};c([d({type:Number,json:{write:!0}})],A0.prototype,"maxLength",void 0),c([d({type:Number,json:{write:!0}})],A0.prototype,"minLength",void 0),A0=c([D("esri.form.elements.inputs.TextInput")],A0);const eT=A0;var w$;let z1=w$=class extends eT{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new w$({maxLength:this.maxLength,minLength:this.minLength})}};c([d({type:["barcode-scanner"],json:{read:!1,write:!0}})],z1.prototype,"type",void 0),z1=w$=c([D("esri.form.elements.inputs.BarcodeScannerInput")],z1);const hke=z1;var x$;let np=x$=class extends Xm{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="combo-box"}clone(){return new x$({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};c([d({type:String,json:{write:!0}})],np.prototype,"noValueOptionLabel",void 0),c([d({type:Boolean,json:{write:!0}})],np.prototype,"showNoValueOption",void 0),c([d({type:["combo-box"],json:{read:!1,write:!0}})],np.prototype,"type",void 0),np=x$=c([D("esri.form.elements.inputs.ComboBoxInput")],np);const pke=np;var k$;function I4(e){return e!=null?new Date(e):null}function E4(e){return e?e.getTime():null}let Va=k$=class extends Xm{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,t){return I4(t.max)}writeMax(e,t){t.max=E4(e)}readMin(e,t){return I4(t.min)}writeMin(e,t){t.min=E4(e)}clone(){return new k$({includeTime:this.includeTime,max:this.max,min:this.min,type:this.type})}};c([d({type:Boolean,json:{write:!0}})],Va.prototype,"includeTime",void 0),c([d({type:Date,json:{type:Number,write:!0}})],Va.prototype,"max",void 0),c([ae("max")],Va.prototype,"readMax",null),c([ue("max")],Va.prototype,"writeMax",null),c([d({type:Date,json:{type:Number,write:!0}})],Va.prototype,"min",void 0),c([ae("min")],Va.prototype,"readMin",null),c([ue("min")],Va.prototype,"writeMin",null),c([d({type:["datetime-picker"],json:{read:!1,write:!0}})],Va.prototype,"type",void 0),Va=k$=c([D("esri.form.elements.inputs.DateTimePickerInput")],Va);const mke=Va;var _$;let rp=_$=class extends Xm{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="radio-buttons"}clone(){return new _$({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};c([d({type:String,json:{write:!0}})],rp.prototype,"noValueOptionLabel",void 0),c([d({type:Boolean,json:{write:!0}})],rp.prototype,"showNoValueOption",void 0),c([d({type:["radio-buttons"],json:{read:!1,write:!0}})],rp.prototype,"type",void 0),rp=_$=c([D("esri.form.elements.inputs.RadioButtonsInput")],rp);const fke=rp;var S$;let ap=S$=class extends Xm{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new S$({offValue:this.offValue,onValue:this.onValue})}};c([d({type:[String,Number],json:{write:!0}})],ap.prototype,"offValue",void 0),c([d({type:[String,Number],json:{write:!0}})],ap.prototype,"onValue",void 0),c([d({type:["switch"],json:{read:!1,write:!0}})],ap.prototype,"type",void 0),ap=S$=c([D("esri.form.elements.inputs.SwitchInput")],ap);const gke=ap;var D$;let j1=D$=class extends eT{constructor(e){super(e),this.type="text-area"}clone(){return new D$({maxLength:this.maxLength,minLength:this.minLength})}};c([d({type:["text-area"],json:{read:!1,write:!0}})],j1.prototype,"type",void 0),j1=D$=c([D("esri.form.elements.inputs.TextAreaInput")],j1);const yke=j1;var $$;let V1=$$=class extends eT{constructor(e){super(e),this.type="text-box"}clone(){return new $$({maxLength:this.maxLength,minLength:this.minLength})}};c([d({type:["text-box"],json:{read:!1,write:!0}})],V1.prototype,"type",void 0),V1=$$=c([D("esri.form.elements.inputs.TextBoxInput")],V1);const bke=V1,vke={base:Xm,key:"type",typeMap:{"barcode-scanner":hke,"combo-box":pke,"datetime-picker":mke,"radio-buttons":fke,switch:gke,"text-area":yke,"text-box":bke}};var C$;let Kr=C$=class extends _m{constructor(e){super(e),this.domain=null,this.editable=!0,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}clone(){return new C$({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};c([d({types:Uj,json:{read:{reader:SE},write:!0}})],Kr.prototype,"domain",void 0),c([d({type:Boolean,json:{write:!0}})],Kr.prototype,"editable",void 0),c([d({type:String,json:{write:!0}})],Kr.prototype,"editableExpression",void 0),c([d({type:String,json:{write:!0}})],Kr.prototype,"fieldName",void 0),c([d({type:String,json:{write:!0}})],Kr.prototype,"hint",void 0),c([d({types:vke,json:{read:{source:"inputType"},write:{target:"inputType"}}})],Kr.prototype,"input",void 0),c([d({type:String,json:{write:!0}})],Kr.prototype,"requiredExpression",void 0),c([d({type:String,json:{read:!1,write:!0}})],Kr.prototype,"type",void 0),c([d({type:String,json:{write:!0}})],Kr.prototype,"valueExpression",void 0),Kr=C$=c([D("esri.form.elements.FieldElement")],Kr);const T4=Kr;var I$;let Fs=I$=class extends _m{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editable=!0,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new I$({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:z(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};c([d({type:Number,json:{write:!0}})],Fs.prototype,"displayCount",void 0),c([d({type:["list"],json:{write:!0}})],Fs.prototype,"displayType",void 0),c([d({type:Boolean,json:{write:!0}})],Fs.prototype,"editable",void 0),c([d({type:[k8],json:{write:!0}})],Fs.prototype,"orderByFields",void 0),c([d({type:Number,json:{write:!0}})],Fs.prototype,"relationshipId",void 0),c([d({type:["relationship"],json:{read:!1,write:!0}})],Fs.prototype,"type",void 0),Fs=I$=c([D("esri.form.elements.RelationshipElement")],Fs);const M4=Fs;function nq(e){return{typesWithGroup:{base:_m,key:"type",typeMap:{attachment:C4,field:T4,group:e,relationship:M4}},typesWithoutGroup:{base:_m,key:"type",typeMap:{attachment:C4,field:T4,relationship:M4}}}}function rq(e,t,i=!0){if(!e)return null;const n=i?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(r=>n[r.type]).map(r=>n[r.type].fromJSON(r))}function aq(e,t,i=!0){if(!e)return null;const n=i?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(r=>n[r.type]).map(r=>r.toJSON())}function oq(e,t,i=!0){return e?e.map(n=>ns(i?t.typesWithGroup:t.typesWithoutGroup,n)):null}var E$;let No=E$=class extends _m{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return oq(e,Z2,!1)}readElements(e,t){return rq(t.formElements,Z2,!1)}writeElements(e,t){t.formElements=aq(e,Z2,!1)}clone(){return new E$({description:this.description,elements:z(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};c([d({json:{write:!0}})],No.prototype,"elements",void 0),c([nt("elements")],No.prototype,"castElements",null),c([ae("elements",["formElements"])],No.prototype,"readElements",null),c([ue("elements")],No.prototype,"writeElements",null),c([d({type:["collapsed","expanded"],json:{write:!0}})],No.prototype,"initialState",void 0),c([d({type:String,json:{read:!1,write:!0}})],No.prototype,"type",void 0),No=E$=c([D("esri.form.elements.GroupElement")],No);const Z2=nq(No),wke=No;var T$;const X2=nq(wke);let Oo=T$=class extends J{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.title=null}castElements(e){return oq(e,X2)}readElements(e,t){return rq(t.formElements,X2)}writeElements(e,t){t.formElements=aq(e,X2)}clone(){return new T$({description:this.description,expressionInfos:z(this.expressionInfos),elements:z(this.elements),title:this.title})}};c([d({type:String,json:{write:!0}})],Oo.prototype,"description",void 0),c([d({json:{write:!0}})],Oo.prototype,"elements",void 0),c([nt("elements")],Oo.prototype,"castElements",null),c([ae("elements",["formElements"])],Oo.prototype,"readElements",null),c([ue("elements")],Oo.prototype,"writeElements",null),c([d({type:[uke],json:{write:!0}})],Oo.prototype,"expressionInfos",void 0),c([d({type:String,json:{write:!0}})],Oo.prototype,"title",void 0),Oo=T$=c([D("esri.form.FormTemplate")],Oo);const xke=Oo;var O0;const Ix=an()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),sq=Ix.jsonValues.slice();LN(sq,"orthometric");const bg=an()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let Ha=O0=class extends J{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,i){return Ix.write(e,t,i)}readHeightModel(e,t,i){return Ix.read(e)||(i&&i.messages&&i.messages.push(kke(e,{context:i})),null)}readHeightUnit(e,t,i){return bg.read(e)||(i&&i.messages&&i.messages.push(A4(e,{context:i})),null)}readHeightUnitService(e,t,i){return o7(e)||bg.read(e)||(i&&i.messages&&i.messages.push(A4(e,{context:i})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new O0({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const i=dpe(t);return new O0({heightModel:e.heightModel,heightUnit:i,vertCRS:e.vertCRS})}write(e,t){return t=$({origin:"web-scene"},t),super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new O0;return t.read(e,{origin:"web-scene"}),t}};function A4(e,t){return new An("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function kke(e,t){return new An("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}c([d({type:Ix.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:sq,default:"ellipsoidal"}}}})],Ha.prototype,"heightModel",void 0),c([ue("web-scene","heightModel")],Ha.prototype,"writeHeightModel",null),c([ae(["web-scene","service"],"heightModel")],Ha.prototype,"readHeightModel",null),c([d({type:bg.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:bg.jsonValues,write:bg.write}}}})],Ha.prototype,"heightUnit",void 0),c([ae("web-scene","heightUnit")],Ha.prototype,"readHeightUnit",null),c([ae("service","heightUnit")],Ha.prototype,"readHeightUnitService",null),c([d({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],Ha.prototype,"vertCRS",void 0),c([ae("service","vertCRS",["vertCRS","ellipsoid","geoid"])],Ha.prototype,"readVertCRS",null),Ha=O0=c([D("esri.geometry.HeightModelInfo")],Ha);const qk=Ha;function O4(e,t,i){if(e.hasM==null||e.hasZ)for(const n of t)for(const r of n)r.length>2&&(r[2]*=i)}function _ke(e,t,i){if(!e&&!t||!i)return;const n=gm(i);P4(e,i,n),P4(t,i,n)}function P4(e,t,i){if(e)for(const n of e)Ske(n.geometry,t,i)}function Ske(e,t,i){if(V(e)||!e.spatialReference||ir(e.spatialReference,t))return;const n=gm(e.spatialReference)/i;if(n!==1){if("x"in e)e.z!=null&&(e.z*=n);else if("rings"in e)O4(e,e.rings,n);else if("paths"in e)O4(e,e.paths,n);else if("points"in e&&(e.hasM==null||e.hasZ))for(const r of e.points)r.length>2&&(r[2]*=n)}}let Dke=0;const Q2=Q.getLogger("esri.layers.graphics.sources.MemorySource");let Xl=class extends ul.LoadableMixin(lk(eh(_e))){constructor(e){super(e),this._idToClientGraphic=null,this.type="memory"}load(e){const t=T(e)?e.signal:null;return this.addResolvingPromise(this._startWorker(t)),Promise.resolve(this)}destroy(){var e;(e=this._connection)==null||e.close(),this._connection=null}get workerGeometryType(){var e;const t=(e=this.layer)==null?void 0:e.geometryType;return t?this._geometryTypeRequiresClientGraphicMapping(t)?"polygon":t:null}applyEdits(e){return this.load().then(()=>this._applyEdits(e))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(e,t={}){await this.load(t);const i=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t);yx(e,this.layer.spatialReference,i);const n=oh.fromJSON(i);if(!this._requiresClientGraphicMapping())return n;const r=this.layer.objectIdField;for(const a of n.features){const o=a.attributes[r],s=this._idToClientGraphic.get(o);s&&(a.geometry=s.geometry)}return n.geometryType=this.layer.geometryType,n}async queryFeaturesJSON(e,t={}){if(this._requiresClientGraphicMapping())throw new L("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(t);const i=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t);return yx(e,this.layer.spatialReference,i),i}queryFeatureCount(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryFeatureCount",e?e.toJSON():null,t))}queryObjectIds(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryObjectIds",e?e.toJSON():null,t))}queryExtent(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryExtent",e?e.toJSON():null,t)).then(i=>({count:i.count,extent:pt.fromJSON(i.extent)}))}querySnapping(e,t={}){return this.load(t).then(()=>this._connection.invoke("querySnapping",e,t))}async _applyEdits(e){if(!this._connection)throw new L("feature-layer-source:edit-failure","Memory source not loaded");const t=this.layer.objectIdField;let i=null;const n=[],r=[];await Promise.all([this._prepareClientMapping(e.addFeatures,null),this._prepareClientMapping(e.updateFeatures,null)]);const a=u=>"objectId"in u&&u.objectId!=null?u.objectId:"attributes"in u&&u.attributes[t]!=null?u.attributes[t]:null;if(e.addFeatures&&(i=this._prepareAddFeatures(e.addFeatures)),e.deleteFeatures)for(const u of e.deleteFeatures){const h=a(u);h!=null&&n.push(h)}const o=e.updateFeatures&&this._idToClientGraphic?new Map:null;if(e.updateFeatures){for(const u of e.updateFeatures)if(r.push(this._serializeFeature(u)),o){const h=a(u);h!=null&&o.set(h,u)}}_ke(i?i.features:null,r,this.layer.spatialReference);const{fullExtent:s,featureEditResults:l}=await this._connection.invoke("applyEdits",{adds:i?i.features:[],updates:r,deletes:n});return this.fullExtent=s,i&&i.finish(l.uidToObjectId),this._updateClientGraphicIds(o,l),this._createEditsResult(l)}async _prepareClientMapping(e,t){if(this.layerOrSourceGeometryType!=="mesh"||V(e))return;const i=[];for(const{geometry:n}of e)!T(n)||n.type!=="mesh"||n.hasExtent||n.loaded||i.push(n.load({signal:t}));i.length&&await Promise.all(i)}_updateClientGraphicIds(e,t){if(this._idToClientGraphic){if(e)for(const i of t.updateResults){if(!i.success)continue;const n=e.get(i.objectId);n!=null&&this._addIdToClientGraphic(n)}for(const i of t.deleteResults)i.success&&this._idToClientGraphic.delete(i.objectId)}}_createEditsResult(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(e){const t=e.success===!0?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new L("feature-layer-source:edit-failure",t.description,{code:t.code}):null}}_prepareAddFeatures(e){const t=new Map,i=new Array(e.length);let n=null;for(let a=0;a<e.length;a++){const o=e[a],s=this._serializeFeature(o);!n&&T(o.geometry)&&(n=o.geometry.type),i[a]=s,t.set(`${s.uid}`,o)}const r=this;return{features:i,inferredGeometryType:n,finish(a){const o=r.sourceJSON.objectIdField;for(const s in a){const l=a[s],u=t.get(s);u&&(u.attributes||(u.attributes={}),l===-1?delete u.attributes[o]:u.attributes[o]=l,r._addIdToClientGraphic(u))}}}}_addIdToClientGraphic(e){if(!this._idToClientGraphic)return;const t=this.sourceJSON.objectIdField,i=e.attributes&&e.attributes[t];i!=null&&this._idToClientGraphic.set(i,e)}get layerOrSourceGeometryType(){var e,t,i;return(e=(t=this.layer)==null?void 0:t.geometryType)!=null?e:(i=this.sourceJSON)==null?void 0:i.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this.layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(e){return this._geometryTypeRequiresClientGraphicMapping(e.type)}_geometryTypeRequiresClientGraphicMapping(e){return e==="mesh"||e==="multipatch"||e==="extent"}_serializeFeature(e){const{attributes:t}=e,i=this._geometryForSerialization(e),n=(Dke++).toString();return i?{uid:n,geometry:i.toJSON(),attributes:t}:{uid:n,attributes:t}}_geometryForSerialization(e){const{geometry:t}=e;return V(t)?null:this._geometryRequiresClientGraphicMapping(t)?t.extent?ao.fromExtent(t.extent):null:t}async _startWorker(e){this._connection=await tpe("MemorySourceWorker",{strategy:q("feature-layers-workers")?"dedicated":"local",signal:e});const{fields:t,spatialReference:i,objectIdField:n,hasM:r,hasZ:a,timeInfo:o}=this.layer,s=this.layer.originOf("spatialReference")==="defaults";await this._prepareClientMapping(this.items,e);const l=this._prepareAddFeatures(this.items);this.handles.add(this.on("before-changes",f=>{Q2.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),f.preventDefault()}));const u={features:l.features,fields:t&&t.map(f=>f.toJSON()),geometryType:qO.toJSON(this.workerGeometryType),hasM:this.layerOrSourceGeometryType!=="mesh"&&r,hasZ:this.layerOrSourceGeometryType==="mesh"||a,objectIdField:n,spatialReference:s?null:i&&i.toJSON(),timeInfo:o?o.toJSON():null},h=await this._connection.invoke("load",u,{signal:e});for(const f of h.warnings)Q2.warn(f.message,{layer:this.layer,warning:f});h.featureErrors.length&&Q2.warn(`Encountered ${h.featureErrors.length} validation errors while loading features`,h.featureErrors);const m=h.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(l.inferredGeometryType)&&(m.geometryType=qO.toJSON(l.inferredGeometryType)),this.sourceJSON=m,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),l.finish(h.assignedObjectIds)}};c([aI({Type:Mr,ensureType:mi(Mr)})],Xl.prototype,"itemType",void 0),c([d()],Xl.prototype,"type",void 0),c([d({constructOnly:!0})],Xl.prototype,"layer",void 0),c([d({readOnly:!0})],Xl.prototype,"workerGeometryType",null),c([d()],Xl.prototype,"sourceJSON",void 0),Xl=c([D("esri.layers.graphics.sources.MemorySource")],Xl);const L4=Xl;function $ke(e){return"portalItem"in e}const Cke=e=>{let t=class extends e{get apiKey(){var i;return this._isOverridden("apiKey")?this._get("apiKey"):$ke(this)?(i=this.portalItem)==null?void 0:i.apiKey:null}set apiKey(i){i!=null?this._override("apiKey",i):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return c([d({type:String})],t.prototype,"apiKey",null),t=c([D("esri.layers.mixins.APIKeyMixin")],t),t},lq={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},cq=Object.values(lq),uq=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${cq.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),Ike=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${cq.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),Eke=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function OMe(e){return!!uq.test(e)}function Xy(e){const t=Gi(e),i=t.path.match(uq)||t.path.match(Ike);if(!i)return null;const[,n,r,a,o]=i,s=r.indexOf("/");return{title:tT(s!==-1?r.slice(s+1):r),serverType:lq[a.toLowerCase()],sublayer:o!=null&&o!==""?parseInt(o,10):null,url:{path:n}}}function Tke(e){const t=Gi(e).path.match(Eke);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function tT(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function Mke(e,t){const i=[];if(e){const n=Xy(e);T(n)&&n.title&&i.push(n.title)}if(t){const n=tT(t);i.push(n)}if(i.length===2){if(i[0].toLowerCase().indexOf(i[1].toLowerCase())!==-1)return i[0];if(i[1].toLowerCase().indexOf(i[0].toLowerCase())!==-1)return i[1]}return i.join(" - ")}function dq(e){if(!e)return!1;const t=".arcgis.com/",i="//services",n="//tiles",r="//features",a=(e=e.toLowerCase()).indexOf(t)!==-1,o=e.indexOf(i)!==-1||e.indexOf(n)!==-1||e.indexOf(r)!==-1;return a&&o}function Ake(e,t){return e&&G6(W6(e,t))}function Oke(e){let{url:t}=e;if(!t)return{url:t};t=W6(t,e.logger);const i=Gi(t),n=Xy(i.path);let r;if(T(n))n.sublayer!=null&&e.layer.layerId==null&&(r=n.sublayer),t=n.url.path;else if(e.nonStandardUrlAllowed){const a=Tke(i.path);T(a)&&(t=a.serviceUrl,r=a.sublayerId)}return{url:G6(t),layerId:r}}function Pke(e,t,i,n,r){Bd(t,n,"url",r),n.url&&e.layerId!=null&&(n.url=Lc(n.url,i,e.layerId.toString()))}function PMe(e){if(!e)return!1;const t=e.toLowerCase(),i=t.indexOf("/services/")!==-1,n=t.indexOf("/mapserver/wmsserver")!==-1,r=t.indexOf("/imageserver/wmsserver")!==-1,a=t.indexOf("/wmsserver")!==-1;return i&&(n||r||a)}const Lke=e=>{let t=class extends e{get title(){if(this._get("title")&&this.originOf("title")!=="defaults")return this._get("title");if(this.url){const i=Xy(this.url);if(T(i)&&i.title)return i.title}return this._get("title")||""}set title(i){this._set("title",i)}set url(i){this._set("url",Ake(i,Q.getLogger(this.declaredClass)))}};return c([d()],t.prototype,"title",null),c([d({type:String})],t.prototype,"url",null),t=c([D("esri.layers.mixins.ArcGISService")],t),t};function Bk(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Rke(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Fke(e,t,i,n,r,a,o,s,l,u,h,m,f,g,b,v){const w=new Float32Array(16);return w[0]=e,w[1]=t,w[2]=i,w[3]=n,w[4]=r,w[5]=a,w[6]=o,w[7]=s,w[8]=l,w[9]=u,w[10]=h,w[11]=m,w[12]=f,w[13]=g,w[14]=b,w[15]=v,w}function Nke(e,t){return new Float32Array(e,t,16)}const zke=Bk();Object.freeze({__proto__:null,create:Bk,clone:Rke,fromValues:Fke,createView:Nke,IDENTITY:zke});const jke=(e,t)=>{const i=Jc(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return fl(i,i)},Vke=(e,t)=>{const i=Jc(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return fl(i,i)},Hke=(e,t)=>{const i=1-t,n=Jc(e,.2126+.7874*i,.7152-.7152*i,.0722-.0722*i,0,.2126-.2126*i,.7152+.2848*i,.0722-.0722*i,0,.2126-.2126*i,.7152-.7152*i,.0722+.9278*i,0,0,0,0,1);return fl(n,n)},qke=(e,t)=>{const i=Math.sin(t*Math.PI/180),n=Math.cos(t*Math.PI/180),r=Jc(e,.213+.787*n-.213*i,.715-.715*n-.715*i,.072-.072*n+.928*i,0,.213-.213*n+.143*i,.715+.285*n+.14*i,.072-.072*n-.283*i,0,.213-.213*n-.787*i,.715-.715*n+.715*i,.072+.928*n+.072*i,0,0,0,0,1);return fl(r,r)},Bke=(e,t)=>{const i=1-2*t,n=Jc(e,i,0,0,t,0,i,0,t,0,0,i,t,0,0,0,1);return fl(n,n)},Uke=(e,t)=>{const i=Jc(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return fl(i,i)},Gke=(e,t)=>{const i=1-t,n=Jc(e,.393+.607*i,.769-.769*i,.189-.189*i,0,.349-.349*i,.686+.314*i,.168-.168*i,0,.272-.272*i,.534-.534*i,.131+.869*i,0,0,0,0,1);return fl(n,n)};class Uk{constructor(t,i,n){this.strength=t,this.radius=i,this.threshold=n,this.type="bloom"}interpolate(t,i,n){this.strength=Hn(t.strength,i.strength,n),this.radius=Hn(t.radius,i.radius,n),this.threshold=Hn(t.threshold,i.threshold,n)}clone(){return new Uk(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:vg(this.radius),strength:this.strength,threshold:this.threshold}}}class Gk{constructor(t){this.radius=t,this.type="blur"}interpolate(t,i,n){this.radius=Math.round(Hn(t.radius,i.radius,n))}clone(){return new Gk(this.radius)}toJSON(){return{type:"blur",radius:vg(this.radius)}}}class ny{constructor(t,i){this.type=t,this.amount=i,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,i,n){this.amount=Hn(t.amount,i.amount,n),this._updateMatrix()}clone(){return new ny(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||Bk();switch(this.type){case"brightness":this._colorMatrix=jke(t,this.amount);break;case"contrast":this._colorMatrix=Vke(t,this.amount);break;case"grayscale":this._colorMatrix=Hke(t,this.amount);break;case"invert":this._colorMatrix=Bke(t,this.amount);break;case"saturate":this._colorMatrix=Uke(t,this.amount);break;case"sepia":this._colorMatrix=Gke(t,this.amount)}}}class Wk{constructor(t,i,n,r){this.offsetX=t,this.offsetY=i,this.blurRadius=n,this.color=r,this.type="drop-shadow"}interpolate(t,i,n){this.offsetX=Hn(t.offsetX,i.offsetX,n),this.offsetY=Hn(t.offsetY,i.offsetY,n),this.blurRadius=Hn(t.blurRadius,i.blurRadius,n),this.color[0]=Math.round(Hn(t.color[0],i.color[0],n)),this.color[1]=Math.round(Hn(t.color[1],i.color[1],n)),this.color[2]=Math.round(Hn(t.color[2],i.color[2],n)),this.color[3]=Hn(t.color[3],i.color[3],n)}clone(){return new Wk(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:vg(this.offsetX),yoffset:vg(this.offsetY),blurRadius:vg(this.blurRadius),color:t}}}class Jk{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,i,n){this.angle=Hn(t.angle,i.angle,n),this._updateMatrix()}clone(){return new Jk(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||Bk();this._colorMatrix=qke(t,this.angle)}}class Kk{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,i,n){this.amount=Hn(t.amount,i.amount,n)}clone(){return new Kk(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function Hn(e,t,i){return e+(t-e)*i}function vg(e){return Math.round(1e3*zc(e))/1e3}function Wke(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new ny(e.type,0);case"saturate":case"brightness":case"contrast":return new ny(e.type,1);case"opacity":return new Kk(1);case"hue-rotate":return new Jk(0);case"blur":return new Gk(0);case"drop-shadow":return new Wk(0,0,0,[...wI("transparent")]);case"bloom":return new Uk(0,0,1)}}function Jke(e,t){const i=e.length>t.length?e:t;return(e.length>t.length?t:e).every((n,r)=>n.type===i[r].type)}function Kke(e,t){const i=e.length>t.length?e:t,n=e.length>t.length?t:e;for(let r=n.length;r<i.length;r++)n.push(Wke(i[r]))}function Yke(e){const t=e[0];return!!t&&"type"in t}var R4,F4,hq={exports:{}};function pq(e){if(!e||e.length===0)return null;if(typeof e=="string"){const i=N4(e);return i&&i.length!==0?i:null}const t=e.map(i=>{if(!Number.isFinite(i.scale)||i.scale<=0)throw new L("effect:invalid-scale","scale must be finite and greater than 0",{stop:i});return{scale:i.scale,effects:N4(i.value)}});t.sort((i,n)=>n.effects.length-i.effects.length);for(let i=0;i<t.length-1;i++){if(!Jke(t[i].effects,t[i+1].effects))throw new L("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[i].effects,b:t[i+1].effects});Kke(t[i].effects,t[i+1].effects)}return t.sort((i,n)=>n.scale-i.scale),t}function N4(e){let t;if(!e)return[];try{t=hq.exports.parse(e)}catch(i){throw new L("effect:invalid-syntax","Invalid effect syntax",{value:e,error:i})}return t.map(i=>Zke(i))}function Zke(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return Xke(e);case"opacity":return Qke(e);case"hue-rotate":return e_e(e);case"blur":return t_e(e);case"drop-shadow":return i_e(e);case"bloom":return n_e(e)}}catch(t){throw t.details.filter=e,t}throw new L("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}function Xke(e){let t=1;return Qm(e.parameters,1),e.parameters.length===1&&(t=Ua(e.parameters[0])),new ny(e.name,t)}function Qke(e){let t=1;return Qm(e.parameters,1),e.parameters.length===1&&(t=Ua(e.parameters[0])),new Kk(t)}function e_e(e){let t=0;return Qm(e.parameters,1),e.parameters.length===1&&(t=c_e(e.parameters[0])),new Jk(t)}function t_e(e){let t=0;return Qm(e.parameters,1),e.parameters.length===1&&(t=rT(e.parameters[0]),Qy(t,e.parameters[0])),new Gk(t)}function i_e(e){const t=[];let i=null;for(const n of e.parameters)if(n.type==="color"){if(t.length&&Object.freeze(t),i)throw new L("effect:type-error","Accepts only one color",{});i=u_e(n)}else{const r=rT(n);if(Object.isFrozen(t))throw new L("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(r),t.length===3&&Qy(r,n)}if(t.length<2||t.length>3)throw new L("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new Wk(t[0],t[1],t[2]||0,i||mq("black"))}function n_e(e){let t=1,i=0,n=0;return Qm(e.parameters,3),e.parameters[0]&&(t=Ua(e.parameters[0])),e.parameters[1]&&(i=rT(e.parameters[1]),Qy(i,e.parameters[1])),e.parameters[2]&&(n=Ua(e.parameters[2])),new Uk(t,i,n)}function Qm(e,t){if(e.length>t)throw new L("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function Yk(e){if(e.type==="color")return"<color>";if(e.unit){if(nT[e.unit])return"<length>";if(iT[e.unit])return"<angle>";if(e.unit==="%")return"<percentage>"}return"<double>"}function Qy(e,t){if(e<0)throw new L("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}function r_e(e){if(e.type!=="quantity"||e.unit!==null)throw new L("effect:type-error",`Expected <double>, Actual: ${Yk(e)}`,{term:e})}function a_e(e){if(e.type!=="quantity"||e.unit!==null&&e.unit!=="%")throw new L("effect:type-error",`Expected <double> or <percentage>, Actual: ${Yk(e)}`,{term:e})}F4=function(){function e(r,a){function o(){this.constructor=r}o.prototype=a.prototype,r.prototype=new o}function t(r,a,o,s){var l=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(l,t.prototype),l.expected=a,l.found=o,l.location=s,l.name="SyntaxError",l}function i(r,a,o){return o=o||" ",r.length>a?r:(a-=r.length,r+(o+=o.repeat(a)).slice(0,a))}function n(r,a){var o,s={},l=(a=a!==void 0?a:{}).grammarSource,u={start:LT},h=LT,m="none",f=")",g=",",b="(",v="%",w="px",x="cm",S="mm",E="in",C="pt",_="pc",I="deg",O="rad",R="grad",H="turn",Y="#",U=".",ce="e",ne=/^[ \t\n\r]/,se=/^[a-z\-]/,Je=/^[0-9a-fA-F]/,pe=/^[+\-]/,Te=/^[0-9]/,tt=ys("none"),Ht=Ni("none",!1),Zc=Ni(")",!1),ps=Ni(",",!1),ms=ys("whitespace"),Xc=sf([" ","	",`
`,"\r"],!1,!1),gl=ys("function"),mo=Ni("(",!1),Qc=ys("identifier"),eu=sf([["a","z"],"-"],!1,!1),fs=ys("percentage"),tf=Ni("%",!1),s_=ys("length"),nf=Ni("px",!1),l_=Ni("cm",!1),rb=Ni("mm",!1),c_=Ni("in",!1),u_=Ni("pt",!1),ab=Ni("pc",!1),ob=ys("angle"),d_=Ni("deg",!1),h_=Ni("rad",!1),gs=Ni("grad",!1),dh=Ni("turn",!1),sb=ys("number"),lb=ys("color"),rf=Ni("#",!1),af=sf([["0","9"],["a","f"],["A","F"]],!1,!1),of=sf(["+","-"],!1,!1),ga=sf([["0","9"]],!1,!1),cb=Ni(".",!1),_U=Ni("e",!1),SU=function(){return[]},DU=function(M,B){return{type:"function",name:M,parameters:B||[]}},$U=function(M,B){return B.length>0?aG(M,B,3):[M]},CU=function(M){return{type:"quantity",value:M.value,unit:M.unit}},IU=function(M){return{type:"color",colorType:M.type,value:M.value}},EU=function(M){return M},TU=function(){return db()},MU=function(M){return{value:M,unit:"%"}},AU=function(M){return{value:M,unit:"px"}},OU=function(M){return{value:M,unit:"cm"}},PU=function(M){return{value:M,unit:"mm"}},LU=function(M){return{value:M,unit:"in"}},RU=function(M){return{value:M,unit:"pt"}},FU=function(M){return{value:M,unit:"pc"}},NU=function(M){return{value:M,unit:"deg"}},zU=function(M){return{value:M,unit:"rad"}},jU=function(M){return{value:M,unit:"grad"}},VU=function(M){return{value:M,unit:"turn"}},HU=function(M){return{value:M,unit:null}},qU=function(){return{type:"hex",value:db()}},BU=function(M){return{type:"function",value:M}},UU=function(){return{type:"named",value:db()}},GU=function(){return parseFloat(db())},N=0,Rt=0,ub=[{line:1,column:1}],fo=0,p_=[],ye=0;if("startRule"in a){if(!(a.startRule in u))throw new Error(`Can't start parsing from rule "`+a.startRule+'".');h=u[a.startRule]}function db(){return r.substring(Rt,N)}function Ni(M,B){return{type:"literal",text:M,ignoreCase:B}}function sf(M,B,K){return{type:"class",parts:M,inverted:B,ignoreCase:K}}function WU(){return{type:"end"}}function ys(M){return{type:"other",description:M}}function OT(M){var B,K=ub[M];if(K)return K;for(B=M-1;!ub[B];)B--;for(K={line:(K=ub[B]).line,column:K.column};B<M;)r.charCodeAt(B)===10?(K.line++,K.column=1):K.column++,B++;return ub[M]=K,K}function PT(M,B){var K=OT(M),Ue=OT(B);return{source:l,start:{offset:M,line:K.line,column:K.column},end:{offset:B,line:Ue.line,column:Ue.column}}}function Fe(M){N<fo||(N>fo&&(fo=N,p_=[]),p_.push(M))}function JU(M,B,K){return new t(t.buildMessage(M,B),M,B,K)}function LT(){var M;return(M=KU())===s&&(M=YU()),M}function KU(){var M,B;return ye++,M=N,zi(),r.substr(N,4)===m?(B=m,N+=4):(B=s,ye===0&&Fe(Ht)),B!==s?(zi(),Rt=M,M=SU()):(N=M,M=s),ye--,M===s&&ye===0&&Fe(tt),M}function YU(){var M,B;if(M=[],(B=m_())!==s)for(;B!==s;)M.push(B),B=m_();else M=s;return M}function m_(){var M,B,K,Ue;return M=N,zi(),(B=XU())!==s?(zi(),(K=ZU())===s&&(K=null),zi(),r.charCodeAt(N)===41?(Ue=f,N++):(Ue=s,ye===0&&Fe(Zc)),Ue!==s?(zi(),Rt=M,M=DU(B,K)):(N=M,M=s)):(N=M,M=s),M}function ZU(){var M,B,K,Ue,Ji,qt,Pr,hb;if(M=N,(B=f_())!==s){for(K=[],Ue=N,Ji=zi(),r.charCodeAt(N)===44?(qt=g,N++):(qt=s,ye===0&&Fe(ps)),qt===s&&(qt=null),Pr=zi(),(hb=f_())!==s?Ue=Ji=[Ji,qt,Pr,hb]:(N=Ue,Ue=s);Ue!==s;)K.push(Ue),Ue=N,Ji=zi(),r.charCodeAt(N)===44?(qt=g,N++):(qt=s,ye===0&&Fe(ps)),qt===s&&(qt=null),Pr=zi(),(hb=f_())!==s?Ue=Ji=[Ji,qt,Pr,hb]:(N=Ue,Ue=s);Rt=M,M=$U(B,K)}else N=M,M=s;return M}function f_(){var M,B;return M=N,(B=QU())===s&&(B=eG())===s&&(B=tG())===s&&(B=iG()),B!==s&&(Rt=M,B=CU(B)),(M=B)===s&&(M=N,(B=nG())!==s&&(Rt=M,B=IU(B)),M=B),M}function zi(){var M,B;for(ye++,M=[],ne.test(r.charAt(N))?(B=r.charAt(N),N++):(B=s,ye===0&&Fe(Xc));B!==s;)M.push(B),ne.test(r.charAt(N))?(B=r.charAt(N),N++):(B=s,ye===0&&Fe(Xc));return ye--,B=s,ye===0&&Fe(ms),M}function XU(){var M,B,K;return ye++,M=N,(B=RT())!==s?(r.charCodeAt(N)===40?(K=b,N++):(K=s,ye===0&&Fe(mo)),K!==s?(Rt=M,M=EU(B)):(N=M,M=s)):(N=M,M=s),ye--,M===s&&(B=s,ye===0&&Fe(gl)),M}function RT(){var M,B,K;if(ye++,M=N,B=[],se.test(r.charAt(N))?(K=r.charAt(N),N++):(K=s,ye===0&&Fe(eu)),K!==s)for(;K!==s;)B.push(K),se.test(r.charAt(N))?(K=r.charAt(N),N++):(K=s,ye===0&&Fe(eu));else B=s;return B!==s&&(Rt=M,B=TU()),ye--,(M=B)===s&&(B=s,ye===0&&Fe(Qc)),M}function QU(){var M,B,K;return ye++,M=N,zi(),(B=Or())!==s?(r.charCodeAt(N)===37?(K=v,N++):(K=s,ye===0&&Fe(tf)),K!==s?(Rt=M,M=MU(B)):(N=M,M=s)):(N=M,M=s),ye--,M===s&&ye===0&&Fe(fs),M}function eG(){var M,B,K;return ye++,M=N,zi(),(B=Or())!==s?(r.substr(N,2)===w?(K=w,N+=2):(K=s,ye===0&&Fe(nf)),K!==s?(Rt=M,M=AU(B)):(N=M,M=s)):(N=M,M=s),M===s&&(M=N,zi(),(B=Or())!==s?(r.substr(N,2)===x?(K=x,N+=2):(K=s,ye===0&&Fe(l_)),K!==s?(Rt=M,M=OU(B)):(N=M,M=s)):(N=M,M=s),M===s&&(M=N,zi(),(B=Or())!==s?(r.substr(N,2)===S?(K=S,N+=2):(K=s,ye===0&&Fe(rb)),K!==s?(Rt=M,M=PU(B)):(N=M,M=s)):(N=M,M=s),M===s&&(M=N,zi(),(B=Or())!==s?(r.substr(N,2)===E?(K=E,N+=2):(K=s,ye===0&&Fe(c_)),K!==s?(Rt=M,M=LU(B)):(N=M,M=s)):(N=M,M=s),M===s&&(M=N,zi(),(B=Or())!==s?(r.substr(N,2)===C?(K=C,N+=2):(K=s,ye===0&&Fe(u_)),K!==s?(Rt=M,M=RU(B)):(N=M,M=s)):(N=M,M=s),M===s&&(M=N,zi(),(B=Or())!==s?(r.substr(N,2)===_?(K=_,N+=2):(K=s,ye===0&&Fe(ab)),K!==s?(Rt=M,M=FU(B)):(N=M,M=s)):(N=M,M=s)))))),ye--,M===s&&ye===0&&Fe(s_),M}function tG(){var M,B,K;return ye++,M=N,(B=Or())!==s?(r.substr(N,3)===I?(K=I,N+=3):(K=s,ye===0&&Fe(d_)),K!==s?(Rt=M,M=NU(B)):(N=M,M=s)):(N=M,M=s),M===s&&(M=N,(B=Or())!==s?(r.substr(N,3)===O?(K=O,N+=3):(K=s,ye===0&&Fe(h_)),K!==s?(Rt=M,M=zU(B)):(N=M,M=s)):(N=M,M=s),M===s&&(M=N,(B=Or())!==s?(r.substr(N,4)===R?(K=R,N+=4):(K=s,ye===0&&Fe(gs)),K!==s?(Rt=M,M=jU(B)):(N=M,M=s)):(N=M,M=s),M===s&&(M=N,(B=Or())!==s?(r.substr(N,4)===H?(K=H,N+=4):(K=s,ye===0&&Fe(dh)),K!==s?(Rt=M,M=VU(B)):(N=M,M=s)):(N=M,M=s)))),ye--,M===s&&(B=s,ye===0&&Fe(ob)),M}function iG(){var M,B;return ye++,M=N,zi(),(B=Or())!==s?(Rt=M,M=HU(B)):(N=M,M=s),ye--,M===s&&ye===0&&Fe(sb),M}function nG(){var M,B,K,Ue;if(ye++,M=N,r.charCodeAt(N)===35?(B=Y,N++):(B=s,ye===0&&Fe(rf)),B!==s){if(K=[],Je.test(r.charAt(N))?(Ue=r.charAt(N),N++):(Ue=s,ye===0&&Fe(af)),Ue!==s)for(;Ue!==s;)K.push(Ue),Je.test(r.charAt(N))?(Ue=r.charAt(N),N++):(Ue=s,ye===0&&Fe(af));else K=s;K!==s?(Rt=M,M=qU()):(N=M,M=s)}else N=M,M=s;return M===s&&(M=N,(B=m_())!==s&&(Rt=M,B=BU(B)),(M=B)===s&&(M=N,(B=RT())!==s&&(Rt=M,B=UU()),M=B)),ye--,M===s&&(B=s,ye===0&&Fe(lb)),M}function Or(){var M,B,K,Ue,Ji,qt,Pr;for(M=N,pe.test(r.charAt(N))?(r.charAt(N),N++):ye===0&&Fe(of),B=N,K=[],Te.test(r.charAt(N))?(Ue=r.charAt(N),N++):(Ue=s,ye===0&&Fe(ga));Ue!==s;)K.push(Ue),Te.test(r.charAt(N))?(Ue=r.charAt(N),N++):(Ue=s,ye===0&&Fe(ga));if(r.charCodeAt(N)===46?(Ue=U,N++):(Ue=s,ye===0&&Fe(cb)),Ue!==s){if(Ji=[],Te.test(r.charAt(N))?(qt=r.charAt(N),N++):(qt=s,ye===0&&Fe(ga)),qt!==s)for(;qt!==s;)Ji.push(qt),Te.test(r.charAt(N))?(qt=r.charAt(N),N++):(qt=s,ye===0&&Fe(ga));else Ji=s;Ji!==s?B=K=[K,Ue,Ji]:(N=B,B=s)}else N=B,B=s;if(B===s)if(B=[],Te.test(r.charAt(N))?(K=r.charAt(N),N++):(K=s,ye===0&&Fe(ga)),K!==s)for(;K!==s;)B.push(K),Te.test(r.charAt(N))?(K=r.charAt(N),N++):(K=s,ye===0&&Fe(ga));else B=s;if(B!==s){if(K=N,r.charCodeAt(N)===101?(Ue=ce,N++):(Ue=s,ye===0&&Fe(_U)),Ue!==s){if(pe.test(r.charAt(N))?(Ji=r.charAt(N),N++):(Ji=s,ye===0&&Fe(of)),Ji===s&&(Ji=null),qt=[],Te.test(r.charAt(N))?(Pr=r.charAt(N),N++):(Pr=s,ye===0&&Fe(ga)),Pr!==s)for(;Pr!==s;)qt.push(Pr),Te.test(r.charAt(N))?(Pr=r.charAt(N),N++):(Pr=s,ye===0&&Fe(ga));else qt=s;qt!==s?K=Ue=[Ue,Ji,qt]:(N=K,K=s)}else N=K,K=s;K===s&&(K=null),Rt=M,M=GU()}else N=M,M=s;return M}function rG(M,B){return M.map(function(K){return K[B]})}function aG(M,B,K){return[M].concat(rG(B,K))}if((o=h())!==s&&N===r.length)return o;throw o!==s&&N<r.length&&Fe(WU()),JU(p_,fo<r.length?r.charAt(fo):null,fo<r.length?PT(fo,fo+1):PT(fo,fo))}return e(t,Error),t.prototype.format=function(r){var a="Error: "+this.message;if(this.location){var o,s=null;for(o=0;o<r.length;o++)if(r[o].source===this.location.source){s=r[o].text.split(/\r\n|\n|\r/g);break}var l=this.location.start,u=this.location.source+":"+l.line+":"+l.column;if(s){var h=this.location.end,m=i("",l.line.toString().length),f=s[l.line-1],g=l.line===h.line?h.column:f.length+1;a+=`
 --> `+u+`
`+m+` |
`+l.line+" | "+f+`
`+m+" | "+i("",l.column-1)+i("",g-l.column,"^")}else a+=`
 at `+u}return a},t.buildMessage=function(r,a){var o={literal:function(g){return'"'+l(g.text)+'"'},class:function(g){var b=g.parts.map(function(v){return Array.isArray(v)?u(v[0])+"-"+u(v[1]):u(v)});return"["+(g.inverted?"^":"")+b+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(g){return g.description}};function s(g){return g.charCodeAt(0).toString(16).toUpperCase()}function l(g){return g.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(b){return"\\x0"+s(b)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(b){return"\\x"+s(b)})}function u(g){return g.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(b){return"\\x0"+s(b)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(b){return"\\x"+s(b)})}function h(g){return o[g.type](g)}function m(g){var b,v,w=g.map(h);if(w.sort(),w.length>0){for(b=1,v=1;b<w.length;b++)w[b-1]!==w[b]&&(w[v]=w[b],v++);w.length=v}switch(w.length){case 1:return w[0];case 2:return w[0]+" or "+w[1];default:return w.slice(0,-1).join(", ")+", or "+w[w.length-1]}}function f(g){return g?'"'+l(g)+'"':"end of input"}return"Expected "+m(r)+" but "+f(a)+" found."},{SyntaxError:t,parse:n}},(R4=hq).exports&&(R4.exports=F4());const iT={deg:1,grad:.9,rad:180/Math.PI,turn:360};function o_e(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&iT[e.unit]!=null))throw new L("effect:type-error",`Expected <angle>, Actual: ${Yk(e)}`,{term:e})}const nT={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function s_e(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&nT[e.unit]!=null))throw new L("effect:type-error",`Expected <length>, Actual: ${Yk(e)}`,{term:e})}function Ua(e){a_e(e);const t=e.value;return Qy(t,e),e.unit==="%"?.01*t:t}function l_e(e){return r_e(e),Qy(e.value,e),e.value}function c_e(e){return o_e(e),e.value*iT[e.unit]||0}function rT(e){return s_e(e),e.value*nT[e.unit]||0}function u_e(e){switch(e.colorType){case"hex":return Ole(e.value);case"named":return mq(e.value);case"function":return p_e(e.value)}}function mq(e){if(!dz(e))throw new L("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return Ale(e)}const d_e=/^rgba?/i,h_e=/^hsla?/i;function p_e(e){if(Qm(e.parameters,4),d_e.test(e.name))return[Ua(e.parameters[0]),Ua(e.parameters[1]),Ua(e.parameters[2]),e.parameters[3]?Ua(e.parameters[3]):1];if(h_e.test(e.name))return hz(l_e(e.parameters[0]),Ua(e.parameters[1]),Ua(e.parameters[2]),e.parameters[3]?Ua(e.parameters[3]):1);throw new L("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}function M$(e,t,i){try{return f_e(e)}catch(r){var n;i==null||(n=i.messages)==null||n.push(r)}return null}function A$(e,t,i,n){try{const r=m_e(e);Ir(i,r,t)}catch(r){n.messages&&n.messages.push(r)}}function m_e(e){const t=pq(e);return t?Yke(t)?t.map(i=>i.toJSON()):t.map(({scale:i,effects:n})=>({scale:i,value:n.map(r=>r.toJSON())})):null}function f_e(e){if(!e||e.length===0)return null;if(g_e(e)){const t=[];for(const i of e)t.push({scale:i.scale,value:z4(i.value)});return t}return z4(e)}function g_e(e){const t=e[0];return!!t&&"scale"in t}function z4(e){if(!e||!e.length)return"";const t=[];for(const i of e){let n=[];switch(i.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":n=[ws(i,"amount")];break;case"blur":n=[ws(i,"radius","pt")];break;case"hue-rotate":n=[ws(i,"angle","deg")];break;case"drop-shadow":n=[ws(i,"xoffset","pt"),ws(i,"yoffset","pt"),ws(i,"blurRadius","pt"),y_e(i,"color")];break;case"bloom":n=[ws(i,"strength"),ws(i,"radius","pt"),ws(i,"threshold")]}const r=`${i.type}(${n.filter(Boolean).join(" ")})`;pq(r),t.push(r)}return t.join(" ")}function ws(e,t,i){if(e[t]==null)throw new L("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return i?e[t]+i:""+e[t]}function y_e(e,t){if(e[t]==null)throw new L("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const i=e[t];return`rgba(${i[0]||0}, ${i[1]||0}, ${i[2]||0}, ${i[3]/255||0})`}const b_e=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return c([d({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),c([d({json:{read:!1,write:!1,origins:{"web-map":{read:{reader:M$},write:{allowNull:!0,writer:A$}}}}})],t.prototype,"effect",void 0),t=c([D("esri.layers.mixins.BlendLayer")],t),t},v_e=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return c([d({type:Object,json:{write:{overridePolicy:i=>({enabled:!!(i&&Object.keys(i).length>0)})}}})],t.prototype,"customParameters",void 0),t=c([D("esri.layers.mixins.CustomParametersMixin")],t),t};var O$;const e3=new Ze({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),t3=new Ze({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Po=O$=class extends J{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:i,spatialRelationship:n,timeExtent:r,objectIds:a,units:o,distance:s}=this;return new In($({geometry:z(i),objectIds:z(a),spatialRelationship:n,timeExtent:z(r),where:t,units:o,distance:s},e))}clone(){const{where:e,geometry:t,spatialRelationship:i,timeExtent:n,objectIds:r,units:a,distance:o}=this;return new O$({geometry:z(t),objectIds:z(r),spatialRelationship:i,timeExtent:z(n),where:e,units:a,distance:o})}};c([d({type:String,json:{write:!0}})],Po.prototype,"where",void 0),c([d({types:th,json:{write:!0}})],Po.prototype,"geometry",void 0),c([d({type:e3.apiValues,json:{name:"spatialRel",read:{reader:e3.read},write:{allowNull:!1,writer:e3.write,overridePolicy(){return{enabled:T(this.geometry)}}}}})],Po.prototype,"spatialRelationship",void 0),c([d({type:Number,json:{write:{overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],Po.prototype,"distance",void 0),c([d({type:[Number],json:{write:!0}})],Po.prototype,"objectIds",void 0),c([d({type:t3.apiValues,json:{read:t3.read,write:{writer:t3.write,overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],Po.prototype,"units",void 0),c([d({type:us,json:{write:!0}})],Po.prototype,"timeExtent",void 0),Po=O$=c([D("esri.layers.support.FeatureFilter")],Po);const w_e=Po;var P$;let Bu=P$=class extends J{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){const i=super.write(e,t);if(t!=null&&t.origin){if(i.filter){const a=Object.keys(i.filter);var n;if(a.length>1||a[0]!=="where")return(n=t.messages)==null||n.push(new L("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}var r;if("showExcludedLabels"in i)return(r=t.messages)==null||r.push(new L("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return i}clone(){return new P$({filter:T(this.filter)&&this.filter.clone(),includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};c([d({type:w_e,json:{write:{allowNull:!0,writer(e,t,i,n){const r=e==null?void 0:e.write({},n);r&&Object.keys(r).length!==0?Ir(i,r,t):Ir(i,null,t)}}}})],Bu.prototype,"filter",void 0),c([d({json:{write:!0,origins:{"web-map":{read:{reader:M$},write:{writer:A$,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}}}}})],Bu.prototype,"includedEffect",void 0),c([d({json:{write:!0,origins:{"web-map":{read:{reader:M$},write:{writer:A$,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}}}}})],Bu.prototype,"excludedEffect",void 0),c([d({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":{name:"showExcludedLabels",default:!0}}}})],Bu.prototype,"excludedLabelsVisible",void 0),Bu=P$=c([D("esri.layers.support.FeatureEffect")],Bu);const x_e=Bu,k_e=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return c([d({type:x_e,json:{origins:{"web-map":{write:{allowNull:!0}}}}})],t.prototype,"featureEffect",void 0),t=c([D("esri.layers.mixins.FeatureEffectLayer")],t),t},__e={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,OGCFeatureLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};function S_e(e){if(!e)return e;const{start:t,end:i}=e;return new us({start:T(t)?Cd(t,-t.getTimezoneOffset(),"minutes"):t,end:T(i)?Cd(i,-i.getTimezoneOffset(),"minutes"):i})}function D_e(e){if(!e)return e;const{start:t,end:i}=e;return new us({start:T(t)?Cd(t,t.getTimezoneOffset(),"minutes"):t,end:T(i)?Cd(i,i.getTimezoneOffset(),"minutes"):i})}var L$;let P0=L$=class extends J{async collectRequiredFields(e,t){return Tr(e,t,this.expression)}clone(){return new L$({expression:this.expression,title:this.title})}};c([d({type:String,json:{write:!0}})],P0.prototype,"expression",void 0),c([d({type:String,json:{write:!0}})],P0.prototype,"title",void 0),P0=L$=c([D("esri.layers.support.FeatureExpressionInfo")],P0);const j4=P0;function $_e(){const e=Object.keys(NH);return e.sort(),e}const C_e=$_e();var R$;const fv=an()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),V4=new Ze({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let Ns=R$=class extends J{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(e,t){return e!=null?e:t.featureExpression&&t.featureExpression.value===0?{expression:"0"}:void 0}writeFeatureExpressionInfo(e,t,i,n){t[i]=e.write({},n),e.expression==="0"&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):T(e)||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new R$({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};c([d({type:j4,json:{write:!0}})],Ns.prototype,"featureExpressionInfo",void 0),c([ae("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],Ns.prototype,"readFeatureExpressionInfo",null),c([ue("featureExpressionInfo",{featureExpressionInfo:{type:j4},"featureExpression.value":{type:[0]}})],Ns.prototype,"writeFeatureExpressionInfo",null),c([d({type:fv.apiValues,nonNullable:!0,json:{type:fv.jsonValues,read:fv.read,write:{writer:fv.write,isRequired:!0}}})],Ns.prototype,"mode",null),c([d({type:Number,json:{write:!0}})],Ns.prototype,"offset",void 0),c([d({type:C_e,json:{type:String,read:V4.read,write:V4.write}})],Ns.prototype,"unit",null),Ns=R$=c([D("esri.layers.support.ElevationInfo")],Ns);const I_e=Ns,E_e={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},fq={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,i){t[i]=!e}}}},gq={type:Boolean,value:!0,json:{name:"showLabels",write:!0}},T_e={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:Bd}}},M_e={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},A_e={value:null,type:I_e,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function LMe(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const H1={type:Number,json:{origins:{"web-document":{write:!0,read:!0},"portal-item":{write:!0}}}},O_e=le($({},H1),{json:le($({},H1.json),{origins:{"web-document":le($({},H1.json.origins["web-document"]),{write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}})},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,i)=>i&&i.origin!=="service"||!t.drawingInfo||t.drawingInfo.transparency===void 0?t.layerDefinition&&t.layerDefinition.drawingInfo&&t.layerDefinition.drawingInfo.transparency!==void 0?zg(t.layerDefinition.drawingInfo.transparency):void 0:zg(t.drawingInfo.transparency)}})}),RMe={type:us,readOnly:!0,get(){var e,t;if((e=this.layer)==null||!e.timeInfo)return null;const{datesInUnknownTimezone:i,timeOffset:n,useViewTime:r}=this.layer,a=(t=this.view)==null?void 0:t.timeExtent;let o=this.layer.timeExtent;i&&(o=D_e(o));let s=r?a&&o?a.intersection(o):a||o:o;if(!s||s.isEmpty||s.isAllTime)return s;n&&(s=s.offset(-n.value,n.unit)),i&&(s=S_e(s));const l=this._get("timeExtent");return s.equals(l)?l:s}},FMe={type:pt,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const i=pt.fromJSON(e);return t.spatialReference!=null&&typeof t.spatialReference=="object"&&(i.spatialReference=He.fromJSON(t.spatialReference)),i}}}},read:!1}},P_e={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},L_e={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},R_e={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}},F_e=e=>{let t=class extends e{constructor(){super(...arguments),this.title=null}writeListMode(i,n,r,a){(a&&a.layerContainerType==="ground"||i&&Moe(this,r,{},a))&&(n[r]=i)}writeOperationalLayerType(i,n,r,a){!i||a&&a.layerContainerType==="tables"||(n.layerType=i)}writeTitle(i,n){n.title=i||"Layer"}read(i,n){n&&(n.layer=this),Coe(this,i,r=>super.read(i,r),n)}write(i,n){if(n!=null&&n.origin){const l=`${n.origin}/${n.layerContainerType||"operational-layers"}`,u=__e[l];let h=u&&u[this.operationalLayerType];var r;if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&l==="web-scene/operational-layers"&&(h=!1),!h)return(r=n.messages)==null||r.push(new L("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${l}'`,{layer:this})),null}const a=super.write(i,le($({},n),{layer:this})),o=!!n&&!!n.messages&&!!n.messages.filter(l=>l instanceof L&&l.name==="web-document-write:property-required").length;var s;return dk(a==null?void 0:a.url)?(n==null||(s=n.messages)==null||s.push(new L("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&o?null:a}beforeSave(){}};return c([d({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),c([d({json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}})],t.prototype,"listMode",void 0),c([ue("listMode")],t.prototype,"writeListMode",null),c([d({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],t.prototype,"operationalLayerType",void 0),c([ue("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),c([d(H1)],t.prototype,"opacity",void 0),c([d({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),c([ue("title")],t.prototype,"writeTitle",null),c([d({type:Boolean,json:{name:"visibility"}})],t.prototype,"visible",void 0),t=c([D("esri.layers.mixins.OperationalLayer")],t),t};var F$;const i3=new Ze({asc:"ascending",desc:"descending"});let op=F$=class extends J{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new F$({field:this.field,valueExpression:this.valueExpression,order:this.order})}};c([d({type:String,json:{write:!0}})],op.prototype,"field",void 0),c([d({type:String,json:{write:!0}})],op.prototype,"valueExpression",void 0),c([d({type:i3.apiValues,json:{read:i3.read,write:i3.write}})],op.prototype,"order",void 0),op=F$=c([D("esri.layers.support.OrderByInfo")],op);const yq=op;function N_e(e,t,i){if(!e)return null;const n=e.find(a=>!!a.field);if(!n)return null;const r=new yq;return r.read(n,i),[r]}function z_e(e,t,i,n){const r=e.find(a=>!!a.field);r&&Ir(i,[r.toJSON()],t)}const j_e=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return c([d({type:[yq],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:N_e},write:{target:"layerDefinition.orderBy",writer:z_e}}})],t.prototype,"orderBy",void 0),t=c([D("esri.layers.mixins.OrderedLayer")],t),t},V_e=Q.getLogger("esri.layers.mixins.PortalLayer"),H_e=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0}destroy(){var i;(i=this.portalItem)==null||i.destroy(),this.portalItem=null}set portalItem(i){i!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",i))}readPortalItem(i,n,r){if(n.itemId)return new qw({id:n.itemId,portal:r&&r.portal})}writePortalItem(i,n){i&&i.id&&(n.itemId=i.id)}async loadFromPortal(i,n){if(this.portalItem&&this.portalItem.id)try{const r=await import("./layersLoader.67c7ac61.js").then(function(a){return a.l});return pi(n),await r.load({instance:this,supportedTypes:i.supportedTypes,validateItem:i.validateItem,supportsData:i.supportsData},n)}catch(r){throw ma(r)||V_e.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${r}`),r}}async finishLoadEditablePortalLayer(i){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(i).catch(n=>(Ey(n),!0)))}async _fetchUserHasEditingPrivileges(i){const n=this.url?oi==null?void 0:oi.findCredential(this.url):null;if(!n)return!0;const r=gv.credential===n?gv.user:await this._fetchEditingUser(i);return gv.credential=n,gv.user=r,V(r)||r.privileges==null||r.privileges.includes("features:user:edit")}async _fetchEditingUser(i){var n,r;const a=(n=this.portalItem)==null||(r=n.portal)==null?void 0:r.user;if(a)return a;const o=oi.findServerInfo(this.url);if(o==null||!o.owningSystemUrl)return null;const s=`${o.owningSystemUrl}/sharing/rest`,l=Er.getDefault();if(l&&l.loaded&&eo(l.restUrl)===eo(s))return l.user;const u=`${s}/community/self`,h=T(i)?i.signal:null,m=await ck(Lt(u,{authMode:"no-prompt",query:{f:"json"},signal:h}));return m.ok?bI.fromJSON(m.value.data):null}read(i,n){n&&(n.layer=this),super.read(i,n)}write(i,n){const r=n&&n.portal,a=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||Er.getDefault());return r&&a&&!H6(a.restUrl,r.restUrl)?(n.messages&&n.messages.push(new L("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,{layer:this})),null):super.write(i,le($({},n),{layer:this}))}};return c([d({type:qw})],t.prototype,"portalItem",null),c([ae("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),c([ue("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),c([d({clonable:!1})],t.prototype,"resourceReferences",void 0),c([d({readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),t=c([D("esri.layers.mixins.PortalLayer")],t),t},gv={credential:null,user:null},ry=new _e,wg=new WeakMap;function q_e(e){bq(e)&&ry.push(e)}function B_e(e){bq(e)&&ry.includes(e)&&ry.remove(e)}function bq(e){return e&&typeof e=="object"&&"refreshInterval"in e&&"refresh"in e}function vq(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:vq(t,e%t):0}let n3=0,yv=0;function U_e(){const e=Date.now();for(const i of ry)if(i.refreshInterval){var t;e-((t=wg.get(i))!=null?t:0)+5>=6e4*i.refreshInterval&&(wg.set(i,e),i.refresh(e))}}d6(()=>{const e=Date.now();let t=0;for(const i of ry)t=vq(Math.round(6e4*i.refreshInterval),t),i.refreshInterval?wg.get(i)||wg.set(i,e):wg.delete(i);if(t!==yv){if(yv=t,clearInterval(n3),yv===0)return void(n3=0);n3=setInterval(U_e,yv)}});const G_e=e=>{let t=class extends e{constructor(...i){super(...i),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=r6(()=>this.hasDataChanged()),this.when().then(()=>{q_e(this)},()=>{})}destroy(){B_e(this)}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(i=Date.now()){n5(this._debounceHasDataChanged()).then(n=>{n&&this._set("refreshTimestamp",i),this.emit("refresh",{dataChanged:n})},n=>{Q.getLogger(this.declaredClass).error(n),this.emit("refresh",{dataChanged:!1,error:n})})}async hasDataChanged(){return!0}};return c([d({type:Number,cast:i=>i>=.1?i:i<=0?0:.1,json:{write:!0}})],t.prototype,"refreshInterval",void 0),c([d({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),c([d()],t.prototype,"refreshParameters",null),t=c([D("esri.layers.mixins.RefreshableLayer")],t),t},W_e=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const i={minScale:this.minScale,maxScale:this.maxScale},n=this.parent;n&&"effectiveScaleRange"in n&&J_e(i,n.effectiveScaleRange);const r=this._get("effectiveScaleRange");return r&&r.minScale===i.minScale&&r.maxScale===i.maxScale?r:i}};return c([d({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),c([d({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),c([d({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=c([D("esri.layers.mixins.ScaleRangeLayer")],t),t};function J_e(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}const bd=an()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});var N$;let L0=N$=class extends J{constructor(e){super(e),this.value=0,this.unit="milliseconds"}toMilliseconds(){return kye(this.value,this.unit,"milliseconds")}clone(){return new N$({value:this.value,unit:this.unit})}};c([d({type:Number,json:{write:!0},nonNullable:!0})],L0.prototype,"value",void 0),c([d({type:bd.apiValues,json:{type:bd.jsonValues,read:bd.read,write:bd.write},nonNullable:!0})],L0.prototype,"unit",void 0),L0=N$=c([D("esri.TimeInterval")],L0);const ay=L0;var z$;let sp=z$=class extends J{constructor(e){super(e),this.respectsDaylightSaving=!1,this.timezone=null}readRespectsDaylightSaving(e,t){return t.respectsDaylightSaving!==void 0?t.respectsDaylightSaving:t.respectDaylightSaving!==void 0&&t.respectDaylightSaving}clone(){const{respectsDaylightSaving:e,timezone:t}=this;return new z$({respectsDaylightSaving:e,timezone:t})}};c([d({type:Boolean,json:{write:!0}})],sp.prototype,"respectsDaylightSaving",void 0),c([ae("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],sp.prototype,"readRespectsDaylightSaving",null),c([d({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],sp.prototype,"timezone",void 0),sp=z$=c([D("esri.layers.support.TimeReference")],sp);const K_e=sp;var j$;let dn=j$=class extends J{constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeReference=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(e,t){if(!t.timeExtent||!Array.isArray(t.timeExtent)||t.timeExtent.length!==2)return null;const i=new Date(t.timeExtent[0]),n=new Date(t.timeExtent[1]);return new us({start:i,end:n})}writeFullTimeExtent(e,t){e&&T(e.start)&&T(e.end)?t.timeExtent=[e.start.getTime(),e.end.getTime()]:t.timeExtent=null}readInterval(e,t){return t.timeInterval&&t.timeIntervalUnits?new ay({value:t.timeInterval,unit:bd.fromJSON(t.timeIntervalUnits)}):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?new ay({value:t.defaultTimeInterval,unit:bd.fromJSON(t.defaultTimeIntervalUnits)}):null}writeInterval(e,t){if(e){const i=e.toJSON();t.timeInterval=i.value,t.timeIntervalUnits=i.unit}else t.timeInterval=null,t.timeIntervalUnits=null}clone(){const{cumulative:e,endField:t,hasLiveData:i,interval:n,startField:r,timeReference:a,fullTimeExtent:o,trackIdField:s,useTime:l}=this;return new j$({cumulative:e,endField:t,hasLiveData:i,interval:n,startField:r,timeReference:z(a),fullTimeExtent:z(o),trackIdField:s,useTime:l})}};c([d({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],dn.prototype,"cumulative",void 0),c([d({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],dn.prototype,"endField",void 0),c([d({type:us,json:{write:{enabled:!0,allowNull:!0}}})],dn.prototype,"fullTimeExtent",void 0),c([ae("fullTimeExtent",["timeExtent"])],dn.prototype,"readFullTimeExtent",null),c([ue("fullTimeExtent")],dn.prototype,"writeFullTimeExtent",null),c([d({type:Boolean,json:{write:!0}})],dn.prototype,"hasLiveData",void 0),c([d({type:ay,json:{write:{enabled:!0,allowNull:!0}}})],dn.prototype,"interval",void 0),c([ae("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],dn.prototype,"readInterval",null),c([ue("interval")],dn.prototype,"writeInterval",null),c([d({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],dn.prototype,"startField",void 0),c([d({type:K_e,json:{write:{enabled:!0,allowNull:!0}}})],dn.prototype,"timeReference",void 0),c([d({type:String,json:{write:{enabled:!0,allowNull:!0}}})],dn.prototype,"trackIdField",void 0),c([d({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],dn.prototype,"useTime",void 0),dn=j$=c([D("esri.layers.support.TimeInfo")],dn);const wq=dn,Y_e=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(i,n){const r=n.timeInfo.exportOptions;if(!r)return null;const a=r.timeOffset,o=bd.fromJSON(r.timeOffsetUnits);return a&&o?new ay({value:a,unit:o}):null}set timeInfo(i){i8(i,this.fieldsIndex),this._set("timeInfo",i)}};return c([d({type:us,json:{write:!1}})],t.prototype,"timeExtent",void 0),c([d({type:ay})],t.prototype,"timeOffset",void 0),c([ae("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),c([d({value:null,type:wq,json:{write:!0,origins:{"web-document":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),c([d({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"useViewTime",void 0),t=c([D("esri.layers.mixins.TemporalLayer")],t),t};var V$;let Ws=V$=class extends J{constructor(e){super(e)}clone(){const{name:e,fields:t,isAscending:i,isUnique:n,description:r}=this;return new V$({name:e,fields:t,isAscending:i,isUnique:n,description:r})}};c([d({constructOnly:!0})],Ws.prototype,"name",void 0),c([d({constructOnly:!0})],Ws.prototype,"fields",void 0),c([d({constructOnly:!0})],Ws.prototype,"isAscending",void 0),c([d({constructOnly:!0})],Ws.prototype,"isUnique",void 0),c([d({constructOnly:!0})],Ws.prototype,"description",void 0),Ws=V$=c([D("esri.layers.support.FeatureIndex")],Ws);let q1=class extends J{constructor(){super(...arguments),this.type=null}};c([d({type:["selection","cluster"],readOnly:!0,json:{read:!1,write:!0}})],q1.prototype,"type",void 0),q1=c([D("esri.layers.support.FeatureReduction")],q1);const B1=q1;var H$;let lp=H$=class extends J{constructor(){super(...arguments),this.statisticType=null,this.onStatisticField=null,this.onStatisticValueExpression=null}clone(){return new H$({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})}};c([d({type:String,json:{write:!0}})],lp.prototype,"statisticType",void 0),c([d({type:String,json:{write:!0}})],lp.prototype,"onStatisticField",void 0),c([d({type:String,json:{write:!0}})],lp.prototype,"onStatisticValueExpression",void 0),lp=H$=c([D("esri.layers.support.OutStatistic")],lp);const Z_e=lp;var q$;let R0=q$=class extends J{constructor(){super(...arguments),this.name=null}clone(){return new q$({name:this.name,outStatistic:this.outStatistic.clone()})}};c([d({type:String,json:{write:!0}})],R0.prototype,"name",void 0),c([d({type:Z_e,json:{write:!0}})],R0.prototype,"outStatistic",void 0),R0=q$=c([D("esri.layers.support.AggregateField")],R0);const X_e=R0,aT="__begin__",oT="__end__",Q_e=new RegExp(aT,"ig"),e2e=new RegExp(oT,"ig"),H4=new RegExp("^"+aT,"i"),q4=new RegExp(oT+"$","i"),Ex='"',t2e=Ex+" + ",i2e=" + "+Ex;function n2e(e){return e.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}function r2e(e){return e.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function sT(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):e.labelExpression!=null&&(t.expression=n2e(e.labelExpression),t.type="conventional"),t}function a2e(e){const t=sT(e);if(!t)return null;switch(t.type){case"conventional":return B$(t.expression);case"arcade":return t.expression}return null}function o2e(e){const t=sT(e);if(!t)return null;switch(t.type){case"conventional":return l2e(t.expression);case"arcade":return xq(t.expression)}return null}function B$(e){let t;return e?(t=ts(e,i=>aT+'$feature["'+i+'"]'+oT),t=H4.test(t)?t.replace(H4,""):Ex+t,t=q4.test(t)?t.replace(q4,""):t+Ex,t=t.replace(Q_e,t2e).replace(e2e,i2e)):t='""',t}const s2e=/^\s*\{([^}]+)\}\s*$/i;function l2e(e){const t=e.match(s2e);return t&&t[1].trim()||null}const c2e=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,u2e=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,d2e=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function xq(e){if(!e)return null;let t=c2e.exec(e)||u2e.exec(e);return t?t[1]||t[3]:(t=d2e.exec(e),t?t[2]:null)}var U$;let Ql=U$=class extends J{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?B$(t.value):e}writeExpression(e,t,i){this.value!=null&&(e=B$(this.value)),e!=null&&(t[i]=e)}clone(){return new U$({expression:this.expression,title:this.title,value:this.value})}};c([d({type:String,json:{write:{writerEnsuresNonNull:!0}}})],Ql.prototype,"expression",void 0),c([ae("expression",["expression","value"])],Ql.prototype,"readExpression",null),c([ue("expression")],Ql.prototype,"writeExpression",null),c([d({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Ql.prototype,"title",void 0),c([d({json:{read:!1,write:!1}})],Ql.prototype,"value",void 0),Ql=U$=c([D("esri.layers.support.LabelExpressionInfo")],Ql);const kq=Ql,_q=[252,146,31,255],h2e={type:"esriSMS",style:"esriSMSCircle",size:6,color:_q,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},p2e={type:"esriSLS",style:"esriSLSSolid",width:.75,color:_q},m2e={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},f2e={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},g2e={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},y2e={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},b2e={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};qm.fromJSON(h2e);ho.fromJSON(p2e);nh.fromJSON(m2e);const v2e=Bm.fromJSON(f2e),NMe=qm.fromJSON(g2e),zMe=ho.fromJSON(y2e),jMe=nh.fromJSON(b2e);var G$;const bv=new Ze({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function Sq(e){return!e||e.origin!=="service"&&!Dq(e.layer)}function Dq(e){return(e==null?void 0:e.type)==="map-image"}function $q(e){var t,i;return!!Dq(e)&&!((t=e.capabilities)==null||(i=t.exportMap)==null||!i.supportsArcadeExpressionForLabeling)}function w2e(e){return Sq(e)||$q(e.layer)}let ti=G$=class extends J{constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=v2e,this.useCodedValues=void 0,this.where=null}static evaluateWhere(e,t){const i=function(n,r,a){switch(r){case"=":return n==a;case"<>":return n!=a;case">":return n>a;case">=":return n>=a;case"<":return n<a;case"<=":return n<=a}return!1};try{if(e==null)return!0;const n=e.split(" ");if(n.length===3)return i(t[n[0]],n[1],n[2]);if(n.length===7){const r=i(t[n[0]],n[1],n[2]),a=n[3],o=i(t[n[4]],n[5],n[6]);switch(a){case"AND":return r&&o;case"OR":return r||o}}return!1}catch{console.log("Error.: can't parse = "+e)}}readLabelExpression(e,t){const i=t.labelExpressionInfo;if(!i||!i.value&&!i.expression)return e}writeLabelExpression(e,t,i){if(this.labelExpressionInfo){if(this.labelExpressionInfo.value!=null)e=r2e(this.labelExpressionInfo.value);else if(this.labelExpressionInfo.expression!=null){const n=xq(this.labelExpressionInfo.expression);n&&(e="["+n+"]")}}e!=null&&(t[i]=e)}writeLabelExpressionInfo(e,t,i,n){if(e==null&&this.labelExpression!=null&&Sq(n))e=new kq({expression:this.getLabelExpressionArcade()});else if(!e)return;const r=e.toJSON(n);r.expression&&(t[i]=r)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return sT(this)}getLabelExpressionArcade(){return a2e(this)}getLabelExpressionSingleField(){return o2e(this)}hash(){return JSON.stringify(this)}clone(){return new G$({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:z(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:z(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};c([d({type:String,json:{write:!0}})],ti.prototype,"name",void 0),c([d({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],ti.prototype,"allowOverrun",void 0),c([d({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],ti.prototype,"deconflictionStrategy",void 0),c([d({type:String,json:{write:{overridePolicy(e,t,i){return this.labelExpressionInfo&&(i==null?void 0:i.origin)==="service"&&$q(i.layer)?{enabled:!1}:{allowNull:!0}}}}})],ti.prototype,"labelExpression",void 0),c([ae("labelExpression")],ti.prototype,"readLabelExpression",null),c([ue("labelExpression")],ti.prototype,"writeLabelExpression",null),c([d({type:kq,json:{write:{overridePolicy:(e,t,i)=>w2e(i)?{allowNull:!0}:{enabled:!1}}}})],ti.prototype,"labelExpressionInfo",void 0),c([ue("labelExpressionInfo")],ti.prototype,"writeLabelExpressionInfo",null),c([d({type:bv.apiValues,json:{type:bv.jsonValues,read:bv.read,write:bv.write}})],ti.prototype,"labelPlacement",void 0),c([d({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],ti.prototype,"labelPosition",void 0),c([d({type:Number})],ti.prototype,"maxScale",void 0),c([ue("maxScale")],ti.prototype,"writeMaxScale",null),c([d({type:Number})],ti.prototype,"minScale",void 0),c([ue("minScale")],ti.prototype,"writeMinScale",null),c([d({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:!1}}}})],ti.prototype,"repeatLabel",void 0),c([d({type:Number,cast:ut,json:{write:!0,origins:{"web-scene":{write:!1}}}})],ti.prototype,"repeatLabelDistance",void 0),c([d({types:khe,json:{origins:{"web-scene":{types:_he,write:w4,default:null}},write:w4,default:null}})],ti.prototype,"symbol",void 0),c([d({type:Boolean,json:{write:!0}})],ti.prototype,"useCodedValues",void 0),c([d({type:String,json:{write:!0}})],ti.prototype,"where",void 0),ti=G$=c([D("esri.layers.support.LabelClass")],ti);const lT=ti;var W$;let ur=W$=class extends J{constructor(e){super(e),this.type="cluster",this.clusterRadius=ut("80px"),this.clusterMinSize=ut("12px"),this.clusterMaxSize=ut("50px"),this.popupEnabled=!0,this.popupTemplate=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=null}clone(){return new W$({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:z(this.labelingInfo),labelsVisible:this.labelsVisible,fields:z(this.fields),popupEnabled:this.popupEnabled,popupTemplate:z(this.popupTemplate)})}};c([d({type:["cluster"],readOnly:!0,json:{write:!0}})],ur.prototype,"type",void 0),c([d({type:Number,cast:e=>e==="auto"?e:ut(e),json:{write:!0}})],ur.prototype,"clusterRadius",void 0),c([d({type:Number,cast:ut,json:{write:!0}})],ur.prototype,"clusterMinSize",void 0),c([d({type:Number,cast:ut,json:{write:!0}})],ur.prototype,"clusterMaxSize",void 0),c([d(fq)],ur.prototype,"popupEnabled",void 0),c([d({type:wk,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],ur.prototype,"popupTemplate",void 0),c([d({types:whe})],ur.prototype,"symbol",void 0),c([d({type:[lT],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],ur.prototype,"labelingInfo",void 0),c([d(gq)],ur.prototype,"labelsVisible",void 0),c([d({type:[X_e],json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],ur.prototype,"fields",void 0),ur=W$=c([D("esri.layers.support.FeatureReductionCluster")],ur);const B4=ur;var J$;let U1=J$=class extends B1{constructor(e){super(e),this.type="selection"}clone(){return new J$}};c([d({type:["selection"]})],U1.prototype,"type",void 0),U1=J$=c([D("esri.layers.support.FeatureReductionSelection")],U1);const U4=U1,x2e={types:{key:"type",base:B1,typeMap:{selection:U4,cluster:B4}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:{key:"type",base:B1,typeMap:{selection:B4}}},"web-scene":{types:{key:"type",base:B1,typeMap:{selection:U4}}}}}},G4=new Ze({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let ec=class extends cs(J){constructor(e){super(e),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};c([d({json:{write:!0}})],ec.prototype,"name",void 0),c([d({json:{write:!0}})],ec.prototype,"description",void 0),c([d({json:{read:G4.read,write:G4.write}})],ec.prototype,"drawingTool",void 0),c([d({json:{write:!0}})],ec.prototype,"prototype",void 0),c([d({json:{write:!0}})],ec.prototype,"thumbnail",void 0),ec=c([D("esri.layers.support.FeatureTemplate")],ec);const cT=ec;let zs=class extends cs(J){constructor(e){super(e),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(e){const t={};for(const i of Object.keys(e))t[i]=SE(e[i]);return t}writeDomains(e,t){const i={};for(const r of Object.keys(e)){var n;e[r]&&(i[r]=(n=e[r])==null?void 0:n.toJSON())}t.domains=i}};c([d({json:{write:!0}})],zs.prototype,"id",void 0),c([d({json:{write:!0}})],zs.prototype,"name",void 0),c([d({json:{write:!0}})],zs.prototype,"domains",void 0),c([ae("domains")],zs.prototype,"readDomains",null),c([ue("domains")],zs.prototype,"writeDomains",null),c([d({type:[cT],json:{write:!0}})],zs.prototype,"templates",void 0),zs=c([D("esri.layers.support.FeatureType")],zs);const Cq=zs;function k2e(e){return e.type==="date"||e.type==="esriFieldTypeDate"}function W4(e){return e.type==="oid"||e.type==="esriFieldTypeOID"}function J4(e){return e.type==="global-id"||e.type==="esriFieldTypeGlobalID"}class _2e{constructor(t){if(this.fields=t,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!t)return;const i=[];for(const n of t){const r=n&&n.name;if(r){const a=K4(r);this._fieldsMap.set(r,n),this._fieldsMap.set(a,n),i.push(a),k2e(n)?(this.dateFields.push(n),this._dateFieldsSet.add(n)):RI(n)&&(this._numericFieldsSet.add(n),this.numericFields.push(n)),W4(n)||J4(n)||(n.editable=n.editable==null||!!n.editable,n.nullable=n.nullable==null||!!n.nullable)}}i.sort(),this.uid=i.join(",")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const t of this.fields)W4(t)||J4(t)||t.nullable||que(t)!==void 0||this._requiredFields.push(t)}return this._requiredFields}has(t){return this.get(t)!=null}get(t){return t!=null?this._fieldsMap.get(t)||this._fieldsMap.get(K4(t)):void 0}isDateField(t){return this._dateFieldsSet.has(this.get(t))}isNumericField(t){return this._numericFieldsSet.has(this.get(t))}normalizeFieldName(t){const i=this.get(t);if(i)return i.name}}function K4(e){return e.toLowerCase().trim()}const S2e=Q.getLogger("esri.layers.support.fieldProperties");function D2e(){return{fields:{type:[Ok],value:null},fieldsIndex:{readOnly:!0,get(){return new _2e(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){const e=this._userOutFields;if(!e||!e.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const t of e)this.fieldsIndex.has(t)||S2e.error("field-attributes-layer:invalid-field",`Invalid field ${t} found in outFields`,{layer:this,outFields:e});return n8(this.fieldsIndex,e)}}}}let cp=class extends cs(J){constructor(e){super(e),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};c([d({type:String,json:{read:{source:"shapeAreaFieldName"}}})],cp.prototype,"shapeAreaField",void 0),c([d({type:String,json:{read:{source:"shapeLengthFieldName"}}})],cp.prototype,"shapeLengthField",void 0),c([d({type:String,json:{read:e=>gpe.read(e)||ype.read(e)}})],cp.prototype,"units",void 0),cp=c([D("esri.layers.support.GeometryFieldsInfo")],cp);const $2e=cp,C2e=/\[([^\[\]]+)\]/gi;function Y4(e,t,i){return e?e.map(n=>{const r=new lT;if(r.read(n,i),r.labelExpression){const a=t.fields||t.layerDefinition&&t.layerDefinition.fields||this.fields;r.labelExpression=r.labelExpression.replace(C2e,(o,s)=>`[${I2e(s,a)}]`)}return r}):null}function I2e(e,t){if(!t)return e;const i=e.toLowerCase();for(let n=0;n<t.length;n++){const r=t[n].name;if(r.toLowerCase()===i)return r}return e}var K$;let up=K$=class extends J{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new _e}clone(){return new K$({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};c([d({type:String,json:{write:!0}})],up.prototype,"floorField",void 0),c([d({json:{read:!1,write:!1}})],up.prototype,"viewAllMode",void 0),c([d({json:{read:!1,write:!1}})],up.prototype,"viewAllLevelIds",void 0),up=K$=c([D("esri.layers.support.LayerFloorInfo")],up);const E2e=up,Z4=new Ze({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),X4=new Ze({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let Yr=class extends cs(J){constructor(e){super(e),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};c([d({json:{read:Z4.read,write:Z4.write}})],Yr.prototype,"cardinality",void 0),c([d({json:{read:!0,write:!0}})],Yr.prototype,"composite",void 0),c([d({json:{read:!0,write:!0}})],Yr.prototype,"id",void 0),c([d({json:{read:!0,write:!0}})],Yr.prototype,"keyField",void 0),c([d({json:{read:!0,write:!0}})],Yr.prototype,"keyFieldInRelationshipTable",void 0),c([d({json:{read:!0,write:!0}})],Yr.prototype,"name",void 0),c([d({json:{read:!0,write:!0}})],Yr.prototype,"relatedTableId",void 0),c([d({json:{read:!0,write:!0}})],Yr.prototype,"relationshipTableId",void 0),c([d({json:{read:X4.read,write:X4.write}})],Yr.prototype,"role",void 0),Yr=c([D("esri.layers.support.Relationship")],Yr);const T2e=Yr,qa=[];function M2e(e,t){if(dq(e.url))return!0;const{wkid:i}=t;for(const n of qa){if(e.version>=n[0])return!0;if(typeof n[1]=="function"&&(n[1]=n[1]()),n[1].has(i))return!1}return!0}qa.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102901;t<=102960;t++)e.add(t);return e}]),qa.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),qa.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),qa.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),qa.push([10.71,()=>{const e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);for(let t=103696;t<=103698;t++)e.add(t);return e}]),qa.push([10.7,()=>{const e=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]);for(let t=8065;t<=8068;t++)e.add(t);for(let t=8082;t<=8083;t++)e.add(t);for(let t=8379;t<=8385;t++)e.add(t);for(let t=8836;t<=8840;t++)e.add(t);for(let t=8857;t<=8860;t++)e.add(t);for(let t=53035;t<=53037;t++)e.add(t);for(let t=54090;t<=54091;t++)e.add(t);for(let t=102498;t<=102499;t++)e.add(t);return e}]),qa.push([10.61,()=>new Set([102497])]),qa.push([10.6,()=>{const e=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]);for(let t=7755;t<=7787;t++)e.add(t);for(let t=7791;t<=7795;t++)e.add(t);for(let t=7799;t<=7801;t++)e.add(t);for(let t=7825;t<=7831;t++)e.add(t);for(let t=7877;t<=7878;t++)e.add(t);for(let t=7882;t<=7883;t++)e.add(t);for(let t=7991;t<=7992;t++)e.add(t);for(let t=8042;t<=8043;t++)e.add(t);for(let t=8058;t<=8059;t++)e.add(t);for(let t=8311;t<=8348;t++)e.add(t);for(let t=9060;t<=9067;t++)e.add(t);for(let t=102562;t<=102568;t++)e.add(t);for(let t=102799;t<=102900;t++)e.add(t);return e}]),qa.push([10.51,()=>{const e=new Set([7683,7881,7886,7899,8888,9e3]);for(let t=8013;t<=8032;t++)e.add(t);for(let t=9053;t<=9057;t++)e.add(t);for(let t=104017;t<=104018;t++)e.add(t);for(let t=104971;t<=104974;t++)e.add(t);return e}]),qa.push([10.5,()=>{const e=new Set([6962,7035,7037,7039,7041,7084,7086,7133,7798,102399]);for(let t=4087;t<=4088;t++)e.add(t);for(let t=5896;t<=5899;t++)e.add(t);for(let t=7005;t<=7007;t++)e.add(t);for(let t=7057;t<=7070;t++)e.add(t);for(let t=7073;t<=7082;t++)e.add(t);for(let t=7109;t<=7128;t++)e.add(t);for(let t=7844;t<=7859;t++)e.add(t);return e}]);async function A2e(e,t,i){const n=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(n&&n.type==="unique-value"&&n.styleOrigin){const r=await ck(n.populateFromStyle());if(pi(i),r.ok===!1){const a=r.error;t&&t.messages&&t.messages.push(new An("renderer:style-reference",`Failed to create unique value renderer from style reference: ${a.message}`,{error:a,context:t})),e.clear("renderer",t.origin)}}}const O2e=["oid","global-id"],P2e=["oid","global-id","guid"];function L2e({displayField:e,editFieldsInfo:t,fields:i,objectIdField:n,title:r},a){if(!i)return null;const o=V2e({editFieldsInfo:t,fields:i,objectIdField:n},a);if(!o.length)return null;const s=B2e({titleBase:r,fields:i,displayField:e}),l=q2e();return new wk({title:s,content:l,fieldInfos:o})}const R2e=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],F2e=(e,{editFieldsInfo:t,objectIdField:i,visibleFieldNames:n})=>n?n.has(e.name):!Iq(e.name,t)&&(!i||e.name!==i)&&!(O2e.indexOf(e.type)>-1)&&!R2e.some(r=>r.test(e.name));function N2e(e,t){const i=e;return t&&(e=e.filter(n=>t.indexOf(n.type)===-1)),e===i&&(e=e.slice()),e.sort(z2e),e}function z2e(e,t){return e.type==="oid"?-1:t.type==="oid"?1:Q4(e)?-1:Q4(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function Iq(e,t){if(!e||!t)return!1;const{creationDateField:i,creatorField:n,editDateField:r,editorField:a}=t;return[i&&i.toLowerCase(),n&&n.toLowerCase(),r&&r.toLowerCase(),a&&a.toLowerCase()].indexOf(e.toLowerCase())!==-1}function j2e(e,t){return e.editable&&P2e.indexOf(e.type)===-1&&!Iq(e.name,t)}function V2e({editFieldsInfo:e,fields:t,objectIdField:i},n){return N2e(t,(n==null?void 0:n.ignoreFieldTypes)||U2e).map(r=>new Ly({fieldName:r.name,isEditable:j2e(r,e),label:r.alias,format:H2e(r),visible:F2e(r,{editFieldsInfo:e,objectIdField:i,visibleFieldNames:n==null?void 0:n.visibleFieldNames})}))}function H2e(e){switch(e.type){case"small-integer":case"integer":case"single":return new lg({digitSeparator:!0,places:0});case"double":return new lg({digitSeparator:!0,places:2});case"date":return new lg({dateFormat:"long-month-day-year"});default:return null}}function q2e(){return[new mm,new Vg]}function B2e(e){const t=Nue(e),{titleBase:i}=e;return t?`${i}: {${t.trim()}}`:i}function Q4(e){return(e.name&&e.name.toLowerCase())==="name"?!0:(e.alias&&e.alias.toLowerCase())==="name"||void 0}const U2e=["geometry","blob","raster","guid","xml"],r3=new Ze({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),G2e={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"},Qt="FeatureLayer",eR=Q.getLogger("esri.layers.FeatureLayer");function tR(e){return e&&e instanceof _e}function Le(e,t,i){return!!(e&&e.hasOwnProperty(t)?e[t]:i)}function vv(e,t,i){return e&&e.hasOwnProperty(t)?e[t]:i}function W2e(e){var t;const i=e==null||(t=e.supportedSpatialAggregationStatistics)==null?void 0:t.map(n=>n.toLowerCase());return{envelope:!(i==null||!i.includes("envelopeaggregate")),centroid:!(i==null||!i.includes("centroidaggregate")),convexHull:!(i==null||!i.includes("convexhullaggregate"))}}const a3=D2e();function o3(e,t,i){const n=!(i==null||!i.writeLayerSchema);return{enabled:n,ignoreOrigin:n}}let X=class extends k_e(b_e(j_e(Y_e(W_e(G_e(Lke(F_e(H_e(iq(v_e(Cke(cs(PI))))))))))))){constructor(...e){super(...e),this._handles=new On,this.capabilities=null,this.charts=null,this.copyright=null,this.datesInUnknownTimezone=!1,this.displayField=null,this.definitionExpression=null,this.dynamicDataSource=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.featureReduction=null,this.fields=null,this.fieldsIndex=null,this.floorInfo=null,this.formTemplate=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.layerId=void 0,this.legendEnabled=!0,this.minScale=0,this.maxScale=0,this.globalIdField=null,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.relationships=null,this.sourceJSON=null,this.returnM=void 0,this.returnZ=void 0,this.screenSizePerspectiveEnabled=!0,this.serviceDefinitionExpression=null,this.spatialReference=He.WGS84,this.subtypeCode=null,this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.trackIdField=null,this.type="feature",this.typeIdField=null,this.types=null,this.indexes=new(_e.ofType(Ws)),this.userIsAdmin=!1,this.version=void 0,this.visible=!0}destroy(){var e;(e=this.source)==null||e.destroy(),this._handles=Ho(this._handles)}normalizeCtorArgs(e,t){return typeof e=="string"?$({url:e},t):e}load(e){const t=T(e)?e.signal:null;if(this.portalItem&&this.portalItem.loaded&&this.source)return void this.addResolvingPromise(this.createGraphicsSource(t).then(n=>this._initLayerProperties(n)));const i=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},e).catch(Ey).then(async()=>{if(this.url&&this.layerId==null&&/FeatureServer|MapServer\/*$/i.test(this.url)){const n=await this._fetchFirstLayerId(t);n!=null&&(this.layerId=n)}if(!this.url&&!this._hasMemorySource())throw new L("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this._initLayerProperties(await this.createGraphicsSource(t))}).then(()=>this.finishLoadEditablePortalLayer(e));return this.addResolvingPromise(i),Promise.resolve(this)}readCapabilities(e,t){return t=t.layerDefinition||t,{attachment:this._readAttachmentCapabilities(t.attachmentProperties),data:this._readDataCapabilities(t),metadata:this._readMetadataCapabilities(t),operations:this._readOperationsCapabilities(t.capabilities||e,t),query:this._readQueryCapabilities(t),queryRelated:this._readQueryRelatedCapabilities(t),editing:this._readEditingCapabilities(t)}}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")||0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(e){e!=null?this._override("editingEnabled",e):this._clearOverride("editingEnabled")}readEditingEnabled(e,t){return this._readEditingEnabled(t,!1)}readEditingEnabledFromWebMap(e,t,i){return this._readEditingEnabled(t,!0,i)}writeEditingEnabled(e,t){this._writeEditingEnabled(e,t,!1)}writeEditingEnabledToWebMap(e,t,i,n){this._writeEditingEnabled(e,t,!0,n)}readEditingInfo(e,t){const{editingInfo:i}=t;return i?{lastEditDate:i.lastEditDate!=null?new Date(i.lastEditDate):null}:null}readIsTable(e,t){return(t=t&&t.layerDefinition||t).type==="Table"||!t.geometryType}writeIsTable(e,t,i,n){n!=null&&n.writeLayerSchema&&Ir(i,e?"Table":"Feature Layer",t)}readMinScale(e,t){return t.effectiveMinScale||e||0}readMaxScale(e,t){return t.effectiveMaxScale||e||0}readGlobalIdFieldFromService(e,t){if((t=t.layerDefinition||t).globalIdField)return t.globalIdField;if(t.fields){for(const i of t.fields)if(i.type==="esriFieldTypeGlobalID")return i.name}}readObjectIdFieldFromService(e,t){if((t=t.layerDefinition||t).objectIdField)return t.objectIdField;if(t.fields){for(const i of t.fields)if(i.type==="esriFieldTypeOID")return i.name}}get parsedUrl(){const e=this.url?Gi(this.url):null;return e!=null&&(this.dynamicDataSource!=null?e.path=Lc(e.path,"dynamicLayer"):this.layerId!=null&&(e.path=Lc(e.path,this.layerId.toString()))),e}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){WO(e,this.fieldsIndex),this._set("renderer",e)}readRenderer(e,t,i){const n=(t=t.layerDefinition||t).drawingInfo&&t.drawingInfo.renderer||void 0;if(n){const r=eq(n,t,i)||void 0;return r||eR.error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:i}),r}if(t.defaultSymbol)return t.types&&t.types.length?new XE({defaultSymbol:s3(t.defaultSymbol,t,i),field:t.typeIdField,uniqueValueInfos:t.types.map(r=>({id:r.id,symbol:s3(r.symbol,r,i)}))}):new ZE({symbol:s3(t.defaultSymbol,t,i)})}set source(e){const t=this._get("source");t!==e&&(tR(t)&&this._resetMemorySource(t),tR(e)&&this._initMemorySource(e),this._set("source",e))}castSource(e){return e?Array.isArray(e)||e instanceof _e?new L4({layer:this,items:e}):e:null}readSource(e,t){const i=oh.fromJSON(t.featureSet);return new L4({layer:this,items:i&&i.features||[]})}readServiceDefinitionExpression(e,t){return t.definitionQuery||t.definitionExpression}readTemplates(e,t){const i=t.editFieldsInfo,n=i&&i.creatorField,r=i&&i.editorField;return e=e&&e.map(a=>cT.fromJSON(a)),this._fixTemplates(e,n),this._fixTemplates(e,r),e}readTitle(e,t){const i=t.layerDefinition&&t.layerDefinition.name||t.name,n=t.title||t.layerDefinition&&t.layerDefinition.title;if(i){const r=this.portalItem&&this.portalItem.title;if(this.sublayerTitleMode==="item-title")return this.url?Mke(this.url,i):i;let a=i;if(!a&&this.url){const o=Xy(this.url);T(o)&&(a=o.title)}return a?(this.sublayerTitleMode==="item-title-and-service-name"&&r&&r!==a&&(a=r+" - "+a),tT(a)):void 0}if(this.sublayerTitleMode==="item-title"&&n)return n}readTitleFromWebMap(e,t){return t.title||t.layerDefinition&&t.layerDefinition.name}readTypeIdField(e,t){let i=(t=t.layerDefinition||t).typeIdField;if(i&&t.fields){i=i.toLowerCase();const n=t.fields.find(r=>r.name.toLowerCase()===i);n&&(i=n.name)}return i}readTypes(e,t){e=(t=t.layerDefinition||t).types;const i=t.editFieldsInfo,n=i&&i.creatorField,r=i&&i.editorField;return e&&e.map(a=>(a=Cq.fromJSON(a),this._fixTemplates(a.templates,n),this._fixTemplates(a.templates,r),a))}set url(e){const t=Oke({layer:this,url:e,nonStandardUrlAllowed:!0,logger:eR});this._set("url",t.url),t.layerId!=null&&this._set("layerId",t.layerId)}writeUrl(e,t,i,n){Pke(this,e,null,t,n)}readVersion(e,t){return t.currentVersion?t.currentVersion:t.hasOwnProperty("capabilities")||t.hasOwnProperty("drawingInfo")||t.hasOwnProperty("hasAttachments")||t.hasOwnProperty("htmlPopupType")||t.hasOwnProperty("relationships")||t.hasOwnProperty("timeInfo")||t.hasOwnProperty("typeIdField")||t.hasOwnProperty("types")?10:9.3}readVisible(e,t){return t.layerDefinition&&t.layerDefinition.defaultVisibility!=null?!!t.layerDefinition.defaultVisibility:t.visibility!=null?!!t.visibility:void 0}addAttachment(e,t){return this.load().then(()=>this._checkAttachmentSupport(e)).then(()=>{if(!("addAttachment"in this.source))throw new L(Qt,"Layer source does not support addAttachment capability");return this.source.addAttachment(e,t)})}updateAttachment(e,t,i){return this.load().then(()=>this._checkAttachmentSupport(e)).then(()=>{if(!("updateAttachment"in this.source))throw new L(Qt,"Layer source does not support updateAttachment capability");return this.source.updateAttachment(e,t,i)})}async applyEdits(e,t){const i=await import("./editingSupport.ffc46a3d.js");return await this.load(),i.applyEdits(this,this.source,e,t)}on(e,t){return super.on(e,t)}createPopupTemplate(e){return L2e(this,e)}async createGraphicsSource(e){if(this._hasMemorySource())return this.source.load({signal:e});const{default:t}=await n6(import("./FeatureLayerSource.0a2b1360.js"),e);return new t({layer:this}).load({signal:e})}createQuery(){const e=new In,t=this.get("capabilities.data"),i=this.get("capabilities.query");e.dynamicDataSource=this.dynamicDataSource,e.historicMoment=this.historicMoment,e.gdbVersion=this.gdbVersion,e.returnGeometry=!0,i&&(e.compactGeometryEnabled=i.supportsCompactGeometry,e.defaultSpatialReferenceEnabled=i.supportsDefaultSpatialReference),t&&(t.supportsZ&&this.returnZ!=null&&(e.returnZ=this.returnZ),t.supportsM&&this.returnM!=null&&(e.returnM=this.returnM)),e.outFields=["*"],e.where=this.definitionExpression||"1=1";const{timeOffset:n,timeExtent:r}=this;return e.timeExtent=n!=null&&r!=null?r.offset(-n.value,n.unit):r||null,e.multipatchOption=this.geometryType==="multipatch"?"xyFootprint":null,e}deleteAttachments(e,t){return this.load().then(()=>this._checkAttachmentSupport(e)).then(()=>{if(!("deleteAttachments"in this.source))throw new L(Qt,"Layer source does not support deleteAttachments capability");return this.source.deleteAttachments(e,t)})}fetchRecomputedExtents(e){return this.load({signal:e==null?void 0:e.signal}).then(()=>{if(this.source.fetchRecomputedExtents)return this.source.fetchRecomputedExtents(e);throw new L(Qt,"Layer source does not support fetchUpdates capability")})}getFeatureType(e){const{typeIdField:t,types:i}=this;if(!t||!e)return null;const n=e.attributes?e.attributes[t]:void 0;if(n==null)return null;let r=null;return i.some(a=>{const{id:o}=a;return o!=null&&(o.toString()===n.toString()&&(r=a),!!r)}),r}getFieldDomain(e,t){const i=t&&t.feature,n=this.getFeatureType(i);if(n){const r=n.domains&&n.domains[e];if(r&&r.type!=="inherited")return r}return this._getLayerDomain(e)}getField(e){return this.fieldsIndex.get(e)}queryAttachments(e,t){return e=px.from(e),this.load().then(()=>{if(!this.get("capabilities.data.supportsAttachment"))throw new L(Qt,"this layer doesn't support attachments");const{attachmentTypes:i,objectIds:n,globalIds:r,num:a,size:o,start:s,where:l}=e;if(!this.get("capabilities.operations.supportsQueryAttachments")){const u=n&&n.length>1,h=i&&i.length,m=r&&r.length,f=o&&o.length;if(u||h||m||f||a||s||l)throw new L(Qt,"when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported",e)}if(!(n&&n.length||l))throw new L(Qt,"'objectIds' or 'where' are required to perform attachment query",e);if(!("queryAttachments"in this.source))throw new L(Qt,"Layer source does not support queryAttachments capability",e);return this.source.queryAttachments(e)})}queryFeatures(e,t){return this.load().then(()=>this.source.queryFeatures(In.from(e)||this.createQuery(),t)).then(i=>{if(i!=null&&i.features)for(const n of i.features)n.layer=n.sourceLayer=this;return i})}queryObjectIds(e,t){return this.load().then(()=>{if(this.source.queryObjectIds)return this.source.queryObjectIds(In.from(e)||this.createQuery(),t);throw new L(Qt,"Layer source does not support queryObjectIds capability")})}queryFeatureCount(e,t){return this.load().then(()=>{if(this.source.queryFeatureCount)return this.source.queryFeatureCount(In.from(e)||this.createQuery(),t);throw new L(Qt,"Layer source does not support queryFeatureCount capability")})}queryExtent(e,t){return this.load().then(()=>{if(this.source.queryExtent)return this.source.queryExtent(In.from(e)||this.createQuery(),t);throw new L(Qt,"Layer source does not support queryExtent capability")})}queryRelatedFeatures(e,t){return this.load().then(()=>{if("queryRelatedFeatures"in this.source)return this.source.queryRelatedFeatures(Kd.from(e),t);throw new L(Qt,"Layer source does not support queryRelatedFeatures capability")})}queryRelatedFeaturesCount(e,t){return this.load().then(()=>{if("queryRelatedFeaturesCount"in this.source)return this.source.queryRelatedFeaturesCount(Kd.from(e),t);throw new L(Qt,"Layer source does not support queryRelatedFeaturesCount capability")})}queryTopFeatures(e,t){return this.load().then(()=>{if("queryTopFeatures"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopFeatures(Ic.from(e),t).then(i=>{if(i!=null&&i.features)for(const n of i.features)n.layer=n.sourceLayer=this;return i});throw new L(Qt,"Layer source does not support queryTopFeatures capability")})}queryTopObjectIds(e,t){return this.load().then(()=>{if("queryTopObjectIds"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopObjectIds(Ic.from(e),t);throw new L(Qt,"Layer source does not support queryTopObjectIds capability")})}queryTopFeaturesExtent(e,t){return this.load().then(()=>{if("queryTopExtents"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopExtents(Ic.from(e),t);throw new L(Qt,"Layer source does not support queryTopExtents capability")})}queryTopFeatureCount(e,t){return this.load().then(()=>{if("queryTopCount"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopCount(Ic.from(e),t);throw new L(Qt,"Layer source does not support queryFeatureCount capability")})}read(e,t){const i=e.featureCollection;if(i){const n=i.layers;n&&n.length===1&&(super.read(n[0],t),i.showLegend!=null&&super.read({showLegend:i.showLegend},t))}super.read(e,t),t&&t.origin==="service"&&this.revert(["objectIdField","fields","timeInfo","spatialReference"],"service")}write(e,t){var i,n;const r=(t=le($({},t),{writeLayerSchema:(i=(n=t)==null?void 0:n.writeLayerSchema)!=null?i:this._hasMemorySource()})).origin,a=t.layerContainerType,o=t.messages;if(this.isTable){if(r==="web-scene"||r==="web-map"&&a!=="tables")return o&&o.push(new L("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Table source cannot be written to web scenes and web maps`,{layer:this})),null;if(this._hasMemorySource())return o&&o.push(new L("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using an in-memory Table source cannot be written to web scenes and web maps`,{layer:this})),null}else if(this.loaded&&r==="web-map"&&a==="tables")return o&&o.push(new L("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a non-table source cannot be written to tables in web maps`,{layer:this})),null;return super.write(e,t)}clone(){if(this._hasMemorySource())throw new L(Qt,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(e){return!!this.loaded&&(this.source.type==="memory"||M2e(this,e))}_readEditingEnabled(e,t,i){var n;let r=(n=e.layerDefinition)==null?void 0:n.capabilities;return r?this._hasEditingCapability(r):(r=e.capabilities,t&&(i==null?void 0:i.origin)==="web-map"&&!this._hasMemorySource()&&r?this._hasEditingCapability(r):void 0)}_hasEditingCapability(e){return e.toLowerCase().split(",").map(t=>t.trim()).includes("editing")}_writeEditingEnabled(e,t,i,n){if(!e){var r,a;const o=(r=this.capabilities)!=null&&(a=r.operations)!=null&&a.supportsSync?"Query,Sync":"Query";Ir("layerDefinition.capabilities",o,t),!i||n!=null&&n.writeLayerSchema||(t.capabilities=o)}}_checkAttachmentSupport(e){const{attributes:t}=e,{objectIdField:i}=this;return this.get("capabilities.data.supportsAttachment")?e?t?t[i]?void 0:Promise.reject(new L(Qt,`feature is missing the identifying attribute ${i}`)):Promise.reject(new L(Qt,"'attributes' are required on a feature to query attachments")):Promise.reject(new L(Qt,"A feature is required to add/delete/update attachments")):Promise.reject(new L(Qt,"this layer doesn't support attachments"))}_getLayerDomain(e){const t=this.fieldsIndex.get(e);return t?t.domain:null}_fetchFirstLayerId(e){return Lt(this.url,{query:le($({f:"json"},this.customParameters),{token:this.apiKey}),responseType:"json",signal:e}).then(t=>{const i=t.data;if(i)return Array.isArray(i.layers)&&i.layers.length>0?i.layers[0].id:Array.isArray(i.tables)&&i.tables.length>0?i.tables[0].id:void 0})}async _initLayerProperties(e){return this._set("source",e),e.sourceJSON&&(this.sourceJSON=e.sourceJSON,this.read(e.sourceJSON,{origin:"service",url:this.parsedUrl})),this._verifySource(),this._verifyFields(),WO(this.renderer,this.fieldsIndex),i8(this.timeInfo,this.fieldsIndex),A2e(this,{origin:"service"})}async hasDataChanged(){var e;if((e=this.source)!=null&&e.refresh)try{var t;const{dataChanged:i,updates:n}=await((t=this.source)==null?void 0:t.refresh());if(T(n)&&(this.sourceJSON=$($({},this.sourceJSON),n),this.read(n,{origin:"service",url:this.parsedUrl})),i)return!0}catch{}if(this.definitionExpression)try{return(await cke(this.definitionExpression,this.fieldsIndex)).hasDateFunctions}catch{}return!1}_verifyFields(){const e=this.parsedUrl&&this.parsedUrl.path||"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+e+")"),this.isTable||this._hasMemorySource()||e.search(/\/FeatureServer\//i)!==-1||this.fields&&this.fields.some(function(t){return t.type==="geometry"})||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+e+")")}_fixTemplates(e,t){e&&e.forEach(i=>{const n=i.prototype&&i.prototype.attributes;n&&t&&delete n[t]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new L("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new L("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(e){e.forEach(t=>{t.layer=this,t.sourceLayer=this}),this._handles.add([e.on("after-add",t=>{t.item.layer=this,t.item.sourceLayer=this}),e.on("after-remove",t=>{t.item.layer=null,t.item.sourceLayer=null})],"fl-source")}_resetMemorySource(e){e.forEach(t=>{t.layer=null,t.sourceLayer=null}),this._handles.remove("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}_readAttachmentCapabilities(e){const t={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1};return e&&Array.isArray(e)&&e.forEach(i=>{const n=G2e[i.name];n&&(t[n]=!!i.isEnabled)}),t}_readDataCapabilities(e){return{isVersioned:Le(e,"isDataVersioned",!1),supportsAttachment:Le(e,"hasAttachments",!1),supportsM:Le(e,"hasM",!1),supportsZ:Le(e,"hasZ",!1)}}_readMetadataCapabilities(e){return{supportsAdvancedFieldProperties:Le(e,"supportsFieldDescriptionProperty",!1)}}_readOperationsCapabilities(e,t){const i=e?e.toLowerCase().split(",").map(l=>l.trim()):[],n=i.includes("editing")&&!t.datesInUnknownTimezone;let r=n&&i.includes("create"),a=n&&i.includes("delete"),o=n&&i.includes("update");const s=i.includes("changetracking");return n&&!(r||a||o)&&(r=a=o=!0),{supportsCalculate:Le(t,"supportsCalculate",!1),supportsTruncate:Le(t,"supportsTruncate",!1),supportsValidateSql:Le(t,"supportsValidateSql",!1),supportsAdd:r,supportsDelete:a,supportsEditing:n,supportsChangeTracking:s,supportsQuery:i.includes("query"),supportsQueryAttachments:Le(t.advancedQueryCapabilities,"supportsQueryAttachments",!1),supportsResizeAttachments:Le(t,"supportsAttachmentsResizing",!1),supportsSync:i.includes("sync"),supportsUpdate:o,supportsExceedsLimitStatistics:Le(t,"supportsExceedsLimitStatistics",!1)}}_readQueryCapabilities(e){var t;const i=e.advancedQueryCapabilities,n=e.ownershipBasedAccessControlForFeatures,r=e.archivingInfo,a=(t=this.url)==null?void 0:t.includes("MapServer"),o=!q("mapserver-pbf-enabled")&&a&&this.version<10.81,s=dq(this.url),l=(e.supportedQueryFormats||"").split(",").reduce((u,h)=>{const m=h.toLowerCase().trim();return m&&u.add(m),u},new Set);return{supportsStatistics:Le(i,"supportsStatistics",e.supportsStatistics),supportsPercentileStatistics:Le(i,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:Le(i,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:W2e(i),supportsCentroid:Le(i,"supportsReturningGeometryCentroid",!1),supportsDistance:Le(i,"supportsQueryWithDistance",!1),supportsDistinct:Le(i,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:Le(i,"supportsReturningQueryExtent",!1),supportsGeometryProperties:Le(i,"supportsReturningGeometryProperties",!1),supportsHavingClause:Le(i,"supportsHavingClause",!1),supportsOrderBy:Le(i,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:Le(i,"supportsPagination",!1),supportsQuantization:Le(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:Le(e,"supportsQuantizationEditMode",!1),supportsQueryGeometry:Le(e,"supportsReturningQueryGeometry",!1),supportsResultType:Le(i,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:Le(i,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:Le(i,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:Le(e,"useStandardizedQueries",!1),supportsTopFeaturesQuery:Le(i,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:Le(n,"allowOthersToQuery",!0),supportsHistoricMoment:Le(r,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:!o&&l.has("pbf"),supportsDisjointSpatialRelationship:Le(i,"supportsDisjointSpatialRel",!1),supportsCacheHint:Le(i,"supportsQueryWithCacheHint",!1),supportsDefaultSpatialReference:Le(i,"supportsDefaultSR",!1),supportsCompactGeometry:s,maxRecordCountFactor:vv(e,"maxRecordCountFactor",void 0),maxRecordCount:vv(e,"maxRecordCount",void 0),standardMaxRecordCount:vv(e,"standardMaxRecordCount",void 0),tileMaxRecordCount:vv(e,"tileMaxRecordCount",void 0)}}_readQueryRelatedCapabilities(e){const t=e.advancedQueryCapabilities,i=Le(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:Le(t,"supportsQueryRelatedPagination",!1),supportsCount:i,supportsOrderBy:i}}_readEditingCapabilities(e){const t=e.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:Le(e,"allowGeometryUpdates",!0),supportsGlobalId:Le(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:Le(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:Le(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:Le(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:Le(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:Le(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:Le(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:Le(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:Le(t,"allowOthersToUpdate",!0)}}};c([d({readOnly:!0,json:{read:!1}})],X.prototype,"capabilities",void 0),c([ae("service","capabilities",["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"])],X.prototype,"readCapabilities",null),c([d({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],X.prototype,"charts",void 0),c([d({readOnly:!0})],X.prototype,"createQueryVersion",null),c([d({type:String,json:{read:{source:"layerDefinition.copyrightText"},origins:{service:{read:{source:"copyrightText"}}}}})],X.prototype,"copyright",void 0),c([d({type:Boolean})],X.prototype,"datesInUnknownTimezone",void 0),c([d({type:String,json:{read:{source:"layerDefinition.displayField"},origins:{service:{read:{source:"displayField"}}}}})],X.prototype,"displayField",void 0),c([d({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],X.prototype,"definitionExpression",void 0),c([d({types:Dd,readOnly:!0})],X.prototype,"defaultSymbol",void 0),c([d({type:vr})],X.prototype,"dynamicDataSource",void 0),c([d({readOnly:!0})],X.prototype,"editFieldsInfo",void 0),c([d({type:Boolean})],X.prototype,"editingEnabled",null),c([ae(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],X.prototype,"readEditingEnabled",null),c([ae("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],X.prototype,"readEditingEnabledFromWebMap",null),c([ue(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],X.prototype,"writeEditingEnabled",null),c([ue("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],X.prototype,"writeEditingEnabledToWebMap",null),c([d({readOnly:!0})],X.prototype,"editingInfo",void 0),c([ae("editingInfo")],X.prototype,"readEditingInfo",null),c([d(A_e)],X.prototype,"elevationInfo",void 0),c([d(x2e)],X.prototype,"featureReduction",void 0),c([d(le($({},a3.fields),{json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:o3}}}}}))],X.prototype,"fields",void 0),c([d(a3.fieldsIndex)],X.prototype,"fieldsIndex",void 0),c([d({type:E2e,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],X.prototype,"floorInfo",void 0),c([d({type:xke,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],X.prototype,"formTemplate",void 0),c([d({type:pt,json:{origins:{service:{read:{source:"extent"}}},read:{source:"layerDefinition.extent"}}})],X.prototype,"fullExtent",void 0),c([d()],X.prototype,"gdbVersion",void 0),c([d({readOnly:!0,type:$2e,json:{read:{source:"geometryProperties"}}})],X.prototype,"geometryFieldsInfo",void 0),c([d({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:r3.read},"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:o3,writer(e,t,i){const n=e?r3.toJSON(e):null;n&&Ir(i,n,t)}}}},read:{source:"layerDefinition.geometryType",reader:r3.read}}})],X.prototype,"geometryType",void 0),c([d({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasM"}}})],X.prototype,"hasM",void 0),c([d({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasZ"}}})],X.prototype,"hasZ",void 0),c([d({readOnly:!0,type:qk})],X.prototype,"heightModelInfo",void 0),c([d({type:Date})],X.prototype,"historicMoment",void 0),c([d(P_e)],X.prototype,"id",void 0),c([d({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],X.prototype,"infoFor3D",void 0),c([d({readOnly:!0,json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],X.prototype,"isTable",void 0),c([ae("service","isTable",["type","geometryType"]),ae("isTable",["layerDefinition.type","layerDefinition.geometryType"])],X.prototype,"readIsTable",null),c([ue("web-map","isTable")],X.prototype,"writeIsTable",null),c([d(gq)],X.prototype,"labelsVisible",void 0),c([d({type:[lT],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:Y4},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:Y4},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],X.prototype,"labelingInfo",void 0),c([d(O_e)],X.prototype,"opacity",void 0),c([d({type:Number,json:{origins:{service:{read:{source:"id"}}},read:!1}})],X.prototype,"layerId",void 0),c([d(M_e)],X.prototype,"legendEnabled",void 0),c([d({type:["show","hide"]})],X.prototype,"listMode",void 0),c([d(L_e)],X.prototype,"minScale",void 0),c([ae("service","minScale",["minScale","effectiveMinScale"])],X.prototype,"readMinScale",null),c([d(R_e)],X.prototype,"maxScale",void 0),c([ae("service","maxScale",["maxScale","effectiveMaxScale"])],X.prototype,"readMaxScale",null),c([d({type:String})],X.prototype,"globalIdField",void 0),c([ae("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"]),ae("service","globalIdField",["globalIdField","fields"])],X.prototype,"readGlobalIdFieldFromService",null),c([d({type:String,json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:o3}}}}})],X.prototype,"objectIdField",void 0),c([ae("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"]),ae("service","objectIdField",["objectIdField","fields"])],X.prototype,"readObjectIdFieldFromService",null),c([d({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],X.prototype,"operationalLayerType",void 0),c([d(a3.outFields)],X.prototype,"outFields",void 0),c([d({readOnly:!0})],X.prototype,"parsedUrl",null),c([d({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],X.prototype,"path",void 0),c([d(fq)],X.prototype,"popupEnabled",void 0),c([d({type:wk,json:{name:"popupInfo",write:!0}})],X.prototype,"popupTemplate",void 0),c([d({readOnly:!0})],X.prototype,"defaultPopupTemplate",null),c([d({type:[T2e],readOnly:!0})],X.prototype,"relationships",void 0),c([d({types:QH,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:oke,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:(e,t,i)=>({ignoreOrigin:i==null?void 0:i.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(e,t,i)=>({ignoreOrigin:i==null?void 0:i.writeLayerSchema})}}})],X.prototype,"renderer",null),c([ae("service","renderer",["drawingInfo.renderer","defaultSymbol"]),ae("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],X.prototype,"readRenderer",null),c([d()],X.prototype,"sourceJSON",void 0),c([d({type:Boolean})],X.prototype,"returnM",void 0),c([d({type:Boolean})],X.prototype,"returnZ",void 0),c([d(E_e)],X.prototype,"screenSizePerspectiveEnabled",void 0),c([d({clonable:!1})],X.prototype,"source",null),c([nt("source")],X.prototype,"castSource",null),c([ae("portal-item","source",["featureSet"]),ae("web-map","source",["featureSet"])],X.prototype,"readSource",null),c([d({readOnly:!0})],X.prototype,"serviceDefinitionExpression",void 0),c([ae("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],X.prototype,"readServiceDefinitionExpression",null),c([d({type:He,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:{source:"layerDefinition.extent.spatialReference"}}})],X.prototype,"spatialReference",void 0),c([d({type:Number})],X.prototype,"subtypeCode",void 0),c([d({type:[cT]})],X.prototype,"templates",void 0),c([ae("templates",["editFieldsInfo","creatorField","editorField","templates"])],X.prototype,"readTemplates",null),c([d({type:wq})],X.prototype,"timeInfo",void 0),c([d()],X.prototype,"title",void 0),c([ae("service","title",["name"]),ae("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],X.prototype,"readTitle",null),c([ae("web-map","title",["layerDefinition.name","title"])],X.prototype,"readTitleFromWebMap",null),c([d({type:String})],X.prototype,"sublayerTitleMode",void 0),c([d({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],X.prototype,"trackIdField",void 0),c([d({json:{read:!1}})],X.prototype,"type",void 0),c([d({type:String})],X.prototype,"typeIdField",void 0),c([ae("service","typeIdField"),ae("typeIdField",["layerDefinition.typeIdField"])],X.prototype,"readTypeIdField",null),c([d({type:[Cq]})],X.prototype,"types",void 0),c([ae("service","types",["types"]),ae("types",["layerDefinition.types"])],X.prototype,"readTypes",null),c([d({readOnly:!0,json:{write:!1}})],X.prototype,"serverGens",void 0),c([d({type:_e.ofType(Ws),readOnly:!0})],X.prototype,"indexes",void 0),c([d(T_e)],X.prototype,"url",null),c([ue("url")],X.prototype,"writeUrl",null),c([d({readOnly:!0})],X.prototype,"userIsAdmin",void 0),c([d({json:{origins:{service:{read:!0}},read:!1}})],X.prototype,"version",void 0),c([ae("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],X.prototype,"readVersion",null),c([d({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],X.prototype,"visible",void 0),c([ae("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],X.prototype,"readVisible",null),X=c([D("esri.layers.FeatureLayer")],X);const s3=Om({types:Z8}),Eq=X;var VMe=Object.freeze(Object.defineProperty({__proto__:null,default:Eq},Symbol.toStringTag,{value:"Module"}));const J2e=["$datastore","$map","$layer","$aggregatedfeatures"],K2e="esri.widgets.Feature.support.arcadeFeatureUtils",Y2e=Q.getLogger(K2e);function Z2e(e){return typeof e=="string"?Uy(vE(e)):Array.isArray(e)?X2e(e):(e==null?void 0:e.declaredClass)==="esri.arcade.Dictionary"?Q2e(e):e}function X2e(e){return`<ul class="esri-widget__list">${e.map(t=>`<li>${typeof t=="string"?Uy(vE(t)):t}</li>`).join("")}</ul>`}function Q2e(e){return`<table class="esri-widget__table">${e.keys().map(t=>{const i=e.field(t);return`<tr><th>${t}</th><td>${typeof i=="string"?Uy(vE(i)):i}</td></tr>`}).join("")}</table>`}function e3e({aggregatedFeatures:e,arcadeUtils:t,featureSetVars:i,context:n,viewInfo:r,map:a,graphic:o,interceptor:s}){i.forEach(l=>{const u=l.toLowerCase(),h={map:a,spatialReference:r.sr,interceptor:s};if(u==="$map"&&(n.vars[u]=t.convertMapToFeatureSetCollection(h)),u==="$layer"&&(n.vars[u]=t.convertFeatureLayerToFeatureSet({layer:o.sourceLayer,spatialReference:r.sr,interceptor:s})),u==="$datastore"&&(n.vars[u]=t.convertServiceUrlToWorkspace({url:o.sourceLayer.url,spatialReference:r.sr,interceptor:s})),u==="$aggregatedfeatures"){const m=o.layer,{fields:f,objectIdField:g,geometryType:b,spatialReference:v,displayField:w}=m,x=new Eq(le($({fields:f,objectIdField:g,geometryType:b,spatialReference:v,displayField:w},m.type==="feature"?{templates:m.templates,typeIdField:m.typeIdField,types:m.types}:null),{source:e}));n.vars[u]=t.convertFeatureLayerToFeatureSet({layer:x,spatialReference:r.sr,interceptor:s})}})}function Tq(){return import("./arcadeUtils.677d9768.js").then(function(e){return e.q})}async function t3e({graphic:e,view:t}){const{isAggregate:i,layer:n}=e;if(!i||!n||(t==null?void 0:t.type)!=="2d")return[];const r=await t.whenLayerView(n);if(!r.createQuery||!r.queryFeatures)return[];const a=r.createQuery();a.aggregateIds=[e.getObjectId()];const{features:o}=await r.queryFeatures(a);return o}async function Mq({expressionInfo:e,arcadeUtils:t,interceptor:i,spatialReference:n,map:r,graphic:a,view:o}){if(!e||!e.expression)return null;const s=t.createSyntaxTree(e.expression),l=J2e.filter(g=>t.hasVariable(s,g)),[u]=await i6([t3e({graphic:a,view:o}),t.loadScriptDependencies(s,!0,l)]),h=t.getViewInfo({spatialReference:n}),m=t.createExecContext(a,h);m.interceptor=i,m.useAsync=!0,e3e({aggregatedFeatures:u,arcadeUtils:t,featureSetVars:l,context:m,viewInfo:h,map:r,graphic:a,interceptor:i});const f=t.createFunction(s,m);return t.executeAsyncFunction(f,m).catch(g=>Y2e.error("arcade-execution-error",{error:g,graphic:a,expressionInfo:e}))}async function i3e({expressionInfos:e,spatialReference:t,graphic:i,interceptor:n,map:r,view:a}){if(!e||!e.length)return{};const o=await Tq(),s={};for(const h of e)s[`expression/${h.name}`]=Mq({expressionInfo:h,arcadeUtils:o,interceptor:n,spatialReference:t,map:r,graphic:i,view:a});const l=await Zn(s),u={};for(const h in l)u[h]=Z2e(l[h].value);return u}const n3e=1;let dr=class extends eh(ge){constructor(e){super(e),this._abortController=null,this.expressionInfo=null,this.graphic=null,this.contentElement=null,this.contentElementViewModel=null,this.interceptor=null,this.view=null,this._cancelQuery=()=>{const{_abortController:t}=this;t&&t.abort(),this._abortController=null},this._createVM=()=>{var t,i;const n=(t=this.contentElement)==null?void 0:t.type;(i=this.contentElementViewModel)==null||i.destroy();const r=n==="fields"?new Mk:n==="media"?new yd:n==="text"?new gx:null;this._set("contentElementViewModel",r)},this._compile=async()=>{this._cancelQuery();const t=new AbortController;this._abortController=t,await this._compileExpression(),this._abortController===t&&(this._abortController=null)},this._compileThrottled=hE(this._compile,n3e,this),this._compileExpression=async()=>{const{expressionInfo:t,graphic:i,interceptor:n,spatialReference:r,map:a,view:o,_abortController:s}=this;if(!(t&&i&&r&&a))return void this._set("contentElement",null);const l=await Tq();if(s!==this._abortController)return;const u=await Mq({arcadeUtils:l,expressionInfo:t,graphic:i,interceptor:n,map:a,spatialReference:r,view:o});if(!u||u.declaredClass!=="esri.arcade.Dictionary")return void this._set("contentElement",null);const h=await UE(u,s.signal),m=h==null?void 0:h.type,f=m==="media"?Bg.fromJSON(h):m==="text"?fm.fromJSON(h):m==="fields"?mm.fromJSON(h):null;this._set("contentElement",f)},this.handles.add([Yt(this,["expressionInfo","graphic","map","spatialReference","view"],this._compileThrottled),Yt(this,"contentElement",this._createVM)])}destroy(){var e;this._cancelQuery(),(e=this.contentElementViewModel)==null||e.destroy(),this._set("contentElementViewModel",null),this._set("contentElement",null)}get spatialReference(){var e;return((e=this.view)==null?void 0:e.spatialReference)||null}set spatialReference(e){e!==void 0?this._override("spatialReference",e):this._clearOverride("spatialReference")}get state(){const{_abortController:e,contentElement:t,contentElementViewModel:i}=this;return e?"loading":t||i?"ready":"disabled"}get map(){var e;return((e=this.view)==null?void 0:e.map)||null}set map(e){e!==void 0?this._override("map",e):this._clearOverride("map")}};c([d()],dr.prototype,"_abortController",void 0),c([d({type:c8})],dr.prototype,"expressionInfo",void 0),c([d({type:Mr})],dr.prototype,"graphic",void 0),c([d({readOnly:!0})],dr.prototype,"contentElement",void 0),c([d({readOnly:!0})],dr.prototype,"contentElementViewModel",void 0),c([d()],dr.prototype,"interceptor",void 0),c([d()],dr.prototype,"spatialReference",null),c([d({readOnly:!0})],dr.prototype,"state",null),c([d()],dr.prototype,"map",null),c([d()],dr.prototype,"view",void 0),dr=c([D("esri.widgets.Feature.FeatureExpression.FeatureExpressionViewModel")],dr);const uT=dr,wv={iconLoading:"esri-icon-loading-indicator esri-rotating",base:"esri-feature-expression",loadingSpinnerContainer:"esri-feature__loading-container",spinner:"esri-feature__loading-spinner"};let G1=class extends Pn{constructor(e,t){super(e,t),this.viewModel=new uT}initialize(){Yt(this,"viewModel.contentElementViewModel",()=>this._setupExpressionWidget())}destroy(){this._destroyContentWidget()}renderLoading(){return F("div",{key:"loading-container",class:wv.loadingSpinnerContainer},F("span",{class:this.classes(wv.iconLoading,wv.spinner)}))}render(){var e;const{state:t}=this.viewModel;return F("div",{class:wv.base},t==="loading"?this.renderLoading():t==="disabled"?null:(e=this._contentWidget)==null?void 0:e.render())}_destroyContentWidget(){const{_contentWidget:e}=this;e&&(e.viewModel=null,e.destroy()),this._contentWidget=null}_setupExpressionWidget(){const{contentElementViewModel:e,contentElement:t}=this.viewModel,i=t==null?void 0:t.type;this._destroyContentWidget();const n=e?i==="fields"?new Vj({viewModel:e}):i==="media"?new DV({viewModel:e}):i==="text"?new k1({viewModel:e}):null:null;this._contentWidget=n,this.scheduleRender()}};c([d({type:uT})],G1.prototype,"viewModel",void 0),G1=c([D("esri.widgets.Feature.FeatureExpression")],G1);const r3e=G1;class a3e{constructor(t,i){this.preLayerQueryCallback=t,this.preRequestCallback=i,this.preLayerQueryCallback||(this.preLayerQueryCallback=n=>{}),this.preRequestCallback||(this.preLayerQueryCallback=n=>{})}}var W1;const o3e=1,iR="content-view-models",Aq="esri.widgets.FeatureViewModel",s3e=Q.getLogger(Aq),nR={attachmentsContent:!0,chartAnimation:!0,customContent:!0,expressionContent:!0,fieldsContent:!0,mediaContent:!0,textContent:!0};let Ft=W1=class extends ge{constructor(e){super(e),this._handles=new On,this._error=null,this._featureAbortController=null,this.graphicChangedThrottled=hE(this._graphicChanged,o3e,this),this._expressionAttributes=null,this._graphicExpressionAttributes=null,this.abilities=$({},nR),this.content=null,this.contentViewModels=[],this.defaultPopupTemplateEnabled=!1,this.formattedAttributes=null,this.lastEditInfo=null,this.relatedInfos=new Map,this.title="",this.view=null,this._isAllowedContentType=t=>{const{abilities:i}=this;return t.type==="attachments"&&i.attachmentsContent||t.type==="custom"&&i.customContent||t.type==="fields"&&i.fieldsContent||t.type==="media"&&i.mediaContent||t.type==="text"&&i.textContent||t.type==="expression"&&i.expressionContent},this._handles.add(Yt(this,["graphic","_effectivePopupTemplate","abilities"],()=>this.graphicChangedThrottled()))}destroy(){this._clear(),this._cancelFeatureQuery(),this._error=null,this._handles.destroy(),this._handles=null,this.graphic=null,this._destroyContentViewModels(),this.relatedInfos.clear()}get _effectivePopupTemplate(){return T(this.graphic)?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):null}get _fieldInfoMap(){return Wge(iL(this._effectivePopupTemplate),this._sourceLayer)}get _sourceLayer(){return Tj(this.graphic)}castAbilities(e){return $($({},nR),e)}get state(){return this.graphic?this._error?"error":this.waitingForContent?"loading":"ready":"disabled"}set graphic(e){this._set("graphic",e?e.clone():null)}get spatialReference(){return this.get("view.spatialReference")||null}set spatialReference(e){e!==void 0?this._override("spatialReference",e):this._clearOverride("spatialReference")}get map(){return this.get("view.map")||null}set map(e){e!==void 0?this._override("map",e):this._clearOverride("map")}get waitingForContent(){return!!this._featureAbortController}setActiveMedia(e,t){const i=this.contentViewModels[e];i instanceof yd&&i.setActiveMedia(t)}nextMedia(e){const t=this.contentViewModels[e];t instanceof yd&&t.next()}previousMedia(e){const t=this.contentViewModels[e];t instanceof yd&&t.previous()}_clear(){this._set("title",""),this._set("content",null),this._set("formattedAttributes",null)}async _graphicChanged(){this._cancelFeatureQuery(),this._error=null,this._clear();const{graphic:e}=this;if(!e)return;const t=new AbortController;this._featureAbortController=t;try{await this._queryFeature({signal:t.signal})}catch(i){ma(i)||(this._error=i,s3e.error("error","The popupTemplate could not be displayed for this feature.",{error:i,graphic:e,popupTemplate:this._effectivePopupTemplate}))}this._featureAbortController===t&&(this._featureAbortController=null)}_cancelFeatureQuery(){const{_featureAbortController:e}=this;e&&e.abort(),this._featureAbortController=null}_compileContentElement(e,t){return e.type==="attachments"?this._compileAttachments(e,t):e.type==="custom"?this._compileCustom(e,t):e.type==="fields"?this._compileFields(e,t):e.type==="media"?this._compileMedia(e,t):e.type==="text"?this._compileText(e,t):e.type==="expression"?this._compileExpression(e,t):void 0}_compileContent(e){if(this._destroyContentViewModels(),this.graphic)return Array.isArray(e)?e.filter(this._isAllowedContentType).map((t,i)=>this._compileContentElement(t,i)):typeof e=="string"?this._compileText(new fm({text:e}),0).text:e}_destroyContentViewModels(){var e;(e=this._handles)==null||e.remove(iR),this.contentViewModels.forEach(t=>t&&!t.destroyed&&t.destroy()),this._set("contentViewModels",[])}_setExpressionContentVM(e,t){const{formattedAttributes:i}=this,{contentElement:n,contentElementViewModel:r}=e,a=n==null?void 0:n.type;r&&a&&(a==="fields"&&(this._createFieldsFormattedAttributes({contentElement:n,contentElementIndex:t,formattedAttributes:i}),r.set(this._createFieldsVMParams(n,t))),a==="media"&&(this._createMediaFormattedAttributes({contentElement:n,contentElementIndex:t,formattedAttributes:i}),r.set(this._createMediaVMParams(n,t))),a==="text"&&r.set(this._createTextVMParams(n)))}_compileExpression(e,t){const{expressionInfo:i}=e,{graphic:n,map:r,spatialReference:a,view:o}=this,s=new uT({expressionInfo:i,graphic:n,interceptor:W1.interceptor,map:r,spatialReference:a,view:o});return this.contentViewModels[t]=s,this._handles.add(Yt(s,"contentElementViewModel",()=>this._setExpressionContentVM(s,t)),iR),e}_compileAttachments(e,t){const{graphic:i}=this,{description:n,title:r}=e;return this.contentViewModels[t]=new xE($({graphic:i},this._compileTitleAndDesc({title:r,description:n}))),e}_compileCustom(e,t){const{graphic:i}=this,{creator:n,destroyer:r}=e;return this.contentViewModels[t]=new gx({graphic:i,creator:n,destroyer:r}),e}_compileTitleAndDesc({title:e,description:t}){const{_fieldInfoMap:i,_sourceLayer:n,graphic:r,formattedAttributes:a,_expressionAttributes:o}=this,{attributes:s}=r,l=a.global;return{title:fd({attributes:s,fieldInfoMap:i,globalAttributes:l,expressionAttributes:o,layer:n,text:e}),description:fd({attributes:s,fieldInfoMap:i,globalAttributes:l,expressionAttributes:o,layer:n,text:t})}}_createFieldsVMParams(e,t){const{_effectivePopupTemplate:i,formattedAttributes:n}=this,r=$($({},n.global),n.content[t]),a=(e==null?void 0:e.fieldInfos)||(i==null?void 0:i.fieldInfos),o=a==null?void 0:a.filter(({fieldName:h})=>Aj(h)||tl(h)||r.hasOwnProperty(h)),s=i==null?void 0:i.expressionInfos,{description:l,title:u}=e;return $({attributes:r,expressionInfos:s,fieldInfos:o},this._compileTitleAndDesc({title:u,description:l}))}_compileFields(e,t){const i=e.clone(),n=new Mk(this._createFieldsVMParams(e,t));return this.contentViewModels[t]=n,i.fieldInfos=n.formattedFieldInfos.slice(0),i}_createMediaVMParams(e,t){const{abilities:i,graphic:n,_fieldInfoMap:r,formattedAttributes:a,_effectivePopupTemplate:o,relatedInfos:s,_sourceLayer:l,_expressionAttributes:u}=this,{attributes:h}=n,{description:m,mediaInfos:f,title:g}=e;return $({abilities:{chartAnimation:i.chartAnimation},activeMediaInfoIndex:e.activeMediaInfoIndex||0,attributes:h,layer:l,fieldInfoMap:r,formattedAttributes:$($({},a.global),a.content[t]),expressionAttributes:u,mediaInfos:f,popupTemplate:o,relatedInfos:s},this._compileTitleAndDesc({title:g,description:m}))}_compileMedia(e,t){const i=e.clone(),n=new yd(this._createMediaVMParams(e,t));return i.mediaInfos=n.formattedMediaInfos.slice(0),this.contentViewModels[t]=n,i}_createTextVMParams(e){const{graphic:t,_fieldInfoMap:i,_sourceLayer:n,_expressionAttributes:r}=this;if(e&&e.text){const{attributes:a}=t,o=this.formattedAttributes.global;e.text=fd({attributes:a,fieldInfoMap:i,globalAttributes:o,expressionAttributes:r,layer:n,text:e.text})}return{graphic:t,creator:e.text}}_compileText(e,t){const i=e.clone();return this.contentViewModels[t]=new gx(this._createTextVMParams(i)),i}_compileLastEditInfo(){const{_effectivePopupTemplate:e,_sourceLayer:t,graphic:i}=this;if(!e)return;const{lastEditInfoEnabled:n}=e,r=t==null?void 0:t.editFieldsInfo;return n&&r?Gge(r,i.attributes):void 0}_compileTitle(e){const{_fieldInfoMap:t,_sourceLayer:i,graphic:n,_expressionAttributes:r}=this,{attributes:a}=n,o=this.formattedAttributes.global;return fd({attributes:a,fieldInfoMap:t,globalAttributes:o,expressionAttributes:r,layer:i,text:e})}async _getTitle(){const{_effectivePopupTemplate:e,graphic:t}=this,i=e==null?void 0:e.title;return mx(i,{graphic:t})}async _getContent(){const{_effectivePopupTemplate:e,graphic:t}=this,i=e==null?void 0:e.content;return mx(i,{graphic:t})}async _queryFeature(e){const{_featureAbortController:t,_sourceLayer:i,graphic:n,_effectivePopupTemplate:r,spatialReference:a,map:o,view:s}=this,{content:{value:l},title:{value:u}}=await Zn({content:this._getContent(),title:this._getTitle()});if(t!==this._featureAbortController||!n)return;await Zge({graphic:n,popupTemplate:r,layer:i,spatialReference:a},e);const{expressionAttributes:{value:h}}=await Zn({checkForRelatedFeatures:this._checkForRelatedFeatures(e),expressionAttributes:i3e({expressionInfos:r==null?void 0:r.expressionInfos,spatialReference:a,graphic:n,map:o,interceptor:W1.interceptor,view:s})});t===this._featureAbortController&&n&&(this._expressionAttributes=h,this._graphicExpressionAttributes=$($({},n.attributes),h),this._set("formattedAttributes",this._createFormattedAttributes(l)),this._set("title",this._compileTitle(u)),this._set("lastEditInfo",this._compileLastEditInfo()||null),this._set("content",this._compileContent(l)||null))}_createMediaFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:i}){const{_effectivePopupTemplate:n,graphic:r,relatedInfos:a,_sourceLayer:o,_fieldInfoMap:s,_graphicExpressionAttributes:l}=this;i.content[t]=S2({fieldInfos:n==null?void 0:n.fieldInfos,graphic:r,attributes:$($({},l),e.attributes),layer:o,fieldInfoMap:s,relatedInfos:a})}_createFieldsFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:i}){if(e.fieldInfos){const{graphic:n,relatedInfos:r,_sourceLayer:a,_fieldInfoMap:o,_graphicExpressionAttributes:s}=this;i.content[t]=S2({fieldInfos:e.fieldInfos,graphic:n,attributes:$($({},s),e.attributes),layer:a,fieldInfoMap:o,relatedInfos:r})}}_createFormattedAttributes(e){const{_effectivePopupTemplate:t,graphic:i,relatedInfos:n,_sourceLayer:r,_fieldInfoMap:a,_graphicExpressionAttributes:o}=this,s=t==null?void 0:t.fieldInfos,l={global:S2({fieldInfos:s,graphic:i,attributes:o,layer:r,fieldInfoMap:a,relatedInfos:n}),content:[]};return Array.isArray(e)&&e.forEach((u,h)=>{u.type==="fields"&&this._createFieldsFormattedAttributes({contentElement:u,contentElementIndex:h,formattedAttributes:l}),u.type==="media"&&this._createMediaFormattedAttributes({contentElement:u,contentElementIndex:h,formattedAttributes:l})}),l}_checkForRelatedFeatures(e){const{graphic:t,_effectivePopupTemplate:i}=this;return this._queryRelatedInfos(t,iL(i),e)}async _queryRelatedInfos(e,t,i){const{relatedInfos:n,_sourceLayer:r}=this;n.clear();const a=T(r.associatedLayer)?await r.associatedLayer.load(i):r;if(!a)return;const o=t.filter(u=>u&&tl(u.fieldName));if(!o||!o.length)return;t.forEach(u=>this._configureRelatedInfo(u,a));const s=await sve({relatedInfos:n,layer:a},i);Object.keys(s).forEach(u=>{var h;const m=n.get(u.toString()),f=(h=s[u])==null?void 0:h.value;m&&f&&(m.layerInfo=f.data)});const l=await lve({graphic:e,relatedInfos:n,layer:a},i);Object.keys(l).forEach(u=>{var h;ive((h=l[u])==null?void 0:h.value,n.get(u.toString()))})}_configureRelatedInfo(e,t){const{relatedInfos:i}=this,n=S0(e.fieldName);if(!n)return;const{layerId:r,fieldName:a}=n;if(!r)return;const o=i.get(r.toString())||tve(r,t);o&&(cve({relatedInfo:o,fieldName:a,fieldInfo:e}),this.relatedInfos.set(r,o))}};Ft.interceptor=new a3e(eye,tye),c([d()],Ft.prototype,"_error",void 0),c([d()],Ft.prototype,"_featureAbortController",void 0),c([d({readOnly:!0})],Ft.prototype,"_effectivePopupTemplate",null),c([d({readOnly:!0})],Ft.prototype,"_fieldInfoMap",null),c([d({readOnly:!0})],Ft.prototype,"_sourceLayer",null),c([d()],Ft.prototype,"abilities",void 0),c([nt("abilities")],Ft.prototype,"castAbilities",null),c([d({readOnly:!0})],Ft.prototype,"content",void 0),c([d({readOnly:!0})],Ft.prototype,"contentViewModels",void 0),c([d({type:Boolean})],Ft.prototype,"defaultPopupTemplateEnabled",void 0),c([d({readOnly:!0})],Ft.prototype,"state",null),c([d({readOnly:!0})],Ft.prototype,"formattedAttributes",void 0),c([d({type:Mr,value:null})],Ft.prototype,"graphic",null),c([d({readOnly:!0})],Ft.prototype,"lastEditInfo",void 0),c([d({readOnly:!0})],Ft.prototype,"relatedInfos",void 0),c([d()],Ft.prototype,"spatialReference",null),c([d({readOnly:!0})],Ft.prototype,"title",void 0),c([d()],Ft.prototype,"map",null),c([d({readOnly:!0})],Ft.prototype,"waitingForContent",null),c([d()],Ft.prototype,"view",void 0),Ft=W1=c([D(Aq)],Ft);const dT=Ft,Oq=e=>{let t=class extends e{constructor(){super(...arguments),this.renderNodeContent=i=>jj(i)&&!i.destroyed?F("div",{key:i},i.render()):i instanceof HTMLElement?F("div",{key:i,bind:i,afterCreate:this._attachToNode}):gye(i)?F("div",{key:i,bind:i.domNode,afterCreate:this._attachToNode}):null}_attachToNode(i){const n=this;i.appendChild(n)}};return t=c([D("esri.widgets.Feature.ContentMixin")],t),t},Ki={iconText:"esri-icon-font-fallback-text",iconLoading:"esri-icon-loading-indicator esri-rotating",esriTable:"esri-widget__table",esriWidget:"esri-widget",base:"esri-feature",container:"esri-feature__size-container",title:"esri-feature__title",main:"esri-feature__main-container",btn:"esri-feature__button",icon:"esri-feature__icon",content:"esri-feature__content",contentElement:"esri-feature__content-element",text:"esri-feature__text",lastEditedInfo:"esri-feature__last-edited-info",fields:"esri-feature__fields",fieldHeader:"esri-feature__field-header",fieldData:"esri-feature__field-data",fieldDataDate:"esri-feature__field-data--date",loadingSpinnerContainer:"esri-feature__loading-container",spinner:"esri-feature__loading-spinner"},rR={title:!0,content:!0,lastEditedInfo:!0};let Zi=class extends Oq(Pn){constructor(e,t){super(e,t),this._contentWidgets=[],this.graphic=null,this.defaultPopupTemplateEnabled=!1,this.headingLevel=2,this.label=void 0,this.messages=null,this.messagesCommon=null,this.messagesURIUtils=null,this.spatialReference=null,this.title=null,this.visibleElements=$({},rR),this.map=null,this.view=null,this.viewModel=new dT}initialize(){this.own(Yt(this,"viewModel.contentViewModels",()=>this._setupContentWidgets()))}loadDependencies(){return import("./calcite-notice.87ceba91.js")}destroy(){this._destroyContentWidgets()}castVisibleElements(e){return $($({},rR),e)}render(){const{state:e}=this.viewModel,t=F("div",{class:Ki.container,key:"container"},this.renderTitle(),e==="error"?this.renderError():e==="loading"?this.renderLoading():this.renderContentContainer());return F("div",{class:this.classes(Ki.base,Ki.esriWidget)},t)}setActiveMedia(e,t){this.viewModel.setActiveMedia(e,t)}nextMedia(e){this.viewModel.nextMedia(e)}previousMedia(e){this.viewModel.previousMedia(e)}renderError(){const{messagesCommon:e,messages:t,visibleElements:i}=this;return F("calcite-notice",{active:!0,color:"red",icon:"exclamation-mark-circle",scale:"s"},i.title?F("div",{key:"error-title",slot:"title"},e.errorMessage):null,F("div",{key:"error-message",slot:"message"},t.loadingError))}renderLoading(){return F("div",{key:"loading-container",class:Ki.loadingSpinnerContainer},F("span",{class:this.classes(Ki.iconLoading,Ki.spinner)}))}renderContentContainer(){const{visibleElements:e}=this;return e.content?F("div",{class:Ki.main},[this.renderContent(),this.renderLastEditInfo()]):null}renderTitle(){const{visibleElements:e,title:t}=this;return e.title?F(kE,{level:this.headingLevel,class:Ki.title,innerHTML:t}):null}renderContent(){const e=this.viewModel.content,t="content";if(!e)return null;if(Array.isArray(e))return e.length?F("div",{key:`${t}-content-elements`},e.map(this.renderContentElement,this)):null;if(typeof e=="string"){const i=this._contentWidgets[0];return!i||i.destroyed?null:F("div",{key:`${t}-content`},i.render())}return this.renderNodeContent(e)}renderContentElement(e,t){const{visibleElements:i}=this;if(typeof i.content!="boolean"&&!i.content[e.type])return null;switch(e.type){case"attachments":return this.renderAttachments(t);case"custom":return this.renderCustom(e,t);case"fields":return this.renderFields(t);case"media":return this.renderMedia(t);case"text":return this.renderText(e,t);case"expression":return this.renderExpression(t);default:return null}}renderAttachments(e){const t=this._contentWidgets[e];if(!t||t.destroyed)return null;const{state:i,attachmentInfos:n}=t.viewModel;return i==="loading"||n.length>0?F("div",{key:this._buildKey("attachments-element",e),class:this.classes(Ki.contentElement)},t.render()):null}renderExpression(e){const t=this._contentWidgets[e];return!t||t.destroyed?null:F("div",{key:this._buildKey("expression-element",e),class:Ki.contentElement},t.render())}renderCustom(e,t){const{creator:i}=e,n=this._contentWidgets[t];return!n||n.destroyed?null:i?F("div",{key:this._buildKey("custom-element",t),class:Ki.contentElement},n.render()):null}renderFields(e){const t=this._contentWidgets[e];return!t||t.destroyed?null:F("div",{key:this._buildKey("fields-element",e),class:Ki.contentElement},t.render())}renderMedia(e){const t=this._contentWidgets[e];return!t||t.destroyed?null:F("div",{key:this._buildKey("media-element",e),class:Ki.contentElement},t.render())}renderLastEditInfo(){const{visibleElements:e,messages:t}=this,{lastEditInfo:i}=this.viewModel;if(!i||!e.lastEditedInfo)return null;const{date:n,user:r}=i,a=i.type==="edit"?r?t.lastEditedByUser:t.lastEdited:r?t.lastCreatedByUser:t.lastCreated,o=Ms(a,{date:n,user:r});return F("div",{key:"edit-info-element",class:this.classes(Ki.lastEditedInfo,Ki.contentElement)},o)}renderText(e,t){const i=e.text,n=this._contentWidgets[t];return!n||n.destroyed?null:i?F("div",{key:this._buildKey("text-element",t),class:this.classes(Ki.contentElement,Ki.text)},n.render()):null}_buildKey(e,...t){return`${e}__${this.get("viewModel.graphic.uid")||"0"}-${t.join("-")}`}_destroyContentWidget(e){e&&(e.viewModel=null,!e.destroyed&&e.destroy())}_destroyContentWidgets(){this._contentWidgets.forEach(e=>this._destroyContentWidget(e)),this._contentWidgets=[]}_setupContentWidgets(){this._destroyContentWidgets();const{headingLevel:e,visibleElements:t}=this,i=this.get("viewModel.content"),{contentViewModels:n}=this.viewModel;if(Array.isArray(i))i.forEach((r,a)=>{r.type==="attachments"&&(this._contentWidgets[a]=new dye({displayType:r.displayType,headingLevel:t.title?e+1:e,viewModel:n[a]})),r.type==="fields"&&(this._contentWidgets[a]=new Vj({viewModel:n[a]})),r.type==="media"&&(this._contentWidgets[a]=new DV({viewModel:n[a]})),r.type==="text"&&(this._contentWidgets[a]=new k1({viewModel:n[a]})),r.type==="custom"&&(this._contentWidgets[a]=new k1({viewModel:n[a]})),r.type==="expression"&&(this._contentWidgets[a]=new r3e({viewModel:n[a]}))},this);else{const r=n[0];r&&!r.destroyed&&(this._contentWidgets[0]=new k1({viewModel:r}))}this.scheduleRender()}};c([ke("viewModel.graphic")],Zi.prototype,"graphic",void 0),c([ke("viewModel.defaultPopupTemplateEnabled")],Zi.prototype,"defaultPopupTemplateEnabled",void 0),c([d()],Zi.prototype,"headingLevel",void 0),c([d({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Zi.prototype,"label",void 0),c([d(),Kn("esri/widgets/Feature/t9n/Feature")],Zi.prototype,"messages",void 0),c([d(),Kn("esri/t9n/common")],Zi.prototype,"messagesCommon",void 0),c([d(),Kn("esri/widgets/support/t9n/uriUtils")],Zi.prototype,"messagesURIUtils",void 0),c([ke("viewModel.spatialReference")],Zi.prototype,"spatialReference",void 0),c([ke("viewModel.title")],Zi.prototype,"title",void 0),c([d()],Zi.prototype,"visibleElements",void 0),c([nt("visibleElements")],Zi.prototype,"castVisibleElements",null),c([ke("viewModel.map")],Zi.prototype,"map",void 0),c([ke("viewModel.view")],Zi.prototype,"view",void 0),c([d({type:dT})],Zi.prototype,"viewModel",void 0),Zi=c([D("esri.widgets.Feature")],Zi);const l3e=Zi;let Uu=class extends Gc.EventedAccessor{constructor(e){super(e),this._anchorHandles=new On,this.location=null,this.screenLocation=null,this.screenLocationEnabled=!1,this.view=null,this._anchorHandles.add([kt(this,["screenLocationEnabled","location","view.size","view.stationary"],()=>this._updateScreenPointAndHandle()),kt(this,["view","view.ready"],()=>this._wireUpView())])}destroy(){this.view=null,this._anchorHandles&&this._anchorHandles.destroy(),this._anchorHandles=null,this._viewpointHandle=null}_wireUpView(){const e="view";if(this._anchorHandles.remove(e),this._viewpointHandle=null,!this.get("view.ready"))return;this._setScreenLocation();const{view:t}=this,i=t.type==="3d"?"camera":"viewpoint",n=l0e(t,i,()=>this._viewpointChange());this._anchorHandles.add(n,e),this._viewpointHandle=n,this._toggleWatchingViewpoint()}_viewpointChange(){this._setScreenLocation(),this.emit("view-change")}_updateScreenPointAndHandle(){this._setScreenLocation(),this._toggleWatchingViewpoint()}_toggleWatchingViewpoint(){const{_viewpointHandle:e,location:t,screenLocationEnabled:i}=this;!e||(t&&i?e.resume():e.pause())}_setScreenLocation(){const{location:e,view:t,screenLocationEnabled:i}=this,n=this.get("view.ready"),r=i&&n&&T(e)?t.toScreen(e):null;this._set("screenLocation",r)}};c([d()],Uu.prototype,"location",void 0),c([d({readOnly:!0})],Uu.prototype,"screenLocation",void 0),c([d()],Uu.prototype,"screenLocationEnabled",void 0),c([d()],Uu.prototype,"view",void 0),Uu=c([D("esri.widgets.support.AnchorElementViewModel")],Uu);const Pq=Uu,c3e="esri.widgets.CompassViewModel";let J1=class extends Pq{constructor(e){super(e),this.visible=!1}};c([d()],J1.prototype,"visible",void 0),J1=c([D(c3e)],J1);const Lq=J1,l3={base:"esri-spinner",spinnerStart:"esri-spinner--start",spinnerFinish:"esri-spinner--finish"};let Gu=class extends Pn{constructor(e,t){super(e,t),this._animationDelay=500,this._animationPromise=null,this.location=null,this.view=null,this.viewModel=new Lq,this.visible=!1}initialize(){this.own([kt(this,"visible",e=>this._visibleChange(e))])}destroy(){this._animationPromise=null}show(e){const{location:t,promise:i}=e;t&&(this.viewModel.location=t),this.visible=!0;const n=()=>this.hide();i&&i.catch(()=>{}).then(n)}hide(){this.visible=!1}render(){const{visible:e}=this,{screenLocation:t}=this.viewModel,i=!!t,n=e&&i,r=!e&&i,a={[l3.spinnerStart]:n,[l3.spinnerFinish]:r},o=this._getPositionStyles();return F("div",{class:this.classes(l3.base,a),styles:o})}_visibleChange(e){if(e)return void(this.viewModel.screenLocationEnabled=!0);const t=QC(this._animationDelay);this._animationPromise=t,t.catch(()=>{}).then(()=>{this._animationPromise===t&&(this.viewModel.screenLocationEnabled=!1,this._animationPromise=null)})}_getPositionStyles(){const{screenLocation:e,view:t}=this.viewModel;if(!t||V(e))return{};const{padding:i}=t;return{left:e.x-i.left+"px",top:e.y-i.top+"px"}}};c([ke("viewModel.location")],Gu.prototype,"location",void 0),c([ke("viewModel.view")],Gu.prototype,"view",void 0),c([d({type:Lq})],Gu.prototype,"viewModel",void 0),c([ke("viewModel.visible")],Gu.prototype,"visible",void 0),Gu=c([D("esri.widgets.Spinner")],Gu);const u3e=Gu;var aR;(function(e){e[e.size=22]="size",e[e.lineWidth=50]="lineWidth",e[e.maxSize=120]="maxSize",e[e.maxOutlineSize=80]="maxOutlineSize",e[e.tallSymbolWidth=20]="tallSymbolWidth"})(aR||(aR={}));class d3e{constructor(t,i){this._storage=new YH,this._storage.maxSize=t,i&&this._storage.registerRemoveFunc("",i)}put(t,i){this._storage.put(t,i,1,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}}new d3e(1e3);new Re([128,128,128]);const h3e=new Re("white");function Tx(e,t){if(t==null)return e;const i=e.toRgba();return i[3]=i[3]*t,new Re(i)}function p3e(e,t,i){const n=e.symbolLayers;if(!n)return;const r=a=>{const o=T(a)?a:null;return Tx(t=t||o||i!=null&&h3e,i)};n.forEach(a=>{if(a.type!=="object"||a.resource.href==null||t)if(a.type==="water")a.color=r(a.color);else{const o=T(a.material)?a.material.color:null,s=r(o);V(a.material)?a.material=new $r({color:s}):a.material.color=s,i!=null&&"outline"in a&&T(a.outline)&&T(a.outline.color)&&(a.outline.color=Tx(a.outline.color,i))}})}function m3e(e,t,i){(t=t||e.color)&&(e.color=Tx(t,i)),i!=null&&"outline"in e&&e.outline&&e.outline.color&&(e.outline.color=Tx(e.outline.color,i))}function c3(e,t,i){e&&(t||i!=null)&&(t&&(t=new Re(t)),Gg(e)?p3e(e,t,i):ZI(e)&&m3e(e,t,i))}async function f3e(e,t){const i=e.symbolLayers;i&&await Foe(i,async n=>g3e(n,t))}async function g3e(e,t){switch(e.type){case"extrude":b3e(e,t);break;case"icon":case"line":case"text":y3e(e,t);break;case"path":w3e(e,t);break;case"object":await v3e(e,t)}}function y3e(e,t){const i=Rq(t);T(i)&&(e.size=i)}function Rq(e){for(const t of e)if(typeof t=="number")return t;return null}function b3e(e,t){e.size=typeof t[2]=="number"?t[2]:0}async function v3e(e,t){const{resourceSize:i,symbolSize:n}=await x3e(e),r=Fq(t,i,n);e.width=xg(t[0],n[0],i[0],r),e.depth=xg(t[1],n[1],i[1],r),e.height=xg(t[2],n[2],i[2],r)}function w3e(e,t){const i=Fq(t,bz,[e.width,void 0,e.height]);e.width=xg(t[0],e.width,1,i),e.height=xg(t[2],e.height,1,i)}function Fq(e,t,i){for(let n=0;n<3;n++){const r=e[n];switch(r){case"symbol-value":return i[n]!=null?i[n]/t[n]:1;case"proportional":break;default:if(r&&t[n])return r/t[n]}}return 1}async function x3e(e){const t=await import("./symbolLayerUtils.45c0ef8c.js"),i=await t.computeObjectLayerResourceSize(e,10),{width:n,height:r,depth:a}=e,o=[n,a,r];let s=1;for(let l=0;l<3;l++)if(o[l]!=null){s=o[l]/i[l];break}for(let l=0;l<3;l++)o[l]==null&&(o[l]=i[l]*s);return{resourceSize:i,symbolSize:o}}function xg(e,t,i,n){switch(e){case"proportional":return i*n;case"symbol-value":return t!=null?t:i;default:return e}}function k3e(e,t){const i=Rq(t);if(!V(i))switch(e.type){case"simple-marker":e.size=i;break;case"picture-marker":{const n=e.width/e.height;n>1?(e.width=i,e.height=i*n):(e.width=i*n,e.height=i);break}case"simple-line":e.width=i;break;case"text":e.font.size=i}}async function _3e(e,t){if(e&&t)return Gg(e)?f3e(e,t):void(ZI(e)&&k3e(e,t))}function S3e(e,t,i){if(e&&t!=null)if(Gg(e)){const n=e.symbolLayers;n&&n.forEach(r=>{if(r&&r.type==="object")switch(i){case"tilt":r.tilt=t;break;case"roll":r.roll=t;break;default:r.heading=t}})}else ZI(e)&&(e.type!=="simple-marker"&&e.type!=="picture-marker"&&e.type!=="text"||(e.angle=t))}function Nq(e){return e&&"opacity"in e?e.opacity*Nq(e.parent):1}async function D3e(e,t){var i,n;if(!e)return;const r=e.sourceLayer,a=(i=T(t)&&(n=t.useSourceLayer)!=null&&n?r:e.layer)!=null?i:r,o=Nq(a);if(T(e.symbol)&&(!T(t)||t.ignoreGraphicSymbol!==!0)){const S=e.symbol.type==="web-style"?await e.symbol.fetchSymbol(T(t)?t.abortOptions:null):e.symbol.clone();return c3(S,null,o),S}const s=T(t)&&t.renderer||a&&"renderer"in a&&a.renderer;let l=s&&"getSymbolAsync"in s?await s.getSymbolAsync(e,t):null;if(!l)return;if(l=l.type==="web-style"?await l.fetchSymbol(T(t)?t.abortOptions:null):l.clone(),!("visualVariables"in s)||!s.visualVariables||!s.visualVariables.length)return c3(l,null,o),l;if("arcadeRequiredForVisualVariables"in s&&s.arcadeRequiredForVisualVariables&&(V(t)||V(t.arcade))){const S=$({},t);S.arcade=await dl(),t=S}const u=await Promise.resolve().then(function(){return Mxe}),h=[],m=[],f=[],g=[];for(const S of s.visualVariables)switch(S.type){case"color":h.push(S);break;case"opacity":m.push(S);break;case"rotation":g.push(S);break;case"size":S.target||f.push(S)}const b=!!h.length&&h[h.length-1],v=b?u.getColor(b,e,t):null,w=!!m.length&&m[m.length-1];let x=w?u.getOpacity(w,e,t):null;if(o!=null&&(x=x!=null?x*o:o),c3(l,v,x),f.length){const S=u.getAllSizes(f,e,t);await _3e(l,S)}for(const S of g)S3e(l,u.getRotationAngle(S,e,t),S.axis);return l}class Y${constructor(t=i=>i.values().next().value){this._peeker=t,this._items=new Set}get length(){return this._items.size}clear(){this._items.clear()}last(){if(this._items.size===0)return;let t;for(t of this._items);return t}peek(){if(this._items.size!==0)return this._peeker(this._items)}push(t){this.contains(t)||this._items.add(t)}contains(t){return this._items.has(t)}pop(){if(this.length===0)return;const t=this.peek();return this._items.delete(t),t}popLast(){if(this.length===0)return;const t=this.last();return this._items.delete(t),t}remove(t){this._items.delete(t)}filter(t){return this._items.forEach(i=>{t(i)||this._items.delete(i)}),this}}const $3e=q("mac")?"Meta":"Ctrl",Zk={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(let e=48;e<58;e++)Zk[e]=String.fromCharCode(e);for(let e=1;e<25;e++)Zk[111+e]=`F${e}`;for(let e=65;e<91;e++)Zk[e]=[String.fromCharCode(e+32),String.fromCharCode(e)];function C3e(e){if(e.key!==void 0)return Xu(e);const t=Zk[e.keyCode];return Array.isArray(t)?e.shiftKey?t[1]:t[0]:t}function I3e(e){switch(e){case"Ctrl":case"Alt":case"Shift":case"Meta":case"Primary":return!0}return!1}class E3e{constructor(t,i=[]){this.eventType=t,this.keyModifiers=i}matches(t){if(t.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const i=t.modifiers;for(const n of this.keyModifiers)if(!i.has(n))return!1;return!0}}const oR=Q.getLogger("esri.views.input.InputHandler");class Wi{constructor(t){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const t in this._incoming){const i=this._incoming[t];for(const n of i)this._incomingEventMatches.push(n.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(t=>t.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(t){this._manager?oR.error("This InputHandler has already been registered with an InputManager"):(t.setEventCallback(i=>this._handleEvent(i)),t.setUninstallCallback(()=>this._onUninstall()),this._manager=t)}onUninstall(){}registerIncoming(t,i,n){let r;typeof i=="function"?(n=i,r=[]):r=i||[];const a=typeof t=="string"?new E3e(t,r):t,o=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},s=h=>{const m=this._incoming[h.match.eventType];if(m){const f=m.indexOf(h);m.splice(f,1),o(),this._manager&&this._manager.updateDependencies()}},l=new T3e(a,n,{onPause:s,onRemove:s,onResume:h=>{const m=this._incoming[h.match.eventType];m&&m.indexOf(h)===-1&&(m.push(h),o(),this._manager&&this._manager.updateDependencies())}});let u=this._incoming[a.eventType];return u||(u=[],this._incoming[a.eventType]=u),u.push(l),o(),this._manager&&this._manager.updateDependencies(),l}registerOutgoing(t){if(this._outgoing[t])throw Error("There is already a callback registered for this outgoing InputEvent: "+t);const i=new M3e(t,{onEmit:(n,r,a,o)=>{this._manager.emit(n.eventType,r,a,o)},onRemove:n=>{delete this._outgoing[n.eventType],this._manager.updateDependencies()}});return this._outgoing[t]=i,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),i}startCapturingPointer(t){this._manager.setPointerCapture(t,!0)}stopCapturingPointer(t){this._manager.setPointerCapture(t,!1)}refreshHasPendingInputs(){this._manager.refreshHasPendingInputs()}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):oR.error("This InputHandler is not registered with an InputManager")}_handleEvent(t){const i=this._incoming[t.type];if(i){for(const n of i)if(n.match.matches(t)&&(n.callback(t),t.shouldStopPropagation()))break}}}class T3e{constructor(t,i,n){this.match=t,this._callback=i,this._handler=n}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class M3e{constructor(t,i){this.eventType=t,this._removed=!1,this._handler=i}emit(t,i,n){this._removed||this._handler.onEmit(this,t,i,n)}remove(){this._removed=!0,this._handler.onRemove(this)}}class A3e extends Wi{constructor(t){super(!0),this._onChange=t,this._value="mouse",this.registerIncoming("pointer-down",i=>{const n=i.data.native.pointerType==="touch";this._setValue(n?"touch":"mouse")}),this._moveHandler=this.registerIncoming("pointer-move",i=>{const n=i.data.native.pointerType==="touch";this._setValue(n?"touch":"mouse")}),this._moveHandler.pause()}_setValue(t){t!==this._value&&(t==="touch"?this._moveHandler.resume():this._moveHandler.pause(),this._value=t,this._onChange(t))}}const u3=Q.getLogger("esri.views.input.InputManager");let Wu=class extends ge{constructor(e){super(e),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=$3e,this.latestPointerType="mouse",this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const e=Object.keys(this._nameToGroup);for(const t of e)this.uninstallHandlers(t);this.eventSource=null,this._currentPropagation=null}get hasPendingInputs(){return this._handlers.some(e=>e.handler.hasPendingInputs)}installHandlers(e,t,i=Ac.INTERNAL){if(this._nameToGroup[e])return void u3.error("There is already an InputHandler group registered under the name `"+e+"`");if(t.length===0)return void u3.error("Can't register a group of zero handlers");const n={name:e,handlers:t.map(r=>({handler:r,active:!0,removed:!1,priorityIndex:0,groupPriority:i,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[e]=n;for(let r=n.handlers.length-1;r>=0;r--){const a=n.handlers[r];this._handlers.push(a),a.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(o,s,l,u,h)=>{this._emitInputEvent(a.priorityIndex+1,o,s,l,h,u)},setPointerCapture:(o,s)=>{this._setPointerCapture(n,a,o,s)},setEventCallback:o=>{a.eventCallback=o},setUninstallCallback:o=>{a.uninstallCallback=o},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(e){const t=this._nameToGroup[e];t?(t.handlers.forEach(i=>{i.removed=!0,i.uninstallCallback()}),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):u3.error("There is no InputHandler group registered under the name `"+e+"`")}hasHandlers(e){return this._nameToGroup[e]!==void 0}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const e=new Set,t=new Set;this._handlersPriority=[];for(let i=this._handlers.length-1;i>=0;i--){const n=this._handlers[i];n.priorityIndex=i,this._handlersPriority.push(n)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let i=this._handlersPriority.length-1;i>=0;i--){const n=this._handlersPriority[i];n.priorityIndex=i;let r=n.handler.hasSideEffects;if(!r){for(const a of n.handler.outgoingEventTypes)if(e.has(a)){r=!0;break}}if(r)for(const a of n.handler.incomingEventMatches){e.add(a.eventType);for(const o of a.keyModifiers)I3e(o)||t.add(o)}n.active=r}this._sourceEvents=e,this._keyModifiers=t,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointerType(e){this._set("latestPointerType",e)}_onEventReceived(e,t){if(e==="pointer-capture-lost"){const r=t;this._pointerCaptures.delete(r.native.pointerId)}this._updateKeyModifiers(e,t);const i=this.test.timestamp!=null?this.test.timestamp:t.native?t.native.timestamp:void 0,n=t.native?t.native.cancelable:void 0;this._emitInputEventFromSource(e,t,i,n)}_updateKeyModifiers(e,t){if(!t)return;let i=!1;const n=()=>{if(!i){const o=new Set;this._activeKeyModifiers.forEach(s=>{o.add(s)}),this._activeKeyModifiers=o,i=!0}},r=(o,s)=>{s&&!this._activeKeyModifiers.has(o)?(n(),this._activeKeyModifiers.add(o)):!s&&this._activeKeyModifiers.has(o)&&(n(),this._activeKeyModifiers.delete(o))};if(e==="key-down"||e==="key-up"){const o=t.key;this._keyModifiers.has(o)&&r(o,e==="key-down")}const a=t.native;r("Alt",!(!a||!a.altKey)),r("Ctrl",!(!a||!a.ctrlKey)),r("Shift",!(!a||!a.shiftKey)),r("Meta",!(!a||!a.metaKey)),r("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerTypeHandler=new A3e(e=>this._setLatestPointerType(e)),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,Ac.INTERNAL),this.installHandlers("input-manager-logic",[this._latestPointerTypeHandler],Ac.INTERNAL)}_setPointerCapture(e,t,i,n){const r=e.name+"-"+t.priorityIndex,a=this._pointerCaptures.get(i.pointerId)||new Set;this._pointerCaptures.set(i.pointerId,a),n?(a.add(r),a.size===1&&this.eventSource&&this.eventSource.setPointerCapture(i,!0)):a.has(r)&&(a.delete(r),a.size===0&&(this._pointerCaptures.delete(i.pointerId),this.eventSource&&this.eventSource.setPointerCapture(i,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(e=>!e.removed),this.updateDependencies()}_emitInputEventFromSource(e,t,i,n){this._emitInputEvent(0,e,t,i,n)}_emitInputEvent(e,t,i,n,r,a){const o=n!==void 0?n:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),s=r!==void 0&&r,l={event:new O3e(t,i,o,a||this._activeKeyModifiers,s),priorityIndex:e};this._currentPropagation?this._currentPropagation.events.push(l):this._doNewPropagation(l)}_doNewPropagation(e){this._currentPropagation={events:new Y$,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation()}_continuePropagation(){const e=this._currentPropagation;if(e){for(;this._currentPropagation.events.length>0;){const{event:t,priorityIndex:i}=this._currentPropagation.events.pop(),n=t.data&&t.data.eventId;if(!(n!=null&&this._stoppedPropagationEventIds.has(n)))for(e.currentHandler=this._handlersPriority[i];e.currentHandler;){if(e.currentHandler.removed)e.needsHandlerGarbageCollect=!0;else{if(e.currentHandler.active&&!t.shouldStopPropagation()&&e.currentHandler.eventCallback(t),t.shouldStopPropagation()){n!=null&&this._stoppedPropagationEventIds.add(n);break}if(t.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:t,priorityIndex:e.currentHandler.priorityIndex+1})}e.currentHandler=this._handlersPriority[e.currentHandler.priorityIndex+1]}}e.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(e){const t=new Y$;for(t.push(e);this._currentPropagation.events.length;)t.push(this._currentPropagation.events.pop());this._currentPropagation.events=t,this._currentPropagation.currentHandler=null}_compareHandlerPriority(e,t){if(e.handler.hasSideEffects!==t.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1;if(e.groupPriority!==t.groupPriority)return e.groupPriority>t.groupPriority?-1:1;for(const i of e.handler.incomingEventMatches)for(const n of t.handler.incomingEventMatches){if(i.eventType!==n.eventType)continue;const r=i.keyModifiers.filter(a=>n.keyModifiers.indexOf(a)!==-1);if(r.length===i.keyModifiers.length!=(r.length===n.keyModifiers.length))return i.keyModifiers.length>n.keyModifiers.length?-1:1}return e.priorityIndex>t.priorityIndex?-1:1}_sortHandlersPriority(e){const t=[];for(const i of e){let n=0;for(;n<t.length&&this._compareHandlerPriority(i,t[n])>=0;)n++;t.splice(n,0,i)}return t}get debug(){const e=t=>{const i=this._setPointerCapture;this._setPointerCapture=()=>{},t(),this._setPointerCapture=i};return{injectEvent:(t,i)=>{e(()=>{this._onEventReceived(t,i)})},disablePointerCapture:e}}};c([d({readOnly:!0})],Wu.prototype,"hasPendingInputs",null),c([d()],Wu.prototype,"eventSource",void 0),c([d()],Wu.prototype,"recognizers",void 0),c([d({readOnly:!0})],Wu.prototype,"latestPointerType",void 0),Wu=c([D("esri.views.input.InputManager")],Wu);class O3e{constructor(t,i,n,r,a){this.type=t,this.data=i,this.timestamp=n,this.modifiers=r,this.cancelable=a,this._propagationState=mc.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=mc.STOPPED}shouldStopPropagation(){return(this._propagationState&mc.STOPPED)!=0}async(t){this._propagationState|=mc.PAUSED;const i=(n,r)=>{this._propagationState&=~mc.PAUSED;const a=this._resumeCallback;if(this._resumeCallback=null,a&&a(),r)throw n;return n};return(typeof t=="function"?t():t).then(n=>i(n,!1),n=>i(n,!0))}shouldPausePropagation(t){return!!(this._propagationState&mc.PAUSED)&&(this._resumeCallback=t,!0)}preventDefault(){this.data.native.preventDefault()}}var mc;(function(e){e[e.NONE=0]="NONE",e[e.STOPPED=1]="STOPPED",e[e.PAUSED=2]="PAUSED"})(mc||(mc={}));const Ac={DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};function P3e(e){return e&&typeof e.highlight=="function"}const Xk={iconZoom:"esri-icon-zoom-in-magnifying-glass",iconTrash:"esri-icon-trash",iconBrowseClusteredFeatures:"esri-icon-table"},vd=new Nm({id:"zoom-to-feature",title:"{messages.zoom}",className:Xk.iconZoom}),sR=new Nm({id:"remove-selected-feature",title:"{messages.remove}",className:Xk.iconTrash}),Ip=new Nm({id:"zoom-to-clustered-features",title:"{messages.zoom}",className:Xk.iconZoom}),Ep=new Nm({id:"browse-clustered-features",title:"{messages.browseClusteredFeatures}",className:Xk.iconBrowseClusteredFeatures}),L3e="esri.widgets.Popup.PopupViewModel",Vc=Q.getLogger(L3e),R3e=function(e){const{event:t,view:i}=e,{action:n}=t,r=i&&i.popup;if(!n)return Promise.reject(new L("trigger-action:missing-arguments","Event has no action"));if(!r)return Promise.reject(new L("trigger-action:missing-arguments","view.popup is missing"));const{disabled:a,id:o}=n;if(!o)return Promise.reject(new L("trigger-action:invalid-action","action.id is missing"));if(a)return Promise.reject(new L("trigger-action:invalid-action","Action is disabled"));if(o===vd.id)return N3e(r.viewModel).catch(i5);if(o===Ip.id)return z3e(r.viewModel);if(o===Ep.id)return r.featureMenuOpen=!r.featureMenuOpen,r.viewModel.browseClusterEnabled=!r.viewModel.browseClusterEnabled,Promise.resolve();if(r.viewModel.browseClusterEnabled=!1,o===sR.id){r.close();const{selectedFeature:s}=r;if(!s)return Promise.reject(new L(`trigger-action:${sR.id}`,"selectedFeature is required",{selectedFeature:s}));const{sourceLayer:l}=s;return l?l.remove(s):i.graphics.remove(s),Promise.resolve()}return Promise.resolve()};function zq(e){const{selectedFeature:t,location:i,view:n}=e;return n?n.type==="3d"?t||i:e.get("selectedFeature.geometry")||i:null}function F3e(e,t){if((t==null?void 0:t.type)!=="3d"||!e||e.declaredClass!=="esri.Graphic")return!0;const i=t.getViewForGraphic(e);if(i&&"whenGraphicBounds"in i){let n=!1;return i.whenGraphicBounds(e,{useViewElevation:!0}).then(r=>{n=!r||!r.boundingBox||r.boundingBox[0]===r.boundingBox[3]&&r.boundingBox[1]===r.boundingBox[4]&&r.boundingBox[2]===r.boundingBox[5]}).catch(()=>{const r=new L("zoom-to:invalid-graphic","Could not zoom to the location of the graphic.",{graphic:e});Vc.error(r)}),n}return!0}async function N3e(e){const{location:t,selectedFeature:i,view:n,zoomFactor:r}=e,a=zq(e);if(!a){const u=new L("zoom-to:invalid-target-or-view","Cannot zoom to location without a target and view.",{target:a,view:n});return Vc.error(u),Promise.reject(u)}const o=n.scale/r,s=e.get("selectedFeature.geometry")||t,l=s&&s.type==="point"&&F3e(i,n);vd.active=!0,vd.disabled=!0;try{await e.view.goTo({target:a,scale:l?o:void 0})}finally{vd.active=!1,vd.disabled=!1,e.zoomToLocation=null,l&&(e.location=s)}}async function z3e(e){const{selectedFeature:t,view:i}=e;if((i==null?void 0:i.type)!=="2d"){const s=new L("zoomToCluster:invalid-view","View must be 2d MapView.",{view:i});throw Vc.error(s),s}if(!t.isAggregate){const s=new L("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:t});throw Vc.error(s),s}const n=t.sourceLayer,r=await i.whenLayerView(n),a=r.createQuery();a.aggregateIds=[t.getObjectId()],Ip.active=!0,Ip.disabled=!0;const{extent:o}=await r.queryExtent(a);await i.goTo({target:o}),Ip.active=!1,Ip.disabled=!1}async function j3e(e){const{selectedFeature:t,view:i}=e;if((i==null?void 0:i.type)!=="2d"){const s=new L("displayClusterExtent:invalid-view","View must be 2d MapView.",{view:i});throw Vc.error(s),s}if(!t.isAggregate){const s=new L("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:t});throw Vc.error(s),s}const n=t.sourceLayer,r=await i.whenLayerView(n),a=r.createQuery();a.aggregateIds=[t.getObjectId()];const{extent:o}=await r.queryExtent(a);e.selectedClusterBoundaryFeature.geometry=o,i.graphics.add(e.selectedClusterBoundaryFeature)}async function V3e(e){const{selectedFeature:t,view:i}=e;if((i==null?void 0:i.type)!=="2d"){const s=new L("browseAggregateFeatures:invalid-view","View must be 2d MapView.",{view:i});throw Vc.error(s),s}if(!t.isAggregate){const s=new L("browseAggregateFeatures:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:t});throw Vc.error(s),s}const n=t.sourceLayer,r=await i.whenLayerView(n),a=r.createQuery();a.aggregateIds=[t.getObjectId()],Ep.active=!0,Ep.disabled=!0;const{features:o}=await r.queryFeatures(a);Ep.active=!1,Ep.disabled=!1,i.popup.open({features:[t].concat(o),featureMenuOpen:!0})}function H3e(e){var t;(t=e.selectedFeature)!=null&&t.isAggregate&&(e.features=e.features.filter(i=>i.isAggregate))}const jq=e=>{let t=class extends e{constructor(...i){super(...i),this.goToOverride=null,this.view=null}callGoTo(i){const{view:n}=this;return this.goToOverride?this.goToOverride(n,i):n.goTo(i.target,i.options)}};return c([d()],t.prototype,"goToOverride",void 0),c([d()],t.prototype,"view",void 0),t=c([D("esri.widgets.support.GoTo")],t),t},kg=_e.ofType({key:"type",defaultKeyValue:"button",base:vk,typeMap:{button:Nm,toggle:_8}}),q3e=()=>[vd.clone()],B3e=()=>[Ip.clone(),Ep.clone()],Vq="esri.widgets.Popup.PopupViewModel",lR=Q.getLogger(Vq);let Qe=class extends jq(Pq){constructor(e){super(e),this._handles=new On,this._pendingPromises=new Set,this._fetchFeaturesController=null,this._selectedClusterFeature=null,this.featurePage=null,this.actions=new kg,this.defaultPopupTemplateEnabled=!1,this.autoCloseEnabled=!1,this.autoOpenEnabled=!0,this.browseClusterEnabled=!1,this.content=null,this.featuresPerPage=20,this.featureViewModelAbilities=null,this.featureViewModels=[],this.highlightEnabled=!0,this.includeDefaultActions=!0,this.selectedClusterBoundaryFeature=new Mr({symbol:new nh({outline:{width:1.5,color:"cyan"},style:"none"})}),this.title=null,this.updateLocationEnabled=!1,this.view=null,this.visible=!1,this.zoomFactor=4,this.zoomToLocation=null}get isLoadingFeature(){return this.featureViewModels.some(e=>e.waitingForContent)}initialize(){this._handles.add([Yt(this,["autoOpenEnabled","view"],()=>this._autoOpenEnabledChange()),this.on("view-change",()=>this._autoClose()),kt(this,["highlightEnabled","selectedFeature","visible","view"],()=>this._highlightFeature()),kt(this,"view.animation.state",e=>this._animationStateChange(e)),kt(this,"location",e=>this._locationChange(e)),kt(this,"selectedFeature",e=>this._selectedFeatureChange(e)),kt(this,["selectedFeatureIndex","featureCount","featuresPerPage"],()=>this._selectedFeatureIndexChange()),kt(this,["featurePage","selectedFeatureIndex","featureCount","featuresPerPage, featureViewModels"],()=>this._setGraphicOnFeatureViewModels()),kt(this,"featureViewModels",()=>this._featureViewModelsChange()),this.on("trigger-action",e=>R3e({event:e,view:this.view})),oD(this,"waitingForResult",()=>this._waitingForResultChange(),!0),kt(this,["features","view","view.map","view.spatialReference"],()=>this._updateFeatureVMs()),kt(this,["view.scale"],this._viewScaleChange),oD(this,"visible",()=>this.browseClusterEnabled=!1),kt(this,"browseClusterEnabled",e=>e?this.enableClusterBrowsing():this.disableClusterBrowsing())])}destroy(){this._cancelFetchingFeatures(),this._handles.destroy(),this._handles=null,this._pendingPromises.clear(),this.browseClusterEnabled=!1,this.view=null}get active(){return!(!this.visible||this.waitingForResult)}get allActions(){const e=this._get("allActions")||new kg;e.removeAll();const{actions:t,defaultActions:i,defaultPopupTemplateEnabled:n,includeDefaultActions:r,selectedFeature:a}=this,o=r?i.concat(t):t,s=a&&(typeof a.getEffectivePopupTemplate=="function"&&a.getEffectivePopupTemplate(n)||a.popupTemplate),l=s&&s.actions,u=s&&s.overwriteActions?l:l?l.concat(o):o;return u&&u.filter(Boolean).forEach(h=>e.add(h)),e}get defaultActions(){var e;const t=this._get("defaultActions")||new kg;return t.removeAll(),t.addMany((e=this.selectedFeature)!=null&&e.isAggregate?B3e():q3e()),t}get featureCount(){return this.features.length}get features(){return this._get("features")||[]}set features(e){const t=e||[];this._set("features",t);const{pendingPromisesCount:i,promiseCount:n,selectedFeatureIndex:r}=this,a=n&&t.length;a&&i&&r===-1?this.selectedFeatureIndex=0:a&&r!==-1||(this.selectedFeatureIndex=t.length?0:-1)}get location(){return this._get("location")||null}set location(e){const t=this.get("view.spatialReference.isWebMercator");e&&e.get("spatialReference.isWGS84")&&t&&(e=Tc(e)),this._set("location",e)}get pendingPromisesCount(){return this._pendingPromises.size}get waitingForResult(){return!(!(!!this._fetchFeaturesController||this.pendingPromisesCount>0)||this.featureCount!==0)}get promiseCount(){return this.promises.length}get promises(){return this._get("promises")||[]}set promises(e){if(this._pendingPromises.clear(),this.features=[],!Array.isArray(e)||!e.length)return this._set("promises",[]),void this.notifyChange("pendingPromisesCount");this._set("promises",e),(e=e.slice(0)).forEach(t=>{this._pendingPromises.add(t);const i=r=>{this._pendingPromises.has(t)&&this._updateFeatures(r),this._updatePendingPromises(t)},n=()=>this._updatePendingPromises(t);t.then(i,n)}),this.notifyChange("pendingPromisesCount")}get selectedFeature(){const{features:e,selectedFeatureIndex:t}=this;return t===-1?null:e[t]||null}get selectedFeatureIndex(){const e=this._get("selectedFeatureIndex");return typeof e=="number"?e:-1}set selectedFeatureIndex(e){const{featureCount:t}=this;e=isNaN(e)||e<-1||!t?-1:(e+t)%t,this._set("selectedFeatureIndex",e)}get selectedFeatureViewModel(){return this.featureViewModels[this.selectedFeatureIndex]||null}get state(){return this.get("view.ready")?"ready":"disabled"}centerAtLocation(){const{view:e}=this,t=zq(this);if(!t){const i=new L("center-at-location:invalid-target-or-view","Cannot center at a location without a target and view.",{target:t,view:e});return lR.error(i),Promise.reject(i)}return this.callGoTo({target:{target:t,scale:e.scale}})}clear(){this.set({promises:[],features:[],content:null,title:null,location:null})}fetchFeatures(e,t){const{view:i}=this;if(!i||!e){const n=new L("fetch-features:invalid-screenpoint-or-view","Cannot fetch features without a screenPoint and view.",{screenPoint:e,view:i});return lR.error(n),Promise.reject(n)}return i.fetchPopupFeatures(e,{event:t&&t.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:t&&t.signal})}open(e){const t=le($({updateLocationEnabled:!1,promises:[],fetchFeatures:!1},e),{visible:!0}),{fetchFeatures:i}=t;delete t.fetchFeatures,i&&this._setFetchFeaturesPromises(t.location);const n=["actionsMenuOpen","collapsed","featureMenuOpen"];for(const r of n)delete t[r];this.set(t)}triggerAction(e){const t=this.allActions.getItemAt(e);t&&!t.disabled&&this.emit("trigger-action",{action:t})}next(){return this.selectedFeatureIndex=this.selectedFeatureIndex+1,this}previous(){return this.selectedFeatureIndex=this.selectedFeatureIndex-1,this}disableClusterBrowsing(){H3e(this),this._clearBrowsedClusterGraphics()}async enableClusterBrowsing(){await j3e(this),await V3e(this)}_animationStateChange(e){this.zoomToLocation||(vd.disabled=e==="waiting-for-target")}_clearBrowsedClusterGraphics(){var e;const t=(e=this.view)==null?void 0:e.graphics;t&&(t.remove(this.selectedClusterBoundaryFeature),t.remove(this._selectedClusterFeature)),this._selectedClusterFeature=null,this.selectedClusterBoundaryFeature.geometry=null}_viewScaleChange(){var e;if((e=this.selectedFeature)!=null&&e.isAggregate)return this.browseClusterEnabled=!1,this.visible=!1,void this.clear();this.browseClusterEnabled&&(this.browseClusterEnabled=!1,this.features=[this.selectedFeature])}_locationChange(e){const{selectedFeature:t,updateLocationEnabled:i}=this;i&&e&&(!t||t.geometry)&&this.centerAtLocation()}_selectedFeatureIndexChange(){this.featurePage=this.featureCount>1?Math.floor(this.selectedFeatureIndex/this.featuresPerPage)+1:null}_featureViewModelsChange(){this.featurePage=this.featureCount>1?1:null}_setGraphicOnFeatureViewModels(){const{features:e,featureCount:t,featurePage:i,featuresPerPage:n,featureViewModels:r}=this;if(i===null)return;const a=((i-1)*n+t)%t,o=a+n;r.slice(a,o).forEach((s,l)=>{s&&!s.graphic&&(s.graphic=e[a+l])})}async _selectedFeatureChange(e){if(!e)return;const{location:t,updateLocationEnabled:i,view:n}=this;if(this.browseClusterEnabled)return this._selectedClusterFeature&&(n.graphics.remove(this._selectedClusterFeature),this._selectedClusterFeature=null),e.isAggregate?void 0:(e.symbol=await D3e(e),this._selectedClusterFeature=e,void n.graphics.add(this._selectedClusterFeature));!i&&t||!e.geometry?i&&!e.geometry&&this.centerAtLocation().then(()=>{this.location=n.center.clone()}):this.location=this._getPointFromGeometry(e.geometry)}_waitingForResultChange(){!this.featureCount&&this.promises&&(this.visible=!1)}_setFetchFeaturesPromises(e){return this._fetchFeaturesWithController(this._getScreenPoint(e||this.location)).then(t=>{const{clientOnlyGraphics:i,promisesPerLayerView:n}=t,r=Promise.resolve(i),a=n.map(o=>o.promise);this.promises=[r,...a]})}_destroyFeatureVMs(){this.featureViewModels.forEach(e=>e&&!e.destroyed&&e.destroy()),this._set("featureViewModels",[])}_updateFeatureVMs(){const{selectedFeature:e,features:t,featureViewModels:i}=this;if(e!=null&&e.isAggregate||(this.browseClusterEnabled=!1),this._destroyFeatureVMs(),!t||!t.length)return;const n=i.slice(0),r=[];t.forEach((a,o)=>{if(!a)return;let s=null;if(n.some((h,m)=>(h&&h.graphic===a&&(s=h,n.splice(m,1)),!!s)),s)r[o]=s;else{var l,u;const h=new dT({abilities:this.featureViewModelAbilities,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,spatialReference:(l=this.view)==null?void 0:l.spatialReference,graphic:a===e?a:null,map:(u=this.view)==null?void 0:u.map,view:this.view});r[o]=h}}),n.forEach(a=>a&&!a.destroyed&&a.destroy()),this._set("featureViewModels",r)}_getScreenPoint(e){const{view:t}=this;return t&&e&&typeof t.toScreen=="function"?t.toScreen(e):null}_autoOpenEnabledChange(){const e="auto-fetch-features",{_handles:t,autoOpenEnabled:i}=this;if(t.remove(e),i&&this.view){const n=this.view.on("click",r=>{r.pointerType==="mouse"&&r.button!==0||this._fetchFeaturesAndOpen(r)},Ac.WIDGET);t.add(n,e)}}_cancelFetchingFeatures(){const e=this._fetchFeaturesController;e&&e.abort(),this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}_fetchFeaturesWithController(e,t){this._cancelFetchingFeatures();const i=new AbortController,{signal:n}=i;this._fetchFeaturesController=i,this.notifyChange("waitingForResult");const r=this.fetchFeatures(e,{signal:n,event:t});return r.catch(()=>{}).then(()=>{this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}),r}_fetchFeaturesAndOpen(e){const{screenPoint:t,mapPoint:i}=e,{view:n}=this;this._fetchFeaturesWithController(t,e).then(r=>{const{clientOnlyGraphics:a,promisesPerLayerView:o,location:s}=r,l=[Promise.resolve(a),...o.map(u=>u.promise)];return n.popup.open({location:s||i,promises:l}),r})}_updatePendingPromises(e){e&&this._pendingPromises.has(e)&&(this._pendingPromises.delete(e),this.notifyChange("pendingPromisesCount"))}_autoClose(){this.autoCloseEnabled&&(this.visible=!1)}_getPointFromGeometry(e){return V(e)?null:e.type==="point"?e:e.type==="extent"?e.center:e.type==="polygon"?e.centroid:e.type==="multipoint"||e.type==="polyline"?e.extent.center:null}async _getLayerView(e,t){return await e.when(),e.whenLayerView(t)}async _highlightFeature(){const e="highlight";this._handles.remove(e);const{selectedFeature:t,highlightEnabled:i,view:n,visible:r}=this;if(!(t&&n&&i&&r))return;let{layer:a,sourceLayer:o}=t;if((o==null?void 0:o.type)!=="map-notes"&&(o==null?void 0:o.type)!=="subtype-group"||(a=o),!(a&&a instanceof PI))return;const s=this._getLayerView(n,a);this._highlightPromise=s;const l=await s;if(!(l&&P3e(l)&&this._highlightPromise===s&&this.selectedFeature&&this.highlightEnabled&&this.visible))return;const u=a.type==="imagery"?void 0:"objectIdField"in a&&a.objectIdField,h=t.attributes,m=h&&u&&h[u],f=l.highlight(m||t);this._handles.add(f,e)}_updateFeatures(e){const{features:t}=this;if(!e||!e.length)return;if(!t.length)return void(this.features=e);const i=e.filter(n=>t.indexOf(n)===-1);this.features=t.concat(i)}};c([d()],Qe.prototype,"featurePage",void 0),c([d()],Qe.prototype,"isLoadingFeature",null),c([d({type:kg})],Qe.prototype,"actions",void 0),c([d({readOnly:!0})],Qe.prototype,"active",null),c([d({readOnly:!0})],Qe.prototype,"allActions",null),c([d({type:Boolean})],Qe.prototype,"defaultPopupTemplateEnabled",void 0),c([d()],Qe.prototype,"autoCloseEnabled",void 0),c([d()],Qe.prototype,"autoOpenEnabled",void 0),c([d()],Qe.prototype,"browseClusterEnabled",void 0),c([d()],Qe.prototype,"content",void 0),c([d({type:kg,readOnly:!0})],Qe.prototype,"defaultActions",null),c([d({readOnly:!0})],Qe.prototype,"featureCount",null),c([d()],Qe.prototype,"features",null),c([d()],Qe.prototype,"featuresPerPage",void 0),c([d()],Qe.prototype,"featureViewModelAbilities",void 0),c([d({readOnly:!0})],Qe.prototype,"featureViewModels",void 0),c([d()],Qe.prototype,"highlightEnabled",void 0),c([d()],Qe.prototype,"includeDefaultActions",void 0),c([d({type:Ie})],Qe.prototype,"location",null),c([d({readOnly:!0})],Qe.prototype,"pendingPromisesCount",null),c([d({readOnly:!0})],Qe.prototype,"selectedClusterBoundaryFeature",void 0),c([d({readOnly:!0})],Qe.prototype,"waitingForResult",null),c([d({readOnly:!0})],Qe.prototype,"promiseCount",null),c([d()],Qe.prototype,"promises",null),c([d({value:null,readOnly:!0})],Qe.prototype,"selectedFeature",null),c([d({value:-1})],Qe.prototype,"selectedFeatureIndex",null),c([d({readOnly:!0})],Qe.prototype,"selectedFeatureViewModel",null),c([d({readOnly:!0})],Qe.prototype,"state",null),c([d()],Qe.prototype,"title",void 0),c([d()],Qe.prototype,"updateLocationEnabled",void 0),c([d()],Qe.prototype,"view",void 0),c([d()],Qe.prototype,"visible",void 0),c([d()],Qe.prototype,"zoomFactor",void 0),c([d()],Qe.prototype,"zoomToLocation",void 0),c([d()],Qe.prototype,"centerAtLocation",null),Qe=c([D(Vq)],Qe);const Hq=Qe,cR="selected-index",U3e=0,uR="popup-spinner",Z={iconLeftTriangleArrow:"esri-icon-left-triangle-arrow",iconRightTriangleArrow:"esri-icon-right-triangle-arrow",iconDockToTop:"esri-icon-maximize",iconDockToBottom:"esri-icon-dock-bottom",iconDockToLeft:"esri-icon-dock-left",iconDockToRight:"esri-icon-dock-right",iconClose:"esri-icon-close",iconUndock:"esri-icon-minimize",iconCheckMark:"esri-icon-check-mark",iconLoading:"esri-icon-loading-indicator",iconDefaultAction:"esri-icon-default-action",iconActionsMenu:"esri-icon-handle-horizontal",rotating:"esri-rotating",base:"esri-popup",widget:"esri-widget",main:"esri-popup__main-container",loadingContainer:"esri-popup__loading-container",isCollapsible:"esri-popup--is-collapsible",isCollapsed:"esri-popup--is-collapsed",shadow:"esri-popup--shadow",isDocked:"esri-popup--is-docked",isDockedTopLeft:"esri-popup--is-docked-top-left",isDockedTopCenter:"esri-popup--is-docked-top-center",isDockedTopRight:"esri-popup--is-docked-top-right",isDockedBottomLeft:"esri-popup--is-docked-bottom-left",isDockedBottomCenter:"esri-popup--is-docked-bottom-center",isDockedBottomRight:"esri-popup--is-docked-bottom-right",alignTopCenter:"esri-popup--aligned-top-center",alignBottomCenter:"esri-popup--aligned-bottom-center",alignTopLeft:"esri-popup--aligned-top-left",alignBottomLeft:"esri-popup--aligned-bottom-left",alignTopRight:"esri-popup--aligned-top-right",alignBottomRight:"esri-popup--aligned-bottom-right",isFeatureMenuOpen:"esri-popup--feature-menu-open",isActionsMenuOpen:"esri-popup--actions-menu-open",hasFeatureUpdated:"esri-popup--feature-updated",header:"esri-popup__header",headerButtons:"esri-popup__header-buttons",headerContainer:"esri-popup__header-container",headerContainerButton:"esri-popup__header-container--button",headerTitle:"esri-popup__header-title",content:"esri-popup__content",footer:"esri-popup__footer",footerHasPagination:"esri-popup__footer--has-pagination",footerHasActions:"esri-popup__footer--has-actions",footerHasActionsMenu:"esri-popup__footer--has-actions-menu",button:"esri-popup__button",buttonDisabled:"esri-popup__button--disabled",buttonDock:"esri-popup__button--dock",icon:"esri-popup__icon",iconDock:"esri-popup__icon--dock-icon",inlineActionsContainer:"esri-popup__inline-actions-container",actionsMenuButton:"esri-popup__actions-menu-button",actions:"esri-popup__actions",action:"esri-popup__action",actionImage:"esri-popup__action-image",actionText:"esri-popup__action-text",actionToggle:"esri-popup__action-toggle",actionToggleOn:"esri-popup__action-toggle--on",pointer:"esri-popup__pointer",pointerDirection:"esri-popup__pointer-direction",navigation:"esri-popup__navigation",paginationPrevious:"esri-popup__pagination-previous",paginationNext:"esri-popup__pagination-next",paginationPreviousIconLTR:"esri-popup__pagination-previous-icon",paginationPreviousIconRTL:"esri-popup__pagination-previous-icon--rtl",paginationNextIconLTR:"esri-popup__pagination-next-icon",paginationNextIconRTL:"esri-popup__pagination-next-icon--rtl",featureMenu:"esri-popup__feature-menu",featureMenuList:"esri-popup__feature-menu-list",featureMenuItem:"esri-popup__feature-menu-item",featureMenuViewport:"esri-popup__feature-menu-viewport",featureMenuHeader:"esri-popup__feature-menu-header",featureMenuNote:"esri-popup__feature-menu-note",featureMenuSelected:"esri-popup__feature-menu-item--selected",featureMenuButton:"esri-popup__feature-menu-button",featureMenuTitle:"esri-popup__feature-menu-title",featureMenuObserver:"esri-popup__feature-menu-observer",featureMenuLoader:"esri-popup__feature-menu-loader",collapseButton:"esri-popup__collapse-button"},dR={buttonEnabled:!0,position:"auto",breakpoint:{width:544}},hR="esri-popup";function xs(e,t){return t===void 0?`${hR}__${e}`:`${hR}__${e}-${t}`}const qq="esri.widgets.Popup",pR=Q.getLogger(qq),mR={closeButton:!0,featureNavigation:!0};let xe=class extends Oq(Pn){constructor(e,t){super(e,t),this._blurClose=!1,this._blurContainer=!1,this._containerNode=null,this._mainContainerNode=null,this._featureMenuNode=null,this._actionsMenuNode=null,this._focusClose=!1,this._focusContainer=!1,this._focusDockButton=!1,this._focusFeatureMenuButton=!1,this._focusActionsMenuButton=!1,this._focusFirstFeature=!1,this._focusFirstAction=!1,this._handles=new On,this._pointerOffsetInPx=16,this._spinner=null,this._feature=null,this._featureMenuIntersectionObserverCallback=([i])=>{i!=null&&i.isIntersecting&&this.viewModel.featurePage++},this._featureMenuIntersectionObserver=new IntersectionObserver(this._featureMenuIntersectionObserverCallback,{root:window.document}),this._displaySpinnerThrottled=hE(()=>this._displaySpinner(),U3e),this.actions=null,this.alignment="auto",this.autoCloseEnabled=null,this.autoOpenEnabled=null,this.defaultPopupTemplateEnabled=null,this.content=null,this.collapsed=!1,this.collapseEnabled=!0,this.dockEnabled=!1,this.featureCount=null,this.featureMenuOpen=!1,this.features=null,this.goToOverride=null,this.headingLevel=2,this.highlightEnabled=null,this.location=null,this.label=void 0,this.maxInlineActions=3,this.messages=null,this.messagesCommon=null,this.promises=null,this.selectedFeature=null,this.selectedFeatureIndex=null,this.spinnerEnabled=!0,this.title=null,this.updateLocationEnabled=null,this.view=null,this.viewModel=new Hq,this.visible=null,this.visibleElements=$({},mR),this._addSelectedFeatureIndexHandle(),this.own([kt(this,"viewModel.screenLocation",()=>this._positionContainer()),kt(this,["viewModel.active","dockEnabled"],()=>this._toggleScreenLocationEnabled()),kt(this,"viewModel.screenLocation",(i,n)=>{!!i!=!!n&&this.reposition()}),kt(this,["viewModel.view.padding","viewModel.view.size","viewModel.active","viewModel.location","alignment"],()=>this.reposition()),kt(this,"spinnerEnabled",i=>this._spinnerEnabledChange(i)),kt(this,"viewModel.view.size",(i,n)=>this._updateDockEnabledForViewSize(i,n)),kt(this,"viewModel.view",(i,n)=>this._viewChange(i,n)),kt(this,"viewModel.view.ready",(i,n)=>this._viewReadyChange(i,n)),kt(this,["viewModel.waitingForResult","viewModel.location"],()=>{this._hideSpinner(),this._displaySpinnerThrottled()}),kt(this,["selectedFeatureWidget.viewModel.title","selectedFeatureWidget.viewModel.state"],()=>this._setTitleFromFeatureWidget()),kt(this,["selectedFeatureWidget.viewModel.content","selectedFeatureWidget.viewModel.state"],()=>this._setContentFromFeatureWidget()),oD(this,"collapsed",()=>{var i,n;((i=this.viewModel)==null||(n=i.view)==null?void 0:n.widthBreakpoint)==="xsmall"&&this.viewModel.active&&this.collapseEnabled&&this.viewModel.centerAtLocation()}),Ek(this,"viewModel.allActions","change",()=>this._watchActions()),Yt(this,"viewModel.allActions",()=>this._watchActions()),kt(this,"viewModel.featureViewModels",()=>this._featureMenuViewportScrollTop())])}destroy(){var e,t;this._destroySelectedFeatureWidget(),this._destroySpinner(),(e=this._handles)==null||e.destroy(),this._unobserveFeatureMenuObserver(),(t=this._featureMenuIntersectionObserver)==null||t.disconnect(),this._handles=null}get actionsMenuId(){return`${this.id}-actions-menu`}get actionsMenuButtonId(){return`${this.id}-actions-menu-button`}get featureMenuId(){return`${this.id}-feature-menu`}get titleId(){return`${this.id}-popup-title`}get contentId(){return`${this.id}-popup-content`}get hasContent(){var e,t,i,n,r,a,o;return!!(this.selectedFeatureWidget?((e=this.selectedFeatureWidget)==null||(t=e.viewModel)==null?void 0:t.waitingForContent)||((i=this.selectedFeatureWidget)==null||(n=i.viewModel)==null?void 0:n.state)==="error"||((r=this.selectedFeatureWidget)==null||(a=r.viewModel)==null?void 0:a.content):(o=this.viewModel)==null?void 0:o.content)}get featureNavigationVisible(){return this.viewModel.active&&this.viewModel.featureCount>1&&this.visibleElements.featureNavigation}get collapsible(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}get featureMenuVisible(){return this.featureNavigationVisible&&this.featureMenuOpen}get contentCollapsed(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}get dividedActions(){return this._divideActions()}set actionsMenuOpen(e){this._set("actionsMenuOpen",!!e)}get actionsMenuOpen(){return!!this.viewModel.active&&this._get("actionsMenuOpen")}get currentAlignment(){return this._getCurrentAlignment()}get currentDockPosition(){return this._getCurrentDockPosition()}get dockOptions(){return this._get("dockOptions")||dR}set dockOptions(e){const t=$({},dR),i=this.get("viewModel.view.breakpoints"),n={};i&&(n.width=i.xsmall,n.height=i.xsmall);const r=$($({},t),e),a=$($({},t.breakpoint),n),{breakpoint:o}=r;o===!0?r.breakpoint=a:typeof o=="object"&&(r.breakpoint=$($({},a),o)),this._set("dockOptions",r),this._setCurrentDockPosition(),this.reposition()}get selectedFeatureWidget(){const{_feature:e,visibleElements:t,headingLevel:i}=this,{selectedFeatureViewModel:n}=this.viewModel,r=le($({},t),{title:!1});return n?(e?(e.viewModel=n,e.visibleElements=r):this._feature=new l3e({headingLevel:i+1,viewModel:n,visibleElements:r}),this._feature):null}castVisibleElements(e){return $($({},mR),e)}blur(){const{active:e}=this.viewModel;e||pR.warn("Popup can only be blurred when currently active."),this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0,this.scheduleRender()}clear(){this.viewModel.clear()}close(){this.visible=!1}fetchFeatures(e,t){return this.viewModel.fetchFeatures(e,t)}focus(){const{active:e}=this.viewModel;e||pR.warn("Popup can only be focused when currently active."),this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0,this.scheduleRender()}next(){return this.viewModel.next()}open(e){var t,i;this._handles.remove(cR);const n=!!e&&!!e.featureMenuOpen,r=!!e&&!!e.actionsMenuOpen,a={collapsed:!!e&&!!e.collapsed,actionsMenuOpen:r,featureMenuOpen:n};((t=this.viewModel)==null||(i=t.view)==null?void 0:i.widthBreakpoint)==="xsmall"&&(a.collapsed=!0),this.set(a),this.viewModel.open(e),this._shouldFocus(e),this._addSelectedFeatureIndexHandle()}previous(){return this.viewModel.previous()}reposition(){this.renderNow(),this._positionContainer(),this._setCurrentAlignment()}triggerAction(e){this.viewModel.triggerAction(e)}render(){var e,t,i,n;const{actionsMenuOpen:r,dockEnabled:a,featureMenuVisible:o,dividedActions:s,currentAlignment:l,currentDockPosition:u}=this,{active:h}=this.viewModel,{menuActions:m}=s,f=h&&m.length>1&&r,g=h&&a,b=h&&!a,v=(e=this.selectedFeature)==null||(t=e.layer)==null?void 0:t.title,w=(i=this.selectedFeature)==null||(n=i.layer)==null?void 0:n.id,x={[Z.alignTopCenter]:l==="top-center",[Z.alignBottomCenter]:l==="bottom-center",[Z.alignTopLeft]:l==="top-left",[Z.alignBottomLeft]:l==="bottom-left",[Z.alignTopRight]:l==="top-right",[Z.alignBottomRight]:l==="bottom-right",[Z.isDocked]:g,[Z.shadow]:b,[Z.isDockedTopLeft]:u==="top-left",[Z.isDockedTopCenter]:u==="top-center",[Z.isDockedTopRight]:u==="top-right",[Z.isDockedBottomLeft]:u==="bottom-left",[Z.isDockedBottomCenter]:u==="bottom-center",[Z.isDockedBottomRight]:u==="bottom-right",[Z.isFeatureMenuOpen]:o,[Z.isActionsMenuOpen]:f};return F("div",{class:this.classes(Z.base,x),role:"presentation","data-layer-title":v,"data-layer-id":w,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},h?[this.renderMainContainer(),this.renderPointer()]:null)}renderLoadingIcon(){return F("span",{"aria-hidden":"true",class:this.classes(Z.icon,Z.iconLoading,Z.rotating)})}renderNavigationLoading(){const{messagesCommon:e}=this;return this.viewModel.pendingPromisesCount?F("div",{key:xs("loading-container"),role:"presentation",class:Z.loadingContainer,"aria-label":e.loading,title:e.loading},this.renderLoadingIcon()):null}renderPreviousIcon(){const e=$c(this.container),t={[Z.iconRightTriangleArrow]:e,[Z.paginationPreviousIconRTL]:e,[Z.iconLeftTriangleArrow]:!e,[Z.paginationPreviousIconLTR]:!e};return F("span",{"aria-hidden":"true",class:this.classes(Z.icon,t)})}renderPreviousButton(){const{messages:e}=this;return F("div",{role:"button",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes(Z.button,Z.paginationPrevious),"aria-label":e.previous,title:e.previous},this.renderPreviousIcon())}renderNextIcon(){const e=$c(this.container),t={[Z.iconLeftTriangleArrow]:e,[Z.paginationNextIconRTL]:e,[Z.iconRightTriangleArrow]:!e,[Z.paginationNextIconLTR]:!e};return F("span",{"aria-hidden":"true",class:this.classes(Z.icon,t)})}renderNextButton(){const{messages:e}=this;return F("div",{role:"button",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes(Z.button,Z.paginationNext),"aria-label":e.next,title:e.next},this.renderNextIcon())}renderFeatureMenuButton(){const{featureMenuOpen:e,featureMenuId:t,messagesCommon:i}=this,{featureCount:n,selectedFeatureIndex:r}=this.viewModel;return F("div",{role:"button",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes(Z.button,Z.featureMenuButton),"aria-haspopup":"true","aria-controls":t,"aria-expanded":e.toString(),"aria-label":i.menu,title:i.menu},this._getPageText(n,r))}renderNavigationButtons(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:null}renderDockIcon(){const{dockEnabled:e}=this,t=this._wouldDockTo(),i={[Z.iconUndock]:e,[Z.iconDock]:!e,[Z.iconDockToRight]:!e&&(t==="top-right"||t==="bottom-right"),[Z.iconDockToLeft]:!e&&(t==="top-left"||t==="bottom-left"),[Z.iconDockToTop]:!e&&t==="top-center",[Z.iconDockToBottom]:!e&&t==="bottom-center"};return F("span",{"aria-hidden":"true",class:this.classes(i,Z.icon)})}renderDockButton(){var e,t,i;const{dockEnabled:n,messages:r}=this,a=(e=this.viewModel)==null||(t=e.view)==null?void 0:t.widthBreakpoint,o=n?r.undock:r.dock;return a!=="xsmall"&&(i=this.dockOptions)!=null&&i.buttonEnabled?F("div",{role:"button","aria-label":o,title:o,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes(Z.button,Z.buttonDock)},this.renderDockIcon()):null}renderTitle(){const{title:e}=this.viewModel,{titleId:t,collapsible:i,contentCollapsed:n,messagesCommon:r}=this,a={[Z.headerContainerButton]:i},o=F(kE,{level:this.headingLevel,class:Z.headerTitle,innerHTML:e}),s=i?F("button",{key:`${e}--collapsible`,id:t,title:n?r.expand:r.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(Z.headerContainer,a),"aria-expanded":n?"false":"true",onclick:this._toggleCollapsed,type:"button"},o):F("div",{key:e,id:t,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(Z.headerContainer,a)},o);return e?s:null}renderCloseIcon(){return F("span",{"aria-hidden":"true",class:this.classes(Z.icon,Z.iconClose)})}renderCloseButton(){const{visibleElements:e,messagesCommon:t}=this;return e.closeButton?F("div",{role:"button",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:Z.button,"aria-label":t.close,title:t.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null}renderHeader(){return F("header",{class:Z.header},this.renderTitle(),F("div",{class:Z.headerButtons},this.renderDockButton(),this.renderCloseButton()))}renderContentContainer(){const{contentId:e,hasContent:t,contentCollapsed:i}=this,{content:n}=this.viewModel;return t&&!i?F("article",{key:n,enterAnimation:this._createFeatureUpdatedAnimation(),id:e,class:Z.content},this.renderContent()):null}renderActionsMenuButton(){const{actionsMenuId:e,actionsMenuButtonId:t,actionsMenuOpen:i,dividedActions:n,messagesCommon:r}=this,a=i?r.close:r.open,{menuActions:o}=n;return o.length?F("div",{key:xs("actions-menu-button"),class:this.classes(Z.button,Z.actionsMenuButton),role:"button",id:t,"aria-haspopup":"true","aria-controls":i?e:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,"aria-label":a,title:a},F("span",{"aria-hidden":"true",class:Z.iconActionsMenu})):null}renderMenuActions(){const{actionsMenuId:e,actionsMenuButtonId:t,actionsMenuOpen:i,dividedActions:n}=this,{menuActions:r}=n;return r.length&&i?F("ul",{id:e,role:"menu","aria-labelledby":t,key:xs("actions"),class:Z.actions,bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},r.toArray().map(a=>this.renderAction({action:a,type:"menu-item"}))):null}renderInlineActions(){const{inlineActions:e}=this.dividedActions;return!!e.length&&e.toArray().map(t=>this.renderAction({action:t,type:"inline"}))}renderInlineActionsContainer(){const{inlineActions:e,menuActions:t}=this.dividedActions,i=!!e.length,n=!!t.length;return i||n?F("div",{key:"inline-actions-container","data-inline-actions":i.toString(),"data-menu-actions":n.toString(),class:Z.inlineActionsContainer},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null}renderNavigation(){return this.featureNavigationVisible?F("section",{key:xs("navigation"),class:this.classes(Z.navigation)},this.renderNavigationButtons()):null}renderFooter(){const{featureNavigationVisible:e,dividedActions:t}=this,{inlineActions:i,menuActions:n}=t,r=!!i.length,a=!!n.length,o={[Z.footerHasPagination]:e,[Z.footerHasActions]:r,[Z.footerHasActionsMenu]:a};return e||r?F("div",{key:xs("feature-buttons"),class:this.classes(Z.footer,o)},this.renderInlineActionsContainer(),this.renderNavigation()):null}renderFeatureMenuContainer(){const{messages:e}=this,{featureViewModels:t,isLoadingFeature:i}=this.viewModel,n=Ms(e.selectedFeatures,{total:t.length});return F("section",{key:xs("menu"),class:Z.featureMenu},F("strong",{class:Z.featureMenuHeader},n),F("nav",{bind:this,class:Z.featureMenuViewport,"data-node-ref":"_featureMenuViewportNode",afterCreate:iD},this.renderFeatureMenu(),F("div",{class:Z.featureMenuObserver,bind:this,afterCreate:this._featureMenuIntersectionObserverCreated}),i?F("div",{class:Z.featureMenuLoader},this.renderLoadingIcon()):null))}renderPointer(){return this.dockEnabled?null:F("div",{key:xs("pointer"),class:Z.pointer,role:"presentation"},F("div",{class:this.classes(Z.pointerDirection,Z.shadow)}))}renderMainContainer(){const{dockEnabled:e,currentAlignment:t,currentDockPosition:i,titleId:n,contentId:r,collapsible:a,hasContent:o,contentCollapsed:s,visibleElements:l}=this,{title:u}=this.viewModel,h=t==="bottom-left"||t==="bottom-center"||t==="bottom-right"||i==="top-left"||i==="top-center"||i==="top-right",m=t==="top-left"||t==="top-center"||t==="top-right"||i==="bottom-left"||i==="bottom-center"||i==="bottom-right",f={[Z.shadow]:e,[Z.isCollapsible]:a,[Z.isCollapsed]:s};return F("div",{class:this.classes(Z.main,Z.widget,f),tabIndex:l.closeButton?null:-1,role:"dialog","aria-labelledby":u?n:"","aria-describedby":o&&!s?r:"",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},h?this.renderFooter():null,h?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),m?this.renderFooter():null,m?this.renderFeatureMenuContainer():null)}renderContent(){var e;const t=(e=this.viewModel)==null?void 0:e.content;return t?typeof t=="string"?F("div",{key:t,innerHTML:t}):this.renderNodeContent(t):null}renderActionText(e){return F("span",{key:"text",class:Z.actionText},e)}renderActionIcon(e){const t=this._getActionClass(e),i=this._getActionImage(e),n={[Z.iconLoading]:e.active,[Z.rotating]:e.active,[Z.icon]:!!t,[Z.actionImage]:!e.active&&!!i};return t&&(n[t]=!e.active),F("span",{key:"icon","aria-hidden":"true",class:this.classes(Z.icon,n),styles:this._getIconStyles(i)})}renderAction(e){const{action:t,type:i}=e,n=this._getActionTitle(t),r={[Z.action]:t.type!=="toggle",[Z.actionToggle]:t.type==="toggle",[Z.actionToggleOn]:t.type==="toggle"&&t.value,[Z.buttonDisabled]:t.disabled},a=[this.renderActionIcon(t),this.renderActionText(n)],o=i==="menu-item"?F("li",{key:t.uid,role:"menuitem",tabIndex:0,title:n,"aria-label":n,class:this.classes(Z.button,r),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":t.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},a):F("div",{key:t.uid,role:"button",tabIndex:0,title:n,"aria-label":n,class:this.classes(Z.button,r),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":t.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},a);return t.visible?o:null}renderFeatureMenuItem(e,t){const{messages:i,messagesCommon:n}=this,{selectedFeatureIndex:r,selectedFeatureViewModel:a}=this.viewModel,o=e===a,s={[Z.featureMenuSelected]:o},l=o?F("span",{key:xs(`feature-menu-selected-feature-${r}`),title:i.selectedFeature,"aria-label":i.selectedFeature,class:Z.iconCheckMark}):null,u=F("span",{innerHTML:e.title||n.untitled});return F("li",{role:"menuitem",tabIndex:-1,key:xs(`feature-menu-feature-${r}`),class:this.classes(s,Z.featureMenuItem),bind:this,"data-feature-index":t,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature},F("span",{class:Z.featureMenuTitle},u,l))}renderFeatureMenu(){const{featureMenuId:e}=this,{featureViewModels:t}=this.viewModel;return t.length>1?F("ol",{class:Z.featureMenuList,id:e,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:"menu"},t.filter(i=>!!i.graphic).map((i,n)=>this.renderFeatureMenuItem(i,n))):null}_getActionTitle(e){const{messages:t,selectedFeature:i,messagesCommon:n}=this,{id:r}=e,a=i==null?void 0:i.attributes,o=r==="zoom-to-feature"?Ms(e.title,{messages:t}):r==="remove-selected-feature"?Ms(e.title,{messages:n}):r==="zoom-to-clustered-features"||r==="browse-clustered-features"?Ms(e.title,{messages:t}):e.title;return o&&a?Ms(o,a):o}_getActionClass(e){const{selectedFeature:t}=this,i=t==null?void 0:t.attributes,{className:n,image:r}=e,a=r||n?n:Z.iconDefaultAction;return a&&i?Ms(a,i):a}_getActionImage(e){const{selectedFeature:t}=this,i=t==null?void 0:t.attributes,{image:n}=e;return n&&i?Ms(n,i):n}_createFeatureUpdatedAnimation(){return Bfe("enter",Z.hasFeatureUpdated)}_getInlineActionCount(){const{maxInlineActions:e,featureNavigationVisible:t}=this;if(typeof e!="number")return null;const i=Math.round(e);return Math.max(t?i-1:i,0)}_watchActions(){const{allActions:e}=this.viewModel;this.notifyChange("dividedActions");const t="actions";this._handles.remove(t),e&&e.forEach(i=>{this._handles.add(kt(i,["uid","active","className","disabled","id","title","image","visible"],()=>this.scheduleRender()),t)})}_divideActions(){const{allActions:e}=this.viewModel,t=e.filter(a=>a.visible),i=this._getInlineActionCount(),n=i===null,r=i===0;return{inlineActions:n?t.slice(0):r?new _e:t.slice(0,i),menuActions:n?new _e:r?t.slice(0):t.slice(i)}}_featureMenuOpenChanged(e){e?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0}_actionsMenuOpenChanged(e){e?this._focusFirstAction=!0:this._focusActionsMenuButton=!0}_setTitleFromFeatureWidget(){const{selectedFeatureWidget:e,messagesCommon:t}=this;var i,n;e&&(this.viewModel.title=((i=e.viewModel)==null?void 0:i.state)==="error"?t.errorMessage:((n=e.viewModel)==null?void 0:n.title)||"")}_setContentFromFeatureWidget(){const{selectedFeatureWidget:e}=this;e&&(this.viewModel.content=e)}_unobserveFeatureMenuObserver(){this._featureMenuIntersectionObserverNode&&this._featureMenuIntersectionObserver.unobserve(this._featureMenuIntersectionObserverNode)}_featureMenuIntersectionObserverCreated(e){this._unobserveFeatureMenuObserver(),this._featureMenuIntersectionObserver.observe(e),this._featureMenuIntersectionObserverNode=e}_handleFeatureMenuKeyup(e){Xu(e)==="Escape"&&(e.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())}_handleActionMenuKeyup(e){Xu(e)==="Escape"&&(e.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())}_handleFeatureMenuItemKeyup(e){const t=Xu(e),{_featureMenuNode:i}=this,n=e.currentTarget["data-feature-index"];if(!i)return;const r=i.querySelectorAll("li"),a=r.length;t!=="ArrowUp"?t!=="ArrowDown"?t!=="Home"?t!=="End"||(e.stopPropagation(),r[r.length-1].focus()):(e.stopPropagation(),r[0].focus()):(e.stopPropagation(),r[(n+1+a)%a].focus()):(e.stopPropagation(),r[(n-1+a)%a].focus())}_handleActionMenuItemKeyup(e){const t=Xu(e),{_actionsMenuNode:i}=this,n=e.currentTarget.dataset.actionUid,{menuActions:r}=this.dividedActions,a=r.findIndex(l=>l.uid===n);if(!i)return;const o=i.querySelectorAll("li"),s=o.length;t!=="ArrowUp"?t!=="ArrowDown"?t!=="Home"?t!=="End"||(e.stopPropagation(),o[o.length-1].focus()):(e.stopPropagation(),o[0].focus()):(e.stopPropagation(),o[(a+1+s)%s].focus()):(e.stopPropagation(),o[(a-1+s)%s].focus())}_handleMainKeyup(e){const t=Xu(e);t==="ArrowLeft"&&(e.stopPropagation(),this.previous()),t==="ArrowRight"&&(e.stopPropagation(),this.next())}_spinnerEnabledChange(e){if(this._destroySpinner(),!e)return;const t=this.get("viewModel.view");this._createSpinner(t)}_hideSpinner(){const{_spinner:e}=this;e&&(e.location=null,e.hide())}_displaySpinner(){const{_spinner:e}=this;if(!e)return;const{location:t,waitingForResult:i}=this.viewModel;i?e.show({location:t}):e.hide()}_getIconStyles(e){return{"background-image":e?`url(${e})`:""}}async _shouldFocus(e){e.shouldFocus&&(await DI(()=>{var t;return((t=this.viewModel)==null?void 0:t.active)===!0}),this.focus())}_addSelectedFeatureIndexHandle(){const e=kt(this,"viewModel.selectedFeatureIndex",(t,i)=>this._selectedFeatureIndexUpdated(t,i));this._handles.add(e,cR)}_selectedFeatureIndexUpdated(e,t){const{featureCount:i}=this;i&&e!==t&&e!==-1&&(this.actionsMenuOpen=!1,this.featureMenuOpen=!1)}_destroySelectedFeatureWidget(){const{_feature:e}=this;e&&(e.viewModel=null,e&&!e.destroyed&&e.destroy()),this._feature=null}_isScreenLocationWithinView(e,t){return e.x>-1&&e.y>-1&&e.x<=t.width&&e.y<=t.height}_isOutsideView(e){const{popupHeight:t,popupWidth:i,screenLocation:n,side:r,view:a}=e;if(isNaN(i)||isNaN(t)||!a||!n)return!1;const o=a.padding;return r==="right"&&n.x+i/2>a.width-o.right||r==="left"&&n.x-i/2<o.left||r==="top"&&n.y-t<o.top||r==="bottom"&&n.y+t>a.height-o.bottom}_calculateAutoAlignment(e){if(e!=="auto")return e;const{_pointerOffsetInPx:t,_containerNode:i,_mainContainerNode:n,viewModel:r}=this,{screenLocation:a,view:o}=r;if(V(a)||!o||!i)return"top-center";if(!this._isScreenLocationWithinView(a,o))return this._get("currentAlignment")||"top-center";function s(E){return parseInt(E.replace(/[^-\d\.]/g,""),10)}const l=n?window.getComputedStyle(n,null):null,u=l?s(l.getPropertyValue("max-height")):0,h=l?s(l.getPropertyValue("height")):0,{height:m,width:f}=i.getBoundingClientRect(),g=f+t,b=Math.max(m,u,h)+t,v=this._isOutsideView({popupHeight:b,popupWidth:g,screenLocation:a,side:"right",view:o}),w=this._isOutsideView({popupHeight:b,popupWidth:g,screenLocation:a,side:"left",view:o}),x=this._isOutsideView({popupHeight:b,popupWidth:g,screenLocation:a,side:"top",view:o}),S=this._isOutsideView({popupHeight:b,popupWidth:g,screenLocation:a,side:"bottom",view:o});return w?x?"bottom-right":"top-right":v?x?"bottom-left":"top-left":x?S?"top-center":"bottom-center":"top-center"}_callCurrentAlignment(e){return typeof e=="function"?e.call(this):e}_getCurrentAlignment(){const{alignment:e,dockEnabled:t}=this;return t||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(e)))}_setCurrentAlignment(){this._set("currentAlignment",this._getCurrentAlignment())}_setCurrentDockPosition(){this._set("currentDockPosition",this._getCurrentDockPosition())}_calculatePositionResult(e){const t=["left","right"];return $c(this.container)&&t.reverse(),e.replace(/leading/gi,t[0]).replace(/trailing/gi,t[1])}_callDockPosition(e){return typeof e=="function"?e.call(this):e}_getDockPosition(){var e;return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition((e=this.dockOptions)==null?void 0:e.position)))}_getCurrentDockPosition(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null}_wouldDockTo(){return this.dockEnabled?null:this._getDockPosition()}_calculateAutoDockPosition(e){var t;if(e!=="auto")return e;const i=(t=this.viewModel)==null?void 0:t.view,n=$c(this.container)?"top-left":"top-right";if(!i)return n;const r=i.padding||{left:0,right:0,top:0,bottom:0},a=i.width-r.left-r.right,{breakpoints:o}=i;return o&&a<=o.xsmall?"bottom-center":n}_positionContainer(e=this._containerNode){if(e&&(this._containerNode=e),!e)return;const{screenLocation:t}=this.viewModel,{width:i}=e.getBoundingClientRect(),n=this._calculatePositionStyle(t,i);n&&(e.style.top=n.top,e.style.left=n.left,e.style.bottom=n.bottom,e.style.right=n.right)}_calculateFullWidth(e){const{currentAlignment:t,_pointerOffsetInPx:i}=this;return t==="top-left"||t==="bottom-left"||t==="top-right"||t==="bottom-right"?e+i:e}_calculateAlignmentPosition(e,t,i,n){const{currentAlignment:r,_pointerOffsetInPx:a}=this,o=n/2,s=i.height-t,l=i.width-e,{padding:u}=this.view;return r==="bottom-center"?{top:t+a-u.top,left:e-o-u.left}:r==="top-left"?{bottom:s+a-u.bottom,right:l+a-u.right}:r==="bottom-left"?{top:t+a-u.top,right:l+a-u.right}:r==="top-right"?{bottom:s+a-u.bottom,left:e+a-u.left}:r==="bottom-right"?{top:t+a-u.top,left:e+a-u.left}:r==="top-center"?{bottom:s+a-u.bottom,left:e-o-u.left}:void 0}_calculatePositionStyle(e,t){const{dockEnabled:i,view:n}=this;if(!n)return;if(i)return{left:"",top:"",right:"",bottom:""};if(V(e)||!t)return;const r=this._calculateFullWidth(t),a=this._calculateAlignmentPosition(e.x,e.y,n,r);return a?{top:a.top!==void 0?`${a.top}px`:"auto",left:a.left!==void 0?`${a.left}px`:"auto",bottom:a.bottom!==void 0?`${a.bottom}px`:"auto",right:a.right!==void 0?`${a.right}px`:"auto"}:void 0}_viewChange(e,t){e&&t&&(this.close(),this.clear())}_viewReadyChange(e,t){if(e){const i=this.get("viewModel.view");this._wireUpView(i)}else t&&(this.close(),this.clear())}_wireUpView(e){if(this._destroySpinner(),!e)return;const{spinnerEnabled:t}=this;t&&this._createSpinner(e),this._setDockEnabledForViewSize(this.dockOptions)}_dockingThresholdCrossed(e,t,i){const[n,r]=e,[a,o]=t,{width:s,height:l}=i;return n<=s&&a>s||n>s&&a<=s||r<=l&&o>l||r>l&&o<=l}_updateDockEnabledForViewSize(e,t){if(!e||!t)return;const i=this.get("viewModel.view.padding")||{left:0,right:0,top:0,bottom:0},n=i.left+i.right,r=i.top+i.bottom,a=[],o=[];a[0]=e[0]-n,a[1]=e[1]-r,o[0]=t[0]-n,o[1]=t[1]-r;const{dockOptions:s}=this,l=s.breakpoint;this._dockingThresholdCrossed(a,o,l)&&this._setDockEnabledForViewSize(s),this._setCurrentDockPosition()}_focusDockButtonNode(e){this._focusDockButton&&(this._focusDockButton=!1,e.focus())}_closeButtonNodeUpdated(e){return this._focusClose?(this._focusClose=!1,void e.focus()):this._blurClose?(this._blurClose=!1,void e.blur()):void 0}_mainContainerNodeUpdated(e){return this._mainContainerNode=e,this._focusContainer?(this._focusContainer=!1,void e.focus()):this._blurContainer?(this._blurContainer=!1,void e.blur()):void 0}_featureMenuNodeUpdated(e){if(this._featureMenuNode=e,!e||!this._focusFirstFeature)return;this._focusFirstFeature=!1;const t=e.querySelectorAll("li");t.length&&t[0].focus()}_actionsMenuNodeUpdated(e){if(this._actionsMenuNode=e,!e||!this._focusFirstAction)return;this._focusFirstAction=!1;const t=e.querySelectorAll("li");t.length&&t[0].focus()}_focusFeatureMenuButtonNode(e){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,e.focus())}_focusActionsMenuButtonNode(e){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,e.focus())}_featureMenuViewportScrollTop(){this._featureMenuViewportNode&&(this._featureMenuViewportNode.scrollTop=0)}_toggleScreenLocationEnabled(){const{dockEnabled:e,viewModel:t}=this;if(!t)return;const i=t.active&&!e;t.screenLocationEnabled=i}_shouldDockAtCurrentViewSize(e){var t,i;const n=e.breakpoint,r=(t=this.viewModel)==null||(i=t.view)==null?void 0:i.ui;if(!r)return!1;const{width:a,height:o}=r;if(isNaN(a)||isNaN(o))return!1;const s=n.hasOwnProperty("width")&&a<=n.width,l=n.hasOwnProperty("height")&&o<=n.height;return s||l}_setDockEnabledForViewSize(e){e.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(e))}_getPageText(e,t){return this.featureNavigationVisible?Ms(this.messages.pageText,{index:t+1,total:e}):null}_destroySpinner(){const{_spinner:e,view:t}=this;e&&(t&&t.ui&&t.ui.remove(this._spinner,uR),e.destroy(),this._spinner=null)}_createSpinner(e){e&&(this._spinner=new u3e({view:e}),e.ui.add(this._spinner,{key:uR,position:"manual"}))}_toggleCollapsed(){this.collapsed=!this.collapsed}_close(){this.close(),this.view&&this.view.focus()}_toggleDockEnabled(){this.dockEnabled=!this.dockEnabled,this._focusDockButton=!0,this.scheduleRender()}_toggleFeatureMenu(){const e=!this.featureMenuOpen;this._featureMenuOpenChanged(e),this.actionsMenuOpen=!1,this.featureMenuOpen=e}_toggleActionsMenu(){const e=!this.actionsMenuOpen;this._actionsMenuOpenChanged(e),this.featureMenuOpen=!1,this.actionsMenuOpen=e}_triggerAction(e){const t=e.currentTarget.dataset.actionUid,{allActions:i}=this.viewModel,n=i.findIndex(a=>a.uid===t),r=i.getItemAt(n);r&&r.type==="toggle"&&(r.value=!r.value),this.actionsMenuOpen=!1,this.viewModel.triggerAction(n)}_selectFeature(e){const t=e.currentTarget["data-feature-index"];isNaN(t)||(this.viewModel.selectedFeatureIndex=t),this.featureMenuOpen=!1,this._focusFeatureMenuButton=!0,this.scheduleRender()}_next(){this.next()}_previous(){this.previous()}};c([d({readOnly:!0})],xe.prototype,"actionsMenuId",null),c([d({readOnly:!0})],xe.prototype,"actionsMenuButtonId",null),c([d({readOnly:!0})],xe.prototype,"featureMenuId",null),c([d({readOnly:!0})],xe.prototype,"titleId",null),c([d({readOnly:!0})],xe.prototype,"contentId",null),c([d({readOnly:!0})],xe.prototype,"hasContent",null),c([d({readOnly:!0})],xe.prototype,"featureNavigationVisible",null),c([d({readOnly:!0})],xe.prototype,"collapsible",null),c([d({readOnly:!0})],xe.prototype,"featureMenuVisible",null),c([d({readOnly:!0})],xe.prototype,"contentCollapsed",null),c([d({readOnly:!0})],xe.prototype,"dividedActions",null),c([ke("viewModel.actions")],xe.prototype,"actions",void 0),c([d()],xe.prototype,"actionsMenuOpen",null),c([d()],xe.prototype,"alignment",void 0),c([ke("viewModel.autoCloseEnabled")],xe.prototype,"autoCloseEnabled",void 0),c([ke("viewModel.autoOpenEnabled")],xe.prototype,"autoOpenEnabled",void 0),c([ke("viewModel.defaultPopupTemplateEnabled")],xe.prototype,"defaultPopupTemplateEnabled",void 0),c([ke("viewModel.content")],xe.prototype,"content",void 0),c([d()],xe.prototype,"collapsed",void 0),c([d()],xe.prototype,"collapseEnabled",void 0),c([d({readOnly:!0})],xe.prototype,"currentAlignment",null),c([d({readOnly:!0})],xe.prototype,"currentDockPosition",null),c([d()],xe.prototype,"dockOptions",null),c([d()],xe.prototype,"dockEnabled",void 0),c([ke("viewModel.featureCount")],xe.prototype,"featureCount",void 0),c([d()],xe.prototype,"featureMenuOpen",void 0),c([ke("viewModel.features")],xe.prototype,"features",void 0),c([ke("viewModel.goToOverride")],xe.prototype,"goToOverride",void 0),c([d()],xe.prototype,"headingLevel",void 0),c([ke("viewModel.highlightEnabled")],xe.prototype,"highlightEnabled",void 0),c([ke("viewModel.location")],xe.prototype,"location",void 0),c([d({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],xe.prototype,"label",void 0),c([d()],xe.prototype,"maxInlineActions",void 0),c([d(),Kn("esri/widgets/Popup/t9n/Popup")],xe.prototype,"messages",void 0),c([d(),Kn("esri/t9n/common")],xe.prototype,"messagesCommon",void 0),c([ke("viewModel.promises")],xe.prototype,"promises",void 0),c([ke("viewModel.selectedFeature")],xe.prototype,"selectedFeature",void 0),c([ke("viewModel.selectedFeatureIndex")],xe.prototype,"selectedFeatureIndex",void 0),c([d({readOnly:!0})],xe.prototype,"selectedFeatureWidget",null),c([d()],xe.prototype,"spinnerEnabled",void 0),c([ke("viewModel.title")],xe.prototype,"title",void 0),c([ke("viewModel.updateLocationEnabled")],xe.prototype,"updateLocationEnabled",void 0),c([ke("viewModel.view")],xe.prototype,"view",void 0),c([d({type:Hq}),fye(["triggerAction","trigger-action"])],xe.prototype,"viewModel",void 0),c([ke("viewModel.visible")],xe.prototype,"visible",void 0),c([d()],xe.prototype,"visibleElements",void 0),c([nt("visibleElements")],xe.prototype,"castVisibleElements",null),c([Qr()],xe.prototype,"_close",null),c([Qr()],xe.prototype,"_toggleDockEnabled",null),c([Qr()],xe.prototype,"_toggleFeatureMenu",null),c([Qr()],xe.prototype,"_toggleActionsMenu",null),c([Qr()],xe.prototype,"_triggerAction",null),c([Qr()],xe.prototype,"_selectFeature",null),c([Qr()],xe.prototype,"_next",null),c([Qr()],xe.prototype,"_previous",null),xe=c([D(qq)],xe);const fR=xe,d3=[0,0];function G3e(e){const t=(e.ownerDocument||window.document).defaultView,i=e.getBoundingClientRect();return d3[0]=i.left+t.pageXOffset,d3[1]=i.top+t.pageYOffset,d3}function gR(e){e&&(C7(e),e.parentNode&&e.parentNode.removeChild(e))}function W3e(e){const t=document.createElement("div");return e.appendChild(t),t}const Nf=16,xv=750,J3e=512,K3e=2,Y3e=e=>{let t=class extends e{constructor(...i){super(...i),this._freqInfo={freq:Nf,time:xv},this._overlayRenderTaskHandle=null,this.height=0,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.handles.add([this.watch("cursor",n=>{const r=this.surface;r&&r.setAttribute("data-cursor",n)}),this.watch("interacting",n=>{const r=this.surface;r&&r.setAttribute("data-interacting",n.toString())})])}initialize(){this.handles.add(this.watch("ui",(i,n)=>this._handleUIChange(i,n))),this._wireUI(this.ui),this.handles.add([this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui&&(this.ui.destroy(),this.ui=null),this.popup&&!this.popup.destroyed&&this.popup.destroy(),this.container=null)}set container(i){const n=this._get("container");if(n===i)return;const r="dom-size";if(this.handles.remove(r),this._stopMeasuring(),n&&(n.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay.destroy(),this._set("overlay",null),gR(this.root),this._set("root",null),IP(this.userContent,n),gR(this.userContent),this._set("userContent",null)),i){i.classList.add("esri-view");const a=document.createElement("div");a.className="esri-view-user-storage",IP(i,a),i.appendChild(a),this._set("userContent",a);const o=document.createElement("div");o.className="esri-view-root",i.insertBefore(o,i.firstChild),this._set("root",o);const s=document.createElement("div");s.className="esri-view-surface",s.setAttribute("role","application"),s.tabIndex=0,o.appendChild(s),this._set("surface",s);const l=new zP;o.appendChild(l.surface),this._set("overlay",l),l.watch("needsRender",u=>{u&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=lm({render:()=>{this.overlay.render()}}):this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null)}),this.forceDOMReadyCycle(),this.handles.add(_t(()=>this.size,u=>{const[h,m]=u,f="esri-view-surface--inset-outline";h>=document.body.clientWidth||m>=document.body.clientHeight?s.classList.add(f):s.classList.remove(f)},Ko),r),this._set("container",i),this._startMeasuring()}else this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),this._set("container",null)}get focused(){const i=document.activeElement===this.surface;return document.hasFocus()&&i}get popup(){return this._get("popup")||new fR({view:this})}set popup(i){const n=this._get("popup");n&&n!==i&&n.destroy(),this._set("popup",i)}get size(){return[this.width,this.height]}blur(){this.surface&&this.surface.blur()}focus(){this.surface&&this.surface.focus()}pageToContainer(i,n,r){const a=this.position;return i-=a[0],n-=a[1],r?(r[0]=i,r[1]=n):r=[i,n],r}containerToPage(i,n,r){const a=this.position;return i+=a[0],n+=a[1],r?(r[0]=i,r[1]=n):r=[i,n],r}_handleUIChange(i,n){n&&(this.handles.remove("ui"),n.destroy()),i&&this._wireUI(i),this._set("ui",i)}_wireUI(i){this.handles.remove("ui"),i&&(i.view=this,this.handles.add([_t(()=>this.root,n=>{i.container=n?W3e(n):null},Ko),_t(()=>this.popup,(n,r)=>{const a="popup",o="manual";r&&i.remove(r,a),n&&(n.view=i.view,i.add(n,{key:a,position:o}))},Ko)],"ui"))}_stopMeasuring(){this.handles.remove("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const i=this._freqInfo;i.freq=Nf,i.time=xv,this.handles.add([(()=>{const n=()=>{i.freq=Nf,i.time=xv};return window.addEventListener("resize",n),{remove(){window.removeEventListener("resize",n)}}})(),lm({prepare:n=>{const r=this._measure(),a=this._freqInfo;if(a.time+=n.deltaTime,r&&(a.freq=Nf,this._get("resizing")||this._set("resizing",!0)),a.time<a.freq)return;a.time=0;const o=this._position();a.freq=o||r?Nf:Math.min(xv,a.freq*K3e),!r&&a.freq>=J3e&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const i=this.container,n=i?i.clientWidth:0,r=i?i.clientHeight:0;if(n===0||r===0)return this.suspended||this._set("suspended",!0),!1;const a=this.width,o=this.height;return n===a&&r===o?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",n),this._set("height",r),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:a,oldHeight:o,width:n,height:r}),!0)}_position(){const i=this.container,n=this.position,r=G3e(i);return(!n||r[0]!==n[0]||r[1]!==n[1])&&(this._set("position",[r[0],r[1]]),!0)}forceDOMReadyCycle(){}};return c([d({value:null,cast:i=>lE(i)})],t.prototype,"container",null),c([d({readOnly:!0})],t.prototype,"focused",null),c([d({readOnly:!0})],t.prototype,"height",void 0),c([d({type:fR})],t.prototype,"popup",null),c([d({type:zP})],t.prototype,"overlay",void 0),c([d({readOnly:!0})],t.prototype,"position",void 0),c([d({readOnly:!0})],t.prototype,"resizing",void 0),c([d({readOnly:!0})],t.prototype,"root",void 0),c([d({value:null,readOnly:!0})],t.prototype,"size",null),c([d({readOnly:!0})],t.prototype,"surface",void 0),c([d({readOnly:!0})],t.prototype,"suspended",void 0),c([d()],t.prototype,"ui",void 0),c([d({readOnly:!0})],t.prototype,"userContent",void 0),c([d({readOnly:!0})],t.prototype,"width",void 0),c([d()],t.prototype,"widthBreakpoint",void 0),t=c([D("esri.views.DOMContainer")],t),t},Z3e=e=>{let t=class extends e{async fetchPopupFeatures(i,n){await this.when();const{location:r,queryArea:a,layerViewsAndGraphics:o,clientOnlyGraphics:s}=await this._prepareFetchPopupFeatures(i,n),l=Promise.resolve(s),u=this._queryLayerPopupFeatures(a,o,n),h=u.map(m=>m.promise);return{location:r,clientOnlyGraphics:s,allGraphicsPromise:bae([l,...h]).then(m=>Array.from(new Set(m.flat()))),promisesPerLayerView:u}}_queryLayerPopupFeatures(i,n,r){return n.map(({layerView:a,graphics:o})=>{const s={clientGraphics:o,event:T(r)?r.event:null,signal:T(r)?r.signal:null,defaultPopupTemplateEnabled:!!T(r)&&!!r.defaultPopupTemplateEnabled},l=a.fetchPopupFeatures(i,s);return{layerView:a,promise:l}})}_isValidPopupGraphic(i,n){return i&&!!i.getEffectivePopupTemplate(T(n)&&n.defaultPopupTemplateEnabled)}async _prepareFetchPopupFeatures(i,n){const{clientGraphics:r,queryArea:a,location:o}=await this._popupHitTestGraphics(i,n),s=this._getFetchPopupLayerViews(),{layerViewsAndGraphics:l,clientOnlyGraphics:u}=this._graphicsPerFetchPopupLayerView(r,s);return{clientOnlyGraphics:u,layerViewsAndGraphics:l,queryArea:a,location:o}}async _popupHitTestGraphics(i,n){const{results:r,mapPoint:a}=await this.popupHitTest(i),o=r.filter(l=>this._isValidPopupGraphic(l.graphic,n)),s=o.length?o[0].mapPoint:null;return{clientGraphics:o.map(l=>l.graphic),queryArea:a,location:a||s}}_getFetchPopupLayerViews(){const i=[];return this.allLayerViews.forEach(n=>{this._isValidPopupLayerView(n)&&i.push(n)}),T(this.graphicsView)&&this._isValidPopupLayerView(this.graphicsView)&&i.push(this.graphicsView),i.reverse()}_isValidPopupLayerView(i){return T(i)&&(!("layer"in i)||!i.suspended)&&"fetchPopupFeatures"in i}_graphicsPerFetchPopupLayerView(i,n){const r=[],a=new Map,o=n.map(s=>{const l=[];return"layer"in s?a.set(s.layer,l):a.set(s.graphics,l),{layerView:s,graphics:l}});for(const s of i){const l=a.get(s.layer)||a.get(s.sourceLayer)||null;l?l.push(s):r.push(s)}return{layerViewsAndGraphics:o,clientOnlyGraphics:r}}};return t=c([D("esri.views.PopupView")],t),t};Q.getLogger("esri.core.support.OwningCollection");let _g=class extends eh(_e){constructor(e){super(e),this.handles.add([this.on("before-add",t=>{V(t.item)&&t.preventDefault()}),this.on("after-add",t=>this._own(t.item)),this.on("after-remove",t=>this._release(t.item))])}get owner(){return this._get("owner")}set owner(e){e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}_ownAll(){for(const e of this.items)this._own(e)}_releaseAll(){for(const e of this.items)this._release(e)}_createNewInstance(e){return this.itemType?new(_e.ofType(this.itemType.Type))(e):new _e(e)}};function yR(e,t){return{type:e,cast:E6,set(i){const n=Ld(i,this._get(t),e);n.owner=this,this._set(t,n)}}}c([d()],_g.prototype,"owner",null),_g=c([D("esri.core.support.OwningCollection")],_g);const X3e=Q.getLogger("esri.support.AnalysesCollection");let Mx=class extends _g{constructor(e){super(e),this.handles.add(this.on("before-add",t=>{V(t.item)||t.item.parent===this.owner&&(X3e.warn("Analysis inside the collection must be unique. Not adding this element again."),t.preventDefault())}))}_own(e){e.parent=this.owner}_release(e){e.parent=null}};Mx=c([D("esri.support.AnalysesCollection")],Mx);let Sg=class extends _g{_own(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_release(e){e.layer===this.owner&&(e.layer=null)}};c([aI({Type:Mr,ensureType:mi(Mr)})],Sg.prototype,"itemType",void 0),Sg=c([D("esri.support.GraphicsCollection")],Sg);let tc=class extends ge{constructor(e){super(e),this.view=null,this.baseLayerViews=new _e,this.referenceLayerViews=new _e,this._loadingHandle=Yt(this,"view.map.basemap",t=>{t&&t.load().catch(()=>{})})}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)}get suspended(){return!this.view||this.view.suspended}get updating(){var e,t;if(this.view&&this.view.suspended)return!1;const i=(e=this.view)==null||(t=e.map)==null?void 0:t.basemap;return!!i&&!!i.loaded&&(this.baseLayerViews.some(n=>n.updating)||this.referenceLayerViews.some(n=>n.updating))}};c([d({constructOnly:!0})],tc.prototype,"view",void 0),c([d({readOnly:!0})],tc.prototype,"baseLayerViews",void 0),c([d({readOnly:!0})],tc.prototype,"referenceLayerViews",void 0),c([d({readOnly:!0})],tc.prototype,"suspended",null),c([d({type:Boolean,readOnly:!0})],tc.prototype,"updating",null),tc=c([D("esri.views.BasemapView")],tc);const Q3e=Q.getLogger("esri.views.LayerViewManager");class e5e{constructor(t,i,n){this.layer=t,this.view=i,this.layerViewImporter=n,this._controller=new AbortController,this._deferred=cl(),this._started=!1,this.done=!1,ro(this._controller.signal,()=>{const r=new L("cancelled:layerview-create","layerview creation cancelled",{layer:t});this._deferred.reject(r)})}get promise(){return this._deferred.promise}destroy(){this._controller.abort();const{layerView:t}=this;if(!t)return;const{layer:i,view:n}=this;i.emit("layerview-destroy",{view:n,layerView:t}),n.emit("layerview-destroy",{layer:i,layerView:t}),this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null}async start(){if(this._started)return;this._started=!0;const{_controller:{signal:t},layer:i,view:n}=this;this._map=n.map;try{var r,a;let o,s;if(await i.load({signal:t}),"prefetchResources"in i&&await i.prefetchResources({signal:t}),i.createLayerView)o=await i.createLayerView(n,{signal:t});else{if(!this.layerViewImporter.hasLayerViewModule(i))throw new L("layer:view-not-supported","No layerview implementation was found");const u=await this.layerViewImporter.importLayerView(i);pi(t),o="default"in u?new u.default({layer:i,view:n}):new u({layer:i,view:n})}const l=()=>{s=Xd(s),o.destroyed||o.destroy(),o.layer=null,o.parent=null,o.view=null,this.done=!0};s=ro(t,l),pi(t);try{await o.when()}catch(u){throw l(),u}if(!(!((r=this._map)==null||(a=r.allLayers)==null)&&a.includes(i)))return l(),void this._deferred.reject(new L("view:no-layerview-for-layer","The layer has been removed from the map",{layer:i}));this.layerView=o,i.emit("layerview-create",{view:n,layerView:o}),n.emit("layerview-create",{layer:i,layerView:o}),this.done=!0,this._deferred.resolve(o)}catch(o){i.emit("layerview-create-error",{view:n,error:o}),n.emit("layerview-create-error",{layer:i,error:o}),this.done=!0,this._deferred.reject(new L("layerview:create-error","layerview creation failed",{layer:i,error:o}))}}}let Zr=class extends um{constructor(e){super(e),this._layerLayerViewInfoMap=new Map,this._watchUpdatingTracking=new qp,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var t;const i=(t=this.view.map)==null?void 0:t.allLayers;if(i)for(const n of i)this.layerViewImporter.hasLayerViewModule(n)&&this.layerViewImporter.importLayerView(n)},this._reschedule=()=>(V(this._workPromise)&&(this._workPromise=cl()),this.handles.remove("reschedule"),this.handles.add(Ty(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var t,i,n;const r=this.view.map;if(this._map!==r&&(this.clear(),this._map=r),V(this._workPromise))return void this.notifyChange("updating");this.handles.remove("reschedule"),this.handles.remove("collection-change");const a=new Bp({getCollections:()=>this._rootCollectionNames.map(l=>this.get(l)),getChildrenFunction:l=>l&&"layers"in l?l.layers:null});if(!a)return this._workPromise.resolve(),void(this._workPromise=null);for(const l of a)this._createLayerView(l);this._refreshCollections();for(const[l,u]of this._layerLayerViewInfoMap)a.includes(l)||(this._layerLayerViewInfoMap.delete(u.layer),u.destroy());const o=a.filter(l=>l.type==="group").map(l=>l.layers),s=[r==null||(t=r.ground)==null?void 0:t.layers,r==null||(i=r.basemap)==null?void 0:i.baseLayers,r==null||(n=r.basemap)==null?void 0:n.referenceLayers,r==null?void 0:r.layers,...o].filter(l=>!!l);this.handles.add(s.map(l=>this._watchUpdatingTracking.addOnCollectionChange(()=>l,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.handles.add([M5(()=>{var e,t;return(e=this.view)==null||(t=e.map)==null?void 0:t.allLayers},"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),_t(()=>{const e=this.view,t=e==null?void 0:e.map;return[t==null?void 0:t.basemap,t==null?void 0:t.ground,t==null?void 0:t.layers,e==null?void 0:e.ready]},()=>this._reschedule(),bu)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),this._watchUpdatingTracking.destroy(),this._map=null}get _layersToLayerViews(){const e=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&e.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(e)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return T(this._workPromise)||this._watchUpdatingTracking.updating||ok(this._layerLayerViewInfoMap,e=>!e.done)}get updatingRemaining(){let e=0;for(const t of this._layerLayerViewInfoMap.values())t.done||++e;return e}clear(){if(!this.destroyed){for(const e of this._layerLayerViewInfoMap.values())e.destroy();this._layerLayerViewInfoMap.clear(),this._refreshCollections()}}async whenLayerView(e){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(e))throw new L("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:e});return this._layerLayerViewInfoMap.get(e).promise}_refreshCollections(){for(const[e,t]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(e),this.get(t),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(e,t,i){if(!e||!t)return void(t&&t.removeAll());let n=0;for(const r of e){const a=this._layerLayerViewInfoMap.get(r);if(!a||!a.layerView)continue;const o=a.layerView;o.layer=r,o.parent=i,t.getItemAt(n)!==o&&t.splice(n,0,o),r.layers&&this._populateLayerViewsOwners(r.layers,o.layerViews,o),n+=1}n<t.length&&t.splice(n,t.length)}_createLayerView(e){if(this._layerLayerViewInfoMap.has(e))return this.view.ready&&this._layerLayerViewInfoMap.get(e).start(),this.notifyChange("updating"),void this.notifyChange("updatingRemaining");e.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e);const t=new e5e(e,this.view,this.layerViewImporter);t.promise.then(()=>this._refreshCollections(),i=>{var n,r;i&&(ma(i)||i.name==="cancelled:layerview-create")||Q3e.error(`Failed to create layerview for layer title:'${(n=e.title)!=null?n:"no title"}', id:'${(r=e.id)!=null?r:"no id"}' of type '${e.type}'.`,{layer:e,error:i}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(e,t),this.view.ready&&t.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};c([d()],Zr.prototype,"_workPromise",void 0),c([d({readOnly:!0})],Zr.prototype,"_watchUpdatingTracking",void 0),c([d({readOnly:!0})],Zr.prototype,"_layersToLayerViews",null),c([d({readOnly:!0})],Zr.prototype,"_rootCollectionNames",null),c([d()],Zr.prototype,"layerViewImporter",void 0),c([d()],Zr.prototype,"supportsGround",void 0),c([d({readOnly:!0})],Zr.prototype,"updating",null),c([d({readOnly:!0})],Zr.prototype,"updatingRemaining",null),c([d({constructOnly:!0})],Zr.prototype,"view",void 0),Zr=c([D("esri.views.LayerViewManager")],Zr);const t5e=Zr;let hr=class extends ge{constructor(e){super(e),this.factor=1.5,this.offset=Un(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};c([d({type:Number})],hr.prototype,"factor",void 0),c([d({nonNullable:!0})],hr.prototype,"offset",void 0),c([d()],hr.prototype,"position",void 0),c([d({type:Number,range:{min:0}})],hr.prototype,"size",void 0),c([d()],hr.prototype,"maskUrl",void 0),c([d()],hr.prototype,"maskEnabled",void 0),c([d()],hr.prototype,"overlayUrl",void 0),c([d()],hr.prototype,"overlayEnabled",void 0),c([d({readOnly:!0})],hr.prototype,"version",null),c([d({type:Boolean})],hr.prototype,"visible",void 0),hr=c([D("esri.views.Magnifier")],hr);const Bq=hr;let K1=class extends ge{constructor(){super(...arguments),this._tasks=new Array,this.running=!1}get length(){return this._tasks.length}destroy(){this.cancelAll()}runTask(e){for(;!e.done&&this._process(e);)e.madeProgress()}push(e,t,i){return this.running=!0,new Promise((n,r)=>this._tasks.push(new bR(n,r,e,t,i)))}unshift(e,t,i){return this.running=!0,new Promise((n,r)=>this._tasks.unshift(new bR(n,r,e,t,i)))}_process(e){if(this._tasks.length===0)return!1;const t=this._tasks.shift();try{const i=is(t.signal);if(i&&!t.abortCallback)t.reject(hi());else{const n=i?t.abortCallback(hi()):t.callback(e);ml(n)?n.then(t.resolve,t.reject):t.resolve(n)}}catch(i){t.reject(i)}return this.running=this._tasks.length>0,!0}cancelAll(){const e=hi();for(const t of this._tasks)if(t.abortCallback){const i=t.abortCallback(e);t.resolve(i)}else t.reject(e);this._tasks.length=0,this.running=!1}};c([d()],K1.prototype,"running",void 0),K1=c([D("esri.layers.support.PromiseQueue")],K1);class bR{constructor(t,i,n,r,a){this.resolve=t,this.reject=i,this.callback=n,this.signal=r,this.abortCallback=a}}let F0=class extends ge{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};c([d()],F0.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),c([d()],F0.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),F0=c([D("esri.views.support.DebugFlags")],F0);const i5e=new F0,n5e=Q.getLogger("esri.views.support.Scheduler");var et;(function(e){e.RESOURCE_CONTROLLER="schedule",e.SLIDE="slide",e.STREAM_DATA_LOADER="stream loader",e.ELEVATION_QUERY="elevation query",e.TERRAIN_SURFACE="terrain",e.SURFACE_GEOMETRY_UPDATES="surface geometry updates",e.GRAPHICS_CORE="Graphics3D",e.I3S_CONTROLLER="I3S",e.POINT_CLOUD_LAYER="point cloud",e.FEATURE_TILE_FETCHER="feature fetcher",e.OVERLAY="overlay",e.STAGE="stage",e.GRAPHICS_DECONFLICTOR="graphics deconflictor",e.FILTER_VISIBILITY="Graphics3D filter visibility",e.SCALE_VISIBILITY="Graphics3D scale visibility",e.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",e.POINT_OF_INTEREST_FREQUENT="POI frequent",e.POINT_OF_INTEREST_INFREQUENT="POI infrequent",e.LABELER="labeler",e.FEATURE_QUERY_ENGINE="feature query",e.FEATURE_TILE_TREE="feature tile tree",e.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",e.ELEVATION_ALIGNMENT="elevation alignment",e.TEXT_TEXTURE_ATLAS="text texture atlas",e.TEXTURE_UNLOAD="texture unload",e.LINE_OF_SIGHT_TOOL="line of sight tool",e.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",e.ELEVATION_PROFILE="elevation profile",e.SNAPPING="snapping",e.SHADOW_ACCUMULATOR="shadow accumulator",e.CLOUDS_GENERATOR="cloud generator",e[e.TEST_PRIO=1]="TEST_PRIO"})(et||(et={}));const jo=0,vR=new Map([[et.RESOURCE_CONTROLLER,jo],[et.SLIDE,jo],[et.STREAM_DATA_LOADER,jo],[et.ELEVATION_QUERY,jo],[et.TERRAIN_SURFACE,1],[et.SURFACE_GEOMETRY_UPDATES,1],[et.GRAPHICS_CORE,2],[et.I3S_CONTROLLER,2],[et.POINT_CLOUD_LAYER,2],[et.FEATURE_TILE_FETCHER,2],[et.OVERLAY,4],[et.STAGE,4],[et.GRAPHICS_DECONFLICTOR,4],[et.FILTER_VISIBILITY,4],[et.SCALE_VISIBILITY,4],[et.FRUSTUM_VISIBILITY,4],[et.POINT_OF_INTEREST_FREQUENT,6],[et.POINT_OF_INTEREST_INFREQUENT,30],[et.LABELER,8],[et.FEATURE_QUERY_ENGINE,8],[et.FEATURE_TILE_TREE,16],[et.FEATURE_TILE_TREE_ACTIVE,jo],[et.ELEVATION_ALIGNMENT,12],[et.TEXT_TEXTURE_ATLAS,12],[et.CLOUDS_GENERATOR,12],[et.TEXTURE_UNLOAD,12],[et.LINE_OF_SIGHT_TOOL,16],[et.LINE_OF_SIGHT_TOOL_INTERACTIVE,jo],[et.SNAPPING,jo],[et.SHADOW_ACCUMULATOR,30]]);function wR(e){return vR.has(e)?vR.get(e):typeof e=="number"?e:1}var fr;(function(e){e[e.ANIMATING=0]="ANIMATING",e[e.INTERACTING=1]="INTERACTING",e[e.IDLE=2]="IDLE"})(fr||(fr={}));const xR=6.5,kR=1,r5e=30,_R=1e3/30,SR=100,DR=.9;var Z$,du;(function(e){let t=class extends ge{constructor(r){super(r),this.updating=!0,this._microTaskQueued=!1,this.performanceInfo={total:new ig("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=null,this._state=fr.INTERACTING,this._tasks=new _d,this._runQueue=new _d,this._load=0,this._idleStateCallbacks=new _d,this._idleUpdatesStartFired=!1,this._maxReschedule=kv,this._forceTask=!1,this._debug=!1,this._debugHandle=_t(()=>i5e.SCHEDULER_LOG_SLOW_TASKS,s=>this._debug=s,Ko),this._budget=new n(r.nowFunc);for(const s of Object.keys(et))this.performanceInfo.tasks.set(et[s],new ig(et[s]));let a;const o=this;this._test={get state(){return JC(a,o._state)},set state(s){a=s},FRAME_SAFETY_BUDGET:xR,INTERACTING_BUDGET:_R,IDLE_BUDGET:SR,get budget(){return o._budget.budget},usedBudget:0,setBudget:s=>o._budget=s,updateTask:s=>this._updateTask(s),getState:s=>this._getState(s),getRuntime:s=>this._getRuntime(s),frameTaskTimes:this._frameTaskTimes,resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}destroy(){this._tasks.toArray().forEach(r=>r.remove()),this._tasks.clear(),Xd(this._debugHandle),this._microTaskQueued=!1,this.updating=!1}activate(){this._budget.done||this._microTaskQueued||(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.done||(this._maxReschedule=kv,this._schedule(),this.frame()))}))}registerTask(r,a){const o=wR(r),s=new i(this,r,a,o);return this._tasks.push(s),this.performanceInfo.tasks.has(r)||this.performanceInfo.tasks.set(r,new ig(r)),s}registerIdleStateCallbacks(r,a){const o={idleBegin:r,idleEnd:a};this._idleStateCallbacks.push(o),this.state===fr.IDLE&&this._idleUpdatesStartFired&&o.idleBegin();const s=this;return{remove:()=>this._removeIdleStateCallbacks(o),set idleBegin(l){s._idleUpdatesStartFired&&(o.idleEnd(),s._state===fr.IDLE&&l()),o.idleBegin=l},set idleEnd(l){o.idleEnd=l}}}get now(){return this.nowFunc()}get load(){return this._load}set state(r){this._state!==r&&(this._state=r,this.state!==fr.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(a=>a.idleEnd())))}get state(){return V(this._test.state)?this._state:this._test.state}updateBudget(r){this._test.usedBudget=0;let a=xR,o=r.frameDuration,s=kR;switch(this.state){case fr.IDLE:a=0,o=Math.max(SR,r.frameDuration),s=r5e;break;case fr.INTERACTING:o=Math.max(_R,r.frameDuration);case fr.ANIMATING:}return o=o-r.elapsedFrameTime-a,this.state!==fr.IDLE&&o<kR&&!this._forceTask?(this._forceTask=!0,!1):(o=Math.max(o,s),this._budget.reset(o,this.state),this._maxReschedule=kv,this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case fr.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(r=>r.idleBegin())),this._runIdle();break;case fr.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}stopFrame(){this._budget.reset(0,this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(r){this._idleUpdatesStartFired&&r.idleEnd(),this._idleStateCallbacks.removeUnordered(r)}removeTask(r){this._tasks.removeUnordered(r),this._runQueue.removeUnordered(r)}_updateTask(r){this._tasks.forAll(a=>{a.name===r&&a.setPriority(r)})}_getState(r){if(this._runQueue.some(o=>o.name===r))return du.SCHEDULED;let a=du.IDLE;return this._tasks.forAll(o=>{o.name===r&&o.needsUpdate&&(o.schedulePriority<=1?a=du.READY:a!==du.READY&&(a=du.WAITING))}),a}_getRuntime(r){let a=0;return this._tasks.forAll(o=>{o.name===r&&(a+=o.runtime)}),a}_resetRuntimes(){this._tasks.forAll(r=>r.runtime=0)}_getRunning(){const r=new Map;if(this._tasks.forAll(o=>{o.needsUpdate&&r.set(o.name,(r.get(o.name)||0)+1)}),r.size===0)return null;let a="";return r.forEach((o,s)=>{a+=o>1?` ${o}x ${s}`:` ${s}`}),a}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const r=this._tasks.reduce((a,o)=>o.needsUpdate?++a:a,0);this._load=this._load*DR+r*(1-DR)}_schedule(){if(this._maxReschedule<=0)return!1;for(this._runQueue.filterInPlace(r=>!!r.needsUpdate||(r.schedulePriority=r.basePriority,!1)),this._tasks.forAll(r=>{r.basePriority===jo&&r.needsUpdate&&!this._runQueue.some(a=>a===r)&&this._runQueue.unshift(r)});this._runQueue.length===0;){let r=!1,a=0;if(this._tasks.forAll(o=>{o.needsUpdate&&o.schedulePriority!==0&&o.basePriority!==jo&&(r=!0,a=Math.max(a,o.basePriority),o.schedulePriority===1?(o.schedulePriority=0,this._runQueue.push(o)):--o.schedulePriority)}),!r)return this.updating=!1,!1;this._maxReschedule===kv&&(this._maxReschedule=a),--this._maxReschedule}return this.updating=!0,!0}_run(){const r=this._budget.now();this._startFrameTaskTimes();do for(;this._runQueue.length>0;){const a=this._budget.now(),o=this._runQueue.pop();this._budget.resetProgress();try{o.task.runTask(this._budget)}catch(l){n5e.error(`Exception in task "${o.name}"`,l)}o.schedulePriority=o.basePriority;const s=this._budget.now()-a;if(o.runtime+=s,this._frameTaskTimes.set(o.priority,this._frameTaskTimes.get(o.priority)+s),this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",o.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms"),this._budget.remaining<=0)return this.updating=this._tasks.some(l=>l.needsUpdate),void this._recordFrameTaskTimes(this._budget.now()-r)}while(this._schedule());this.updating=this._tasks.some(a=>a.needsUpdate),this._recordFrameTaskTimes(this._budget.now()-r)}_startFrameTaskTimes(){for(const r of Object.keys(et))this._frameTaskTimes.set(et[r],0)}_recordFrameTaskTimes(r){this._frameTaskTimes.forEach((a,o)=>this.performanceInfo.tasks.get(o).record(a)),this.performanceInfo.total.record(r)}get test(){return this._test}};c([d()],t.prototype,"updating",void 0),c([d()],t.prototype,"nowFunc",void 0),t=c([D("esri.views.support.Scheduler")],t),e.Scheduler=t;let i=class extends ge{constructor(r,a,o,s){super({}),this._scheduler=r,this.name=a,this._basePriority=s,this.runtime=0,this._queue=new K1,this._handles=new On,this.schedulePriority=this._basePriority,this.task=T(o)?o:this._queue,this._handles.add(gk(()=>this.task.running,()=>r.activate()))}get updating(){return this._queue.running}normalizeCtorArgs(){return{}}remove(){this.processQueue(Uq),this._scheduler.removeTask(this),this.schedule=X$.schedule,this.reschedule=X$.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(r){this.name=r;const a=wR(r);this._basePriority!==jo&&this.schedulePriority===0||(this.schedulePriority=a),this._basePriority=a}get priority(){return this.name}set priority(r){this.setPriority(r)}get needsUpdate(){return this.updating||this.task.running}schedule(r,a,o){return this._queue.push(r,a,o)}reschedule(r,a,o){return this._queue.unshift(r,a,o)}processQueue(r){this._queue.runTask(r)}};c([d({constructOnly:!0})],i.prototype,"task",void 0),c([d({readOnly:!0})],i.prototype,"updating",null),i=c([D("esri.views.support.SchedulerTask")],i);class n{constructor(a){this.now=a,this._begin=0,this._budget=0,this._state=fr.IDLE,this._didWork=!1,this._enabled=!0}run(a){return!this.done&&(a()===!0&&(this._didWork=!0),!0)}get done(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}get budget(){return this._budget}madeProgress(){this._didWork=!0}get state(){return this._state}get enabled(){return this._enabled}set enabled(a){this._enabled=a}reset(a,o){this._begin=this.now(),this._budget=a,this._state=o,this._didWork=!1}get remaining(){return Math.max(this._budget-this.elapsed,0)}get elapsed(){return this.now()-this._begin}resetProgress(){this._didWork=!1}get hasProgressed(){return this._didWork}}e.Budget=n})(Z$||(Z$={})),function(e){e.SCHEDULED="s",e.READY="r",e.WAITING="w",e.IDLE="i"}(du||(du={}));const Uq=(()=>{const e=new Z$.Budget(()=>performance.now());return e.enabled=!1,e})();class a5e{remove(){}processQueue(){}schedule(t,i,n){try{if(is(i)){const r=hi();return n?Promise.resolve(n(r)):Promise.reject(r)}return r5(t(Uq))}catch(r){return Promise.reject(r)}}reschedule(t,i,n){return this.schedule(t,i,n)}}const X$=new a5e,kv=Number.MAX_SAFE_INTEGER;let N0=class extends ge{constructor(e,t){var i;super({}),this._stage=e,this._textureRequests=new Map,this._frameTask=(i=t==null?void 0:t.registerTask(et.TEXTURE_UNLOAD))!=null?i:X$}normalizeCtorArgs(){return{}}destroy(){super.destroy(),this._frameTask.remove(),this._textureRequests.forEach(e=>this._releaseTextureRequest(e)),this._textureRequests.clear()}get updating(){return this._frameTask.updating}fromData(e,t,i){const n=this.makeUid(e);let r=this._textureRequests.get(n);return r||(r={referenceCount:0,texture:t(),textureAsync:null,abortController:null,onRemove:i},this._stage&&(this._stage.add(r.texture),this._stage.loadImmediate(r.texture)),this._textureRequests.set(n,r)),r.referenceCount++,{uid:n,texture:r.texture,release:()=>this._release(n)}}_release(e){const t=this._textureRequests.get(e);t?(t.referenceCount<1&&console.warn("TextureCollection: reference count is < 1 for "+e),t.referenceCount--,t.referenceCount<1&&this._frameTask.schedule(()=>this._releaseNow(e))):console.warn(`TextureCollection: texture doesn't exist: '${e}'`)}get test(){return{textureRequests:this._textureRequests}}_releaseNow(e){if(!this._textureRequests)return;const t=this._textureRequests.get(e);!t||t.referenceCount>0||(this._releaseTextureRequest(t),this._textureRequests.delete(e))}_releaseTextureRequest(e){var t;e.onRemove&&e.onRemove(),e.texture?(t=this._stage)==null||t.remove(e.texture):e.abortController&&(e.abortController.abort(),e.abortController=null)}makeUid(e,t=null){return T(t)?`${e}.${t}px`:e}};c([d()],N0.prototype,"_frameTask",void 0),c([d()],N0.prototype,"updating",null),N0=c([D("esri.views.3d.support.TextureCollection")],N0);var $R;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right"})($R||($R={}));const Gq=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],Wq={};function Jq(e){return!!Wq[e]}function o5e(e){for(const t of e)if(!Jq(t))return!1;return!0}Gq.forEach(e=>{Wq[e]=!0});class s5e{constructor(t){this.handlers=new Map,this.counter=0,this.handlerCounts=new Map,this.view=t,this.inputManager=null}connect(t){t&&this.disconnect(),this.inputManager=t,this.handlers.forEach(({handler:i,priority:n},r)=>this.inputManager.installHandlers(r,[i],n))}disconnect(){this.inputManager&&this.handlers.forEach((t,i)=>this.inputManager.uninstallHandlers(i)),this.inputManager=null}destroy(){this.disconnect(),this.handlers.clear(),this.view=null}on(t,i,n,r){const a=Array.isArray(t)?t:t.split(",");if(!o5e(a))return a.some(Jq)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let o,s;Array.isArray(i)?s=i:(o=i,s=[]),typeof n=="function"?o=n:r=n,r=r!=null?r:Ac.DEFAULT;const l=this._createUniqueGroupName(),u=new l5e(this.view,a,s,o);this.handlers.set(l,{handler:u,priority:r});for(const h of a){const m=this.handlerCounts.get(h)||0;this.handlerCounts.set(h,m+1)}return this.inputManager&&this.inputManager.installHandlers(l,[u],r),{remove:()=>this._removeHandler(l,a)}}hasHandler(t){return!!this.handlerCounts.get(t)}_removeHandler(t,i){if(this.handlers.has(t)){this.handlers.delete(t);for(const n of i){const r=this.handlerCounts.get(n);r===void 0?console.error("Trying to remove handler for event that has no handlers registered: ",n):r===1?this.handlerCounts.delete(n):this.handlerCounts.set(n,r-1)}}this.inputManager&&this.inputManager.uninstallHandlers(t)}_createUniqueGroupName(){return this.counter+=1,`viewEvents_${this.counter}`}}class l5e extends Wi{constructor(t,i,n,r){super(!0),this.view=t;for(const a of i)switch(a){case"click":this.registerIncoming("click",n,o=>r(this._wrapClick(o)));break;case"double-click":this.registerIncoming("double-click",n,o=>r(this._wrapDoubleClick(o)));break;case"immediate-click":this.registerIncoming("immediate-click",n,o=>r(this._wrapImmediateClick(o)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",n,o=>r(this._wrapImmediateDoubleClick(o)));break;case"hold":this.registerIncoming("hold",n,o=>r(this._wrapHold(o)));break;case"drag":this.registerIncoming("drag",n,o=>{const s=this._wrapDrag(o);s&&r(s)});break;case"key-down":this.registerIncoming("key-down",n,o=>r(this._wrapKeyDown(o)));break;case"key-up":this.registerIncoming("key-up",n,o=>r(this._wrapKeyUp(o)));break;case"pointer-down":this.registerIncoming("pointer-down",n,o=>r(this._wrapPointer(o,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",n,o=>r(this._wrapPointer(o,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",n,o=>r(this._wrapPointer(o,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",n,o=>r(this._wrapPointerDrag(o)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",n,o=>r(this._wrapMouseWheel(o)));break;case"pointer-enter":this.registerIncoming("pointer-enter",n,o=>r(this._wrapPointer(o,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",n,o=>r(this._wrapPointer(o,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",n,o=>{r(this._wrapGamepad(o))});break;case"focus":this.registerIncoming("focus",n,o=>{r(this._wrapFocus(o))});break;case"blur":this.registerIncoming("blur",n,o=>{r(this._wrapBlur(o))})}}_wrapFocus(t){return{type:"focus",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:i=>t.async(i),preventDefault:()=>t.preventDefault()}}_wrapBlur(t){return{type:"blur",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:i=>t.async(i),preventDefault:()=>t.preventDefault()}}_wrapClick(t){const{pointerType:i,button:n,buttons:r,x:a,y:o,native:s,eventId:l}=t.data,{cancelable:u,timestamp:h}=t;return{type:"click",pointerType:i,button:n,buttons:r,x:a,y:o,native:s,timestamp:h,screenPoint:Un(a,o),mapPoint:this._getMapPoint(a,o),eventId:l,cancelable:u,stopPropagation:()=>t.stopPropagation(),async:m=>t.async(m),preventDefault:()=>t.preventDefault()}}_wrapDoubleClick(t){const{pointerType:i,button:n,buttons:r,x:a,y:o,native:s,eventId:l}=t.data,{cancelable:u,timestamp:h}=t;return{type:"double-click",pointerType:i,button:n,buttons:r,x:a,y:o,native:s,timestamp:h,mapPoint:this._getMapPoint(a,o),eventId:l,cancelable:u,stopPropagation:()=>t.stopPropagation(),async:m=>t.async(m),preventDefault:()=>t.preventDefault()}}_wrapImmediateClick(t){const{pointerType:i,button:n,buttons:r,x:a,y:o,native:s,eventId:l}=t.data,u=s.pointerId,{cancelable:h,timestamp:m}=t;return{type:"immediate-click",pointerId:u,pointerType:i,button:n,buttons:r,x:a,y:o,native:s,timestamp:m,mapPoint:this._getMapPoint(a,o),eventId:l,cancelable:h,stopPropagation:()=>t.stopPropagation(),async:f=>t.async(f),preventDefault:()=>t.preventDefault()}}_wrapImmediateDoubleClick(t){const{pointerType:i,button:n,buttons:r,x:a,y:o,native:s,eventId:l}=t.data,u=s.pointerId,{cancelable:h,timestamp:m}=t;return{type:"immediate-double-click",pointerId:u,pointerType:i,button:n,buttons:r,x:a,y:o,native:s,timestamp:m,mapPoint:this._getMapPoint(a,o),eventId:l,cancelable:h,stopPropagation:()=>t.stopPropagation(),async:f=>t.async(f),preventDefault:()=>t.preventDefault()}}_wrapHold(t){const{pointerType:i,button:n,buttons:r,x:a,y:o,native:s}=t.data,{cancelable:l,timestamp:u}=t;return{type:"hold",pointerType:i,button:n,buttons:r,x:a,y:o,native:s,timestamp:u,mapPoint:this._getMapPoint(a,o),cancelable:l,stopPropagation:()=>t.stopPropagation(),async:h=>t.async(h),preventDefault:()=>t.preventDefault()}}_getMapPoint(t,i){return this.view.toMap(Un(t,i),{exclude:[]})}_wrapDrag(t){const i=t.data,{x:n,y:r}=i.center,{action:a,pointerType:o,button:s}=i;if(a==="start"&&(this.latestDragStart=i),!this.latestDragStart)return;const l=i.pointer.native,u=i.buttons,{cancelable:h,timestamp:m}=t,f={x:this.latestDragStart.center.x,y:this.latestDragStart.center.y};return a==="end"&&(this.latestDragStart=void 0),{type:"drag",action:a,x:n,y:r,origin:f,pointerType:o,button:s,buttons:u,radius:i.radius,angle:Lz(i.angle),native:l,timestamp:m,cancelable:h,stopPropagation:()=>t.stopPropagation(),async:g=>t.async(g),preventDefault:()=>t.preventDefault()}}_wrapKeyDown(t){const{key:i,repeat:n,native:r}=t.data,{cancelable:a,timestamp:o}=t;return{type:"key-down",key:i,repeat:n,native:r,timestamp:o,cancelable:a,stopPropagation:()=>t.stopPropagation(),async:s=>t.async(s),preventDefault:()=>t.preventDefault()}}_wrapKeyUp(t){const{key:i,native:n}=t.data,{cancelable:r,timestamp:a}=t;return{type:"key-up",key:i,native:n,timestamp:a,cancelable:r,stopPropagation:()=>t.stopPropagation(),async:o=>t.async(o),preventDefault:()=>t.preventDefault()}}_wrapPointer(t,i){const{x:n,y:r,button:a,buttons:o,native:s,eventId:l}=t.data,u=s.pointerId,h=s.pointerType,{cancelable:m,timestamp:f}=t;return{type:i,x:n,y:r,pointerId:u,pointerType:h,button:a,buttons:o,native:s,timestamp:f,eventId:l,cancelable:m,stopPropagation:()=>t.stopPropagation(),async:g=>t.async(g),preventDefault:()=>t.preventDefault()}}_wrapPointerDrag(t){const{x:i,y:n,buttons:r,native:a,eventId:o}=t.data.currentEvent,{button:s}=t.data.startEvent,l=t.data.startEvent.native.pointerId,u=t.data.startEvent.native.pointerType,h=t.data.action,m={x:t.data.startEvent.x,y:t.data.startEvent.y},{cancelable:f,timestamp:g}=t;return{type:"pointer-drag",x:i,y:n,pointerId:l,pointerType:u,button:s,buttons:r,action:h,origin:m,native:a,timestamp:g,eventId:o,cancelable:f,stopPropagation:()=>t.stopPropagation(),async:b=>t.async(b),preventDefault:()=>t.preventDefault()}}_wrapMouseWheel(t){const{cancelable:i,data:n,timestamp:r}=t,{x:a,y:o,deltaY:s,native:l}=n;return{type:"mouse-wheel",x:a,y:o,deltaY:s,native:l,timestamp:r,cancelable:i,stopPropagation:()=>t.stopPropagation(),async:u=>t.async(u),preventDefault:()=>t.preventDefault()}}_wrapGamepad(t){const{action:i,state:n,device:r}=t.data,{cancelable:a,timestamp:o}=t,{buttons:s,axes:l}=n;return{type:"gamepad",device:r,timestamp:o,action:i,buttons:s,axes:l,cancelable:a,stopPropagation:()=>t.stopPropagation(),async:u=>t.async(u),preventDefault:()=>t.preventDefault()}}}var oy,CR,IR;(function(e){e[e.USER=0]="USER",e[e.MANAGER=1]="MANAGER"})(oy||(oy={})),function(e){e[e.None=0]="None",e[e.Unfocused=1]="Unfocused",e[e.Focused=2]="Focused",e[e.Unselected=4]="Unselected",e[e.Selected=8]="Selected",e[e.All=15]="All"}(CR||(CR={})),function(e){e[e.None=0]="None",e[e.Custom1=16]="Custom1",e[e.Custom2=32]="Custom2",e[e.Custom3=64]="Custom3",e[e.Custom4=128]="Custom4",e[e.Custom5=256]="Custom5",e[e.Custom6=512]="Custom6",e[e.Custom7=1024]="Custom7",e[e.Custom8=2048]="Custom8",e[e.Custom9=4096]="Custom9",e[e.Custom10=8192]="Custom10",e[e.Custom11=16384]="Custom11",e[e.Custom12=32768]="Custom12",e[e.All=65520]="All"}(IR||(IR={}));const c5e=Q.getLogger("esri.views.interactive.interactiveToolUtils");function u5e(e){return[e.on("before-add",t=>{const i=t.item;if(i==null||e.includes(i))return c5e.warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void t.preventDefault()}),e.on("after-remove",t=>{const i=t.item;i.visible=!1,i.active&&(i.view.activeTool=null),i.destroy()})]}function Ax(e){return e.visible&&e.getEditableFlag(oy.USER)&&e.getEditableFlag(oy.MANAGER)}function Lo(e){return Un(e.x,e.y)}function Kq(e,t){const i=(e instanceof HTMLElement?e:e.surface).getBoundingClientRect();return Un(t.clientX-i.left,t.clientY-i.top)}function ER(e,t){return t instanceof Event?Kq(e,t):Lo(t)}function TR(e){if(e instanceof Event)return!0;if(typeof e=="object"&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}class d5e{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._currentlyActiveTool=null,this._revertToActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}handleInputEvent(t,i){const n=()=>t.stopPropagation();switch(t.type){case"pointer-move":MR(t.pointerType)&&this._pointerLocations.set(t.pointerId,{x:t.x,y:t.y,pointerType:t.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(n(),t.action==="end"&&(this._stopDrag=!1));break;case"pointer-down":{if(!AR(t))break;const r=Lo(t),a=this._intersect(r,t.pointerType,i.forEachTool);if(V(a))break;const o=this._findToolAndManipulatorByKey(a,i.forEachTool,_v),s=gc(o,u=>u.manipulator),l=gc(o,u=>u.tool);!(T(s)&&T(l)&&s.interactive)||s.grabbable&&s.grabbableForEvent(t)||!s.grabbing||s.dragging||this._ungrabManipulatorBeforeDragging(s,l,t),T(s)&&s.interactive&&s.grabbable&&s.grabbableForEvent(t)&&!s.grabbing&&(this._grabbedManipulators.set(t.pointerId,{key:a,start:r,pointerType:t.pointerType}),this._grabbedManipulators.size===1&&i.activeTool!==a.tool&&(this._currentlyActiveTool=i.activeTool,this._revertToActiveTool=!0,i.setActiveTool(a.tool)),s.grabbing=!0,s.events.emit("grab-changed",{action:"start",pointerType:t.pointerType,screenPoint:r}),n());break}case"pointer-up":this._handlePointerEnd(t,i);break;case"pointer-drag":{if(!AR(t))break;const r=this._grabbedManipulators.get(t.pointerId),a=this._draggedManipulators.get(t.pointerId),o=gc(r||a,({key:h})=>h),s=this._findManipulatorByKey(o,i.forEachTool);if(V(s))break;const l=Lo(t);l.x=ha(l.x,0,i.view.width),l.y=ha(l.y,0,i.view.height);const u=(r||a).start;switch(t.action){case"start":case"update":t.action!=="update"&&this._grabbedManipulators.size!==1||(s.dragging=!0,a?s.events.emit("drag",{action:"update",start:u,screenPoint:l}):s.events.emit("drag",{action:"start",start:u,screenPoint:l,pointerType:t.pointerType}),this._draggedManipulators.set(t.pointerId,{key:o,start:u}));break;case"end":s.dragging=!1,a&&s.events.emit("drag",{action:"end",start:u,screenPoint:l}),this._draggedManipulators.delete(t.pointerId),this._handlePointerEnd(t,i)}n();break}case"immediate-click":{const r=Lo(t),a=this._intersect(r,t.pointerType,i.forEachTool),o=this._findToolAndManipulatorByKey(a,i.forEachTool,_v);if(h5e(t)||i.forEachTool(h=>{if((!T(o)||o.tool!==h||h.automaticManipulatorSelection)&&h.manipulators){let m=!1;h.manipulators.forEach(({manipulator:f})=>{f.selected&&(f.selected=!1,m=!0)}),m&&h.manipulatorSelectionChanged&&h.manipulatorSelectionChanged()}}),V(o))break;const{manipulator:s,tool:l}=o;if(!s.interactive)break;s.selectable&&l.automaticManipulatorSelection&&(s.selected=!s.selected,l.manipulatorSelectionChanged&&l.manipulatorSelectionChanged());const u=t.native.shiftKey;s.events.emit("immediate-click",{screenPoint:r,button:t.button,pointerType:t.pointerType,shiftKey:u,stopPropagation:n});break}case"click":{const r=Lo(t),a=this._intersect(r,t.pointerType,i.forEachTool),o=this._findManipulatorByKey(a,i.forEachTool);if(V(o)||!o.interactive)break;const s=t.native.shiftKey;o.events.emit(t.type,{screenPoint:r,button:t.button,pointerType:t.pointerType,shiftKey:s}),n();break}case"double-click":{const r=Lo(t),a=this._intersect(r,t.pointerType,i.forEachTool),o=this._findManipulatorByKey(a,i.forEachTool);if(V(o)||!o.interactive)break;const s=t.native.shiftKey;o.events.emit("double-click",{screenPoint:r,button:t.button,pointerType:t.pointerType,shiftKey:s,stopPropagation:n});break}case"immediate-double-click":{const r=Lo(t),a=this._intersect(r,t.pointerType,i.forEachTool),o=this._findManipulatorByKey(a,i.forEachTool);if(V(o)||!o.interactive)break;const s=t.native.shiftKey;o.events.emit("immediate-double-click",{screenPoint:r,button:t.button,pointerType:t.pointerType,shiftKey:s,stopPropagation:n});break}}this._updateCursor(i.forEachTool)}_ungrabManipulatorBeforeDragging(t,i,n){t.grabbing=!1,t.events.emit("grab-changed",{action:"end",pointerType:n.pointerType,screenPoint:Lo(n)}),this._grabbedManipulators.forEach(({key:r},a)=>{r.tool===i&&i.manipulators.findById(r.manipulatorId)===t&&this._grabbedManipulators.delete(a)})}_handlePointerEnd(t,i){const n=gc(this._grabbedManipulators.get(t.pointerId),({key:a})=>a),r=this._findManipulatorByKey(n,i.forEachTool);T(r)&&!r.dragging&&(this._grabbedManipulators.size===1&&this._draggedManipulators.size===0&&this._revertToActiveTool&&(i.setActiveTool(this._currentlyActiveTool),this._revertToActiveTool=!1,this._currentlyActiveTool=null),r.grabbing&&(r.grabbing=!1,r.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:Lo(t)})),this._grabbedManipulators.delete(t.pointerId))}_cursorFromMap(t,i){let n=null;return ok(t,({key:r})=>{const a=this._findManipulatorByKey(r,i);return!!(T(a)&&a.interactive&&"cursor"in a&&a.cursor)&&(n=a.cursor,!0)}),n}_updateCursor(t){this._grabbedManipulators.size>0?this._cursor=this._cursorFromMap(this._grabbedManipulators,t)||"grabbing":this._hoveredManipulators.size>0?this._cursor=this._cursorFromMap(this._hoveredManipulators,t)||"pointer":this._cursor=null}clearPointers(t,i,n=!0,r){const a=o=>o.tool===t&&(V(r)||o.manipulatorId===r);this._grabbedManipulators.forEach(({key:o,pointerType:s},l)=>{if(a(o)){this._grabbedManipulators.delete(l);const u=this._findManipulatorByKey(o,i);T(u)&&(u.grabbing=!1,u.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:s}))}}),this._draggedManipulators.forEach(({key:o},s)=>{if(a(o)){this._draggedManipulators.delete(s);const l=this._findManipulatorByKey(o,i);T(l)&&(l.dragging=!1,l.events.emit("drag",{action:"cancel"}))}}),n&&this._hoveredManipulators.forEach(({key:o},s)=>{if(a(o)){this._hoveredManipulators.delete(s);const l=this._findManipulatorByKey(o,i);T(l)&&(l.hovering=!1)}}),this._updateCursor(i)}_intersect(t,i,n){let r=null;return n(a=>{if(a.manipulators==null||!Ax(a))return!1;const o=a.manipulators.intersect(t,i);return!V(o)&&(r={manipulatorId:o.id,tool:a},!0)}),r}updateHoveredStateFromKnownPointers(t){this._pointerLocations.forEach((i,n)=>{this._updateHoveredStateForPointerAtScreenPosition(Un(i.x,i.y),n,i.pointerType,t)})}handleHoverEvent(t,i){t.type!=="pointer-up"&&t.type!=="immediate-click"&&t.type!=="pointer-move"||!MR(t.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(Lo(t),t.pointerId,t.pointerType,i)}_updateHoveredStateForPointerAtScreenPosition(t,i,n,r){const a=this._intersect(t,n,r);let o=this._findManipulatorByKey(a,r);const s=gc(this._hoveredManipulators.get(i),({key:u})=>u),l=this._findManipulatorByKey(s,r);T(o)&&!o.interactive&&(o=null),l!==o&&(T(l)&&(l.hovering=!1),T(o)?(o.hovering=!0,this._hoveredManipulators.set(i,{key:a})):this._hoveredManipulators.delete(i),this._updateCursor(r))}_findManipulatorByKey(t,i){return this._findToolAndManipulatorByKey(t,i,_v)?_v.manipulator:null}_findToolAndManipulatorByKey(t,i,n){return V(t)?null:(n.tool=null,n.manipulator=null,i(r=>{if(r!==t.tool||r.manipulators==null||!Ax(r))return!1;const a=r.manipulators.findById(t.manipulatorId);return!!T(a)&&(n.manipulator=a,n.tool=r,!0)}),n.manipulator?n:null)}}function MR(e){return e==="mouse"}function AR(e){return e.pointerType!=="mouse"||e.button===0}function h5e(e){return!!e.native.shiftKey}const _v={manipulator:null,tool:null},OR=Q.getLogger("esri.views.ToolViewManager"),PR="attached",h3="tools";let js=class extends um{constructor(e){super(e),this._manipulatorState=new d5e,this.tools=new _e,this.cursor=null,this._forEachTool=t=>{for(const i of this.tools.items)if(t(i))return}}initialize(){this.handles.add([this.view.on(Gq,e=>{this._handleInputEvent(e)},Ac.TOOL),...u5e(this.tools),this.tools.on("before-remove",({item:e})=>{this._manipulatorState.clearPointers(e,this._forEachTool)}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.detach(),this.handles.removeAll()}set activeTool(e){if(T(e)&&!this.view.ready)return void OR.error("Cannot set active tool while view is not ready.");if(e===this.activeTool)return void(T(e)&&OR.warn("Tool is already active - ignoring activation request."));const t=this.activeTool;this._set("activeTool",e),T(t)&&t.deactivate(),T(e)&&e.activate(),this._removeIncompleteTools(e);const i=V(this.activeTool);for(const n of this.tools){n.setEditableFlag(oy.MANAGER,i||n===this.activeTool);const r=Ax(n);!i&&r||this._manipulatorState.clearPointers(n,this._forEachTool,!r)}this._updateCursor()}get updating(){var e,t;return this.updatingHandles.updating||this.tools.some(i=>i.updating)||(e=(t=this.textures)==null?void 0:t.updating)!=null&&e}attach(){this.view.type==="3d"?(this._set("textures",new N0(this.view._stage,this.view.resourceController.scheduler)),this.handles.add([this.view.state.watch("camera",()=>{this._forEachManipulator(e=>{e.onViewChange!=null&&e.onViewChange()})}),this.view.elevationProvider.on("elevation-change",e=>{this._forEachManipulator(t=>{t.onElevationChange!=null&&t.onElevationChange(e)})}),Am(()=>this._set("textures",Ho(this.textures)))],PR)):this.handles.add(this.view.watch("extent",()=>{this._forEachManipulator(e=>{e.onViewChange!=null&&e.onViewChange()})}))}detach(){T(this.activeTool)&&(this.activeTool=null),this.tools.removeAll(),this.handles.remove(PR)}_forEachManipulator(e){this._forEachTool(t=>{t.manipulators&&t.manipulators.forEach(({manipulator:i})=>e(i,t))})}_handleInputEvent(e){let t=!1;const i=le($({},e),{stopPropagation:()=>{t=!0,e.stopPropagation()}});T(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(i):this._forEachTool(n=>{!t&&n.visible&&n.handleInputEvent(i)}),!t&&e.type==="key-down"&&e.key==="Escape"&&this.activeTool&&(e.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(i,{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:n=>{this.activeTool=n},view:this.view}),!t&&T(this.activeTool)&&this.activeTool.handleInputEventAfter(i),this._manipulatorState.handleHoverEvent(i,this._forEachTool),this._updateCursor()}_refreshToolWatchers(){this.handles.remove(h3),this._forEachTool(e=>{if(e instanceof ge){const t=kt(e,["cursor","visible","editable"],()=>{Ax(e)||this._manipulatorState.clearPointers(e,this._forEachTool),this._updateCursor()});this.handles.add(t,h3)}e.manipulators&&this.handles.add(e.manipulators.on("change",t=>{t.removed.forEach(({id:i})=>{this._manipulatorState.clearPointers(e,this._forEachTool,!0,i)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}),h3)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateCursor(){let e=this._manipulatorState.cursor;this._forEachTool(t=>!(!T(t.cursor)||!t.visible)&&(e=t.cursor,!0)),this._get("cursor")!==e&&this._set("cursor",e)}_removeIncompleteTools(e){this.tools.filter(t=>(V(e)||t!==e)&&!t.created).forEach(t=>{this.tools.remove(t)})}};c([d({constructOnly:!0,nonNullable:!0})],js.prototype,"view",void 0),c([d({readOnly:!0,nonNullable:!0})],js.prototype,"textures",void 0),c([d({value:null})],js.prototype,"activeTool",null),c([d({readOnly:!0,type:_e})],js.prototype,"tools",void 0),c([d({readOnly:!0})],js.prototype,"cursor",void 0),c([d({readOnly:!0})],js.prototype,"updating",null),js=c([D("esri.views.ToolViewManager")],js);const p5e=js;let dp=class extends ge{constructor(e){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",e.mapping==="standard"?this._detectedDeviceType="standard":m5e.test(e.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=e.index}get native(){return(navigator.getGamepads?navigator.getGamepads():[])[this.nativeIndex]}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return f5e[this.deviceType]}};c([d({nonNullable:!0,readOnly:!0})],dp.prototype,"nativeIndex",void 0),c([d({type:String,readOnly:!0})],dp.prototype,"deviceType",null),c([d({type:Number,readOnly:!0})],dp.prototype,"axisThreshold",null),dp=c([D("esri.views.input.gamepad.GamepadInputDevice")],dp);const m5e=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),f5e={standard:.15,spacemouse:.025,unknown:0},hT=dp;let z0=class extends ge{constructor(...e){super(...e),this.devices=new _e,this.enabledFocusMode="document"}};c([d({type:_e.ofType(hT),readOnly:!0})],z0.prototype,"devices",void 0),c([d({type:["document","view","none"]})],z0.prototype,"enabledFocusMode",void 0),z0=c([D("esri.views.input.gamepad.GamepadSettings")],z0);const g5e=z0;let Y1=class extends ge{constructor(){super(...arguments),this.gamepad=new g5e}};c([d({readOnly:!0})],Y1.prototype,"gamepad",void 0),Y1=c([D("esri.views.input.Input")],Y1);const y5e=Y1;let ic=class extends ge{constructor(e){super(e),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};c([d({type:Boolean,nonNullable:!0})],ic.prototype,"enabled",void 0),c([d({type:hT})],ic.prototype,"device",void 0),c([d({type:["pan","zoom"],nonNullable:!0})],ic.prototype,"mode",void 0),c([d({type:["forward-down","forward-up"],nonNullable:!0})],ic.prototype,"tiltDirection",void 0),c([d({type:Number,nonNullable:!0})],ic.prototype,"velocityFactor",void 0),ic=c([D("esri.views.navigation.gamepad.GamepadSettings")],ic);const Yq=ic;let Ju=class extends ge{constructor(e){super(e),this.browserTouchPanEnabled=!0,this.gamepad=new Yq,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}};c([d({type:Boolean})],Ju.prototype,"browserTouchPanEnabled",void 0),c([d({type:Yq,nonNullable:!0})],Ju.prototype,"gamepad",void 0),c([d({type:Boolean})],Ju.prototype,"momentumEnabled",void 0),c([d({type:Boolean})],Ju.prototype,"mouseWheelZoomEnabled",void 0),Ju=c([D("esri.views.navigation.Navigation")],Ju);const Zq=Ju;var LR;function b5e(e){const t=e.url&&Xy(e.url);return!((e.spatialReference&&e.spatialReference.vcsWkid)==null&&T(t)&&t.serverType==="ImageServer")&&Xq(e)&&e.heightModelInfo?e.heightModelInfo:v5e(e)?qk.deriveUnitFromSR(x5e,e.spatialReference):null}function Xq(e){return"heightModelInfo"in e}function Qq(e){if(e.type==="unknown"||!("capabilities"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"wfs":return!0;default:return!1}}function v5e(e){return Qq(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):eB(e)}function w5e(e){return e.layers!=null||eB(e)||Qq(e)||Xq(e)}function eB(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"point-cloud":case"scene":case"voxel":return!0;case"analysis":case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"csv":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"map-image":case"map-notes":case"ogc-feature":case"open-street-map":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}(function(e){e[e.Ok=0]="Ok",e[e.Units=1]="Units",e[e.HeightModel=2]="HeightModel",e[e.CRS=3]="CRS",e[e.Unsupported=4]="Unsupported"})(LR||(LR={}));const x5e=new qk({heightModel:"gravity-related-height"});var sy;function RR(e){return e===sy.Global?"global":"local"}(function(e){e[e.Global=1]="Global",e[e.Local=2]="Local"})(sy||(sy={}));let Q$,p3=null;async function k5e(e){p3||(p3=import("./geometryServiceUtils.ab0111db.js").then(t=>Q$=t)),await p3,pi(e)}async function tB(e,t,i,n){if(!e)return null;const r=e.spatialReference;return ym()||Gd(r,t)?Vy(e,t):Q$?Q$.projectGeometry(e,t,i,n):(await Promise.race([k5e(n),bm(n)]),tB(e,t,i,n))}const iB=Q.getLogger("esri.views.support.DefaultsFromMap");iB.level="info";let gt=class extends ge{constructor(e){super(e),this.required={tileInfo:!1,heightModelInfo:!1,extent:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.logDebugInformation=!1,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._debug("Aborting project extent task"),this._projectExtentTask.task=X3(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return T(this.userSpatialReference)?this.userSpatialReference:this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return V(this.userSpatialReference)||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){var e,t,i,n;const r=(e=this.map)==null?void 0:e.call(this),a=[];return T(this.priorityCollection)&&a.push(this.priorityCollection),a.push({parent:r==null?void 0:r.basemap,layers:r==null||(t=r.basemap)==null?void 0:t.baseLayers},{layers:r==null?void 0:r.layers},{parent:r==null?void 0:r.ground,layers:r==null||(i=r.ground)==null?void 0:i.layers},{parent:r==null?void 0:r.basemap,layers:r==null||(n=r.basemap)==null?void 0:n.referenceLayers}),a}get _allLayers(){var e,t;const i=this._collectLayers(this.mapCollections);return this._debug("Collected",(e=(t=i.layers)==null?void 0:t.length)!=null?e:0,"layers, updating",i.updating),i}get _spatialReferenceTask(){var e,t;if(this.suspended)return(t=this._get("_spatialReferenceTask"))!=null?t:{updating:!1};const{layers:i,updating:n}=this._allLayers,r={candidates:null};for(const o of i)if(this._processSpatialReferenceCandidates(o,r),r.candidates&&r.candidates.length===1)break;if(((e=r.candidates)==null?void 0:e.length)!==1&&n)return{updating:!0};const a=this._pickSpatialReferenceCandidate(r.candidates);return this._debug("Finished spatial reference",T(a)?`${a.spatialReference.wkid}:${T(a.viewingMode)?RR(a.viewingMode):"global/local"}`:"none available"),{spatialReference:T(a)?a.spatialReference:null,viewingMode:T(a)?a.viewingMode:null,updating:!1}}get _tileInfoTask(){var e,t,i,n,r,a,o,s;if(!this.required.tileInfo)return(s=this._get("_tileInfoTask"))!=null?s:{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const{layers:l,updating:u}=this._collectLayers([{parent:(e=this.map)==null||(t=e.call(this))==null?void 0:t.basemap,layers:(i=this.map)==null||(n=i.call(this))==null||(r=n.basemap)==null?void 0:r.baseLayers},{layers:(a=this.map)==null||(o=a.call(this))==null?void 0:o.layers}]);if(l&&l.length>0&&"tileInfo"in l[0]){const h=l[0].tileInfo;return{tileInfo:h&&h.spatialReference.equals(this.spatialReference)?h:null,updating:!1}}return{updating:u}}get _heightModelInfoTask(){var e,t;if(!this.required.heightModelInfo||this.suspended&&(e=this._get("_heightModelInfoTask"))!=null&&e.heightModelInfo)return(t=this._get("_heightModelInfoTask"))!=null?t:{updating:!1};const{layers:i,updating:n}=this._allLayers;for(const l of i){var r,a;if(this._debug("Considering",(r=(a=l.title)!=null?a:l.id)!=null?r:l.declaredClass,"for height model info"),w5e(l)){const u=b5e(l);var o,s;if(u)return this._debug("Derived height model info",u),{heightModelInfo:u,vcsWkid:(o=l.spatialReference)==null?void 0:o.vcsWkid,latestVcsWkid:(s=l.spatialReference)==null?void 0:s.latestVcsWkid,updating:!1}}this._debug("Layer does not support height models")}return this._debug("No height model info found,","updating",n),{updating:n}}get _extentCandidatesTask(){var e;if(this.suspended||!this.required.extent)return(e=this._get("_extentCandidatesTask"))!=null?e:{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const t=this._allLayers,i=t.updating,n=[];for(const a of t.layers){var r;const o="fullExtents"in a&&a.fullExtents||(T(a.fullExtent)?[a.fullExtent]:[]),s=this.requiresExtentInSpatialReference?null:o[0],l=(r=o.find(u=>u.spatialReference.equals(this.spatialReference)))!=null?r:s;if(l)return{candidates:[{extent:l,layer:a}],updating:!1};if(this._getSupportedSpatialReferences(a).length>0)for(const u of o)n.push({extent:u,layer:a})}return{candidates:n,updating:i}}get _extentTask(){const{candidates:e,updating:t}=this._extentCandidatesTask;if(t)return{updating:t};if(V(e)||e.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const i=this._pickExtentCandidate(e),n=this.spatialReference;return i.extent.equals(this._projectExtentTask.input)&&n.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:T(this._projectExtentTask.task)&&!this._projectExtentTask.task.finished}:(T(this._projectExtentTask.task)&&(this._debug("Aborting project extent task"),this._projectExtentTask.task=X3(this._projectExtentTask.task)),this._debug("Starting project extent task for",i.extent),this._projectExtentTask={input:i.extent.clone(),output:null,spatialReference:n.clone(),task:a6(async r=>{try{const a=await tB(i.extent,n,i.layer.portalItem,r);this._debug("Project extent task finished",a),this._projectExtentTask=le($({},this._projectExtentTask),{task:null,output:a})}catch{if(is(r))return;this._projectExtentTask=le($({},this._projectExtentTask),{task:null})}})},{updating:!0})}_processSpatialReferenceCandidates(e,t){var i;const n=this._getSupportedSpatialReferences(e);if(n.length!==0)if(this._debug("Spatial reference candidates from",(i=e.title)!=null?i:e.id,":",n.map(r=>`${r.spatialReference.wkid}:${T(r.viewingMode)?RR(r.viewingMode):"global/local"}`).join(", ")),t.candidates){const r=[],a=(o,s)=>V(o.viewingMode)?s.viewingMode:(V(s.viewingMode)||o.viewingMode===s.viewingMode)&&o.viewingMode;for(const o of t.candidates)for(const s of n){if(!o.spatialReference.equals(s.spatialReference))continue;const l=a(o,s);if(l!==!1){r.push({spatialReference:o.spatialReference,viewingMode:l});break}}r.length>0&&(t.candidates=r)}else t.candidates=n}_pickSpatialReferenceCandidate(e){const t=this.defaultSpatialReference;return!e||e.length<1?T(t)?{spatialReference:t,viewingMode:null}:null:(T(t)&&e.length>1&&e.some(({spatialReference:i})=>i.equals(t))&&(e=e.filter(({spatialReference:i})=>i.equals(t))),e.length>1&&e.some(({viewingMode:i})=>i!==sy.Local)&&(e=e.filter(({viewingMode:i})=>i!==sy.Local)),e[0])}_getSupportedSpatialReferences(e){const t="supportedSpatialReferences"in e&&e.supportedSpatialReferences||(e.spatialReference?[e.spatialReference]:[]);if(t.length===0)return[];const i=[];for(const n of t){const r=this.getSpatialReferenceSupport({spatialReference:n,layer:e});if(T(r)){const a=T(r.constraints)?r.constraints:[{spatialReference:n}];for(const{spatialReference:o,viewingMode:s}of a)(!this.requiresExtentInSpatialReference||V(this.userSpatialReference)||o.equals(this.userSpatialReference))&&i.push({spatialReference:o,viewingMode:s})}}return i}_pickExtentCandidate(e){const t=this.spatialReference;return e.find(({extent:i})=>t.equals(i.spatialReference))||e[0]}_collectLayers(e){var t;if(this._loadMaybe((t=this.map)==null?void 0:t.call(this))!=="loaded")return{layers:[],updating:!0};const i={layers:[],preloading:-1,updating:!1};for(const n of e)if(this._collectCollection(n,i),i.preloading===this.sourcePreloadCount)break;return{layers:i.layers,updating:i.updating}}_collectCollection(e,t){if(e.layers){switch(this._loadMaybe(e.parent)){case"loading":return t.updating=!0,void++t.preloading;case"failed":return}for(const r of e.layers){switch(this._loadMaybe(r)){case"failed":continue;case"loading":t.updating=!0,++t.preloading;break;case"loaded":var i,n;t.updating||(this._debug("Considering layer",(i=(n=r.title)!=null?n:r.id)!=null?i:r.declaredClass),t.layers.push(r)),"layers"in r&&this._collectCollection({layers:r.layers},t)}if(t.preloading===this.sourcePreloadCount)break}}}_loadMaybe(e){return e&&"loadStatus"in e?e.loadStatus==="not-loaded"?(this._debug("Triggering load",(t=(i=e.title)!=null?i:e.id)!=null?t:e.declaredClass),e.load(),"loading"):e.loadStatus:"loaded";var t,i}_debug(...e){this.logDebugInformation&&iB.info(...e)}};c([d()],gt.prototype,"required",void 0),c([d({constructOnly:!0})],gt.prototype,"map",void 0),c([d({constructOnly:!0})],gt.prototype,"getSpatialReferenceSupport",void 0),c([d()],gt.prototype,"defaultSpatialReference",void 0),c([d()],gt.prototype,"userSpatialReference",void 0),c([d()],gt.prototype,"sourcePreloadCount",void 0),c([d()],gt.prototype,"priorityCollection",void 0),c([d()],gt.prototype,"logDebugInformation",void 0),c([d()],gt.prototype,"requiresExtentInSpatialReference",void 0),c([d()],gt.prototype,"suspended",void 0),c([d({readOnly:!0})],gt.prototype,"ready",null),c([d({readOnly:!0})],gt.prototype,"heightModelInfoReady",null),c([d({readOnly:!0})],gt.prototype,"spatialReference",null),c([d({readOnly:!0})],gt.prototype,"extent",null),c([d({readOnly:!0})],gt.prototype,"heightModelInfo",null),c([d({readOnly:!0})],gt.prototype,"vcsWkid",null),c([d({readOnly:!0})],gt.prototype,"latestVcsWkid",null),c([d({readOnly:!0})],gt.prototype,"viewingMode",null),c([d({readOnly:!0})],gt.prototype,"tileInfo",null),c([d({readOnly:!0})],gt.prototype,"mapCollections",null),c([d({readOnly:!0})],gt.prototype,"_allLayers",null),c([d({readOnly:!0})],gt.prototype,"_spatialReferenceTask",null),c([d({readOnly:!0})],gt.prototype,"_tileInfoTask",null),c([d({readOnly:!0})],gt.prototype,"_heightModelInfoTask",null),c([d({readOnly:!0})],gt.prototype,"_extentCandidatesTask",null),c([d()],gt.prototype,"_extentTask",null),c([d()],gt.prototype,"_projectExtentTask",void 0),gt=c([D("esri.views.support.DefaultsFromMap")],gt);const _5e=gt;var Z1;const Sv=Q.getLogger("esri.views.View");let Ee=Z1=class extends eh(Gc.EventedMixin(lk(ge))){constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.allLayerViews=new Bp({getCollections:()=>{var t,i,n;return[(t=this.basemapView)==null?void 0:t.baseLayerViews,(i=this.groundView)==null?void 0:i.layerViews,this.layerViews,(n=this.basemapView)==null?void 0:n.referenceLayerViews]},getChildrenFunction:t=>t.layerViews}),this.groundView=null,this.animation=null,this.basemapView=null,this.fatalError=null,this.extent=null,this.graphics=new Sg,this.analyses=new Mx,this.navigating=!1,this.typeSpecificPreconditionsReady=!0,this.layerViews=new _e,this.magnifier=new Bq,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new y5e,this.navigation=new Zq,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new s5e(this),this.persistableViewModels=new _e,this._isValid=!1,this._readyCycleForced=!1,this.handles.add(this.watch("preconditionsReady",t=>{var i,n;t?(this._currentSpatialReference=this.spatialReference,Z1.views.add(this)):(this._currentSpatialReference=null,Z1.views.remove(this)),this.notifyChange("spatialReference"),!t&&this.ready?((i=this.layerViewManager)==null||i.clear(),(n=this.toolViewManager)==null||n.detach(),T(this.analysisViewManager)&&this.analysisViewManager.detach(),this._teardown()):t&&!this.ready&&(T(this.analysisViewManager)&&this.analysisViewManager.attach(),this._startup(),this.toolViewManager.attach())},!0))}initialize(){this.addResolvingPromise(this.validate().then(()=>(this._isValid=!0,DI(()=>this.ready)))),this.basemapView=new tc({view:this}),this.layerViewManager=new t5e({view:this,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.toolViewManager=new p5e({view:this}),this._setupSpatialReferenceLogger(),this.handles.add([_t(()=>this.initialExtentRequired,e=>this.defaultsFromMap.required=le($({},this.defaultsFromMap.required),{extent:e}),{sync:!0,initial:!0}),_t(()=>this.ready,e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)},{sync:!0}),_t(()=>this._userSpatialReference,e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)},{sync:!0,initial:!0})])}_setupSpatialReferenceLogger(){let e=null;this.handles.add([_t(()=>{var t;return(t=this.defaultsFromMap)==null?void 0:t.ready},t=>{var i;const n=((i=this.map)==null?void 0:i.allLayers.length)>0;if(t&&!this.spatialReference&&n){if(T(e))return;const r=Am(()=>e=X3(e));e=a6(async a=>{try{await QC(this.spatialReferenceWarningDelay,null,a)}catch{return}finally{e=null}Sv.warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),this.handles.add(r,"spatial-reference-logger-task")}else this.handles.remove("spatial-reference-logger-task")},{sync:!0})])}destroy(){if(this.destroyed)return;this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=Ho(this.graphics),this.analyses=Ho(this.analyses),this.handles.remove("defaultsFromMap"),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),this.toolViewManager=Ho(this.toolViewManager),this.layerViewManager=Ho(this.layerViewManager),this.basemapView=Ho(this.basemapView),this.invalidate(),this._emitter.clear(),this.handles.removeAll();const e=this.map;this.map=null,e==null||e.destroy()}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return Sv.error("#toMap()","Not implemented on this instance of View"),null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new _5e($({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:e=>this.getSpatialReferenceSupport(e)},this._defaultsFromMapSettings))}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get preconditionsReady(){var e;return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||ul.isLoadable(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!(this._currentSpatialReference||(e=this.defaultsFromMap)!=null&&e.ready)||!this.typeSpecificPreconditionsReady)}set map(e){var t;e!==this._get("map")&&((t=e)!=null&&t.destroyed&&(Sv.warn("#map","The provided map is already destroyed",{map:e}),e=null),ul.isLoadable(e)&&e.load().catch(()=>{}),this.initialized&&(this.forceReadyCycle(),this._currentSpatialReference=null),this._set("map",e))}get spatialReference(){var e,t;let i=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;return i&&(e=this.defaultsFromMap)!=null&&(t=e.required)!=null&&t.heightModelInfo&&(i=i.clone(),i.vcsWkid=this.defaultsFromMap.vcsWkid,i.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),i}set spatialReference(e){const t=!ir(e,this._get("spatialReference"));this._set("_userSpatialReference",e),t&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get initialExtent(){var e;return(e=this.defaultsFromMap)==null?void 0:e.extent}get cursor(){const e=this.toolViewManager?this.toolViewManager.cursor:null;return T(e)?e:this._cursor||"default"}set cursor(e){this._cursor=e,this.notifyChange("cursor")}get size(){return[this.width,this.height]}whenLayerView(e){return this.layerViewManager.whenLayerView(e)}getDefaultSpatialReference(){var e;return(e=this.defaultsFromMap)==null?void 0:e.spatialReference}getDefaultHeightModelInfo(){var e,t,i;return(e=(t=this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)!=null?t:(i=this.defaultsFromMap)==null?void 0:i.heightModelInfo)!=null?e:null}importLayerView(e){throw new L("importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{}}_validateSpatialReference(e){return T(this.getSpatialReferenceSupport({spatialReference:e}))}when(e,t){return this.isResolved()&&!this.ready&&Sv.warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,t)}forceReadyCycle(){this.ready&&(gk(()=>this.preconditionsReady===!1,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}};Ee.views=new _e,c([d()],Ee.prototype,"_userSpatialReference",void 0),c([ke("toolViewManager.activeTool")],Ee.prototype,"activeTool",void 0),c([d({readOnly:!0})],Ee.prototype,"allLayerViews",void 0),c([d()],Ee.prototype,"groundView",void 0),c([d()],Ee.prototype,"animation",void 0),c([d()],Ee.prototype,"basemapView",void 0),c([d({readOnly:!0})],Ee.prototype,"_defaultsFromMapSettings",null),c([d()],Ee.prototype,"defaultsFromMap",null),c([d()],Ee.prototype,"fatalError",void 0),c([d({type:pt})],Ee.prototype,"extent",void 0),c([d(yR(Sg,"graphics"))],Ee.prototype,"graphics",void 0),c([d(yR(Mx,"analyses"))],Ee.prototype,"analyses",void 0),c([d({readOnly:!0,type:qk})],Ee.prototype,"heightModelInfo",null),c([d({readOnly:!0})],Ee.prototype,"interacting",null),c([d({readOnly:!0})],Ee.prototype,"navigating",void 0),c([d({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_currentSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],Ee.prototype,"preconditionsReady",null),c([d({readOnly:!0})],Ee.prototype,"typeSpecificPreconditionsReady",void 0),c([d({type:_e,readOnly:!0})],Ee.prototype,"layerViews",void 0),c([d({type:Bq})],Ee.prototype,"magnifier",void 0),c([d({value:null,type:t8})],Ee.prototype,"map",null),c([d()],Ee.prototype,"padding",void 0),c([d({readOnly:!0})],Ee.prototype,"ready",void 0),c([d({type:He})],Ee.prototype,"spatialReference",null),c([d()],Ee.prototype,"spatialReferenceWarningDelay",void 0),c([d()],Ee.prototype,"stationary",null),c([d({readOnly:!0})],Ee.prototype,"supportsGround",void 0),c([d({type:us})],Ee.prototype,"timeExtent",void 0),c([ke("toolViewManager.tools")],Ee.prototype,"tools",void 0),c([d()],Ee.prototype,"toolViewManager",void 0),c([d({readOnly:!0})],Ee.prototype,"type",void 0),c([d({type:Number})],Ee.prototype,"scale",void 0),c([d({readOnly:!0})],Ee.prototype,"updating",void 0),c([d({readOnly:!0})],Ee.prototype,"initialExtentRequired",void 0),c([d({readOnly:!0})],Ee.prototype,"initialExtent",null),c([d()],Ee.prototype,"cursor",null),c([d({readOnly:!0})],Ee.prototype,"input",void 0),c([d({type:Zq,nonNullable:!0})],Ee.prototype,"navigation",void 0),c([d()],Ee.prototype,"layerViewManager",void 0),c([d()],Ee.prototype,"analysisViewManager",void 0),c([d()],Ee.prototype,"width",void 0),c([d()],Ee.prototype,"height",void 0),c([d({readOnly:!0})],Ee.prototype,"resizing",void 0),c([d({value:null,readOnly:!0})],Ee.prototype,"size",null),c([d({readOnly:!0})],Ee.prototype,"suspended",void 0),c([d({readOnly:!0})],Ee.prototype,"viewEvents",void 0),c([d({readOnly:!0})],Ee.prototype,"persistableViewModels",void 0),c([d()],Ee.prototype,"_isValid",void 0),c([d()],Ee.prototype,"_readyCycleForced",void 0),c([d()],Ee.prototype,"_currentSpatialReference",void 0),Ee=Z1=c([D("esri.views.View")],Ee);const S5e=Ee;let nc=class extends Nw{constructor(e){super(e),this.state="running",this.target=null}initialize(){this.addResolvingPromise(new Promise((e,t)=>this._dfd={resolve:e,reject:t}))}get done(){return this.state==="finished"||this.state==="stopped"}stop(){this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),this._dfd.reject(new L("ViewAnimation stopped")))}finish(){this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),this._dfd.resolve())}update(e,t){t||(t=ml(e)?"waiting-for-target":"running"),this._set("target",e),this._set("state",t)}};c([d({readOnly:!0})],nc.prototype,"done",null),c([d({readOnly:!0,type:String})],nc.prototype,"state",void 0),c([d()],nc.prototype,"target",void 0),nc=c([D("esri.views.ViewAnimation")],nc),function(e){e.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(nc||(nc={}));const eC=nc;function nd(e,t,i,n){const r=3*e,a=3*(i-e)-r,o=1-r-a,s=3*t,l=3*(n-t)-s,u=1-s-l;function h(b){return((o*b+a)*b+r)*b}function m(b){return((u*b+l)*b+s)*b}function f(b){return(3*o*b+2*a)*b+r}function g(b,v){let w,x,S,E,C,_;for(S=b,_=0;_<8;_++){if(E=h(S)-b,Math.abs(E)<v)return S;if(C=f(S),Math.abs(C)<1e-6)break;S-=E/C}if(w=0,x=1,S=b,S<w)return w;if(S>x)return x;for(;w<x;){if(E=h(S),Math.abs(E-b)<v)return S;b>E?w=S:x=S,S=.5*(x-w)+w}return S}return function(b,v=1e-6){return m(g(b,v))}}const D5e=/^cubic-bezier\((.*)\)/,ea={};function $5e(e){let t=ea[e]||null;if(!t){const i=D5e.exec(e);if(i){const n=i[1].split(",").map(r=>parseFloat(r.trim()));n.length!==4||n.some(r=>isNaN(r))||(t=nd.apply(nd,n))}}return t}ea.ease=nd(.25,.1,.25,1),ea.linear=nd(0,0,1,1),ea.easeIn=ea["ease-in"]=nd(.42,0,1,1),ea.easeOut=ea["ease-out"]=nd(0,0,.58,1),ea.easeInOut=ea["ease-in-out"]=nd(.42,0,.58,1);function C5e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function I5e(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function E5e(e,t,i,n,r,a,o){return e[0]=t,e[1]=i,e[2]=n,e[3]=r,e[4]=a,e[5]=o,e}function pT(e,t){const i=t[0],n=t[1],r=t[2],a=t[3],o=t[4],s=t[5];let l=i*a-n*r;return l?(l=1/l,e[0]=a*l,e[1]=-n*l,e[2]=-r*l,e[3]=i*l,e[4]=(r*s-a*o)*l,e[5]=(n*o-i*s)*l,e):null}function T5e(e){return e[0]*e[3]-e[1]*e[2]}function nB(e,t,i){const n=t[0],r=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=i[0],h=i[1],m=i[2],f=i[3],g=i[4],b=i[5];return e[0]=n*u+a*h,e[1]=r*u+o*h,e[2]=n*m+a*f,e[3]=r*m+o*f,e[4]=n*g+a*b+s,e[5]=r*g+o*b+l,e}function Qk(e,t,i){const n=t[0],r=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=Math.sin(i),h=Math.cos(i);return e[0]=n*h+a*u,e[1]=r*h+o*u,e[2]=n*-u+a*h,e[3]=r*-u+o*h,e[4]=s,e[5]=l,e}function mT(e,t,i){const n=t[0],r=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=i[0],h=i[1];return e[0]=n*u,e[1]=r*u,e[2]=a*h,e[3]=o*h,e[4]=s,e[5]=l,e}function ly(e,t,i){const n=t[0],r=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=i[0],h=i[1];return e[0]=n,e[1]=r,e[2]=a,e[3]=o,e[4]=n*u+a*h+s,e[5]=r*u+o*h+l,e}function rB(e,t){const i=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=i,e[2]=-i,e[3]=n,e[4]=0,e[5]=0,e}function aB(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function fT(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function M5e(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function A5e(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)}function O5e(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e}function oB(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e}function P5e(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e}function L5e(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e[2]=t[2]+i[2]*n,e[3]=t[3]+i[3]*n,e[4]=t[4]+i[4]*n,e[5]=t[5]+i[5]*n,e}function R5e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function F5e(e,t){const i=e[0],n=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=t[0],u=t[1],h=t[2],m=t[3],f=t[4],g=t[5];return Math.abs(i-l)<=Ae*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(n-u)<=Ae*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-h)<=Ae*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(a-m)<=Ae*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(o-f)<=Ae*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(s-g)<=Ae*Math.max(1,Math.abs(s),Math.abs(g))}const N5e=nB,z5e=oB;Object.freeze({__proto__:null,copy:C5e,identity:I5e,set:E5e,invert:pT,determinant:T5e,multiply:nB,rotate:Qk,scale:mT,translate:ly,fromRotation:rB,fromScaling:aB,fromTranslation:fT,str:M5e,frob:A5e,add:O5e,subtract:oB,multiplyScalar:P5e,multiplyScalarAndAdd:L5e,exactEquals:R5e,equals:F5e,mul:N5e,sub:z5e});function Oc(){return[1,0,0,1,0,0]}function j5e(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function V5e(e,t,i,n,r,a){return[e,t,i,n,r,a]}function H5e(e,t){return new Float64Array(e,t,6)}Object.freeze({__proto__:null,create:Oc,clone:j5e,fromValues:V5e,createView:H5e});function cy(e,t){return e[0]=t[0],e[1]=t[1],e}function qi(e,t,i){return e[0]=t,e[1]=i,e}function sB(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e}function uy(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e}function lB(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e}function cB(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e}function q5e(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function B5e(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function U5e(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e}function G5e(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e}function W5e(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function eb(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e}function J5e(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e}function tb(e,t){const i=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(i*i+n*n)}function Ox(e,t){const i=t[0]-e[0],n=t[1]-e[1];return i*i+n*n}function Px(e){const t=e[0],i=e[1];return Math.sqrt(t*t+i*i)}function uB(e){const t=e[0],i=e[1];return t*t+i*i}function dB(e,t){return e[0]=-t[0],e[1]=-t[1],e}function K5e(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function tC(e,t){const i=t[0],n=t[1];let r=i*i+n*n;return r>0&&(r=1/Math.sqrt(r),e[0]=t[0]*r,e[1]=t[1]*r),e}function hB(e,t){return e[0]*t[0]+e[1]*t[1]}function pB(e,t,i){const n=t[0]*i[1]-t[1]*i[0];return e[0]=e[1]=0,e[2]=n,e}function Y5e(e,t,i,n){const r=t[0],a=t[1];return e[0]=r+n*(i[0]-r),e[1]=a+n*(i[1]-a),e}function Z5e(e,t){t=t||1;const i=2*xc()*Math.PI;return e[0]=Math.cos(i)*t,e[1]=Math.sin(i)*t,e}function X5e(e,t,i){const n=t[0],r=t[1];return e[0]=i[0]*n+i[2]*r,e[1]=i[1]*n+i[3]*r,e}function Vo(e,t,i){const n=t[0],r=t[1];return e[0]=i[0]*n+i[2]*r+i[4],e[1]=i[1]*n+i[3]*r+i[5],e}function Q5e(e,t,i){const n=t[0],r=t[1];return e[0]=i[0]*n+i[3]*r+i[6],e[1]=i[1]*n+i[4]*r+i[7],e}function eSe(e,t,i){const n=t[0],r=t[1];return e[0]=i[0]*n+i[4]*r+i[12],e[1]=i[1]*n+i[5]*r+i[13],e}function tSe(e,t,i,n){const r=t[0]-i[0],a=t[1]-i[1],o=Math.sin(n),s=Math.cos(n);return e[0]=r*s-a*o+i[0],e[1]=r*o+a*s+i[1],e}function iSe(e,t){const i=e[0],n=e[1],r=t[0],a=t[1];let o=i*i+n*n;o>0&&(o=1/Math.sqrt(o));let s=r*r+a*a;s>0&&(s=1/Math.sqrt(s));const l=(i*r+n*a)*o*s;return l>1?0:l<-1?Math.PI:Math.acos(l)}function nSe(e){return"vec2("+e[0]+", "+e[1]+")"}function rSe(e,t){return e[0]===t[0]&&e[1]===t[1]}function aSe(e,t){const i=e[0],n=e[1],r=t[0],a=t[1];return Math.abs(i-r)<=Ae*Math.max(1,Math.abs(i),Math.abs(r))&&Math.abs(n-a)<=Ae*Math.max(1,Math.abs(n),Math.abs(a))}function oSe(e,t,i,n,r){let a=t[0]-i[0],o=t[1]-i[1];const s=(n[0]*a+n[1]*o)*(r-1);return a=n[0]*s,o=n[1]*s,e[0]=t[0]+a,e[1]=t[1]+o,e}const sSe=Px,gT=uy,lSe=lB,cSe=cB,uSe=tb,dSe=Ox,hSe=uB;Object.freeze({__proto__:null,copy:cy,set:qi,add:sB,subtract:uy,multiply:lB,divide:cB,ceil:q5e,floor:B5e,min:U5e,max:G5e,round:W5e,scale:eb,scaleAndAdd:J5e,distance:tb,squaredDistance:Ox,length:Px,squaredLength:uB,negate:dB,inverse:K5e,normalize:tC,dot:hB,cross:pB,lerp:Y5e,random:Z5e,transformMat2:X5e,transformMat2d:Vo,transformMat3:Q5e,transformMat4:eSe,rotate:tSe,angle:iSe,str:nSe,exactEquals:rSe,equals:aSe,projectAndScale:oSe,len:sSe,sub:gT,mul:lSe,div:cSe,dist:uSe,sqrDist:dSe,sqrLen:hSe});function si(){return[0,0]}function pSe(e){return[e[0],e[1]]}function ib(e,t){return[e,t]}function mSe(e){const t=si(),i=Math.min(2,e.length);for(let n=0;n<i;++n)t[n]=e[n];return t}function fSe(e,t){return new Float64Array(e,t,2)}function mB(){return si()}function fB(){return ib(1,1)}function gB(){return ib(1,0)}function yB(){return ib(0,1)}const gSe=mB(),ySe=fB(),bSe=gB(),vSe=yB();Object.freeze({__proto__:null,create:si,clone:pSe,fromValues:ib,fromArray:mSe,createView:fSe,zeros:mB,ones:fB,unitX:gB,unitY:yB,ZEROS:gSe,ONES:ySe,UNIT_X:bSe,UNIT_Y:vSe});const bB=96,vB=39.37,wSe=180/Math.PI;function wB(e){return e.wkid?e:e.spatialReference||He.WGS84}function yT(e,t){return t.type?qi(e,t.x,t.y):cy(e,t)}function xB(e){return jy(e)}function Dg(e,t){return Math.max(e.width/t[0],e.height/t[1])*ESe(e.spatialReference)}async function j0(e,t,i,n){let r,a;if(!e||Array.isArray(e)&&!e.length)return null;if(_e.isCollection(e)&&(e=e.toArray()),Array.isArray(e)&&e.length&&typeof e[0]=="object"){const s=e.every(h=>"attributes"in h),l=e.some(h=>!h.geometry);let u=e;if(s&&l&&t&&t.allLayerViews){const h=new Map;for(const b of e){const v=b.layer,w=h.get(v)||[],x=b.attributes[v.objectIdField];x!=null&&w.push(x),h.set(v,w)}const m=[];h.forEach((b,v)=>{const w=t.allLayerViews.find(x=>x.layer.id===v.id);if("queryFeatures"in w){const x=v.createQuery();x.objectIds=b,x.returnGeometry=!0,m.push(w.queryFeatures(x))}});const f=await Promise.all(m),g=[];for(const b of f)if(b&&b.features&&b.features.length)for(const v of b.features)T(v.geometry)&&g.push(v.geometry);u=g}for(const h of u)n=await j0(h,t,i,n);return n}if(Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number")r=new Ie(e);else if(e instanceof Qn)r=e;else if("geometry"in e){if(e.geometry)r=e.geometry;else if(e.layer){const s=e.layer,l=t.allLayerViews.find(u=>u.layer.id===s.id);if("queryFeatures"in l){const u=s.createQuery();u.objectIds=[e.attributes[s.objectIdField]],u.returnGeometry=!0;const h=await l.queryFeatures(u);r=TN(h,"features",0,"geometry")}}}if(V(r)||(a=r.type==="point"?new pt({xmin:r.x,ymin:r.y,xmax:r.x,ymax:r.y,spatialReference:r.spatialReference}):r.extent,!a))return null;ym()||Gd(a.spatialReference,i)||await bm();const o=Vy(a,i);return o?n=n?n.union(o):o:null}function xSe(e){if(e&&(!Array.isArray(e)||typeof e[0]!="number")&&(typeof e=="object"||Array.isArray(e)&&typeof e[0]=="object")){if("layer"in e&&e.layer&&e.layer.minScale&&e.layer.maxScale){const t=e.layer;return{min:t.minScale,max:t.maxScale}}if(Array.isArray(e)&&e.length&&e.every(t=>"layer"in t)){let t=0,i=0;for(const n of e){const r=n.layer;r&&r.minScale&&r.maxScale&&(t=r.minScale<t?r.minScale:t,i=r.maxScale>i?r.maxScale:i)}return t&&i?{min:t,max:i}:null}}}function m3(e,t){return ir(wB(e),t)?e:Vy(e,t)}async function kSe(e,t){if(!e||!t)return new Yo({targetGeometry:new Ie,scale:0,rotation:0});let i=t.spatialReference;const{constraints:n,padding:r,viewpoint:a,size:o}=t,s=[r?o[0]-r.left-r.right:o[0],r?o[1]-r.top-r.bottom:o[1]];let l=null;e instanceof Yo?l=e:e.viewpoint?l=e.viewpoint:e.target&&e.target.declaredClass==="esri.Viewpoint"&&(l=e.target);let u=null;l&&l.targetGeometry?u=l.targetGeometry:e instanceof pt?u=e:(e||e&&("center"in e||"extent"in e||"target"in e))&&(u=await j0(e.center,t,i)||await j0(e.extent,t,i)||await j0(e.target,t,i)||await j0(e,t,i)),!u&&a&&a.targetGeometry?u=a.targetGeometry:!u&&t.extent&&(u=t.extent),i||(i=wB(t.spatialReference||t.extent||u)),ym()||ir(u.spatialReference,i)||Gd(u,i)||await bm();const h=m3(u.center?u.center:u,i);let m=null;if(l&&T(l.targetGeometry)&&l.targetGeometry.type==="point")m=l.scale;else if("scale"in e&&e.scale)m=e.scale;else if("zoom"in e&&e.zoom!==-1&&n&&n.effectiveLODs)m=n.zoomToScale(e.zoom);else if(Array.isArray(u)||u.type==="point"||u.type==="extent"&&u.width===0&&u.height===0){const v=m3(t.extent,i);m=T(v)?Dg(v,s):t.extent?Dg(t.extent,s):a.scale}else m=Dg(m3(u.extent,i),s);const f=xSe(e);f&&(f.min&&f.min>m?m=f.min:f.max&&f.max<m&&(m=f.max));let g=0;l?g=l.rotation:e.hasOwnProperty("rotation")?g=e.rotation:a&&(g=a.rotation);let b=new Yo({targetGeometry:h,scale:m,rotation:g});return n&&(b=n.fit(b),n.constrainByGeometry(b),n.rotationEnabled||(b.rotation=g)),b}function po(e,t){const i=e.targetGeometry,n=t.targetGeometry;return i.x=n.x,i.y=n.y,i.spatialReference=n.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function _Se(e,t,i){return i?qi(e,.5*(t[0]-i.right+i.left),.5*(t[1]-i.bottom+i.top)):eb(e,t,.5)}const SSe=function(){const e=si();return function(t,i,n){const r=i.targetGeometry;yT(e,r);const a=.5*ef(i);return t.xmin=e[0]-a*n[0],t.ymin=e[1]-a*n[1],t.xmax=e[0]+a*n[0],t.ymax=e[1]+a*n[1],t.spatialReference=r.spatialReference,t}}();function DSe(e,t,i,n,r){return iC(e,t,i.center),e.scale=Dg(i,n),r&&r.constraints&&r.constraints.constrain(e),e}function $Se(e,t,i,n){return wT(e,t,i,n),pT(e,e)}const kB=function(){const e=si();return function(t,i,n){return gT(t,TSe(t,i),_Se(e,i,n))}}(),CSe=function(){const e=Oc(),t=si();return function(i,n,r,a){const o=ef(n),s=bT(n);return qi(t,o,o),aB(e,t),Qk(e,e,s),ly(e,e,kB(t,r,a)),ly(e,e,[0,a.top-a.bottom]),qi(i,e[4],e[5])}}();function ef(e){return e.scale*ISe(e.targetGeometry)}function ISe(e){return T(e)&&Xn(e.spatialReference)?1/(xB(e.spatialReference)*vB*bB):1}function bT(e){return xI(e.rotation)||0}function ESe(e){return Xn(e)?xB(e)*vB*bB:1}function TSe(e,t){return eb(e,t,.5)}const vT=function(){const e=si(),t=si(),i=si();return function(n,r,a,o,s,l){return dB(e,r),eb(t,a,.5*l),qi(i,1/o*l,-1/o*l),fT(n,t),s&&Qk(n,n,s),mT(n,n,i),ly(n,n,e),n}}(),wT=function(){const e=si();return function(t,i,n,r){const a=ef(i),o=bT(i);return yT(e,i.targetGeometry),vT(t,e,n,a,o,r)}}(),MSe=function(){const e=si();return function(t,i,n,r){const a=ef(i);return yT(e,i.targetGeometry),vT(t,e,n,a,0,r)}}();function ASe(e){if(e.isWrappable){const t=to(e);return t.valid[1]-t.valid[0]}return 0}function OSe(e,t){return Math.round(ASe(e)/t)}const PSe=function(){const e=si(),t=si(),i=[0,0,0];return function(n,r,a){uy(e,n,r),tC(e,e),uy(t,n,a),tC(t,t),pB(i,e,t);let o=Math.acos(hB(e,t)/(Px(e)*Px(t)))*wSe;return i[2]<0&&(o=-o),isNaN(o)&&(o=0),o}}(),LSe=function(){const e=si();return function(t,i,n,r){const a=t.targetGeometry;return po(t,i),CSe(e,i,n,r),a.x+=e[0],a.y+=e[1],t}}(),iC=function(e,t,i){po(e,t);const n=e.targetGeometry;return n.x=i.x,n.y=i.y,n.spatialReference=i.spatialReference,e},RSe=function(){const e=si();return function(t,i,n,r,a){a||(a="center"),gT(e,n,r),eb(e,e,.5);const o=e[0],s=e[1];switch(a){case"center":qi(e,0,0);break;case"left":qi(e,-o,0);break;case"top":qi(e,0,s);break;case"right":qi(e,o,0);break;case"bottom":qi(e,0,-s);break;case"top-left":qi(e,-o,s);break;case"bottom-left":qi(e,-o,-s);break;case"top-right":qi(e,o,s);break;case"bottom-right":qi(e,o,-s)}return e_(t,i,e),t}}();function HMe(e,t,i){return po(e,t),e.rotation+=i,e}function FSe(e,t,i){return po(e,t),e.rotation=i,e}const NSe=function(){const e=si();return function(t,i,n,r,a){return po(t,i),isNaN(n)||n===0||(SB(e,r,i,a),t.scale=i.scale*n,DB(e,e,t,a),e_(t,t,qi(e,e[0]-r[0],r[1]-e[1]))),t}}();function FR(e,t,i){return po(e,t),e.scale=i,e}const _B=function(){const e=si();return function(t,i,n,r,a,o){return po(t,i),isNaN(n)||n===0||(SB(e,a,i,o),t.scale=i.scale*n,t.rotation+=r,DB(e,e,t,o),e_(t,t,qi(e,e[0]-a[0],a[1]-e[1]))),t}}(),qMe=function(){const e=si(),t=si();return function(i,n,r,a,o,s,l){return kB(t,s,l),sB(e,o,t),a?_B(i,n,r,a,e,s):NSe(i,n,r,e,s)}}(),SB=function(){const e=Oc();return function(t,i,n,r){return Vo(t,i,$Se(e,n,r,1))}}(),DB=function(){const e=Oc();return function(t,i,n,r){return Vo(t,i,wT(e,n,r,1))}}(),e_=function(){const e=si(),t=Oc();return function(i,n,r){po(i,n);const a=ef(n),o=i.targetGeometry;return rB(t,bT(n)),mT(t,t,ib(a,a)),Vo(e,r,t),o.x+=e[0],o.y+=e[1],i}}();class zSe{constructor(t,i,n,r){const a=t.targetGeometry,o=i.targetGeometry;r?typeof r=="string"&&(r=$5e(r)||ea.ease):r=ea.ease,this.easing=r,this.duration=n,this.sCenterX=a.x,this.sCenterY=a.y,this.sScale=t.scale,this.sRotation=t.rotation,this.tCenterX=o.x,this.tCenterY=o.y,this.tScale=i.scale,this.tRotation=i.rotation,this.dCenterX=this.tCenterX-this.sCenterX,this.dCenterY=this.tCenterY-this.sCenterY,this.dScale=this.tScale-this.sScale,this.dRotation=this.tRotation-this.sRotation,this.dRotation>180?this.dRotation-=360:this.dRotation<-180&&(this.dRotation+=360)}applyRatio(t,i){const n=this.easing(i);let r,a,o,s;i>=1?(r=this.tCenterX,a=this.tCenterY,o=this.tRotation,s=this.tScale):(r=this.sCenterX+n*this.dCenterX,a=this.sCenterY+n*this.dCenterY,o=this.sRotation+n*this.dRotation,s=this.sScale+n*this.dScale),t.targetGeometry.x=r,t.targetGeometry.y=a,t.scale=s,t.rotation=o}}let Vs=class extends ge{constructor(e){super(e),this.duration=200,this.transition=null,this.easing=ea.ease,this.view=null,this.viewpoint=null,this.viewpoint=new Yo({targetGeometry:new Ie,scale:0,rotation:0}),this._updateTask=lm({postRender:this._postRender.bind(this)}),this._updateTask.pause()}destroy(){this._updateTask.remove(),this._updateTask=null}animate(e,t,i){this.stop();const n=this.viewpoint;po(n,t),this.transition=new zSe(this.viewpoint,e.target,i&&i.duration||this.duration,i&&i.easing||this.easing);const r=()=>{this.animation===e&&this._updateTask&&(e.state==="finished"&&(this.transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return e.when(r,r),this._startTime=performance.now(),this._updateTask.resume(),this.animation=e,e}animateContinous(e,t){this.stop(),this.updateFunction=t,this.viewpoint=e;const i=new eC({target:e.clone()}),n=()=>{this.animation===i&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return i.when(n,n),this._startTime=performance.now(),this._updateTask.resume(),this.animation=i,i}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(e){const t=this.animation;if(t&&t.state!==eC.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,e.deltaTime);else{const i=(performance.now()-this._startTime)/this.transition.duration,n=i>=1;this.transition.applyRatio(this.viewpoint,i),n&&this.animation.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};c([d()],Vs.prototype,"animation",void 0),c([d()],Vs.prototype,"duration",void 0),c([d()],Vs.prototype,"transition",void 0),c([d()],Vs.prototype,"easing",void 0),c([d()],Vs.prototype,"view",void 0),c([d()],Vs.prototype,"viewpoint",void 0),Vs=c([D("esri.views.2d.AnimationManager")],Vs);const jSe=Vs;class VSe{constructor(t){this.view=t,this._frameTaskHandle=null,this._updateRequested=!1,this.stationary=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions},this.update=()=>{this._updateRequested=!1;const{basemapView:i,graphicsView:n,labelManager:r,layerViews:a,state:{id:o}}=this.view;i.baseLayerViews.forEach(this._updateLayerView,this),a.forEach(this._updateLayerView,this),i.referenceLayerViews.forEach(this._updateLayerView,this),T(r)&&(r.lastUpdateId!==o&&(r.viewChange(),r.lastUpdateId=o),r.updateRequested&&r.processUpdate(this._updateParameters)),T(n)&&(n.lastUpdateId!==o&&(n.viewChange(),n.lastUpdateId=o),n.updateRequested&&n.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.animationInProgress||this._updateRequested||this._frameTaskHandle.pause()}}destroy(){this.stop()}start(){this._frameTaskHandle||(this.stationary=this.view.stationary,this._updateParameters={state:this.view.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:this.view.renderingOptions},this._stationaryHandle=this.view.watch("stationary",t=>{this.stationary=t,this.requestFrame()}),this._frameTaskHandle=lm(this),this.requestUpdate())}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(t){const i=this.view.state,n=t.lastUpdateId;n!=null&&(this.stationary||t.moving)||(t.moving=!0,t.moveStart()),n!==i.id&&t.viewChange(),this.stationary&&t.moving&&(t.moving=!1,t.moveEnd()),t.lastUpdateId=i.id,t.updateRequested&&t.processUpdate(this._updateParameters),"layerViews"in t&&t.layerViews.forEach(this._updateLayerView,this)}}function Oi(){return Promise.all([import("./webglDeps.fbf08dd3.js"),import("./mapViewDeps.b0152ba0.js")])}const zf=()=>Oi().then(()=>import("./TileLayerView2D.20f55e33.js")),Dv=()=>Oi().then(()=>import("./FeatureLayerView2D.2f525b3e.js")),NR={"base-dynamic":()=>Oi().then(()=>import("./BaseDynamicLayerView2D.c66a227a.js")),"base-tile":zf,"bing-maps":zf,csv:Dv,"geo-rss":()=>Oi().then(()=>import("./GeoRSSLayerView2D.3a1134b7.js")),feature:Dv,geojson:Dv,graphics:()=>Oi().then(()=>import("./GraphicsLayerView2D.ac395ca8.js")),group:()=>Oi().then(()=>import("./GroupLayerView2D.435ce8b2.js")),imagery:()=>Oi().then(()=>import("./ImageryLayerView2D.a71e024e.js")),"imagery-tile":()=>Oi().then(()=>import("./ImageryTileLayerView2D.ecbf8969.js")),kml:()=>Oi().then(()=>import("./KMLLayerView2D.224495df.js")),"map-image":()=>Oi().then(()=>import("./MapImageLayerView2D.5b0e26f5.js")),"map-notes":()=>Oi().then(()=>import("./MapNotesLayerView2D.6dcb3d6c.js")),"ogc-feature":()=>Oi().then(()=>import("./OGCFeatureLayerView2D.b9fa859b.js")),"open-street-map":zf,route:()=>Oi().then(()=>import("./RouteLayerView2D.cb0634b6.js")),stream:()=>Oi().then(()=>import("./StreamLayerView2D.29336fdf.js")),"subtype-group":()=>Oi().then(()=>import("./SubtypeGroupLayerView2D.f40145aa.js")),tile:zf,"vector-tile":()=>Oi().then(()=>import("./VectorTileLayerView2D.56329f0c.js")),wcs:()=>Oi().then(()=>import("./ImageryTileLayerView2D.ecbf8969.js")),"web-tile":zf,wfs:Dv,wms:()=>Oi().then(()=>import("./WMSLayerView2D.93169614.js")),wmts:()=>Oi().then(()=>import("./WMTSLayerView2D.a3c6d0f4.js")),analysis:null,"base-elevation":null,"building-scene":null,elevation:null,"integrated-mesh":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};function HSe(e){const t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new L(`${i}:view-not-supported`,`${t} is not supported in 2D`)}const zR={hasLayerViewModule:e=>T(NR[e.type]),importLayerView:e=>{const t=NR[e.type];if(!T(t))throw HSe(e);return t(e)}};function qSe(e,t){const{spatialReference:i}=t,n=[t.x,t.y];let r=Number.POSITIVE_INFINITY,a=0,o=0;const s=[0,0],l=e.type==="extent"?[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]:e.rings;for(const u of l)for(let h=0;h<u.length-1;h++){uue(s,n,u,h);const m=tb(n,s);m<r&&(r=m,a=s[0],o=s[1])}return{coordinate:new Ie({x:a,y:o,spatialReference:i}),distance:r}}var nC;const BSe=Q.getLogger("esri.views.MapView");let rd=nC=class extends ge{constructor(e){super(e),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(V(this.geometry)||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return Vy(this.geometry,this.spatialReference)}catch(e){return BSe.error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,t){if(V(this.normalizedGeometry))return e;const i=e.targetGeometry;if(this.normalizedGeometry.type==="extent"?fk(this.normalizedGeometry,i):nz(this.normalizedGeometry,i))return e;const{coordinate:n}=qSe(this.normalizedGeometry,i);return n&&(e.targetGeometry=n),e}clone(){var e,t;return new nC({geometry:(e=this.geometry)==null?void 0:e.clone(),spatialReference:(t=this.spatialReference)==null?void 0:t.clone()})}};c([d({constructOnly:!0})],rd.prototype,"geometry",void 0),c([d({readOnly:!0})],rd.prototype,"normalizedGeometry",null),c([d({constructOnly:!0})],rd.prototype,"spatialReference",void 0),rd=nC=c([D("esri.views.2d.constraints.GeometryConstraint")],rd);var rC;let V0=rC=class extends ge{constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(e,t){return this.enabled&&t&&(this.rotationEnabled||(e.rotation=t.rotation)),e}clone(){return new rC({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};c([d()],V0.prototype,"enabled",void 0),c([d()],V0.prototype,"rotationEnabled",void 0),V0=rC=c([D("esri.views.2d.constraints.RotationConstraint")],V0);const $B=V0;var aC;let Vn=aC=class extends ge{constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let e,{lods:t,minScale:i,maxScale:n,minZoom:r,maxZoom:a}=this,o=-1,s=-1,l=!1,u=!1;if(i!==0&&n!==0&&i<n&&([i,n]=[n,i]),!t||!t.length)return this._set("effectiveMinScale",i),void this._set("effectiveMaxScale",n);t=t.map(h=>h.clone()),t.sort((h,m)=>m.scale-h.scale),t.forEach((h,m)=>h.level=m);for(const h of t)!l&&i>0&&i>=h.scale&&(o=h.level,l=!0),!u&&n>0&&n>=h.scale&&(s=e?e.level:-1,u=!0),e=h;r===-1&&(r=i===0?0:o),a===-1&&(a=n===0?t.length-1:s),r=Math.max(r,0),r=Math.min(r,t.length-1),a=Math.max(a,0),a=Math.min(a,t.length-1),r>a&&([r,a]=[a,r]),i=t[r].scale,n=t[a].scale,t.splice(0,r),t.splice(a-r+1,t.length),t.forEach((h,m)=>{this._lodByScale[h.scale]=h,this._scales[m]=h.scale}),this._set("effectiveLODs",t),this._set("effectiveMinZoom",r),this._set("effectiveMaxZoom",a),this._set("effectiveMinScale",i),this._set("effectiveMaxScale",n)}constrain(e,t){if(t&&e.scale===t.scale)return e;const i=this.effectiveMinScale,n=this.effectiveMaxScale,r=e.targetGeometry,a=t&&t.targetGeometry,o=n!==0&&e.scale<n,s=i!==0&&e.scale>i;if(o||s){const l=s?i:n;if(a){const u=(l-t.scale)/(e.scale-t.scale);r.x=a.x+(r.x-a.x)*u,r.y=a.y+(r.y-a.y)*u}e.scale=l}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);const t=this.scaleToZoom(e.scale),i=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(i>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);const t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];const i=Math.round(e-.5),n=Math.round(e);return t[n]+(n-e)*(t[i]-t[n])}scaleToZoom(e){if(!this.effectiveLODs)return-1;const t=this._scales;let i,n;if(e>=t[0])return this.effectiveMinZoom;if(e<=t[t.length-1])return this.effectiveMaxZoom;for(let r=0;r<t.length-1;r++){if(i=t[r],n=t[r+1],n===e)return r+this.effectiveMinZoom+1;if(i>e&&n<e)return r+this.effectiveMinZoom+1-(e-n)/(i-n)}}snapToClosestScale(e){if(!this.effectiveLODs)return e;const t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}snapToNextScale(e,t=.5){if(!this.effectiveLODs)return e*t;const i=Math.round(this.scaleToZoom(e));return this.zoomToScale(i+1)}snapToPreviousScale(e,t=2){if(!this.effectiveLODs)return e*t;const i=Math.round(this.scaleToZoom(e));return this.zoomToScale(i-1)}clone(){return new aC({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce((t,i)=>Math.abs(i-e)<=Math.abs(t-e)?i:t,this._scales[0])),this._lodByScale[e].scale}};c([d({readOnly:!0})],Vn.prototype,"effectiveLODs",void 0),c([d({readOnly:!0})],Vn.prototype,"effectiveMinZoom",void 0),c([d({readOnly:!0})],Vn.prototype,"effectiveMaxZoom",void 0),c([d({readOnly:!0})],Vn.prototype,"effectiveMinScale",void 0),c([d({readOnly:!0})],Vn.prototype,"effectiveMaxScale",void 0),c([d()],Vn.prototype,"lods",void 0),c([d()],Vn.prototype,"minZoom",void 0),c([d()],Vn.prototype,"maxZoom",void 0),c([d()],Vn.prototype,"minScale",void 0),c([d()],Vn.prototype,"maxScale",void 0),c([d()],Vn.prototype,"snapToZoom",void 0),Vn=aC=c([D("esri.views.2d.constraints.ZoomConstraint")],Vn);const CB=Vn,USe={base:null,key:"type",typeMap:{extent:pt,polygon:ao}};let ii=class extends ge{constructor(e){super(e),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0}destroy(){this.view=null,this._set("_zoom",null),this._set("_rotation",null),this._set("_geometry",null)}set geometry(e){e?this._set("geometry",e):this._set("geometry",null)}get version(){var e;return this.commitProperty("_zoom"),this.commitProperty("_rotation"),this.commitProperty("_geometry"),((e=this._get("version"))!=null?e:0)+1}get _defaultLODs(){var e,t,i;const n=(e=this.view)==null||(t=e.defaultsFromMap)==null?void 0:t.tileInfo,r=(i=this.view)==null?void 0:i.spatialReference;return n&&r&&n.spatialReference.equals(r)?n.lods:null}get _geometry(){var e;return new rd({geometry:this.geometry,spatialReference:(e=this.view)==null?void 0:e.spatialReference})}get _rotation(){return new $B({rotationEnabled:this.rotationEnabled})}get _zoom(){const e=this._get("_zoom"),t=this.lods||this._defaultLODs,i=this.minZoom,n=this.maxZoom,r=this.minScale,a=this.maxScale,o=this.snapToZoom;return e&&e.lods===t&&e.minZoom===i&&e.maxZoom===n&&e.minScale===r&&e.maxScale===a&&e.snapToZoom===o?e:new CB({lods:t,minZoom:i,maxZoom:n,minScale:r,maxScale:a,snapToZoom:o})}canZoomInTo(e){const t=this.effectiveMaxScale;return t===0||e>=t}canZoomOutTo(e){const t=this.effectiveMinScale;return t===0||e<=t}constrain(e,t){return this._zoom.constrain(e,t),this._rotation.constrain(e,t),this._geometry.constrain(e,t),e}constrainByGeometry(e){return this._geometry.constrain(e)}fit(e){return this._zoom.fit(e)}zoomToScale(e){return this._zoom.zoomToScale(e)}scaleToZoom(e){return this._zoom.scaleToZoom(e)}snapScale(e){return this._zoom.snapToClosestScale(e)}snapToNextScale(e){return this._zoom.snapToNextScale(e)}snapToPreviousScale(e){return this._zoom.snapToPreviousScale(e)}};c([d({readOnly:!0,aliasOf:"_zoom.effectiveLODs"})],ii.prototype,"effectiveLODs",void 0),c([d({readOnly:!0,aliasOf:"_zoom.effectiveMinScale"})],ii.prototype,"effectiveMinScale",void 0),c([d({readOnly:!0,aliasOf:"_zoom.effectiveMaxScale"})],ii.prototype,"effectiveMaxScale",void 0),c([d({readOnly:!0,aliasOf:"_zoom.effectiveMinZoom"})],ii.prototype,"effectiveMinZoom",void 0),c([d({readOnly:!0,aliasOf:"_zoom.effectiveMaxZoom"})],ii.prototype,"effectiveMaxZoom",void 0),c([d({types:USe,value:null})],ii.prototype,"geometry",null),c([d({type:[sE]})],ii.prototype,"lods",void 0),c([d()],ii.prototype,"minScale",void 0),c([d()],ii.prototype,"maxScale",void 0),c([d()],ii.prototype,"minZoom",void 0),c([d()],ii.prototype,"maxZoom",void 0),c([d()],ii.prototype,"rotationEnabled",void 0),c([d()],ii.prototype,"snapToZoom",void 0),c([d()],ii.prototype,"view",void 0),c([d({readOnly:!0})],ii.prototype,"version",null),c([d()],ii.prototype,"_defaultLODs",null),c([d({type:rd})],ii.prototype,"_geometry",null),c([d({type:$B})],ii.prototype,"_rotation",null),c([d({readOnly:!0,type:CB})],ii.prototype,"_zoom",null),ii=c([D("esri.views.2d.MapViewConstraints")],ii);const IB=ii;function EB(){const e=new Float32Array(6);return e[0]=1,e[3]=1,e}function GSe(e){const t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function WSe(e,t,i,n,r,a){const o=new Float32Array(6);return o[0]=e,o[1]=t,o[2]=i,o[3]=n,o[4]=r,o[5]=a,o}function JSe(e,t){return new Float32Array(e,t,6)}function TB(e,t,i,n){const r=t[n],a=t[n+1];e[n]=i[0]*r+i[2]*a+i[4],e[n+1]=i[1]*r+i[3]*a+i[5]}function KSe(e,t,i,n=0,r=0,a=2){const o=r||t.length/a;for(let s=n;s<o;s++)TB(e,t,i,s*a)}Object.freeze({__proto__:null,create:EB,clone:GSe,fromValues:WSe,createView:JSe,transform:TB,transformMany:KSe});function YSe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function ZSe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function MB(e,t,i,n,r,a,o,s,l,u){return e[0]=t,e[1]=i,e[2]=n,e[3]=r,e[4]=a,e[5]=o,e[6]=s,e[7]=l,e[8]=u,e}function AB(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function XSe(e,t){if(e===t){const i=t[1],n=t[2],r=t[5];e[1]=t[3],e[2]=t[6],e[3]=i,e[5]=t[7],e[6]=n,e[7]=r}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function QSe(e,t){const i=t[0],n=t[1],r=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],h=t[8],m=h*o-s*u,f=-h*a+s*l,g=u*a-o*l;let b=i*m+n*f+r*g;return b?(b=1/b,e[0]=m*b,e[1]=(-h*n+r*u)*b,e[2]=(s*n-r*o)*b,e[3]=f*b,e[4]=(h*i-r*l)*b,e[5]=(-s*i+r*a)*b,e[6]=g*b,e[7]=(-u*i+n*l)*b,e[8]=(o*i-n*a)*b,e):null}function eDe(e,t){const i=t[0],n=t[1],r=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],h=t[8];return e[0]=o*h-s*u,e[1]=r*u-n*h,e[2]=n*s-r*o,e[3]=s*l-a*h,e[4]=i*h-r*l,e[5]=r*a-i*s,e[6]=a*u-o*l,e[7]=n*l-i*u,e[8]=i*o-n*a,e}function tDe(e){const t=e[0],i=e[1],n=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*(u*a-o*l)+i*(-u*r+o*s)+n*(l*r-a*s)}function xT(e,t,i){const n=t[0],r=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],h=t[7],m=t[8],f=i[0],g=i[1],b=i[2],v=i[3],w=i[4],x=i[5],S=i[6],E=i[7],C=i[8];return e[0]=f*n+g*o+b*u,e[1]=f*r+g*s+b*h,e[2]=f*a+g*l+b*m,e[3]=v*n+w*o+x*u,e[4]=v*r+w*s+x*h,e[5]=v*a+w*l+x*m,e[6]=S*n+E*o+C*u,e[7]=S*r+E*s+C*h,e[8]=S*a+E*l+C*m,e}function oC(e,t,i){const n=t[0],r=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],h=t[7],m=t[8],f=i[0],g=i[1];return e[0]=n,e[1]=r,e[2]=a,e[3]=o,e[4]=s,e[5]=l,e[6]=f*n+g*o+u,e[7]=f*r+g*s+h,e[8]=f*a+g*l+m,e}function OB(e,t,i){const n=t[0],r=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],h=t[7],m=t[8],f=Math.sin(i),g=Math.cos(i);return e[0]=g*n+f*o,e[1]=g*r+f*s,e[2]=g*a+f*l,e[3]=g*o-f*n,e[4]=g*s-f*r,e[5]=g*l-f*a,e[6]=u,e[7]=h,e[8]=m,e}function iDe(e,t,i){const n=i[0],r=i[1],a=i[2];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=r*t[3],e[4]=r*t[4],e[5]=r*t[5],e[6]=a*t[6],e[7]=a*t[7],e[8]=a*t[8],e}function nDe(e,t,i){const n=i[0],r=i[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=r*t[3],e[4]=r*t[4],e[5]=r*t[5],e}function rDe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function aDe(e,t){const i=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=i,e[2]=0,e[3]=-i,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function oDe(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function sDe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function lDe(e,t){const i=t[0],n=t[1],r=t[2],a=t[3],o=i+i,s=n+n,l=r+r,u=i*o,h=n*o,m=n*s,f=r*o,g=r*s,b=r*l,v=a*o,w=a*s,x=a*l;return e[0]=1-m-b,e[3]=h-x,e[6]=f+w,e[1]=h+x,e[4]=1-u-b,e[7]=g-v,e[2]=f-w,e[5]=g+v,e[8]=1-u-m,e}function cDe(e,t){const i=t[0],n=t[1],r=t[2],a=t[4],o=t[5],s=t[6],l=t[8],u=t[9],h=t[10],m=h*o-s*u,f=-h*a+s*l,g=u*a-o*l,b=i*m+n*f+r*g;if(!b)return null;const v=1/b;return e[0]=m*v,e[1]=(-h*n+r*u)*v,e[2]=(s*n-r*o)*v,e[3]=f*v,e[4]=(h*i-r*l)*v,e[5]=(-s*i+r*a)*v,e[6]=g*v,e[7]=(-u*i+n*l)*v,e[8]=(o*i-n*a)*v,e}function uDe(e,t){const i=t[0],n=t[1],r=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],h=t[8],m=t[9],f=t[10],g=t[11],b=t[12],v=t[13],w=t[14],x=t[15],S=i*s-n*o,E=i*l-r*o,C=i*u-a*o,_=n*l-r*s,I=n*u-a*s,O=r*u-a*l,R=h*v-m*b,H=h*w-f*b,Y=h*x-g*b,U=m*w-f*v,ce=m*x-g*v,ne=f*x-g*w;let se=S*ne-E*ce+C*U+_*Y-I*H+O*R;return se?(se=1/se,e[0]=(s*ne-l*ce+u*U)*se,e[1]=(l*Y-o*ne-u*H)*se,e[2]=(o*ce-s*Y+u*R)*se,e[3]=(r*ce-n*ne-a*U)*se,e[4]=(i*ne-r*Y+a*H)*se,e[5]=(n*Y-i*ce-a*R)*se,e[6]=(v*O-w*I+x*_)*se,e[7]=(w*C-b*O-x*E)*se,e[8]=(b*I-v*C+x*S)*se,e):null}function dDe(e,t,i){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/i,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function hDe(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function pDe(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)}function mDe(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e}function PB(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e}function fDe(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e}function gDe(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e[2]=t[2]+i[2]*n,e[3]=t[3]+i[3]*n,e[4]=t[4]+i[4]*n,e[5]=t[5]+i[5]*n,e[6]=t[6]+i[6]*n,e[7]=t[7]+i[7]*n,e[8]=t[8]+i[8]*n,e}function yDe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function bDe(e,t){const i=e[0],n=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],h=e[8],m=t[0],f=t[1],g=t[2],b=t[3],v=t[4],w=t[5],x=t[6],S=t[7],E=t[8];return Math.abs(i-m)<=Ae*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(n-f)<=Ae*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(r-g)<=Ae*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(a-b)<=Ae*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(o-v)<=Ae*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(s-w)<=Ae*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(l-x)<=Ae*Math.max(1,Math.abs(l),Math.abs(x))&&Math.abs(u-S)<=Ae*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(h-E)<=Ae*Math.max(1,Math.abs(h),Math.abs(E))}function vDe(e){const t=Ae,i=e[0],n=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],h=e[8];return Math.abs(1-(i*i+a*a+l*l))<=t&&Math.abs(1-(n*n+o*o+u*u))<=t&&Math.abs(1-(r*r+s*s+h*h))<=t}const wDe=xT,xDe=PB;Object.freeze({__proto__:null,fromMat4:YSe,copy:ZSe,set:MB,identity:AB,transpose:XSe,invert:QSe,adjoint:eDe,determinant:tDe,multiply:xT,translate:oC,rotate:OB,scale:iDe,scaleByVec2:nDe,fromTranslation:rDe,fromRotation:aDe,fromScaling:oDe,fromMat2d:sDe,fromQuat:lDe,normalFromMat4Legacy:cDe,normalFromMat4:uDe,projection:dDe,str:hDe,frob:pDe,add:mDe,subtract:PB,multiplyScalar:fDe,multiplyScalarAndAdd:gDe,exactEquals:yDe,equals:bDe,isOrthoNormal:vDe,mul:wDe,sub:xDe});function X1(){const e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function kDe(e){const t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function _De(e,t,i,n,r,a,o,s,l){const u=new Float32Array(9);return u[0]=e,u[1]=t,u[2]=i,u[3]=n,u[4]=r,u[5]=a,u[6]=o,u[7]=s,u[8]=l,u}function SDe(e,t){return new Float32Array(e,t,9)}Object.freeze({__proto__:null,create:X1,clone:kDe,fromValues:_De,createView:SDe});function LB(){return new Float32Array(2)}function DDe(e){const t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}function Sm(e,t){const i=new Float32Array(2);return i[0]=e,i[1]=t,i}function $De(e,t){return new Float32Array(e,t,2)}function RB(){return LB()}function FB(){return Sm(1,1)}function NB(){return Sm(1,0)}function zB(){return Sm(0,1)}const CDe=RB(),IDe=FB(),EDe=NB(),TDe=zB();Object.freeze({__proto__:null,create:LB,clone:DDe,fromValues:Sm,createView:$De,zeros:RB,ones:FB,unitX:NB,unitY:zB,ZEROS:CDe,ONES:IDe,UNIT_X:EDe,UNIT_Y:TDe});function MDe(e){return e instanceof Float32Array&&e.length>=2}function ADe(e){return Array.isArray(e)&&e.length>=2}function f3(e){return MDe(e)||ADe(e)}var sC;const ks=[0,0];let rc=sC=class extends J{constructor(e){super(e),this._viewpoint2D={center:si(),rotation:0,scale:0,spatialReference:null},this.center=[0,0],this.extent=new pt,this.id=0,this.inverseTransform=Oc(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=Oc(),this.transformNoRotation=Oc(),this.displayMat3=X1(),this.displayViewMat3=X1(),this.viewMat3=X1(),this.viewMat2d=EB(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(e){this._set("pixelRatio",e),this._update()}set size(e){this._set("size",e),this._update()}set viewpoint(e){if(e){const t=this._viewpoint2D,i=e.targetGeometry;t.center[0]=i.x,t.center[1]=i.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=i.spatialReference}this._update()}copy(e){const t=this.size,i=this.viewpoint;return i&&t?(this.viewpoint=po(i,e.viewpoint),this._set("size",cy(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}clone(){return new sC({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(e,t,i){return f3(t)?Vo(e,t,this.inverseTransform):(ks[0]=t,ks[1]=i,Vo(e,ks,this.inverseTransform))}toScreen(e,t,i){return f3(t)?Vo(e,t,this.transform):(ks[0]=t,ks[1]=i,Vo(e,ks,this.transform))}toScreenNoRotation(e,t,i){return f3(t)?Vo(e,t,this.transformNoRotation):(ks[0]=t,ks[1]=i,Vo(e,ks,this.transformNoRotation))}getScreenTransform(e,t){const{center:i}=this._viewpoint2D,n=this._get("pixelRatio")||1,r=this._get("size");return vT(e,i,r,t,0,n),e}_update(){const{center:e,spatialReference:t,scale:i,rotation:n}=this._viewpoint2D,r=this._get("pixelRatio")||1,a=this._get("size"),o=new Yo({targetGeometry:new Ie(e[0],e[1],t),scale:i,rotation:n});if(this._set("viewpoint",o),!a||!t||!i)return;this.resolution=ef(o),this.rotation=n,this.scale=i,this.spatialReference=t,cy(this.center,e);const s=a[0]!==0?2/a[0]:0,l=a[1]!==0?-2/a[1]:0;MB(this.displayMat3,s,0,0,0,l,0,-1,1,1);const u=AB(this.viewMat3),h=Sm(a[0]/2,a[1]/2),m=Sm(-a[0]/2,-a[1]/2),f=xI(n);oC(u,u,h),OB(u,u,f),oC(u,u,m),xT(this.displayViewMat3,this.displayMat3,u);const g=fT(this.viewMat2d,h);return Qk(g,g,f),ly(g,g,m),SSe(this.extent,o,a),wT(this.transform,o,a,r),pT(this.inverseTransform,this.transform),MSe(this.transformNoRotation,o,a,r),this.worldScreenWidth=OSe(this.spatialReference,this.resolution),this._set("id",this.id+1),this}};c([d({readOnly:!0})],rc.prototype,"id",void 0),c([d({value:1,json:{write:!0}})],rc.prototype,"pixelRatio",null),c([d({json:{write:!0}})],rc.prototype,"size",null),c([d()],rc.prototype,"spatialReference",void 0),c([d({type:Yo,json:{write:!0}})],rc.prototype,"viewpoint",null),rc=sC=c([D("esri.views.2d.ViewState")],rc);const jR=rc;var lC,cC;let Zs=lC=class extends ge{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new lC({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};c([d()],Zs.prototype,"left",void 0),c([d()],Zs.prototype,"top",void 0),c([d()],Zs.prototype,"right",void 0),c([d()],Zs.prototype,"bottom",void 0),Zs=lC=c([D("esri.views.2d.PaddedViewState.Padding")],Zs);let hp=cC=class extends jR{constructor(...e){super(...e),this.paddedViewState=new jR,this._updateContent=(()=>{const t=si();return()=>{const i=this._get("size"),n=this._get("padding");if(!i||!n)return;const r=this.paddedViewState;qi(t,n.left+n.right,n.top+n.bottom),uy(t,i,t),cy(r.size,t);const a=r.viewpoint;a&&(this.viewpoint=a)}})(),this.watch(["size","padding"],this._updateContent,!0),this.padding=new Zs,this.size=[0,0]}set padding(e){this._set("padding",e||new Zs)}set viewpoint(e){if(e){const t=e.clone();this.paddedViewState.viewpoint=e,LSe(t,e,this._get("size"),this._get("padding"));const i=this._viewpoint2D,n=t.targetGeometry;i.center[0]=n.x,i.center[1]=n.y,i.rotation=t.rotation,i.scale=t.scale,i.spatialReference=n.spatialReference,this._update()}}clone(){return new cC({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};c([d()],hp.prototype,"paddedViewState",void 0),c([d({type:Zs})],hp.prototype,"padding",null),c([d()],hp.prototype,"viewpoint",null),hp=cC=c([D("esri.views.2d.PaddedViewState")],hp);const ODe=hp;class PDe{constructor(t,i){this.item=t,this.controller=i,this.promise=null}}class jB{constructor(t){this._deferreds=new Map,this._controllers=new Map,this._processingItems=new Map,this._isPaused=!1,this._schedule=null,this._task=null,this.concurrency=1,t.concurrency&&(this.concurrency=t.concurrency),this._queue=new Y$(t.peeker),this.process=t.process;const i=t.scheduler;t.priority&&T(i)&&(this._task=i.registerTask(t.priority,this))}destroy(){this.clear(),this._schedule&&(this._schedule.remove(),this._schedule=null),this._task&&(this._task.remove(),this._task=null)}get length(){return this._processingItems.size+this._queue.length}abort(t){const i=this._controllers.get(t);i&&i.abort()}clear(){this._queue.clear();const t=[];this._controllers.forEach(i=>t.push(i)),this._controllers.clear(),t.forEach(i=>i.abort()),this._processingItems.clear(),this._cancelNext()}forEach(t){this._deferreds.forEach((i,n)=>t(n))}get(t){const i=this._deferreds.get(t);return i?i.promise:void 0}isOngoing(t){return this._processingItems.has(t)}has(t){return this._deferreds.has(t)}pause(){this._isPaused||(this._isPaused=!0,this._cancelNext())}push(t,i){const n=this.get(t);if(n)return n;const r=new AbortController;let a=null;i&&(a=ro(i,()=>r.abort()));const o=()=>{const h=this._processingItems.get(t);h&&h.controller.abort(),s(),u.reject(hi())},s=()=>{l.remove(),T(a)&&a.remove(),this._deferreds.delete(t),this._controllers.delete(t),this._queue.remove(t),this._processingItems.delete(t),this._scheduleNext()},l=rk(r.signal,o),u=cl();return this._deferreds.set(t,u),this._controllers.set(t,r),u.promise.then(s,s),this._queue.push(t),this._scheduleNext(),u.promise}last(){return this._queue.last()}peek(){return this._queue.peek()}popLast(){return this._queue.popLast()}reset(){const t=[];this._processingItems.forEach(i=>t.push(i)),this._processingItems.clear();for(const i of t)this._queue.push(i.item),i.controller.abort();this._scheduleNext()}resume(){this._isPaused&&(this._isPaused=!1,this._scheduleNext())}takeAll(){const t=[];for(;this._queue.length;)t.push(this._queue.pop());return this.clear(),t}get running(){return!this._isPaused&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(t){for(;!t.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),t.madeProgress()}_scheduleNext(){this._task||this._isPaused||this._schedule||(this._schedule=Ty(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(t,i){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).resolve(i))}_processError(t,i){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).reject(i))}_canProcessFulfillment(t){return!!this._deferreds.get(t.item)&&this._processingItems.get(t.item)===t}_process(t){if(V(t))return;let i;const n=new AbortController,r=new PDe(t,n);this._processingItems.set(t,r);try{i=this.process(t,n.signal)}catch(a){this._processError(r,a)}ml(i)?(r.promise=i,i.then(a=>this._processResult(r,a),a=>this._processError(r,a))):this._processResult(r,i)}get test(){return{update:t=>this.runTask(t)}}}function LDe(e,t){return e.length=0,t.forEach(i=>e.push(i)),e}const g3=new Set,$v=[],Sh=new Map,VR=[0,0];let Tl=class extends ge{constructor(e){super(e),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:e,process:t}=this;this._queue=new jB({concurrency:e,process:(i,n)=>{const r=this._keyToItem.get(i);return t(r,{signal:n})},peeker:i=>i.values().next().value})}destroy(){this.clear(),this._queue.destroy(),this._queue=null}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(e){const t=typeof e=="string"?e:e.id;this._queue.abort(t)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(e){return typeof e=="string"?this._keyToItem.has(e):this._keyToItem.has(e.id)}isOngoing(e){const t=typeof e=="string"?e:e.id;return this.has(t)&&this._queue.isOngoing(t)}pause(){this._queue.pause()}push(e,t){const i=e.key.id+"-"+t;if(this.has(i))return this.get(i);const n=this._queue.push(i),r=()=>{this._keyToItem.delete(i),this.notifyChange("updating")};return this._keyToItem.set(i,e),n.then(r,r),this.notifyChange("updating"),n}reset(){this._queue.reset(),this.notifyChange("updating")}resume(){this._queue.resume()}_peekByScaleFirst(e){if(!this.state)return e.values().next().value;const t=this.tileInfoView;let i=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY;e.forEach(u=>{const h=this._keyToItem.get(u),m=this.tileInfoView.getTileScale(h.key);Sh.has(m)||(Sh.set(m,[]),i=Math.max(m,i),n=Math.min(m,n)),Sh.get(m).push(h.key),g3.add(m)});let r=this.state.scale;Sh.has(r)||(LDe($v,g3),$v.sort((u,h)=>u-h),r=$v.reduce((u,h)=>Math.abs(h-r)<Math.abs(u-r)?h:u,$v[0])),r=Math.min(r,i),r=Math.max(r,n);const a=Sh.get(r),o=t.getClosestInfoForScale(r),s=o.getColumnForX(this.state.center[0]),l=o.getRowForY(this.state.center[1]);return a.sort((u,h)=>{const m=o.denormalizeCol(u.col,u.world),f=o.denormalizeCol(h.col,h.world);return Math.sqrt((s-m)*(s-m)+(l-u.row)*(l-u.row))-Math.sqrt((s-f)*(s-f)+(l-h.row)*(l-h.row))}),g3.clear(),Sh.clear(),a[0].id}_peekByCenterFirst(e){if(!this.state)return e.values().next().value;const t=this.tileInfoView,i=this.state.center;let n=Number.POSITIVE_INFINITY,r=null;return e.forEach(a=>{const o=this._keyToItem.get(a);t.getTileCoords(VR,o.key);const s=tb(VR,i);s<n&&(n=s,r=o.key)}),r.id}};c([d({constructOnly:!0})],Tl.prototype,"concurrency",void 0),c([d({constructOnly:!0})],Tl.prototype,"process",void 0),c([d()],Tl.prototype,"state",void 0),c([d({constructOnly:!0})],Tl.prototype,"strategy",void 0),c([d({constructOnly:!0})],Tl.prototype,"tileInfoView",void 0),c([d({readOnly:!0})],Tl.prototype,"updating",null),Tl=c([D("esri.views.2d.tiling.PagedTileQueue")],Tl);class qn{constructor(t,i,n,r){this.set(t,i,n,r)}static getId(t,i,n,r){return typeof t=="object"?`${t.level}/${t.row}/${t.col}/${t.world}`:`${t}/${i}/${n}/${r}`}get key(){return this}get id(){return this.toString()}set id(t){this.set(t)}get hash(){const t=4095&this.row,i=4095&this.col,n=63&this.level;return(3&this.world)<<30|i<<22|t<<8|n}acquire(t,i,n,r){this.set(t,i,n,r)}contains(t){const i=t.level-this.level;return this.row===t.row>>i&&this.col===t.col>>i&&this.world===t.world}equals(t){return this.level===t.level&&this.row===t.row&&this.col===t.col&&this.world===t.world}clone(){return new qn(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(t,i,n,r){if(t==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof t=="object")this.level=t.level||0,this.row=t.row||0,this.col=t.col||0,this.world=t.world||0;else if(typeof t=="string"){const[a,o,s,l]=t.split("/");this.level=parseFloat(a),this.row=parseFloat(o),this.col=parseFloat(s),this.world=parseFloat(l)}else this.level=+t,this.row=+i,this.col=+n,this.world=+r||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new qn(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const t=this.level+1,i=this.row<<1,n=this.col<<1,r=this.world;return[new qn(t,i,n,r),new qn(t,i,n+1,r),new qn(t,i+1,n,r),new qn(t,i+1,n+1,r)]}compareRowMajor(t){return this.row<t.row?-1:this.row>t.row?1:this.col<t.col?-1:this.col>t.col?1:0}}qn.pool=new no(qn,null,null,25,50);function Ml(e,t){return[e,t]}function hu(e,t,i){return e[0]=t,e[1]=i,e}function RDe(e,t,i,n,r){return e[0]=t,e[1]=i,e[2]=n,e[3]=r,e}const Ia=new qn("0/0/0/0");class kT{constructor(t,i,n,r,a,o,s,l,u,h,m,f){this.level=t,this.resolution=i,this.scale=n,this.origin=r,this.first=a,this.last=o,this.size=s,this.norm=l,this.worldStart=u,this.worldEnd=h,this.worldSize=m,this.wrap=f}static create(t,i,n=null){const r=to(t.spatialReference),a=i.origin||Ml(t.origin.x,t.origin.y),o=Ml(t.size[0]*i.resolution,t.size[1]*i.resolution),s=Ml(-1/0,-1/0),l=Ml(1/0,1/0),u=Ml(1/0,1/0);T(n)&&(hu(s,Math.max(0,Math.floor((n.xmin-a[0])/o[0])),Math.max(0,Math.floor((a[1]-n.ymax)/o[1]))),hu(l,Math.max(0,Math.floor((n.xmax-a[0])/o[0])),Math.max(0,Math.floor((a[1]-n.ymin)/o[1]))),hu(u,l[0]-s[0]+1,l[1]-s[1]+1));const{cols:h,rows:m}=i;let f,g,b,v;return!n&&h&&m&&(hu(s,h[0],m[0]),hu(l,h[1],m[1]),hu(u,h[1]-h[0]+1,m[1]-m[0]+1)),t.isWrappable?(f=Ml(Math.ceil(Math.round((r.valid[1]-r.valid[0])/i.resolution)/t.size[0]),u[1]),g=Ml(Math.floor((r.origin[0]-a[0])/o[0]),s[1]),b=Ml(f[0]+g[0]-1,l[1]),v=!0):(g=s,b=l,f=u,v=!1),new kT(i.level,i.resolution,i.scale,a,s,l,u,o,g,b,f,v)}normalizeCol(t){if(!this.wrap)return t;const i=this.worldSize[0];return t<0?i-1-Math.abs((t+1)%i):t%i}denormalizeCol(t,i){return this.wrap?this.worldSize[0]*i+t:t}getWorldForColumn(t){return this.wrap?Math.floor(t/this.worldSize[0]):0}getFirstColumnForWorld(t){return t*this.worldSize[0]+this.first[0]}getLastColumnForWorld(t){return t*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(t){return(t-this.origin[0])/this.norm[0]}getXForColumn(t){return this.origin[0]+t*this.norm[0]}getRowForY(t){return(this.origin[1]-t)/this.norm[1]}getYForRow(t){return this.origin[1]-t*this.norm[1]}getTileBounds(t,i,n=!1){Ia.set(i);const r=n?Ia.col:this.denormalizeCol(Ia.col,Ia.world),a=Ia.row;return RDe(t,this.getXForColumn(r),this.getYForRow(a+1),this.getXForColumn(r+1),this.getYForRow(a)),t}getTileCoords(t,i,n=!1){Ia.set(i);const r=n?Ia.col:this.denormalizeCol(Ia.col,Ia.world);return Array.isArray(t)?hu(t,this.getXForColumn(r),this.getYForRow(Ia.row)):(t.x=this.getXForColumn(r),t.y=this.getYForRow(Ia.row)),t}}class Dm{constructor(){this.spans=[]}acquire(t){this.lodInfo=t}release(){this.lodInfo=null,this.spans.length=0}forEach(t,i){const{spans:n,lodInfo:r}=this,{level:a}=r;if(n.length!==0)for(const{row:o,colFrom:s,colTo:l}of n)for(let u=s;u<=l;u++)t.call(i,a,o,r.normalizeCol(u),r.getWorldForColumn(u))}}Dm.pool=new no(Dm);class y3{constructor(t,i,n){this.row=t,this.colFrom=i,this.colTo=n}}const Tt=new qn("0/0/0/0");class _T{constructor(t,i,n,r,a,o,s,l){this.x=t,this.ymin=i,this.ymax=n,this.invM=r,this.leftAdjust=a,this.rightAdjust=o,this.leftBound=s,this.rightBound=l}static create(t,i){t[1]>i[1]&&([t,i]=[i,t]);const[n,r]=t,[a,o]=i,s=a-n,l=o-r,u=l!==0?s/l:0,h=(Math.ceil(r)-r)*u,m=(Math.floor(r)-r)*u;return new _T(n,Math.floor(r),Math.ceil(o),u,s<0?h:m,s<0?m:h,s<0?a:n,s<0?n:a)}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const ar=[[0,0],[0,0],[0,0],[0,0]],FDe=1e-6;class NDe{constructor(t,i=null){this.tileInfo=t,this.fullExtent=i,this.scales=[],this._lodInfos=null,this._infoByScale={},this._infoByLevel={};const n=t.lods.slice();n.sort(function(a,o){return o.scale-a.scale});const r=this._lodInfos=n.map(a=>kT.create(t,a,i));n.forEach((a,o)=>{this._infoByLevel[a.level]=r[o],this._infoByScale[a.scale]=r[o],this.scales[o]=a.scale},this),this._wrap=t.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(t){return this._infoByLevel[typeof t=="number"?t:t.level]}getTileBounds(t,i,n=!1){Tt.set(i);const r=this._infoByLevel[Tt.level];return r?r.getTileBounds(t,Tt,n):t}getTileCoords(t,i,n=!1){Tt.set(i);const r=this._infoByLevel[Tt.level];return r?r.getTileCoords(t,Tt,n):t}getTileCoverage(t,i=192,n="closest"){const r=n==="closest"?this.getClosestInfoForScale(t.scale):this.getSmallestInfoForScale(t.scale),a=Dm.pool.acquire(r),o=this._wrap;let s,l,u,h=1/0,m=-1/0;const f=a.spans;ar[0][0]=ar[0][1]=ar[1][1]=ar[3][0]=-i,ar[1][0]=ar[2][0]=t.size[0]+i,ar[2][1]=ar[3][1]=t.size[1]+i;for(const w of ar)t.toMap(w,w),w[0]=r.getColumnForX(w[0]),w[1]=r.getRowForY(w[1]);const g=[];let b=3;for(let w=0;w<4;w++){if(ar[w][1]===ar[b][1]){b=w;continue}const x=_T.create(ar[w],ar[b]);h=Math.min(x.ymin,h),m=Math.max(x.ymax,m),g[x.ymin]===void 0&&(g[x.ymin]=[]),g[x.ymin].push(x),b=w}if(h==null||m==null||m-h>100)return null;let v=[];for(s=h;s<m;){g[s]!=null&&(v=v.concat(g[s])),l=1/0,u=-1/0;for(let w=v.length-1;w>=0;w--){const x=v[w];l=Math.min(l,x.getLeftCol()),u=Math.max(u,x.getRightCol())}if(l=Math.floor(l),u=Math.floor(u),s>=r.first[1]&&s<=r.last[1])if(o)if(r.size[0]<r.worldSize[0]){const w=Math.floor(u/r.worldSize[0]);for(let x=Math.floor(l/r.worldSize[0]);x<=w;x++)f.push(new y3(s,Math.max(r.getFirstColumnForWorld(x),l),Math.min(r.getLastColumnForWorld(x),u)))}else f.push(new y3(s,l,u));else l>r.last[0]||u<r.first[0]||(l=Math.max(l,r.first[0]),u=Math.min(u,r.last[0]),f.push(new y3(s,l,u)));s+=1;for(let w=v.length-1;w>=0;w--){const x=v[w];x.ymax>=s?x.incrRow():v.splice(w,1)}}return a}getTileParentId(t){Tt.set(t);const i=this._infoByLevel[Tt.level],n=this._lodInfos.indexOf(i)-1;return n<0?null:(this._getTileIdAtLOD(Tt,this._lodInfos[n],Tt),Tt.id)}getTileResolution(t){const i=this._infoByLevel[typeof t=="object"?t.level:t];return i?i.resolution:-1}getTileScale(t){const i=this._infoByLevel[t.level];return i?i.scale:-1}intersects(t,i){Tt.set(i);const n=this._infoByLevel[Tt.level],r=t.lodInfo;if(r.resolution>n.resolution){this._getTileIdAtLOD(Tt,r,Tt);const o=r.denormalizeCol(Tt.col,Tt.world);for(const s of t.spans)if(s.row===Tt.row&&s.colFrom<=o&&s.colTo>=o)return!0}if(r.resolution<n.resolution){const[o,s,l,u]=t.spans.reduce((v,w)=>(v[0]=Math.min(v[0],w.row),v[1]=Math.max(v[1],w.row),v[2]=Math.min(v[2],w.colFrom),v[3]=Math.max(v[3],w.colTo),v),[1/0,-1/0,1/0,-1/0]),h=n.denormalizeCol(Tt.col,Tt.world),m=r.getColumnForX(n.getXForColumn(h)),f=r.getRowForY(n.getYForRow(Tt.row)),g=r.getColumnForX(n.getXForColumn(h+1))-1,b=r.getRowForY(n.getYForRow(Tt.row+1))-1;return!(m>u||g<l||f>s||b<o)}const a=r.denormalizeCol(Tt.col,Tt.world);return t.spans.some(o=>o.row===Tt.row&&o.colFrom<=a&&o.colTo>=a)}normalizeBounds(t,i,n){if(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],this._wrap){const r=to(this.tileInfo.spatialReference),a=-n*(r.valid[1]-r.valid[0]);t[0]+=a,t[2]+=a}return t}getSmallestInfoForScale(t){const i=this.scales;if(this._infoByScale[t])return this._infoByScale[t];if(t>i[0])return this._infoByScale[i[0]];for(let n=1;n<i.length-1;n++)if(t>i[n]+FDe)return this._infoByScale[i[n-1]];return this._infoByScale[i[i.length-1]]}getClosestInfoForScale(t){const i=this.scales;return this._infoByScale[t]||(t=i.reduce((n,r)=>Math.abs(r-t)<Math.abs(n-t)?r:n,i[0])),this._infoByScale[t]}scaleToLevel(t){const i=this.scales;if(this._infoByScale[t])return this._infoByScale[t].level;for(let n=i.length-1;n>=0;n--)if(t<i[n])return n===i.length-1?this._infoByScale[i[i.length-1]].level:this._infoByScale[i[n]].level+(i[n]-t)/(i[n]-i[n+1]);return this._infoByScale[i[0]].level}scaleToZoom(t){return this.tileInfo.scaleToZoom(t)}_getTileIdAtLOD(t,i,n){const r=this._infoByLevel[n.level];return t.set(n),i.resolution<r.resolution?null:(i.resolution===r.resolution||(t.level=i.level,t.col=Math.floor(n.col*r.resolution/i.resolution+.01),t.row=Math.floor(n.row*r.resolution/i.resolution+.01)),t)}}function zDe(e,t){return e.length=0,t.forEach(i=>e.push(i)),e}const b3=new Set,Cv=[],Dh=new Map,HR=[0,0];let Hs=class extends ge{constructor(e){super(e),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:e,process:t,strategy:i}=this;this._queue=new jB({concurrency:e,process:(n,r)=>{const a=this._keyToItem.get(n);return t(a,{signal:r})},peeker:i==="scale-first"?n=>this._peekByScaleFirst(n):n=>this._peekByCenterFirst(n)})}destroy(){this.clear(),this._queue.destroy(),this._queue=null}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(e){const t=typeof e=="string"?e:e.id;this._queue.abort(t)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(e){return typeof e=="string"?this._keyToItem.has(e):this._keyToItem.has(e.id)}isOngoing(e){const t=typeof e=="string"?e:e.id;return this.has(t)&&this._queue.isOngoing(t)}pause(){this._queue.pause()}push(e){const t=e.key.id;if(this._queue.has(t))return this._queue.get(t);const i=this._queue.push(t),n=()=>{this._keyToItem.delete(t),this.notifyChange("updating")};return this._keyToItem.set(t,e),i.then(n,n),this.notifyChange("updating"),i}reset(){this._queue.reset()}resume(){this._queue.resume()}_peekByScaleFirst(e){if(!this.state)return e.values().next().value;const t=this.tileInfoView;let i=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY;e.forEach(u=>{const h=this._keyToItem.get(u),m=this.tileInfoView.getTileScale(h.key);Dh.has(m)||(Dh.set(m,[]),i=Math.max(m,i),n=Math.min(m,n)),Dh.get(m).push(h.key),b3.add(m)});let r=this.state.scale;Dh.has(r)||(zDe(Cv,b3),Cv.sort((u,h)=>u-h),r=Cv.reduce((u,h)=>Math.abs(h-r)<Math.abs(u-r)?h:u,Cv[0])),r=Math.min(r,i),r=Math.max(r,n);const a=Dh.get(r),o=t.getClosestInfoForScale(r),s=o.getColumnForX(this.state.center[0]),l=o.getRowForY(this.state.center[1]);return a.sort((u,h)=>{const m=o.denormalizeCol(u.col,u.world),f=o.denormalizeCol(h.col,h.world);return Math.sqrt((s-m)*(s-m)+(l-u.row)*(l-u.row))-Math.sqrt((s-f)*(s-f)+(l-h.row)*(l-h.row))}),b3.clear(),Dh.clear(),a[0].id}_peekByCenterFirst(e){if(!this.state)return e.values().next().value;const t=this.tileInfoView,i=this.state.center;let n=Number.POSITIVE_INFINITY,r=null;return e.forEach(a=>{const o=this._keyToItem.get(a);t.getTileCoords(HR,o.key);const s=tb(HR,i);s<n&&(n=s,r=o.key)}),r.id}};c([d({constructOnly:!0})],Hs.prototype,"concurrency",void 0),c([d({constructOnly:!0})],Hs.prototype,"process",void 0),c([d()],Hs.prototype,"state",void 0),c([d({constructOnly:!0})],Hs.prototype,"strategy",void 0),c([d({constructOnly:!0})],Hs.prototype,"tileInfoView",void 0),c([d({readOnly:!0})],Hs.prototype,"updating",null),Hs=c([D("esri.views.2d.tiling.TileQueue")],Hs);const BMe=Hs;class jDe{constructor(t,i,n){this.maxSize=t,this.tileInfoView=i,this.removedFunc=n,this._tilePerId=new Map,this._tileKeysPerLevel=[]}has(t){return this._tilePerId.has(t)}get(t){return this._tilePerId.get(t)}pop(t){const i=this._tilePerId.get(t);if(!i)return null;const n=i.key.level,r=this._tileKeysPerLevel[n];qR(this._tilePerId,t);for(let a=0;a<r.length;a++)if(r[a].id===t){r.splice(a,1);break}return i.visible=!0,i}add(t){t.visible=!1;const i=t.key,n=i.id;if(this._tilePerId.has(n))return;this._tilePerId.set(n,t);const r=i.level;this._tileKeysPerLevel[r]||(this._tileKeysPerLevel[r]=[]),this._tileKeysPerLevel[r].push(i)}prune(t,i,n){let r=this._tilePerId.size;if(r<=this.maxSize)return;let a=this._tileKeysPerLevel.length-1;for(;r>this.maxSize&&a>=0;)a!==t&&(r=this._pruneAroundCenterTile(r,i,n,a)),a--;r>this.maxSize&&(r=this._pruneAroundCenterTile(r,i,n,t))}_pruneAroundCenterTile(t,i,n,r){const a=this._tileKeysPerLevel[r];if(!a||a.length===0)return t;const{size:o,origin:s}=this.tileInfoView.tileInfo,l=n*o[0],u=n*o[1],h=[0,0],m=[0,0];for(a.sort((f,g)=>(h[0]=s.x+l*(f.col+.5),h[1]=s.y-u*(f.row+.5),m[0]=s.x+l*(g.col+.5),m[1]=s.y-u*(g.row+.5),Ox(h,i)-Ox(m,i)));a.length>0;){const f=a.pop();if(this._removeTile(f.id),--t===this.maxSize)break}return t}_removeTile(t){const i=this._tilePerId.get(t);this.removedFunc&&this.removedFunc(i),qR(this._tilePerId,t)}}function qR(e,t){e.delete(t)}const pu=new qn(0,0,0,0),Vr=new Map,$h=[],Iv=[];class UMe{constructor(t){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=t.acquireTile,this.releaseTile=t.releaseTile,this.tileInfoView=t.tileInfoView,this.resampling=t.resampling==null||!!t.resampling,t.cachePolicy&&(this.cachePolicy=t.cachePolicy),t.coveragePolicy&&(this.coveragePolicy=t.coveragePolicy),t.buffer!=null&&(this.buffer=t.buffer),t.cacheSize&&(this._tileCache=new jDe(t.cacheSize,this.tileInfoView,i=>{this.releaseTile(i)}))}destroy(){this.tileIndex.clear()}update(t){const{resampling:i,tileIndex:n}=this,r=this.tileInfoView.getTileCoverage(t.state,this.buffer,this.coveragePolicy);if(Iv.length=0,$h.length=0,Vr.clear(),!r)return;const{minScale:a,maxScale:o}=this.tileInfoView.tileInfo,{spans:s,lodInfo:l}=r,{level:u}=l,{scale:h,center:m,resolution:f}=t.state,g=!t.stationary&&h>this._previousScale;if(this._previousScale=h,this.tiles.length=0,!i&&(h>a||h<o))return this.tiles.length=0,Vr.clear(),n.forEach(x=>{this.releaseTile(x)}),n.clear(),Iv.length=0,$h.length=0,Vr.clear(),Dm.pool.release(r),!0;n.forEach(x=>x.visible=!0);let b=0,v=0;if(s.length>0)for(const{row:x,colFrom:S,colTo:E}of s)for(let C=S;C<=E;C++){b++;const _=pu.set(u,x,l.normalizeCol(C),l.getWorldForColumn(C)).id;if(n.has(_)){const I=n.get(_);I.isReady?(Vr.set(_,I),v++):g||this._addParentTile(_,Vr)}else{let I;if(this._tileCache&&this._tileCache.has(_)){if(I=this._tileCache.pop(_),this.tileIndex.set(_,I),I.isReady){Vr.set(_,I),v++;continue}}else I=this.acquireTile(pu),this.tileIndex.set(_,I);g||this._addParentTile(_,Vr)}}const w=v===b;n.forEach((x,S)=>{if(pu.set(S),Vr.has(S))return;const E=this.tileInfoView.intersects(r,pu),C=this.cachePolicy==="purge"?pu.level!==u:pu.level>u;!E||!g&&w?!C&&E||$h.push(S):x.isReady?C&&this.cachePolicy==="purge"&&this._hasReadyAncestor(pu,u)?$h.push(S):Iv.push(S):C&&$h.push(S)});for(const x of Iv){const S=n.get(x);S&&S.isReady&&Vr.set(x,S)}for(const x of $h){const S=n.get(x);this._tileCache?this._tileCache.add(S):this.releaseTile(S),n.delete(x)}return Vr.forEach(x=>this.tiles.push(x)),n.forEach(x=>{Vr.has(x.key.id)||(x.visible=!1)}),this._tileCache&&this._tileCache.prune(u,m,f),Dm.pool.release(r),Vr.clear(),w}clear(t=!0){const{tileIndex:i}=this;t&&i.forEach(n=>{this.releaseTile(n)}),i.clear()}updateCacheSize(t){this._tileCache&&(this._tileCache.maxSize=t)}_addParentTile(t,i){let n=t,r=null;for(;n=this.tileInfoView.getTileParentId(n),n;)if(this.tileIndex.has(n)){if(r=this.tileIndex.get(n),r&&r.isReady){i.has(r.key.id)||i.set(r.key.id,r);break}}else if(this._tileCache&&this._tileCache.has(n)&&(r=this._tileCache.pop(n),this.tileIndex.set(n,r),r&&r.isReady)){i.has(r.key.id)||i.set(r.key.id,r);break}}_hasReadyAncestor(t,i){const n=qd();this.tileInfoView.getTileBounds(n,t,!0);for(const r of this.tileIndex.values())if(r.isReady&&r.key.level>=i&&r.key.level<t.level){const a=qd();if(this.tileInfoView.getTileBounds(a,r.key,!0),Lde(a,n))return!0}return!1}}function ST(e,t){switch(t){case"primary":return e.pointerType==="touch"||e.button===0;case"secondary":return e.pointerType!=="touch"&&e.button===2;case"tertiary":return e.pointerType!=="touch"&&e.button===1}}class BR extends Wi{constructor(t,i){super(!0),this.view=t,this.registerIncoming("double-click",i,n=>this._handleDoubleClick(n,i))}_handleDoubleClick(t,i){ST(t.data,"primary")&&(t.stopPropagation(),i?this.view.mapViewNavigation.zoomOut([t.data.x,t.data.y]):this.view.mapViewNavigation.zoomIn([t.data.x,t.data.y]))}}class VDe extends Wi{constructor(t,i,n){super(!0),this.view=t,this.pointerType=i,this.registerIncoming("double-tap-drag",n,r=>this._handleDoubleTapDrag(r))}_handleDoubleTapDrag(t){const{data:i}=t,{pointerType:n}=i;if(n!==this.pointerType)return;t.stopPropagation();const{action:r,delta:a}=i,{view:o}=this,{mapViewNavigation:s}=o;switch(r){case"begin":{const{scale:l}=o;this._startScale=l,this._currentScale=l,this._previousDelta=a,s.begin();break}case"update":{if(this._previousDelta.y===a.y)return;this._previousDelta=a;const l=1.015**a.y,u=this._startScale*l,h=u/this._currentScale;s.setViewpointImmediate(h),this._currentScale=u;break}case"end":{const{constraints:l}=o,{effectiveLODs:u,snapToZoom:h}=l;if(!h||!u)return void s.end();const m=l.snapScale(this._currentScale),f=(a.y>0?Math.max(m,l.snapToPreviousScale(this._startScale)):Math.min(m,l.snapToNextScale(this._startScale)))/this._currentScale;s.zoom(f);break}}}}class t_{constructor(t){this.callbacks=t,this.currentCount=0,this.callbacks.condition||(this.callbacks.condition=()=>!0)}handle(t){const i=t.data,n=i.pointers.size;switch(i.action){case"start":this.currentCount=n,this._emitStart(t);break;case"added":this._emitEnd(this.previousEvent),this.currentCount=n,this._emitStart(t);break;case"update":this._emitUpdate(t);break;case"removed":this.startEvent&&this._emitEnd(this.previousEvent),this.currentCount=n,this._emitStart(t);break;case"end":this._emitEnd(t),this.currentCount=0}this.previousEvent=t}_emitStart(t){this.startEvent=t,this.callbacks.condition(this.currentCount,t)&&this.callbacks.start(this.currentCount,t,this.startEvent)}_emitUpdate(t){this.callbacks.condition(this.currentCount,t)&&this.callbacks.update(this.currentCount,t,this.startEvent)}_emitEnd(t){this.callbacks.condition(this.currentCount,t)&&this.callbacks.end(this.currentCount,t,this.startEvent),this.startEvent=null}}class HDe extends Wi{constructor(t,i,n){super(!0),this.view=t,this.pointerAction=i,this.registerIncoming("drag",n,r=>this._handleDrag(r)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(t){super.onInstall(t),this.dragEventSeparator=new t_({start:(i,n)=>{this.view.mapViewNavigation.pan.begin(this.view,n.data),n.stopPropagation()},update:(i,n)=>{this.view.mapViewNavigation.pan.update(this.view,n.data),n.stopPropagation()},end:(i,n)=>{this.view.mapViewNavigation.pan.end(this.view,n.data),n.stopPropagation()},condition:(i,n)=>i===1&&ST(n.data,this.pointerAction)})}_handleDrag(t){const i=this.view.mapViewNavigation;i.pinch.zoomMomentum||i.pinch.rotateMomentum?this.stopMomentumNavigation():this.dragEventSeparator.handle(t)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}}class qDe extends Wi{constructor(t,i,n){super(!0),this.view=t,this.pointerAction=i;const r=this.view.mapViewNavigation;this.dragEventSeparator=new t_({start:(a,o)=>{r.rotate.begin(this.view,o.data),o.stopPropagation()},update:(a,o)=>{r.rotate.update(this.view,o.data),o.stopPropagation()},end:(a,o)=>{r.rotate.end(),o.stopPropagation()},condition:(a,o)=>a===1&&ST(o.data,this.pointerAction)}),this.registerIncoming("drag",n,a=>this.dragEventSeparator.handle(a))}}function Ea(e){let t=e*e;return e<0&&(t*=-1),t}function BDe(e){return e.translation[0]=0,e.translation[1]=0,e.translation[2]=0,e.heading=0,e.tilt=0,e}function UDe(e,t,i){const n=i,r=e.state,a=e.device,o=t.tiltDirection==="forward-down"?1:-1,s=1;return a.deviceType==="standard"?(n.translation[0]=Ea(r.axes[0]),n.translation[1]=Ea(r.axes[1]),n.translation[2]=Ea(r.buttons[7])-Ea(r.buttons[6]),n.heading=Ea(r.axes[2]),n.tilt=Ea(r.axes[3])):a.deviceType==="spacemouse"&&(n.translation[0]=1.2*Ea(r.axes[0]),n.translation[1]=1.2*Ea(r.axes[1]),n.translation[2]=2*-Ea(r.axes[2]),n.heading=1.2*Ea(r.axes[5]),n.tilt=1.2*Ea(r.axes[3])),n.tilt*=o,_z(n.translation,n.translation,s),n}function GDe(e){return e.translation[0]===0&&e.translation[1]===0&&e.translation[2]===0&&e.heading===0&&e.tilt===0&&e.zoom===0}class WDe extends Wi{constructor(t){super(!0),this.view=t,this.frameTask=null,this.watchHandles=new On,this.currentDevice=null,this.transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this.handle=this.registerIncoming("gamepad",i=>this._handleGamePadEvent(i)),this.handle.pause()}onInstall(t){super.onInstall(t),this.watchHandles.add([Yt(this.view.navigation.gamepad,"enabled",i=>{i?(this.handle.resume(),this.frameTask||(this.frameTask=lm({update:n=>this._frameUpdate(n.deltaTime)}))):(this.handle.pause(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null))})])}onUninstall(){this.watchHandles.removeAll(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null),super.onUninstall()}_handleGamePadEvent(t){const i=this.view.navigation.gamepad.device;i&&t.data.device!==i||this.currentDevice&&this.currentDevice!==t.data.device||(t.data.action==="end"?(this.currentDevice=null,BDe(this.transformation)):(this.currentDevice=t.data.device,UDe(t.data,this.view.navigation.gamepad,this.transformation)))}_frameUpdate(t){const i=this.transformation;if(GDe(i))return;const n=this.view.viewpoint.clone(),r=this.view.navigation.gamepad.velocityFactor,a=KDe*r*t;e_(n,n,[i.translation[0]*a,-i.translation[1]*a]);const o=1+i.translation[2]*YDe*t,s=this.view.constraints.rotationEnabled?-i.heading*JDe*t:0,l=this.view.size,u=[l[0]/2,l[1]];_B(n,n,o,s,u,l);const h=this.view.constraints.constrain(n,this.view.viewpoint);this.view.viewpoint=h}}const JDe=.06,KDe=.7,YDe=6e-4;class ZDe extends Wi{constructor(t,i,n){super(!0),this.view=t,this.keys=i,this._pressed=!1,this._keyMap={[i.left]:"left",[i.right]:"right",[i.up]:"up",[i.down]:"down"},this.registerIncoming("key-down",n,r=>this._handleKeyDown(r)),this.registerIncoming("key-up",n,r=>this._handleKeyUp(r)),this.registerIncoming("blur",n,()=>this._handleBlur())}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,i){const n=this._keyMap[t.data.key];if(this._pressed=n!=null,this._pressed){if(i)switch(this.view.mapViewNavigation.begin(),n){case"left":this.view.mapViewNavigation.continousPanLeft();break;case"right":this.view.mapViewNavigation.continousPanRight();break;case"up":this.view.mapViewNavigation.continousPanUp();break;case"down":this.view.mapViewNavigation.continousPanDown()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}}class XDe extends Wi{constructor(t,i,n){super(!0),this.view=t,this.keys=i,this._pressed=!1,this._keyToDirection={[i.clockwiseOption1]:"clockwise",[i.clockwiseOption2]:"clockwise",[i.counterClockwiseOption1]:"counterClockwise",[i.counterClockwiseOption2]:"counterClockwise",[i.resetOption1]:"reset",[i.resetOption2]:"reset"},this.registerIncoming("key-down",n,r=>this._handleKeyDown(r)),this.registerIncoming("key-up",n,r=>this._handleKeyUp(r)),this.registerIncoming("blur",n,()=>this._handleBlur())}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,i){const n=t.modifiers;if(n.size>0&&!n.has("Shift")||!this.view.constraints.rotationEnabled)return;const r=this._keyToDirection[t.data.key];if(this._pressed=r!=null,this._pressed){if(i)switch(this.view.mapViewNavigation.begin(),r){case"clockwise":this.view.mapViewNavigation.continousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}}var Tp;(function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT"})(Tp||(Tp={}));class QDe extends Wi{constructor(t,i,n){super(!0),this.view=t,this.keys=i,this._keysToZoomAction={},this.registerIncoming("key-down",n,r=>this._handleKeyDown(r)),i.zoomIn.forEach(r=>this._keysToZoomAction[r]=Tp.IN),i.zoomOut.forEach(r=>this._keysToZoomAction[r]=Tp.OUT)}_handleKeyDown(t){this._handleKey(t)}_handleKey(t){const i=t.modifiers;if(i.size>0&&!i.has("Shift"))return;const{key:n}=t.data;if(!(n in this._keysToZoomAction))return;const r=this._keysToZoomAction[n],{mapViewNavigation:a}=this.view;let o=null;switch(r){case Tp.IN:o=a.zoomIn();break;case Tp.OUT:o=a.zoomOut();break;default:return}a.begin(),o.then(()=>a.end()),t.stopPropagation()}}const e$e=.6;class t$e extends Wi{constructor(t,i){super(!0),this.view=t,this._canZoom=!0,this.registerIncoming("mouse-wheel",i,n=>this._handleMouseWheel(n))}_handleMouseWheel(t){if(!this.view.navigation.mouseWheelZoomEnabled||(t.preventDefault(),t.stopPropagation(),!this._canZoom))return;const i=this.view.mapViewNavigation,{x:n,y:r,deltaY:a}=t.data,o=1/e$e**(1/60*a),s=i.zoom(o,[n,r]);s&&(this._canZoom=!1,s.catch(()=>{}).then(()=>{this._canZoom=!0,i.end()}))}}class i$e extends Wi{constructor(t){super(!0),this.view=t,this.registerIncoming("drag",n=>this._handleDrag(n)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const i=this.view.mapViewNavigation;this.dragEventSeparator=new t_({start:(n,r)=>{i.pinch.begin(this.view,r.data),r.stopPropagation()},update:(n,r)=>{i.pinch.update(this.view,r.data),r.stopPropagation()},end:(n,r)=>{i.pinch.end(this.view),r.stopPropagation()},condition:n=>n>=2})}_handleDrag(t){this.dragEventSeparator.handle(t)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}}function UR(e){const t=e.native;return t?{buttons:t.buttons.map(i=>i.pressed?i.value?i.value:1:0),axes:t.axes.map(i=>a$e(i,e.axisThreshold))}:{buttons:[],axes:[]}}function n$e(e,t){if(e.axes.length!==t.axes.length||e.buttons.length!==t.buttons.length)return!1;for(let i=0;i<e.axes.length;i++)if(e.axes[i]!==t.axes[i])return!1;for(let i=0;i<e.buttons.length;i++)if(e.buttons[i]!==t.buttons[i])return!1;return!0}function r$e(e){for(let t=0;t<e.axes.length;t++)if(e.axes[t]!==0)return!1;for(let t=0;t<e.buttons.length;t++)if(e.buttons[t]!==0)return!1;return!0}function a$e(e,t){const i=Math.abs(e);return i<t?0:Math.sign(e)*(i-t)/(1-t)}class o$e{constructor(t,i){this.element=t,this.input=i,this._hasEventListeners=!1,this._onConnectGamepad=a=>{this._connectGamepad(a.gamepad)},this._onDisconnectGamepad=a=>{const o=a.gamepad,s=o.index,l=this.inputDevices[s];l&&(this._emitGamepadEvent(o,UR(l),!1),this.inputDevices.splice(s,1),this.latestUpdate.splice(s,1),this.input.gamepad.devices.remove(l),this.ensurePollingState())},this.frameTask=null,this.latestUpdate=new Array,this.inputDevices=new Array,this.callback=null;const n="getGamepads"in window.navigator,r=window.isSecureContext;this.supported=n&&r,this.supported&&(this._forEachGamepad(a=>this._connectGamepad(a)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(t){this._hasEventListeners!==t&&(this._hasEventListeners=t,this.ensurePollingState())}get eventsEnabled(){return this.supported&&this.inputDevices.length>0&&this._hasEventListeners}set onEvent(t){this.callback=t}_connectGamepad(t){const i=new hT(t);i.deviceType!=="unknown"&&(this.inputDevices[t.index]=i,this.input.gamepad.devices.add(i)),this.ensurePollingState()}ensurePollingState(){this.eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this.frameTask==null&&(this.frameTask=lm({update:()=>this._readGamepadState()}))}_stopPolling(){this.frameTask!=null&&(this.frameTask.remove(),this.frameTask=null,this.latestUpdate=new Array)}_readGamepadState(){const t=document.hasFocus(),i=this.element.contains(document.activeElement),n=this.input.gamepad.enabledFocusMode==="document"&&!t||this.input.gamepad.enabledFocusMode==="view"&&!i;this._forEachGamepad(r=>{const a=this.inputDevices[r.index];if(!a)return;const o=this.latestUpdate[r.index],s=UR(a),l=n||r$e(s);o&&(o.timestamp===r.timestamp||!o.active&&l||n$e(o.state,s))||this._emitGamepadEvent(r,s,!l)})}_forEachGamepad(t){const i=window.navigator.getGamepads();for(let n=0;n<i.length;n++){const r=i[n];this._validate(r)&&t(r)}}_emitGamepadEvent(t,i,n){const r=this.latestUpdate[t.index],a=r&&r.active;if(!a&&!n)return;const o=!a&&n?"start":a&&n?"update":"end";this.latestUpdate[t.index]={timestamp:t.timestamp,state:i,active:n},this.callback&&this.callback({device:this.inputDevices[t.index],state:i,action:o})}_validate(t){if(!t||!t.connected)return!1;for(let i=0;i<t.axes.length;i++)if(isNaN(t.axes[i]))return!1;return!0}}const GR=q("trident"),WR=q("edge"),s$e=q("chrome"),l$e=q("ff"),c$e=q("safari"),Ch={touchNone:"esri-view-surface--touch-none",touchPan:"esri-view-surface--touch-pan"};class i_{constructor(t,i){this.input=i,this._active={},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=t,t.getAttribute("tabindex")||t.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new o$e(t,this.input),this._gamepadSource.onEvent=n=>this._callback("gamepad",n)}destroy(){this._callback=null,this.activeEvents=null,this._activePointerCaptures.forEach(t=>{this._releasePointerCaptureSafe(t)}),this._gamepadSource&&(this._gamepadSource.destroy(),this._gamepadSource=null),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(t){this._browserTouchPanningEnabled=t,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(t){this._callback=t}set activeEvents(t){for(const i in this._active)if(!t||!t.has(i)){const n=this._active[i];this._element.removeEventListener(v3[i],n),delete this._active[i]}t&&t.forEach(i=>{if(!this._active[i]&&v3[i]){const n=(this._eventHandlers[i]||this._handleDefault).bind(this,i);this._element.addEventListener(v3[i],n),this._active[i]=n}}),this._gamepadSource.hasEventListeners=t&&t.has("gamepad")}setPointerCapture(t,i){i?(this._element.setPointerCapture(t.pointerId),this._activePointerCaptures.add(t.pointerId)):(this._releasePointerCaptureSafe(t.pointerId),this._activePointerCaptures.delete(t.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?Ch.touchNone:Ch.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?Ch.touchPan:Ch.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(Ch.touchNone),this._element.classList.remove(Ch.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_releasePointerCaptureSafe(t){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(t))return;this._element.releasePointerCapture(t)}catch{}}_updateNormalizedPointerLikeEvent(t,i){const n=Kq(this._element,t);return i_.test.disableSubpixelCoordinates&&(n.x=Math.round(n.x),n.y=Math.round(n.y)),i.x=n.x,i.y=n.y,i}_handleKey(t,i){const n=C3e(i);n&&t==="key-up"&&this._keyDownState.delete(n);const r={native:i,key:n,repeat:n&&this._keyDownState.has(n)};n&&t==="key-down"&&this._keyDownState.add(r.key),this._callback(t,r)}_handlePointer(t,i){const n=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});this._callback(t,n)}_handlePointerPreventDefault(t,i){const n=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});i.preventDefault(),this._callback(t,n)}_handleMouseWheel(t,i){let n=i.deltaY;switch(i.deltaMode){case 0:(GR||WR)&&(n=n/document.documentElement.clientHeight*600);break;case 1:n*=30;break;case 2:n*=900}GR||WR?n*=.7:s$e||c$e?n*=.6:l$e&&(n*=1.375);const r=100,a=Math.abs(n);a>r&&(n=n/a*200/(1+Math.exp(-.02*(a-r))));const o=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,deltaY:n});this._callback(t,o)}_handlePointerCaptureLost(t,i){this._activePointerCaptures.delete(i.pointerId),this._handleDefault(t,i)}_handleDefault(t,i){const n={native:i};i.preventDefault(),this._callback(t,n)}_preventAltKeyDefault(t){t.key==="Alt"&&t.preventDefault()}_preventMultiTouchPanning(t){t.touches.length>1&&t.preventDefault()}}i_.test={disableSubpixelCoordinates:!1};const v3={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};class u$e extends Wi{constructor(){super(!0),this.registerIncoming("context-menu",t=>{t.data.native.preventDefault()})}}function DT(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function d$e(e,t){const i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)}function h$e(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:Un()},e.length===0)return t;if(e.length===1)return t.center.x=e[0].x,t.center.y=e[0].y,t;if(e.length===2){const[E,C]=e,[_,I]=[C.x-E.x,C.y-E.y];return t.radius=Math.sqrt(_*_+I*I)/2,t.center.x=(E.x+C.x)/2,t.center.y=(E.y+C.y)/2,t}let i=0,n=0;for(let E=0;E<e.length;E++)i+=e[E].x,n+=e[E].y;i/=e.length,n/=e.length;const r=e.map(E=>E.x-i),a=e.map(E=>E.y-n);let o=0,s=0,l=0,u=0,h=0,m=0,f=0;for(let E=0;E<r.length;E++){const C=r[E],_=a[E],I=C*C,O=_*_;o+=I,s+=O,l+=C*_,u+=I*C,h+=O*_,m+=C*O,f+=_*I}const g=.5*(u+m),b=.5*(h+f),v=o*s-l*l,w=(g*s-b*l)/v,x=(o*b-l*g)/v,S=Un(w+i,x+n);return{radius:Math.sqrt(w*w+x*x+(o+s)/e.length),center:S}}const aa={maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};class p$e extends Wi{constructor(t=aa.maximumDoubleClickDelay,i=aa.maximumDoubleClickDistance,n=aa.maximumDoubleTouchDelay,r=aa.maximumDoubleTouchDistance,a=Iy){super(!1),this.maximumDoubleClickDelay=t,this.maximumDoubleClickDistance=i,this.maximumDoubleTouchDelay=n,this.maximumDoubleTouchDistance=r,this._clock=a,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("drag",this._handleDrag.bind(this))}onUninstall(){this._pointerState.forEach(t=>t.doubleClickTimeout=Xd(t.doubleClickTimeout))}get hasPendingInputs(){return ok(this._pointerState,t=>t.doubleClickTimeout!=null)}_pointerId(t){const i=t.native;return i.pointerType==="mouse"?`${i.pointerId}:${i.button}`:`${i.pointerType}`}_handleImmediateClick(t){const i=t.data,n=this._pointerId(i),r=this._pointerState.get(n);if(r){const a=i.native.pointerType==="touch"?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;DT(r.event.data,i)>a?(this._clearDoubleClickTimeout(n,!0),this._startClick(t)):(this._clearDoubleClickTimeout(n,!1),this._doubleClick.emit(r.event.data,void 0,r.event.modifiers))}else this._startClick(t)}_startClick(t){const i=this._pointerId(t.data),n=t.data.native.pointerType==="touch"?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay;this._pointerState.set(i,{event:t,doubleClickTimeout:this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(i),n)}),this.refreshHasPendingInputs()}_handlePointerDrag(t){const i=this._pointerId(t.data.currentEvent);this._clearDoubleClickTimeout(i,!0)}_handleDrag(t){const i=this._pointerId(t.data.pointer);this._clearDoubleClickTimeout(i,!0)}_clearDoubleClickTimeout(t,i){const n=this._pointerState.get(t);n&&(n.doubleClickTimeout.remove(),n.doubleClickTimeout=null,i&&this._doubleClickTimeoutExceeded(t),this._pointerState.delete(t),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(t){const i=this._pointerState.get(t);this._click.emit(i.event.data,void 0,i.event.modifiers),i.doubleClickTimeout=null,this._pointerState.delete(t),this.refreshHasPendingInputs()}}class m$e extends Wi{constructor(t=aa.maximumDoubleClickDelay,i=aa.maximumDoubleClickDistance,n=aa.maximumDoubleTouchDelay,r=aa.maximumDoubleTouchDistance,a=Iy){super(!1),this.maximumDoubleClickDelay=t,this.maximumDoubleClickDistance=i,this.maximumDoubleTouchDelay=n,this.maximumDoubleTouchDistance=r,this._clock=a,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=Un(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new t_({start:(o,s)=>this._dragStart(o,s),update:(o,s)=>this._dragUpdate(s),end:(o,s)=>this._dragEnd(s)}),this.registerIncoming("drag",o=>this._dragEventSeparator.handle(o)),this.registerIncoming("pointer-down",o=>this._handlePointerDown(o)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(t=>{t.doubleTapTimeout!=null&&(t.doubleTapTimeout.remove(),t.doubleTapTimeout=null)})}get hasPendingInputs(){return ok(this._pointerState,t=>t.doubleTapTimeout!=null)}_clearPointerDown(t){const i=this._pointerState.get(t);i&&(i.doubleTapTimeout.remove(),i.doubleTapTimeout=null,this._pointerState.delete(t),this.refreshHasPendingInputs())}_createDoubleTapDragData(t,i,n){const{button:r,buttons:a,pointer:o,pointers:s,pointerType:l,timestamp:u}=n;return{action:t,delta:i,button:r,buttons:a,pointer:o,pointers:s,pointerType:l,timestamp:u}}_dragStart(t,i){if(!this._doubleTapDragReady||t!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:n,modifiers:r}=i,{center:a}=n;this._dragStartCenter=a;const o=this._createDoubleTapDragData("begin",Un(0,0),n);this._doubleTapDrag.emit(o,void 0,r),i.stopPropagation()}_dragUpdate(t){if(!this._doubleTapDragActive)return;const{data:i,modifiers:n}=t,{center:r}=i,a=Un(r.x-this._dragStartCenter.x,r.y-this._dragStartCenter.y),o=this._createDoubleTapDragData("update",a,i);this._doubleTapDrag.emit(o,void 0,n),t.stopPropagation()}_dragEnd(t){if(!this._doubleTapDragActive)return;const{data:i,modifiers:n}=t,{center:r}=i,a=Un(r.x-this._dragStartCenter.x,r.y-this._dragStartCenter.y),o=this._createDoubleTapDragData("end",a,i);this._doubleTapDrag.emit(o,void 0,n),this._doubleTapDragActive=!1,t.stopPropagation()}_handlePointerDown(t){const{data:i}=t,n=this._pointerId(i),r=this._pointerState.get(n),{pointerType:a}=i.native;if(r){const o=a==="touch"?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;this._clearPointerDown(n),DT(r.event.data,i)>o?this._storePointerDown(t):this._doubleTapDragReady=!0}else this._storePointerDown(t)}_handlePointerUp(){this._doubleTapDragReady=!1}_pointerId(t){const{native:i}=t,{pointerId:n,button:r,pointerType:a}=i;return a==="mouse"?`${n}:${r}`:`${a}`}_storePointerDown(t){const{data:i}=t,{pointerType:n}=i.native,r=this._pointerId(i),a=n==="touch"?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay,o=this._clock.setTimeout(()=>this._clearPointerDown(r),a);this._pointerState.set(r,{event:t,doubleTapTimeout:o}),this.refreshHasPendingInputs()}}class f$e extends Wi{constructor(t){super(!1),this.navigationTouch=t,this.startStateModifiers=new Set,this.activePointerMap=new Map,this.isDragging=!1,this.isCurrentDragSuppressed=!1,this.drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(t,i,n,r){return{action:t,pointerType:this.pointerType,button:this.mouseButton,buttons:i.buttons,timestamp:r,pointers:g$e(this.activePointerMap),pointer:i,angle:n.angle,radius:n.radius,center:n.center}}_addPointer(t){const i=t.native.pointerId,n=Ev(this.activePointerMap).angle,r={event:t,initialAngle:0,lastAngle:0};this.activePointerMap.set(i,r);const a=Q1(r,VB(this.activePointerMap));r.initialAngle=a,r.lastAngle=a,this._updatePointerAngles(n)}_updatePointer(t){if(t&&t.x==null&&t.y==null)return;const i=t.native.pointerId,n=this.activePointerMap.get(i);n?n.event=t:this._addPointer(t)}_removePointer(t){const i=Ev(this.activePointerMap).angle;this.activePointerMap.delete(t),this._updatePointerAngles(i)}_updatePointerAngles(t){const i=Ev(this.activePointerMap);this.activePointerMap.forEach(n=>{n.initialAngle=Q1(n,i)-t,n.lastAngle=Q1(n,i)-t})}_emitEvent(t,i,n){const r=Ev(this.activePointerMap);this.drag.emit(this._createPayload(t,i,r,n),void 0,this.startStateModifiers)}_handlePointerUpAndPointerLost(t){const i=t.data.native.pointerId,n=t.timestamp;this.activePointerMap.get(i)&&(this.activePointerMap.size===1?(this._updatePointer(t.data),!this.isCurrentDragSuppressed&&this._emitEvent("end",t.data,n),this.isDragging=!1,this.isCurrentDragSuppressed=!1,this._removePointer(i)):(this._removePointer(i),this._emitEvent("removed",t.data,t.timestamp)))}_handlePointerDrag(t){const i=t.data,n=i.currentEvent,r=t.timestamp;switch(i.action){case"start":case"update":this.isDragging?this.activePointerMap.has(n.native.pointerId)?(this._updatePointer(n),!this.isCurrentDragSuppressed&&this._emitEvent("update",n,r)):(this._addPointer(n),this._emitEvent("added",n,r),this.isCurrentDragSuppressed=this.isSuppressed):(this._updatePointer(n),this.pointerType=t.data.startEvent.pointerType,this.mouseButton=t.data.startEvent.button,this.startStateModifiers=t.modifiers,this.isDragging=!0,this.isCurrentDragSuppressed=this.isSuppressed,!this.isCurrentDragSuppressed&&this._emitEvent("start",n,r))}}get isSuppressed(){return this.navigationTouch&&!this.navigationTouch.browserTouchPanEnabled&&this.pointerType==="touch"&&this.activePointerMap.size===1}}function VB(e){const t=[];return e.forEach(i=>{t.push(Un(i.event.x,i.event.y))}),h$e(t)}function Ev(e){const t=VB(e);let i=0;return e.forEach(n=>{let r=Q1(n,t),a=r-n.lastAngle;for(;a>Math.PI;)a-=2*Math.PI;for(;a<-Math.PI;)a+=2*Math.PI;r=n.lastAngle+a,n.lastAngle=r,i+=r-n.initialAngle}),i/=e.size||1,{angle:i,radius:t.radius,center:t.center}}function g$e(e){const t=new Map;return e.forEach((i,n)=>t.set(n,i.event)),t}function Q1(e,t){const i=e.event,n=i.x-t.center.x,r=i.y-t.center.y;return Math.atan2(r,n)}var JR;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward",e[e.Undefined=-1]="Undefined"})(JR||(JR={}));class y$e extends Wi{constructor(t=aa.maximumDoubleClickDelay,i=aa.maximumDoubleClickDistance,n=aa.maximumDoubleTouchDelay,r=aa.maximumDoubleTouchDistance,a=Iy){super(!1),this.maximumDoubleClickDelay=t,this.maximumDoubleClickDistance=i,this.maximumDoubleTouchDelay=n,this.maximumDoubleTouchDistance=r,this._clock=a,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",o=>{this._handlePointerLoss(o,"pointer-up")}),this.registerIncoming("pointer-capture-lost",o=>{this._handlePointerLoss(o,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",o=>{this._handlePointerLoss(o,"pointer-cancel")})}onUninstall(){this._pointerState.forEach(t=>{t.immediateDoubleClick&&t.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(t){const i=t.data,n=this._pointerId(i);if(!this._pointerState.has(n)){const r={downButton:i.native.button,immediateDoubleClick:null};this._pointerState.set(n,r),this.startCapturingPointer(i.native)}}_handlePointerLoss(t,i){const n=t.data,r=this._pointerId(n),a=this._pointerState.get(r);if(a&&i==="pointer-up"&&a.downButton===n.native.button){const o=a.immediateDoubleClick;if(o){o.timeoutHandle.remove();const s=t.data.native.pointerType==="touch"?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;DT(o,t.data)>s?this._startImmediateDoubleClick(t,a):(this._immediateDoubleClick.emit(t.data,void 0,o.modifiers),this._removeState(n))}else this._startImmediateDoubleClick(t,a)}}_startImmediateDoubleClick(t,i){const n=t.data.native.pointerType==="touch"?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay;i.immediateDoubleClick={x:t.data.x,y:t.data.y,modifiers:t.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(t.data),n)}}_pointerId(t){const i=t.native;return i.pointerType==="mouse"?`${i.pointerId}:${i.button}`:`${i.pointerType}`}_removeState(t){const i=this._pointerId(t);this._pointerState.delete(i),this.stopCapturingPointer(t.native),this.refreshHasPendingInputs()}}const jf={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500};class b$e extends Wi{constructor(t=jf.maximumClickDelay,i=jf.movementUntilMouseDrag,n=jf.movementUntilPenDrag,r=jf.movementUntilTouchDrag,a=jf.holdDelay,o=Iy){super(!1),this.maximumClickDelay=t,this.movementUntilMouseDrag=i,this.movementUntilPenDrag=n,this.movementUntilTouchDrag=r,this.holdDelay=a,this._clock=o,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",s=>{this._handlePointerLoss(s,"pointer-up")}),this.registerIncoming("pointer-capture-lost",s=>{this._handlePointerLoss(s,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",s=>{this._handlePointerLoss(s,"pointer-cancel")}),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(t=>{t.holdTimeout!=null&&(t.holdTimeout.remove(),t.holdTimeout=null)}),super.onUninstall()}_handlePointerDown(t){const i=t.data,n=i.native.pointerId;let r=null;this._pointerState.size===0&&(r=this._clock.setTimeout(()=>{const o=this._pointerState.get(n);if(o){if(!o.isDragging){const s=o.previousEvent;this._pointerHold.emit(s,void 0,t.modifiers),o.holdEmitted=!0}o.holdTimeout=null}},this.holdDelay));const a={startEvent:i,previousEvent:i,startTimestamp:t.timestamp,isDragging:!1,downButton:i.native.button,holdTimeout:r,modifiers:new Set};this._pointerState.set(n,a),this.startCapturingPointer(i.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(t)}_createPointerDragData(t,i,n){return{action:t,startEvent:i.startEvent,previousEvent:i.previousEvent,currentEvent:n}}_handlePointerMove(t){const i=t.data,n=i.native.pointerId,r=this._pointerState.get(n);r&&(r.isDragging?this._pointerDrag.emit(this._createPointerDragData("update",r,i),void 0,r.modifiers):d$e(i,r.startEvent)>this._getDragThreshold(i.native.pointerType)&&this._startDragging(t),r.previousEvent=i)}_getDragThreshold(t){switch(t){case"touch":return this.movementUntilTouchDrag;case"pen":return this.movementUntilPenDrag;default:return this.movementUntilMouseDrag}}_startDragging(t){const i=t.data,n=i.native.pointerId;this._pointerState.forEach(r=>{r.holdTimeout!=null&&(r.holdTimeout.remove(),r.holdTimeout=null),r.isDragging||(r.modifiers=t.modifiers,r.isDragging=!0,n===r.startEvent.native.pointerId?this._pointerDrag.emit(this._createPointerDragData("start",r,i)):this._pointerDrag.emit(this._createPointerDragData("start",r,r.previousEvent),t.timestamp))})}_handlePointerLoss(t,i){const n=t.data,r=n.native.pointerId,a=this._pointerState.get(r);a&&(a.holdTimeout!=null&&(a.holdTimeout.remove(),a.holdTimeout=null),a.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",a,i==="pointer-up"?n:a.previousEvent),void 0,a.modifiers):i==="pointer-up"&&a.downButton===n.native.button&&t.timestamp-a.startTimestamp<=this.maximumClickDelay&&!a.holdEmitted&&this._immediateClick.emit(n),this._pointerState.delete(r),this.stopCapturingPointer(n.native),this._pointerState.size===0&&this._moveHandle.pause())}}const Tv={counter:"Ctrl",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"}};let ew=class extends ge{constructor(){super(...arguments),this._handles=new On}initialize(){this._handles.add([o0e(this.view,"ready",()=>this._disconnect()),ej(this.view,"ready",()=>this._connect())])}destroy(){this._handles&&(this._handles.removeAll(),this._handles=null),this._disconnect()}_disconnect(){this._inputManager&&(this.view.viewEvents.disconnect(),this._inputManager.destroy(),this._inputManager=null,this._source.destroy(),this._source=null)}_connect(){const e=this.view.surface,t=new i_(e,this.view.input),i=[new y$e,new b$e,new p$e,new f$e(this.view.navigation),new m$e],n=new Wu({eventSource:t,recognizers:i});n.installHandlers("prevent-context-menu",[new u$e],Ac.INTERNAL),n.installHandlers("navigation",[new i$e(this.view),new WDe(this.view),new t$e(this.view),new BR(this.view),new BR(this.view,[Tv.counter]),new HDe(this.view,"primary"),new ZDe(this.view,Tv.pan),new QDe(this.view,Tv.zoom),new XDe(this.view,Tv.rotate),new qDe(this.view,"secondary"),new VDe(this.view,"touch")],Ac.INTERNAL),this.view.viewEvents.connect(n),this._source=t,this._inputManager=n,Yt(this.view.navigation,"browserTouchPanEnabled",r=>{this._source.browserTouchPanningEnabled=!r})}get test(){return{inputManager:this._inputManager}}};c([d()],ew.prototype,"view",void 0),ew=c([D("esri.views.2d.input.MapViewInputManager")],ew);const v$e=ew;var KR,YR,ZR,HB={exports:{}};KR=HB,YR=function(){function e(r,a,o,s,l){t(r,a,o||0,s||r.length-1,l||n)}function t(r,a,o,s,l){for(;s>o;){if(s-o>600){var u=s-o+1,h=a-o+1,m=Math.log(u),f=.5*Math.exp(2*m/3),g=.5*Math.sqrt(m*f*(u-f)/u)*(h-u/2<0?-1:1);t(r,a,Math.max(o,Math.floor(a-h*f/u+g)),Math.min(s,Math.floor(a+(u-h)*f/u+g)),l)}var b=r[a],v=o,w=s;for(i(r,o,a),l(r[s],b)>0&&i(r,o,s);v<w;){for(i(r,v,w),v++,w--;l(r[v],b)<0;)v++;for(;l(r[w],b)>0;)w--}l(r[o],b)===0?i(r,o,w):i(r,++w,s),w<=a&&(o=w+1),a<=w&&(s=w-1)}}function i(r,a,o){var s=r[a];r[a]=r[o],r[o]=s}function n(r,a){return r<a?-1:r>a?1:0}return e},(ZR=YR())!==void 0&&(KR.exports=ZR);const w$e=HB.exports;function Lx(e,t){if(!(this instanceof Lx))return new Lx(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&(typeof t=="function"?this.toBBox=t:this._initFormat(t)),this.clear()}function x$e(e,t,i){if(!i)return t.indexOf(e);for(var n=0;n<t.length;n++)if(i(e,t[n]))return n;return-1}function Ih(e,t){H0(e,0,e.children.length,t,e)}function H0(e,t,i,n,r){r||(r=pp(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var a,o=t;o<i;o++)a=e.children[o],q0(r,e.leaf?n(a):a);return r}function q0(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function XR(e,t){return e.minX-t.minX}function QR(e,t){return e.minY-t.minY}function w3(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function Mv(e){return e.maxX-e.minX+(e.maxY-e.minY)}function k$e(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function _$e(e,t){var i=Math.max(e.minX,t.minX),n=Math.max(e.minY,t.minY),r=Math.min(e.maxX,t.maxX),a=Math.min(e.maxY,t.maxY);return Math.max(0,r-i)*Math.max(0,a-n)}function x3(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function Av(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function pp(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function eF(e,t,i,n,r){for(var a,o=[t,i];o.length;)(i=o.pop())-(t=o.pop())<=n||(a=t+Math.ceil((i-t)/n/2)*n,w$e(e,a,t,i,r),o.push(t,a,a,i))}Lx.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,i=[],n=this.toBBox;if(!Av(e,t))return i;for(var r,a,o,s,l=[];t;){for(r=0,a=t.children.length;r<a;r++)o=t.children[r],Av(e,s=t.leaf?n(o):o)&&(t.leaf?i.push(o):x3(e,s)?this._all(o,i):l.push(o));t=l.pop()}return i},collides:function(e){var t=this.data,i=this.toBBox;if(!Av(e,t))return!1;for(var n,r,a,o,s=[];t;){for(n=0,r=t.children.length;n<r;n++)if(a=t.children[n],Av(e,o=t.leaf?i(a):a)){if(t.leaf||x3(e,o))return!0;s.push(a)}t=s.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,i=e.length;t<i;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=pp([]),this},remove:function(e,t){if(!e)return this;for(var i,n,r,a,o=this.data,s=this.toBBox(e),l=[],u=[];o||l.length;){if(o||(o=l.pop(),n=l[l.length-1],i=u.pop(),a=!0),o.leaf&&(r=x$e(e,o.children,t))!==-1)return o.children.splice(r,1),l.push(o),this._condense(l),this;a||o.leaf||!x3(o,s)?n?(i++,o=n.children[i],a=!1):o=null:(l.push(o),u.push(i),i=0,n=o,o=o.children[0])}return this},toBBox:function(e){return e},compareMinX:XR,compareMinY:QR,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var i=[];e;)e.leaf?t.push.apply(t,e.children):i.push.apply(i,e.children),e=i.pop();return t},_build:function(e,t,i,n){var r,a=i-t+1,o=this._maxEntries;if(a<=o)return Ih(r=pp(e.slice(t,i+1)),this.toBBox),r;n||(n=Math.ceil(Math.log(a)/Math.log(o)),o=Math.ceil(a/Math.pow(o,n-1))),(r=pp([])).leaf=!1,r.height=n;var s,l,u,h,m=Math.ceil(a/o),f=m*Math.ceil(Math.sqrt(o));for(eF(e,t,i,f,this.compareMinX),s=t;s<=i;s+=f)for(eF(e,s,u=Math.min(s+f-1,i),m,this.compareMinY),l=s;l<=u;l+=m)h=Math.min(l+m-1,u),r.children.push(this._build(e,l,h,n-1));return Ih(r,this.toBBox),r},_chooseSubtree:function(e,t,i,n){for(var r,a,o,s,l,u,h,m;n.push(t),!t.leaf&&n.length-1!==i;){for(h=m=1/0,r=0,a=t.children.length;r<a;r++)l=w3(o=t.children[r]),(u=k$e(e,o)-l)<m?(m=u,h=l<h?l:h,s=o):u===m&&l<h&&(h=l,s=o);t=s||t.children[0]}return t},_insert:function(e,t,i){var n=this.toBBox,r=i?e:n(e),a=[],o=this._chooseSubtree(r,this.data,t,a);for(o.children.push(e),q0(o,r);t>=0&&a[t].children.length>this._maxEntries;)this._split(a,t),t--;this._adjustParentBBoxes(r,a,t)},_split:function(e,t){var i=e[t],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var a=this._chooseSplitIndex(i,r,n),o=pp(i.children.splice(a,i.children.length-a));o.height=i.height,o.leaf=i.leaf,Ih(i,this.toBBox),Ih(o,this.toBBox),t?e[t-1].children.push(o):this._splitRoot(i,o)},_splitRoot:function(e,t){this.data=pp([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Ih(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,i){var n,r,a,o,s,l,u,h;for(l=u=1/0,n=t;n<=i-t;n++)o=_$e(r=H0(e,0,n,this.toBBox),a=H0(e,n,i,this.toBBox)),s=w3(r)+w3(a),o<l?(l=o,h=n,u=s<u?s:u):o===l&&s<u&&(u=s,h=n);return h},_chooseSplitAxis:function(e,t,i){var n=e.leaf?this.compareMinX:XR,r=e.leaf?this.compareMinY:QR;this._allDistMargin(e,t,i,n)<this._allDistMargin(e,t,i,r)&&e.children.sort(n)},_allDistMargin:function(e,t,i,n){e.children.sort(n);var r,a,o=this.toBBox,s=H0(e,0,t,o),l=H0(e,i-t,i,o),u=Mv(s)+Mv(l);for(r=t;r<i-t;r++)a=e.children[r],q0(s,e.leaf?o(a):a),u+=Mv(s);for(r=i-t-1;r>=t;r--)a=e.children[r],q0(l,e.leaf?o(a):a),u+=Mv(l);return u},_adjustParentBBoxes:function(e,t,i){for(var n=i;n>=0;n--)q0(t[n],e)},_condense:function(e){for(var t,i=e.length-1;i>=0;i--)e[i].children.length===0?i>0?(t=e[i-1].children).splice(t.indexOf(e[i]),1):this.clear():Ih(e[i],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};class Rx{constructor(t,i){this.key=new qn(0,0,0,0),this.bounds=qd(),this.objectIds=new Set,this.key.set(i);const n=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=n.resolution,this.scale=n.scale,this.level=n.level}get id(){return this.key.id}get extent(){return pt.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createChildTiles(){const t=this.key.getChildKeys(),i=Cn.acquire();for(let n=0;n<t.length;n++)i[n]=new Rx(this.tileInfoView,t[n]);return i}getQuantizationParameters(){return Gj.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}const mu={added:[],removed:[]},k3=new Set,S$e=new qn(0,0,0,0);class D$e extends Gc{constructor(t){super(),this._tiles=new Map,this._index=Lx(9,q("esri-csp-restrictions")?i=>({minX:i.bounds[0],minY:i.bounds[1],maxX:i.bounds[2],maxY:i.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=t}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(t){return this._tiles.has(t)}get(t){return this._tiles.get(t)}boundsIntersections(t){return this._index.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]})}updateTiles(t){const i={added:[],removed:[]};for(const n of t.added)if(!this.has(n)){const r=new Rx(this.tileScheme,n);this._tiles.set(n,r),this._index.insert(r),i.added.push(r)}for(const n of t.removed)if(this.has(n)){const r=this.get(n);this._tiles.delete(n),this._index.remove(r),i.removed.push(r)}this.tiles.length=0,this._tiles.forEach(n=>this.tiles.push(n)),(i.added.length||i.removed.length)&&this.emit("update",i)}setViewState(t){const i=this.tileScheme.getTileCoverage(t,0);if(!i)return;const{spans:n,lodInfo:r}=i,{level:a}=r;if(n.length>0)for(const{row:o,colFrom:s,colTo:l}of n)for(let u=s;u<=l;u++){const h=S$e.set(a,o,r.normalizeCol(u),r.getWorldForColumn(u)).id;if(k3.add(h),!this.has(h)){const m=new Rx(this.tileScheme,h);this._tiles.set(h,m),this._index.insert(m),this.tiles.push(m),mu.added.push(m)}}for(let o=this.tiles.length-1;o>=0;o--){const s=this.tiles[o];k3.has(s.id)||(this._tiles.delete(s.id),this.tiles.splice(o,1),this._index.remove(s),mu.removed.push(s))}(mu.added.length||mu.removed.length)&&this.emit("update",mu),Dm.pool.release(i),k3.clear(),mu.added.length=0,mu.removed.length=0}}let $$e=0,ac=class extends ge{constructor(){super(...arguments),this.color=new Re([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25}get version(){return $$e++}};c([d({readOnly:!0})],ac.prototype,"version",null),c([d({type:Re})],ac.prototype,"color",void 0),c([d({type:Re})],ac.prototype,"haloColor",void 0),c([d()],ac.prototype,"haloOpacity",void 0),c([d()],ac.prototype,"fillOpacity",void 0),ac=c([D("esri.views.2d.support.HighlightOptions")],ac);const qB=ac,C$e=e=>e.indexOf("Brush")!==-1;class BB{constructor(){this._names=new Map}begin(t){this._names.has(t)||(this._names.set(t,!1),C$e(t)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${t}.Start`))}end(t){this._names.has(t)&&!this._names.get(t)&&(this._names.set(t,!0),performance.mark(`Esri.${t}.End`))}record(t){this._names.has(t)||(this._names.set(t,!0),performance.mark(`Esri.${t}`))}}function I$e(e,t,i,n,r,a,o,s){let l;e.ignorePadding&&(n={left:0,right:0,top:0,bottom:0}),e.width!=null&&e.height!=null?l=[e.width,e.height]:e.width==null&&e.height!=null?l=[e.height,e.height]:e.width!=null&&e.height==null?l=[e.width,e.width]:e.width==null&&e.height==null&&(l=null);const u=i[0]-(n.left+n.right),h=i[1]-(n.top+n.bottom);let m,f,g=e.area||{x:0,y:0,width:u,height:h};if(l){const b=u/h,v=l[0]/l[1];if(v>b){const w=g.width/v;g={x:g.x,y:Math.round(g.y+(g.height-w)/2),width:g.width,height:Math.round(w)}}else{const w=g.height*v;g={x:Math.round(g.x+(g.width-w)/2),y:g.y,width:Math.round(w),height:g.height}}}else l=[g.width,g.height];return l[0]>g.width?(m=Math.min(l[0]/g.width,t),f=l[0]/g.width/m):(m=1,f=l[0]/g.width),{resolutionScale:m,cropArea:{x:Math.round((g.x+n.left)*m),y:Math.round((g.y+n.top)*m),width:Math.round(g.width*m),height:Math.round(g.height*m)},outputScale:f,format:r,quality:a,children:o,rotation:s}}function GMe(e,t,i,n){n.premultipliedAlpha&&L$e(e),i.width=e.width,i.height=e.height;const r=i.getContext("2d");r.putImageData(e,0,0),n.flipY&&P$e(r);const a=r.getImageData(0,0,e.width,e.height),o=E$e(i,t);return i.width=0,i.height=0,{dataUrl:o,data:a}}function E$e(e,t){const i=R$e[t.format],n=t.quality/100;return e.toDataURL(i,n)}function T$e(e,t){const i=O$e(e),n=N$e[i];return{format:i,quality:ha(t!=null?t:n,0,100)}}function M$e(e,t){return t/Math.max(e[0],e[1])}function WMe(e,t,i){if(!e||!t)throw new Error("Cannot construct image data without dimensions");if(Fx)try{return new ImageData(e,t)}catch{Fx=!1}return UB(e,t,i)}function JMe(e,t,i,n){if(!t||!i)throw new Error("Cannot construct image data without dimensions");if(Fx)try{return new ImageData(e,t,i)}catch{Fx=!1}const r=UB(t,i,n);return r.data.set(e,0),r}function KMe(e,t,i,n=0,r=0,a=e.width-n,o=e.height-r,s=!1){const{data:l}=e,{width:u,height:h,data:m}=t,f=a/u,g=o/h,b=Math.ceil(f/2),v=Math.ceil(g/2),w=e.width;for(let x=0;x<h;x++)for(let S=0;S<u;S++){const E=4*(S+(s?h-x-1:x)*u);let C=0,_=0,I=0,O=0,R=0,H=0;const Y=(x+.5)*g;for(let U=Math.floor(x*g);U<(x+1)*g;U++){const ce=Math.abs(Y-(U+.5))/v,ne=(S+.5)*f,se=ce*ce;for(let Je=Math.floor(S*f);Je<(S+1)*f;Je++){const pe=Math.abs(ne-(Je+.5))/b,Te=Math.sqrt(se+pe*pe);if(Te>=1)continue;let tt=2*Te*Te*Te-3*Te*Te+1;const Ht=4*(n+Je+(r+U)*w);H+=tt*l[Ht+3],_+=tt,!i&&l[Ht+3]<255&&(tt=tt*l[Ht+3]/255),I+=tt*l[Ht],O+=tt*l[Ht+1],R+=tt*l[Ht+2],C+=tt}}m[E]=I/C,m[E+1]=O/C,m[E+2]=R/C,m[E+3]=H/_}return t}function UB(e,t,i){return i||(i=A$e()),i.getContext("2d").createImageData(e,t)}let Vf=null,Fx=!0;function A$e(){return Vf||(Vf=document.createElement("canvas"),Vf.width=1,Vf.height=1),Vf}function O$e(e){switch(e){case"png":case"jpg":case"jpeg":return e;default:return F$e}}function P$e(e){e.save(),e.globalCompositeOperation="copy",e.scale(1,-1),e.translate(0,-e.canvas.height),e.drawImage(e.canvas,0,0),e.restore()}function L$e(e){const t=e.data,i=t.length;for(let n=0;n<i;n+=4){const r=t[n+3];if(r>0){const a=r/255;t[n+0]=t[n+0]/a,t[n+1]=t[n+1]/a,t[n+2]=t[n+2]/a}}}const R$e={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},tF=98,F$e="png",N$e={png:100,jpg:tF,jpeg:tF};var Ui;function YMe(e,t,i={}){const n=GB(e);for(;n.length>1;){const r=Nx(t,n.shift(),i);if(T(r))return r}return z$e(t,n.shift(),i)}function GB(e){const t=q("esri-force-webgl");if(t===Ui.WEBGL1||t===Ui.WEBGL2)return[t];switch(e){case"2d":return[Ui.WEBGL1];case"3d":return[Ui.WEBGL2,Ui.WEBGL1]}}function z$e(e,t,i={}){if(!window.WebGLRenderingContext)return iF(e,j$e),null;const n=Nx(e,t,i);return V(n)&&iF(e,V$e),n}function Nx(e,t,i={}){const n=t===Ui.WEBGL1?["webgl","experimental-webgl","webkit-3d","moz-webgl"]:["webgl2"];let r=null;for(const a of n){try{r=e.getContext(a,i)}catch{}if(r)break}return r}function iF(e,t){const i=e.parentNode;i&&(i.innerHTML='<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+t+"</div></div></td></tr></table>")}(function(e){e[e.WEBGL1=1]="WEBGL1",e[e.WEBGL2=2]="WEBGL2"})(Ui||(Ui={}));const j$e='This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>',V$e=`It doesn't appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>`;let _3,S3;function nF(e){switch(e){case Ui.WEBGL1:return H$e();case Ui.WEBGL2:return q$e()}}function H$e(){return _3||(_3=G$e()),_3}function q$e(){return S3||(S3=W$e()),S3}class WB{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1}}class B$e extends WB{constructor(){super(...arguments),this.type=Ui.WEBGL1,this.supportsElementIndexUint=!1,this.supportsStandardDerivatives=!1,this.supportsInstancedArrays=!1,this.supportsTextureFloat=!1}}class U$e extends WB{constructor(){super(...arguments),this.type=Ui.WEBGL2}}function JB(e,t){if(e===Ui.WEBGL1&&typeof WebGLRenderingContext===void 0||e===Ui.WEBGL2&&typeof WebGL2RenderingContext===void 0)return null;const i=document.createElement("canvas");if(!i)return null;let n=Nx(i,e,{failIfMajorPerformanceCaveat:!0});if(V(n)&&(n=Nx(i,e),T(n)&&(t.majorPerformanceCaveat=!0)),V(n))return n;if(e===Ui.WEBGL1){const a=n.getParameter(n.VERSION),o=a==null?void 0:a.match(/^WebGL\s+([\d.]*)/);if(o){const s=parseFloat(o[1]);t.available=s>=.94}}else t.available=!0;t.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE),t.supportsVertexShaderSamplers=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const r=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);return r&&(t.supportsHighPrecisionFragment=r.precision>0),n}function G$e(){const e=new B$e,t=JB(Ui.WEBGL1,e);return V(t)||(e.supportsElementIndexUint=t.getExtension("OES_element_index_uint")!==null,e.supportsStandardDerivatives=t.getExtension("OES_standard_derivatives")!==null,e.supportsInstancedArrays=t.getExtension("ANGLE_instanced_arrays")!==null,e.supportsTextureFloat=t.getExtension("OES_texture_float")!==null),e}function W$e(){const e=new U$e,t=JB(Ui.WEBGL2,e);return V(t),e}function J$e(e){const t=K$e(e);if(!t.available)return new L("webgl:required","WebGL is required but not supported.");if(e==="3d"&&t.majorPerformanceCaveat)return new L("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.");if(!t.supportsHighPrecisionFragment)return new L("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported.");if(!t.supportsVertexShaderSamplers)return new L("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported.");if(t.type===Ui.WEBGL1){if(!t.supportsElementIndexUint)return new L("webgl:element-index-uint-required","WebGL support for uint vertex indices is required but not supported.");if(!t.supportsStandardDerivatives)return new L("webgl:standard-derivatives-required","WebGL support for standard derivatives is required but not supported.");if(!t.supportsInstancedArrays)return new L("webgl:instanced-arrays-required","WebGL support for instanced rendering is required but not supported.")}return null}function K$e(e){const t=GB(e);for(;t.length>1;){const i=nF(t.shift());if(i.available)return i}return nF(t.shift())}function Y$e(e){return e&&"nodeType"in e}function Z$e(e){return e&&typeof e.render=="function"}const rF={component:"esri-component"};let Ku=class extends ge{constructor(){super(...arguments),this.widget=null}destroy(){this.widget&&this.widget.destroy(),this.node=null}get id(){return this.get("widget.id")||this.get("node.id")}set node(e){const t=this._get("node");e!==t&&(e&&e.classList.add(rF.component),t&&t.classList.remove(rF.component),this._set("node",e))}castNode(e){return e?typeof e=="string"||Y$e(e)?(this._set("widget",null),lE(e)):(Z$e(e)&&!e.domNode&&(e.domNode=document.createElement("div")),this._set("widget",e),e.domNode):(this._set("widget",null),null)}};c([d({dependsOn:[]})],Ku.prototype,"id",null),c([d()],Ku.prototype,"node",null),c([nt("node")],Ku.prototype,"castNode",null),c([d({readOnly:!0})],Ku.prototype,"widget",void 0),Ku=c([D("esri.views.ui.Component")],Ku);const tw=Ku,X$e={left:0,top:0,bottom:0,right:0},KB={bottom:30,top:15,right:15,left:15},D3="manual",yn={ui:"esri-ui",corner:"esri-ui-corner",innerContainer:"esri-ui-inner-container",manualContainer:"esri-ui-manual-container",cornerContainer:"esri-ui-corner-container",topLeft:"esri-ui-top-left",topRight:"esri-ui-top-right",bottomLeft:"esri-ui-bottom-left",bottomRight:"esri-ui-bottom-right"};function Q$e(e){return e&&!e._started&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}function $3(e){const t=e,i=typeof t=="object"&&t!==null&&Object.getPrototypeOf(t);return(i===null||i===Object.prototype)&&("component"in t||"index"in t||"position"in t)?e:null}function C3(e,{top:t,bottom:i,left:n,right:r}){e.style.top=t,e.style.bottom=i,e.style.left=n,e.style.right=r}let qs=class extends Gc.EventedAccessor{constructor(e){super(e),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentToKey=new Map,this._handles=new On,this.view=null,this._applyViewPadding=()=>{const t=this.container;t&&C3(t,this._toPxPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const t=this._innerContainer;t&&C3(t,this._toPxPosition(this.padding))},this._initContainers()}initialize(){this._handles.add([_t(()=>{var e;return[(e=this.view)==null?void 0:e.padding,this.container]},this._applyViewPadding,Ko),_t(()=>this.padding,this._applyUIPadding,Ko)])}destroy(){this.container=null;for(const e of this._components)e.destroy();this._components.length=0,this._handles.destroy(),this._componentToKey.clear()}set container(e){const t=this._get("container");e!==t&&(e&&(e.classList.add(yn.ui),e.classList.add(mge()),this._attachContainers(e)),t&&(t.classList.remove(yn.ui),C3(t,{top:"",bottom:"",left:"",right:""}),C7(t)),this._set("container",e))}get height(){const e=this.get("view.height")||0;if(e===0)return e;const t=this._getViewPadding(),i=t.top+t.bottom;return Math.max(e-i,0)}get padding(){return this._get("padding")}set padding(e){e?this._override("padding",e):this._clearOverride("padding")}castPadding(e){return typeof e=="number"?{bottom:e,top:e,right:e,left:e}:$($({},KB),e)}get width(){const e=this.get("view.width")||0;if(e===0)return e;const t=this._getViewPadding(),i=t.left+t.right;return Math.max(e-i,0)}add(e,t){let i,n;if(Array.isArray(e))return void e.forEach(a=>this.add(a,t));const r=$3(e);r&&({index:i,position:t,component:e,key:n}=r),t&&typeof t=="object"&&({index:i,key:n,position:t}=t),!e||t&&!this._isValidPosition(t)||this._add(e,t,i,n)}remove(e,t){if(!e)return;if(Array.isArray(e))return e.map(n=>this.remove(n,t));const i=this._find(e);if(i){const n=this._componentToKey;if(n.has(e)&&n.get(e)!==t)return;const r=this._components.indexOf(i);return i.node.parentNode&&i.node.parentNode.removeChild(i.node),this._componentToKey.delete(e),this._components.splice(r,1)[0]}}empty(e){return Array.isArray(e)?e.map(t=>this.empty(t)).reduce((t,i)=>t.concat(i)):(e=e||D3)===D3?Array.prototype.slice.call(this._manualContainer.children).filter(t=>!t.classList.contains(yn.corner)).map(t=>this.remove(t)):this._isValidPosition(e)?Array.prototype.slice.call(this._cornerNameToContainerLookup[e].children).map(this.remove,this):null}move(e,t){if(Array.isArray(e)&&e.forEach(a=>this.move(a,t)),!e)return;let i;const n=$3(e)||$3(t);if(n&&(i=n.index,t=n.position,e=n.component||e),t&&!this._isValidPosition(t))return;const r=this.remove(e);r&&this.add(r,{position:t,index:i})}find(e){if(!e)return null;const t=this._findById(e);return t&&(t.widget||t.node)}getPosition(e){for(const t in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[t].contains(e))return t;return null}_add(e,t,i,n){e instanceof tw||(e=new tw({node:e})),this._place({component:e,position:t,index:i}),this._components.push(e),n&&this._componentToKey.set(e,n)}_find(e){return e?e instanceof tw?this._findByComponent(e):typeof e=="string"?this._findById(e):this._findByNode(e.domNode||e):null}_getViewPadding(){return this.get("view.padding")||X$e}_attachContainers(e){e.appendChild(this._innerContainer),e.appendChild(this._manualContainer)}_initContainers(){const e=document.createElement("div");e.classList.add(yn.innerContainer),e.classList.add(yn.cornerContainer);const t=document.createElement("div");t.classList.add(yn.innerContainer),t.classList.add(yn.manualContainer);const i=document.createElement("div");i.classList.add(yn.topLeft),i.classList.add(yn.corner),e.appendChild(i);const n=document.createElement("div");n.classList.add(yn.topRight),n.classList.add(yn.corner),e.appendChild(n);const r=document.createElement("div");r.classList.add(yn.bottomLeft),r.classList.add(yn.corner),e.appendChild(r);const a=document.createElement("div");a.classList.add(yn.bottomRight),a.classList.add(yn.corner),e.appendChild(a),this._innerContainer=e,this._manualContainer=t;const o=$c();this._cornerNameToContainerLookup={"top-left":i,"top-right":n,"bottom-left":r,"bottom-right":a,"top-leading":o?n:i,"top-trailing":o?i:n,"bottom-leading":o?a:r,"bottom-trailing":o?r:a},this._positionNameToContainerLookup=$({manual:t},this._cornerNameToContainerLookup)}_isValidPosition(e){return!!this._positionNameToContainerLookup[e]}_place(e){const t=e.component,i=e.position||D3,n=e.index,r=this._positionNameToContainerLookup[i],a=n>-1;if(Q$e(t.widget)&&t.widget.startup(),!a)return void r.appendChild(t.node);const o=Array.prototype.slice.call(r.children);if(n===0)return void(r.firstChild?CP(t.node,r.firstChild):r.appendChild(t.node));n>=o.length?r.appendChild(t.node):CP(t.node,o[n])}_toPxPosition(e){return{top:this._toPxUnit(e.top),left:this._toPxUnit(e.left),right:this._toPxUnit(e.right),bottom:this._toPxUnit(e.bottom)}}_toPxUnit(e){return e===0?"0":e+"px"}_findByComponent(e){let t,i=null;return this._components.some(n=>(t=n===e,t&&(i=n),t)),i}_findById(e){let t,i=null;return this._components.some(n=>(t=n.id===e,t&&(i=n),t)),i}_findByNode(e){let t,i=null;return this._components.some(n=>(t=n.node===e,t&&(i=n),t)),i}};c([d()],qs.prototype,"container",null),c([d()],qs.prototype,"height",null),c([d({value:KB})],qs.prototype,"padding",null),c([nt("padding")],qs.prototype,"castPadding",null),c([d()],qs.prototype,"view",void 0),c([d()],qs.prototype,"width",null),qs=c([D("esri.views.ui.UI")],qs);const eCe=qs;function aF(e,t){return e&&"copyright"in e&&(!t||typeof e.originOf=="function"&&e.originOf("copyright")==="user")}function tCe(e,t){return e.length!==t.length||e.some((i,n)=>i.text!==t[n].text)}function Ov(e,t,i){!i||!t||e.find(n=>n.layerView===t&&n.text===i)||e.push({text:i,layerView:t})}function iCe(e){return e.type==="bing-maps"}const Al=[];let mp=class extends um{constructor(e){super(e),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.handles.remove("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new _e,this.view=null,this._allLayerViewsChange=t=>{this.handles.remove("suspension");const i=this.get("view.allLayerViews");i&&this.handles.add(i.map(n=>n.watch(["suspended","attributionVisible"],this._updateAttributionItems)),"suspension"),t&&t.removed&&t.removed.forEach(n=>{this._pendingAttributions.delete(n),this._fetchedAttributionData.delete(n)}),this._updateAttributionItems()},this._updateAttributionItems=()=>{const t=this.get("view.allLayerViews");Al.length=0,t?(t.forEach(i=>{if(i.suspended||!i.get("layer.attributionVisible"))return;const n=i.layer;if(aF(n,"user"))return void Ov(Al,i,n.copyright);if(n.hasAttributionData){if(this._fetchedAttributionData.has(i)){const a=this._fetchedAttributionData.get(i);return void(a?Ov(Al,i,this._getDynamicAttribution(a,this.view,n)):aF(n)&&Ov(Al,i,n.copyright))}return void this._fetchAttributionData(i)}const r=n.get("portalItem.accessInformation");Ov(Al,i,r||n.copyright)}),tCe(this.items,Al)&&(this.items.removeAll(),this.items.addMany(Al)),Al.length=0,this.notifyChange("state")):this._clear()},this.handles.add([Ek(this,"view.allLayerViews","change",this._allLayerViewsChange,this._allLayerViewsChange,this._clear),s0e(this,"view.stationary",()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.get("view.ready")?this._pendingAttributions.size>0?"loading":"ready":"disabled"}async _fetchAttributionData(e){if(this._pendingAttributions.has(e))return;this._pendingAttributions.add(e);const t=await ck(e.layer.fetchAttributionData());if(this._pendingAttributions.has(e)){const i=t.ok?this._createContributionIndex(t.value,iCe(e.layer)):null;this._pendingAttributions.delete(e),this._fetchedAttributionData.set(e,i)}this._updateAttributionItems()}_createContributionIndex(e,t){const i=e.contributors,n={};if(!i)return n;for(let r=0;r<i.length;r++){const a=i[r],o=a.coverageAreas;if(!o)return;for(const s of o){const l=s.bbox,u=s.zoomMin-(t&&s.zoomMin?1:0),h=s.zoomMax-(t&&s.zoomMax?1:0),m={xmin:l[1],ymin:l[0],xmax:l[3],ymax:l[2],spatialReference:He.WGS84},f={extent:Tc(m),attribution:a.attribution||"",score:s.score!=null?s.score:100,id:r};for(let g=u;g<=h;g++)n[g]=n[g]||[],n[g].push(f)}}return n.maxKey=Math.max.apply(null,Object.keys(n)),n}_getDynamicAttribution(e,t,i){const{extent:n,scale:r}=t;let a=i.tileInfo.scaleToZoom(r);if(a=Math.min(e.maxKey,Math.round(a)),!n||a==null||a<=-1)return"";const o=e[a],s=mk(n.center.clone().normalize(),t.spatialReference),l={};return o?o.filter(u=>{const h=!l[u.id]&&s&&fk(u.extent,s);return h&&(l[u.id]=!0),h}).sort((u,h)=>h.score-u.score||u.objectId-h.objectId).map(u=>u.attribution).join(", "):""}};c([d({readOnly:!0,type:_e})],mp.prototype,"items",void 0),c([d({readOnly:!0})],mp.prototype,"state",null),c([d()],mp.prototype,"view",void 0),mp=c([D("esri.widgets.Attribution.AttributionViewModel")],mp);const YB=mp,Ol={base:"esri-attribution esri-widget",poweredBy:"esri-attribution__powered-by",sources:"esri-attribution__sources",open:"esri-attribution--open",sourcesOpen:"esri-attribution__sources--open",link:"esri-attribution__link",widgetIcon:"esri-icon-description",interactive:"esri-interactive"};let kn=class extends Pn{constructor(e,t){super(e,t),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this.iconClass=Ol.widgetIcon,this.itemDelimiter=" | ",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new YB}initialize(){this.own(Ek(this,"viewModel.items","change",()=>this.scheduleRender()))}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((e,t)=>(e.indexOf(t.text)===-1&&e.push(t.text),e),[]).join(this.itemDelimiter)}render(){const e={[Ol.open]:this._isOpen};return F("div",{bind:this,class:this.classes(Ol.base,e),onclick:this._toggleState,onkeydown:this._toggleState},this.renderSourcesNode(),this.renderPoweredBy())}renderPoweredBy(){return F("div",{class:Ol.poweredBy},"Powered by"," ",F("a",{class:Ol.link,href:"http://www.esri.com/",target:"_blank",rel:"noreferrer"},"Esri"))}renderSourcesNode(){const e=this._isOpen,t=this._isInteractive,i=t?0:-1,{attributionText:n}=this,r=t?"button":void 0,a={[Ol.sourcesOpen]:e,[Ol.interactive]:t};return F("div",{afterCreate:this._afterSourcesNodeCreate,afterUpdate:this._afterSourcesNodeUpdate,bind:this,class:this.classes(Ol.sources,a),innerHTML:n,role:r,tabIndex:i})}_afterSourcesNodeCreate(e){this._prevSourceNodeHeight=e.clientWidth}_afterSourcesNodeUpdate(e){let t=!1;const{clientHeight:i,clientWidth:n,scrollWidth:r}=e,a=r>=n,o=this._attributionTextOverflowed!==a;if(this._attributionTextOverflowed=a,o&&(t=!0),this._isOpen){const s=i<this._prevSourceNodeHeight;this._prevSourceNodeHeight=i,s&&(this._isOpen=!1,t=!0)}t&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};c([d()],kn.prototype,"_isOpen",void 0),c([d()],kn.prototype,"_isInteractive",null),c([d()],kn.prototype,"_attributionTextOverflowed",void 0),c([d()],kn.prototype,"_prevSourceNodeHeight",void 0),c([d({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],kn.prototype,"attributionText",null),c([d()],kn.prototype,"iconClass",void 0),c([d()],kn.prototype,"itemDelimiter",void 0),c([d({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],kn.prototype,"label",void 0),c([d(),Kn("esri/widgets/Attribution/t9n/Attribution")],kn.prototype,"messages",void 0),c([ke("viewModel.view")],kn.prototype,"view",void 0),c([d({type:YB})],kn.prototype,"viewModel",void 0),c([Qr()],kn.prototype,"_toggleState",null),kn=c([D("esri.widgets.Attribution")],kn);const nCe=kn,rCe="esri.widgets.CompassViewModel";let Yu=class extends jq(ge){constructor(e){super(e),this._handles=new On,this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._handles.add(Yt(this,"view",this._updateRotationWatcher))}destroy(){this._handles.destroy(),this._handles=null,this.view=null}get canShowNorth(){const e=this.get("view.spatialReference");return!(!e||!e.isWebMercator&&!e.isGeographic)}get state(){return this.get("view.ready")?this.canShowNorth?"compass":"rotation":"disabled"}reset(){if(!this.get("view.ready"))return;const e={};this.view.type==="2d"?e.rotation=0:e.heading=0,this.callGoTo({target:e})}_updateForRotation(e){e!=null&&(this.orientation={z:e})}_updateForCamera(e){if(!e)return;const t=-e.heading;this.orientation={x:0,y:0,z:t}}_updateRotationWatcher(e){this._handles.removeAll(),e&&(e.type==="2d"?this._handles.add(Yt(this,"view.rotation",this._updateForRotation)):this._handles.add(Yt(this,"view.camera",this._updateForCamera)))}};c([d({readOnly:!0})],Yu.prototype,"canShowNorth",null),c([d()],Yu.prototype,"orientation",void 0),c([d({readOnly:!0})],Yu.prototype,"state",null),c([d()],Yu.prototype,"view",void 0),Yu=c([D(rCe)],Yu);const ZB=Yu,Pl={base:"esri-compass esri-widget--button esri-widget",text:"esri-icon-font-fallback-text",icon:"esri-compass__icon",rotationIcon:"esri-icon-dial",northIcon:"esri-icon-compass",widgetIcon:"esri-icon-locate-circled",interactive:"esri-interactive",disabled:"esri-disabled"};let Ro=class extends Pn{constructor(e,t){super(e,t),this.goToOverride=null,this.iconClass=Pl.widgetIcon,this.label=void 0,this.messages=null,this.view=null,this.viewModel=new ZB}reset(){return this.viewModel.reset()}render(){const{orientation:e,state:t}=this.viewModel,i=t==="disabled",n=(t==="rotation"?"rotation":"compass")=="compass",r=i?-1:0,a={[Pl.disabled]:i,[Pl.interactive]:!i},o={[Pl.northIcon]:n,[Pl.rotationIcon]:!n},{messages:s}=this;return F("div",{bind:this,class:this.classes(Pl.base,a),onclick:this._reset,onkeydown:this._reset,role:"button",tabIndex:r,"aria-label":s.reset,title:s.reset},F("span",{"aria-hidden":"true",class:this.classes(Pl.icon,o),styles:this._toRotationTransform(e)}),F("span",{class:Pl.text},s.reset))}_reset(){this.viewModel.reset()}_toRotationTransform(e){return{transform:`rotateZ(${e.z}deg)`}}};c([ke("viewModel.goToOverride")],Ro.prototype,"goToOverride",void 0),c([d()],Ro.prototype,"iconClass",void 0),c([d({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Ro.prototype,"label",void 0),c([d(),Kn("esri/widgets/Compass/t9n/Compass")],Ro.prototype,"messages",void 0),c([ke("viewModel.view")],Ro.prototype,"view",void 0),c([d({type:ZB})],Ro.prototype,"viewModel",void 0),c([Qr()],Ro.prototype,"_reset",null),Ro=c([D("esri.widgets.Compass")],Ro);const aCe=Ro;let fp=class extends ge{constructor(e){super(e),this._handles=new On,this.navigationMode="pan",this.view=null}initialize(){this._handles.add(ej(this,"view.inputManager",this._setNavigationMode.bind(this)))}destroy(){this._handles.destroy(),this._handles=null,this.view=null}get state(){return this.get("view.ready")&&this.view.type==="3d"?"ready":"disabled"}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate",this._setNavigationMode())}_setNavigationMode(){this.get("view.inputManager").primaryDragAction=this.navigationMode==="pan"?"pan":"rotate"}};c([d({readOnly:!0})],fp.prototype,"state",null),c([d()],fp.prototype,"navigationMode",void 0),c([d()],fp.prototype,"view",void 0),fp=c([D("esri.widgets.NavigationToggleViewModel")],fp);const XB=fp,Hr={base:"esri-navigation-toggle esri-widget",button:"esri-navigation-toggle__button esri-widget--button",activeButton:"esri-navigation-toggle__button--active",panButton:"esri-navigation-toggle__button--pan",rotateButton:"esri-navigation-toggle__button--rotate",isLayoutHorizontal:"esri-navigation-toggle--horizontal",rotationIcon:"esri-icon-rotate",panIcon:"esri-icon-pan",widgetIcon:"esri-icon-pan2",disabled:"esri-disabled"};let Fo=class extends Pn{constructor(e,t){super(e,t),this.iconClass=Hr.widgetIcon,this.label=void 0,this.messages=null,this.view=null,this.viewModel=new XB}set layout(e){e!=="horizontal"&&(e="vertical"),this._set("layout",e)}toggle(){return this.viewModel.toggle()}render(){const e=this.get("viewModel.state")==="disabled",t=this.get("viewModel.navigationMode")==="pan",i={[Hr.disabled]:e,[Hr.isLayoutHorizontal]:this.layout==="horizontal"},n={[Hr.activeButton]:t},r={[Hr.activeButton]:!t},a=e?-1:0,o=this.messages.toggle;return F("div",{bind:this,class:this.classes(Hr.base,i),onclick:this._toggle,onkeydown:this._toggle,tabIndex:a,"aria-label":o,title:o},F("div",{class:this.classes(Hr.button,Hr.panButton,n)},F("span",{class:Hr.panIcon})),F("div",{class:this.classes(Hr.button,Hr.rotateButton,r)},F("span",{class:Hr.rotationIcon})))}_toggle(){this.toggle()}};c([d()],Fo.prototype,"iconClass",void 0),c([d({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Fo.prototype,"label",void 0),c([d({value:"vertical"})],Fo.prototype,"layout",null),c([d(),Kn("esri/widgets/NavigationToggle/t9n/NavigationToggle")],Fo.prototype,"messages",void 0),c([ke("viewModel.view")],Fo.prototype,"view",void 0),c([d({type:XB})],Fo.prototype,"viewModel",void 0),c([Qr()],Fo.prototype,"_toggle",null),Fo=c([D("esri.widgets.NavigationToggle")],Fo);const oCe=Fo,Hf={button:"esri-widget--button esri-widget",disabled:"esri-disabled",interactive:"esri-interactive",iconText:"esri-icon-font-fallback-text",icon:"esri-icon"};let oc=class extends Pn{constructor(){super(...arguments),this.enabled=!0,this.iconClass="",this.title=""}render(){const e=this.enabled?0:-1,t={[Hf.disabled]:!this.enabled,[Hf.interactive]:this.enabled},i={[this.iconClass]:!!this.iconClass};return F("div",{bind:this,class:this.classes(Hf.button,t),onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:e,title:this.title},F("span",{"aria-hidden":"true",role:"presentation",class:this.classes(Hf.icon,i)}),F("span",{class:Hf.iconText},this.title))}_triggerAction(){this.action.call(this)}};c([d()],oc.prototype,"action",void 0),c([d()],oc.prototype,"enabled",void 0),c([d()],oc.prototype,"iconClass",void 0),c([d()],oc.prototype,"title",void 0),c([Qr()],oc.prototype,"_triggerAction",null),oc=c([D("esri.widgets.IconButton")],oc);const oF=oc;let gp=class extends ge{get canZoomIn(){if(!this.get("view.ready"))return!1;const e=this.get("view.animation.target.scale")||this.get("view.scale"),t=this.get("view.constraints.effectiveMaxScale");return t===0||e>t}get canZoomOut(){if(!this.get("view.ready"))return!1;const e=this.get("view.animation.target.scale")||this.get("view.scale"),t=this.get("view.constraints.effectiveMinScale");return t===0||e<t}};c([d({readOnly:!0})],gp.prototype,"canZoomIn",null),c([d({readOnly:!0})],gp.prototype,"canZoomOut",null),c([d()],gp.prototype,"view",void 0),gp=c([D("esri.widgets.Zoom.ZoomConditions2D")],gp);const sCe=gp;let yp=class extends ge{get canZoomIn(){return!!this.get("view.ready")}get canZoomOut(){return!!this.get("view.ready")}};c([d({readOnly:!0})],yp.prototype,"canZoomIn",null),c([d({readOnly:!0})],yp.prototype,"canZoomOut",null),c([d()],yp.prototype,"view",void 0),yp=c([D("esri.widgets.Zoom.ZoomConditions3D")],yp);const lCe=yp;let sc=class extends ge{constructor(e){super(e),this.canZoomIn=!1,this.canZoomOut=!1}destroy(){this.view=null}get state(){return this.get("view.ready")?"ready":"disabled"}set view(e){e?e.type==="2d"?this._zoomConditions=new sCe({view:e}):e.type==="3d"&&(this._zoomConditions=new lCe({view:e})):this._zoomConditions=null,this._set("view",e)}zoomIn(){if(!this.canZoomIn)return;const e=this.view;e.type==="2d"?e.mapViewNavigation.zoomIn():n5(e.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const e=this.view;e.type==="2d"?e.mapViewNavigation.zoomOut():n5(e.goTo({zoomFactor:.5}))}};c([d()],sc.prototype,"_zoomConditions",void 0),c([d({aliasOf:"_zoomConditions.canZoomIn",readOnly:!0})],sc.prototype,"canZoomIn",void 0),c([d({aliasOf:"_zoomConditions.canZoomOut",readOnly:!0})],sc.prototype,"canZoomOut",void 0),c([d({readOnly:!0})],sc.prototype,"state",null),c([d()],sc.prototype,"view",null),sc=c([D("esri.widgets.Zoom.ZoomViewModel")],sc);const QB=sc,qf={base:"esri-zoom esri-widget",horizontalLayout:"esri-zoom--horizontal",zoomInIcon:"esri-icon-plus",zoomOutIcon:"esri-icon-minus",widgetIcon:"esri-icon-zoom-in-magnifying-glass"};let Bs=class extends Pn{constructor(e,t){super(e,t),this.iconClass=qf.widgetIcon,this.label=void 0,this.messages=null,this.view=null,this.viewModel=new QB}initialize(){this._zoomInButton=new oF({action:this.zoomIn.bind(this),iconClass:qf.zoomInIcon}),this._zoomOutButton=new oF({action:this.zoomOut.bind(this),iconClass:qf.zoomOutIcon})}destroy(){this._zoomInButton.destroy(),this._zoomOutButton.destroy(),this._zoomInButton=null,this._zoomOutButton=null}set layout(e){e!=="horizontal"&&(e="vertical"),this._set("layout",e)}render(){const e=this.viewModel,t={[qf.horizontalLayout]:this.layout==="horizontal"};return this._zoomInButton.enabled=e.state==="ready"&&e.canZoomIn,this._zoomOutButton.enabled=e.state==="ready"&&e.canZoomOut,this._zoomInButton.title=this.messages.zoomIn,this._zoomOutButton.title=this.messages.zoomOut,F("div",{class:this.classes(qf.base,t)},this._zoomInButton.render(),this._zoomOutButton.render())}zoomIn(){return this.viewModel.zoomIn()}zoomOut(){return this.viewModel.zoomOut()}};c([d()],Bs.prototype,"iconClass",void 0),c([d({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Bs.prototype,"label",void 0),c([d({value:"vertical"})],Bs.prototype,"layout",null),c([d(),Kn("esri/widgets/Zoom/t9n/Zoom")],Bs.prototype,"messages",void 0),c([ke("viewModel.view")],Bs.prototype,"view",void 0),c([d({type:QB})],Bs.prototype,"viewModel",void 0),Bs=c([D("esri.widgets.Zoom")],Bs);const cCe=Bs,eU="esri.views.ui.DefaultUI";function uCe(e){return e&&e.view!==void 0}Q.getLogger(eU);let iw=class extends eCe{constructor(e){super(e),this._defaultPositionLookup={attribution:"manual",compass:"top-leading","navigation-toggle":"top-leading",zoom:"top-leading"},this.components=[]}initialize(){this._handles.add([_t(()=>this.components,this._componentsWatcher.bind(this),Ko),_t(()=>this.view,this._updateViewAwareWidgets.bind(this),Ko)])}_add(e,t,i,n){if(typeof e=="string"&&this._defaultPositionLookup[e]){if(this._find(e))return;e=this._createComponent(e)}super._add(e,t,i,n)}_removeComponents(e){e.forEach(t=>{const i=this._find(t);i&&(this.remove(i),i.destroy())})}_updateViewAwareWidgets(e){this.components.forEach(t=>{const i=this._find(t),n=i&&i.widget;uCe(n)&&(n.view=e)})}_componentsWatcher(e,t){this._removeComponents(t),this._addComponents(e),this._adjustPadding(e)}_adjustPadding(e){if(e.indexOf("attribution")===-1&&!this._isOverridden("padding")){const{top:t}=this.padding;this.padding=t}}_addComponents(e){this.initialized&&e.forEach(t=>this.add(this._createComponent(t),this._defaultPositionLookup[t]))}_createComponent(e){const t=this._createWidget(e);if(t)return new tw({id:e,node:t})}_createWidget(e){return e==="attribution"?this._createAttribution():e==="compass"?this._createCompass():e==="navigation-toggle"?this._createNavigationToggle():e==="zoom"?this._createZoom():void 0}_createAttribution(){return new nCe({view:this.view})}_createCompass(){return new aCe({view:this.view})}_createNavigationToggle(){return new oCe({view:this.view})}_createZoom(){return new cCe({view:this.view})}};c([d()],iw.prototype,"components",void 0),iw=c([D(eU)],iw);const dCe=iw;let nw=class extends dCe{constructor(e){super(e),this.components=["attribution","zoom"]}};c([d()],nw.prototype,"components",void 0),nw=c([D("esri.views.ui.2d.DefaultUI2D")],nw);const tU=nw;var uC;let rw=uC=class extends J{constructor(e){super(e),this.color=new Re([0,0,0,1])}clone(){return new uC(z({color:this.color}))}};c([d({type:Re,json:{write:!0}})],rw.prototype,"color",void 0),rw=uC=c([D("esri.webmap.background.ColorBackground")],rw);const hCe=rw,_s=Q.getLogger("esri.views.MapView");let iU,nU,rU,aU,oU,sU;async function pCe(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:i,MapViewNavigation:n,MagnifierView2D:r,Stage:a}]=await Promise.all([import("./webglDeps.fbf08dd3.js"),import("./mapViewDeps.b0152ba0.js")]);nU=e,rU=t,aU=i,oU=n,sU=r,iU=a}const sF=160;function mCe(e){return e&&e.declaredClass==="esri.Viewpoint"}let Oe=class extends Fme(Y3e(Z3e(S5e))){constructor(e){super(e),this._magnifierView=null,this._stage=null,this._resolveWhenReady=[],this.rootLayerViews=new Bp({getCollections:()=>{var t,i;return[(t=this.basemapView)==null?void 0:t.baseLayerViews,this.layerViews,(i=this.basemapView)==null?void 0:i.referenceLayerViews]},getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.graphicsView=null,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.rendering=!1,this.supersampleScreenshotsEnabled=!1,this.supportsGround=!1,this._stationaryTimer=null,this.frameTask=new VSe(this),this._pePromise=null,this.floors=new _e,this.highlightOptions=new qB,this.inputManager=new v$e({view:this}),this.map=null,this.resizeAlign="center",this.spatialReferenceLocked=!1,this.timeline=new BB,this.type="2d",this.ui=new tU,this.constraints=new IB,this.padding={top:0,right:0,bottom:0,left:0},this.handles.add([_t(()=>this.viewpoint,()=>{this._lastStationaryEventTimestamp=performance.now(),this._flipStationary(sF)},A5),this.on("resize",t=>this._resizeHandler(t)),_t(()=>{var t;return(t=this.animationManager)==null?void 0:t.animation},t=>{this.animation=t})]),epe()}destroy(){this._set("preconditionsReady",!1),this._gotoTask=this.frameTask=null,this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new D$e(this.featuresTilingScheme)}get initialExtentRequired(){var e;const{scale:t,constraints:i,center:n,viewpoint:r,extent:a}=this;let o=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&(e=this.map.initialViewProperties)!=null&&e.viewpoint)&&!a&&(i!=null&&i.effectiveLODs||(o=-1),(!n||t===0&&o===-1)&&(!r||!T(r.targetGeometry)||r.targetGeometry.type!=="extent"&&!r.scale))}get resourceManager(){return this._stage.resourceManager}get textureManager(){return this._stage.painter.textureManager}get _defaultsFromMapSettings(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get _projectionEngineLoaded(){return!!ym()||(this._pePromise||(this._pePromise=bm().finally(()=>{this._pePromise=null})),!1)}get typeSpecificPreconditionsReady(){const e=this._getDefaultViewpoint();if(!e)return!1;const t=this.spatialReference,i=e.targetGeometry;return!!Gd(i.spatialReference,t)||this._projectionEngineLoaded}set animation(e){const t=this._get("animation");if(e===t)return;if(t&&t.stop(),!e||e.isFulfilled())return void this._set("animation",null);this._set("animation",e),this.frameTask.animationInProgress=!0;const i=()=>{e===this._get("animation")&&(this._set("animation",null),this.frameTask.requestFrame()),this.frameTask.animationInProgress=!1};e.when(i,i)}get background(){return this.get("map.initialViewProperties.background")||null}set background(e){e===void 0?this._clearOverride("background"):this._override("background",e)}get center(){if(!this.ready)return this._get("center");const{center:e,spatialReference:t}=this.state.paddedViewState;return new Ie({x:e[0],y:e[1],spatialReference:t})}set center(e){if(e==null)return;if(!this.ready)return this._set("center",e),void this.notifyChange("initialExtentRequired");let t;try{t=this._project(e,this.spatialReference)}catch(n){return void _s.error(new L("mapview:invalid-center","could not project the value in the view's spatial reference",{input:e,error:n}))}const i=this.viewpoint;iC(i,i,t),this.viewpoint=i}set constraints(e){const t=this._get("constraints");t&&(this.handles.remove("map-view-constraints"),t.destroy()),this._set("constraints",e),e&&(e.view=this,this.ready&&(this.state.viewpoint=e.fit(this.state.paddedViewState.viewpoint)),this.handles.add(_t(()=>e.version,()=>{this.ready&&this.state&&(this.state.viewpoint=e.fit(this.state.paddedViewState.viewpoint))},A5),"map-view-constraints"))}get extent(){return this.ready?this.state.paddedViewState.extent.clone():this._get("extent")}set extent(e){if(e==null)return;if(!e.width||!e.height)return void _s.error(new L("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",e),this._set("center",null),this._set("viewpoint",null),this._set("scale",0),this._set("zoom",-1),void this.notifyChange("initialExtentRequired");let t;try{t=this._project(e,this.spatialReference)}catch(n){return void _s.error(new L("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:n}))}const i=this.viewpoint;DSe(i,i,t,this.size,{constraints:this.constraints}),this.viewpoint=i}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(e){this.ready?(this.state.padding=e,this._set("padding",this.state.padding)):this._set("padding",e)}get resolution(){return this.state?this.state.resolution:0}get rotation(){return this.ready?this.state.rotation:this._get("rotation")}set rotation(e){if(isNaN(e))return;if(!this.ready)return void this._set("rotation",e);const t=this.viewpoint;FSe(t,t,e),this.viewpoint=t}get scale(){return this.ready?this.state.scale:this._get("scale")}set scale(e){if(!e||isNaN(e))return;if(!this.ready){this._set("scale",e),this._set("zoom",-1);const i=this._get("extent");return i&&(this._set("extent",null),this._set("center",i.center)),void this.notifyChange("initialExtentRequired")}const t=this.viewpoint;FR(t,t,e),this.viewpoint=t}get stationary(){return!(this.animation||this.navigating||this.resizing||this._stationaryTimer)}get updating(){return!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(e=>!e.destroyed&&!("layerViews"in e)&&e.updating===!0))}get viewpoint(){if(!this.ready)return this._get("viewpoint");const e=this.state.paddedViewState;return e&&e.viewpoint.clone()}set viewpoint(e){if(e==null)return;if(!this.ready)return this._set("viewpoint",e),this._set("extent",null),this._set("center",null),this._set("zoom",-1),this._set("scale",0),void this.notifyChange("initialExtentRequired");let t,i;try{t=this._project(e,this.spatialReference),!e.scale||isNaN(e.scale)?i=new L("mapview:invalid-viewpoint",`invalid scale value of ${e.scale}`):V(e.targetGeometry)&&(i=new L("mapview:invalid-viewpoint","geometry not defined"))}catch(r){i=new L("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:r})}if(i)return void _s.error(i);this._scaleBeforeChangingSpatialReference=null;const n=new Yo({targetGeometry:new Ie,scale:0,rotation:0});po(n,t),this.constraints.constrain(n,this.state.paddedViewState.viewpoint),this.state.viewpoint=n,this.frameTask.requestFrame(),this._set("viewpoint",n)}get zoom(){return this.ready?this.constraints.scaleToZoom(this.scale):this._get("zoom")}set zoom(e){if(e==null)return;if(!this.ready){this._set("zoom",e),this._set("scale",0);const i=this._get("extent");return i&&(this._set("extent",null),this._set("center",i.center)),void this.notifyChange("initialExtentRequired")}if(!this.constraints.effectiveLODs)return void this._set("zoom",-1);const t=this.viewpoint;FR(t,t,this.constraints.zoomToScale(e)),this.viewpoint=t,this._set("zoom",this.constraints.scaleToZoom(this.scale))}get navigating(){return!(!this.mapViewNavigation||!this.mapViewNavigation.interacting)}goTo(e,t){if(e)return this.animation&&(this.animation=null),this._createAnimation(),DI(()=>this.ready,t).then(()=>{const i=$({animate:!0},t),n=kSe(e,this);return this.animation.update(n),this._gotoTask={},i.animate?this._gotoAnimated(n,i):this._gotoImmediate(n,i)});_s.error("#goTo()","target cannot be null or undefined")}async hitTest(e,t){const i=TR(e)?ER(this,e):e;if(!this.ready||isNaN(i.x)||isNaN(i.y))return{screenPoint:i,results:[]};let n=new Set,r=!1,a=null,o=null;t!=null&&t.include?cF(t.include,lF(this,h=>n.add(h),h=>{a||(a=new Set),a.add(h)},h=>n.add(h),()=>r=!0)):(r=!0,n=new Set(this.allLayerViews)),t!=null&&t.exclude&&cF(t.exclude,lF(this,h=>n.delete(h),h=>{o||(o=new Set),o.add(h)}));const s=this.allLayerViews.filter(h=>!h.suspended&&n.has(h)).reverse(),l=this.toMap(i);let u=(await Promise.all([r?this.graphicsView.hitTest(l):null,...s.map(h=>h.hitTest(l,i))])).filter(T).flat();return a&&(u=u.filter(h=>a.has(dC(h)))),o&&(u=u.filter(h=>!o.has(dC(h)))),{screenPoint:i,results:u.map(h=>({mapPoint:l,graphic:h}))}}takeScreenshot(e){e=e||{};const t=this.supersampleScreenshotsEnabled?Math.min(4,M$e(this.size,Math.min(4096,this._stage.context.parameters.maxTextureSize))):1;let i;e.layers?(i=[],e.layers.forEach(o=>{const s=this.allLayerViews.find(l=>l.layer.id===o.id);s&&"container"in s&&s.container&&i.push(s.container)})):i=this._stage.children;const{format:n,quality:r}=T$e(e.format,e.quality),a=I$e(e,t,this.size,this.padding,n,r,i,e.rotation);return this._stage.takeScreenshot(a)}toMap(e){if(!this.ready)return null;const t=TR(e)?ER(this,e):e,i=[0,0],[n,r]=this.state.toMap(i,[t.x,t.y]),a=this.spatialReference;return new Ie({x:n,y:r,spatialReference:a})}toScreen(e){if(!this.ready)return null;const t=this._project(e,this.spatialReference),i=[t.x,t.y];return this.state.toScreen(i,i),Un(i[0],i[1])}on(e,t,i,n){return this.inputManager&&this.viewEvents.on(e,t,i,n)||super.on(e,t)}hasEventListener(e){return super.hasEventListener(e)||this.viewEvents.hasHandler(e)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}whenReady(){return new Promise(e=>{this.ready?e(this):this._resolveWhenReady.push(e)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){var e,t,i;return this.map&&"initialViewProperties"in this.map&&((e=this.map)==null||(t=e.initialViewProperties)==null?void 0:t.spatialReference)||((i=this.defaultsFromMap)==null?void 0:i.spatialReference)||null}hasLayerViewModule(e){return zR.hasLayerViewModule(e)}importLayerView(e){return zR.importLayerView(e)}pixelSizeAt(){return this.ready?this.state.resolution:(_s.error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}popupHitTest(e){return this.hitTest(e).then(t=>le($({},t),{mapPoint:this.toMap(e)}))}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}validate(){let e=J$e(this.type);return q("safari")&&q("safari")<9&&(e=new L("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:q("safari")})),T(e)?(_s.warn("#validate()",e.message),Promise.reject(e)):pCe()}_createAnimation(){return this.animation&&!this.animation.done||(this.animation=new eC),this.animation}_cancellableGoTo(e,t,i){const n=()=>e===this._gotoTask,r=i.then(()=>{n()&&(this.animation=null)}).catch(o=>{throw n()&&(this.animation=null,t.done||(t.stop(),this.frameTask.animationInProgress=!1)),o}),a=new Promise(o=>o(r));return t.when().catch(()=>{n()&&a.cancel&&a.cancel()}),a}_gotoImmediate(e,t){const i=this._gotoTask,n=this.animation,r=e.then(a=>{if(pi(t),i!==this._gotoTask)throw new L("view:goto-interrupted","Goto was interrupted");this.viewpoint=n.target=a,n.finish()});return this._cancellableGoTo(i,n,r)}_flipStationary(e){return this._stationaryTimer!==null||(this._stationaryTimer=setTimeout(()=>{this._stationaryTimer=null;const t=performance.now()-this._lastStationaryEventTimestamp;t<sF&&(this._stationaryTimer=this._flipStationary(t))},e)),this._stationaryTimer}_getDefaultViewpoint(){var e,t,i,n;const{constraints:r,initialExtent:a,map:o}=this;if(!r)return null;const s=o&&"initialViewProperties"in o&&o.initialViewProperties,l={zoom:this._get("zoom"),scale:this._get("scale"),center:this._get("center"),extent:this._get("extent"),rotation:this._get("rotation"),viewpoint:this._get("viewpoint"),spatialReference:this._userSpatialReference};r.effectiveLODs?l.zoom!==-1&&(l.scale=r.zoomToScale(l.zoom)):l.zoom=-1;let u=null,h=null,m=0;const f=l.viewpoint&&l.viewpoint.rotation,g=l.viewpoint&&l.viewpoint.targetGeometry;T(g)&&(g.type==="extent"?u=g:g.type==="point"&&(h=g,m=l.viewpoint.scale));const b=l.extent||u||((e=s==null||(t=s.viewpoint)==null?void 0:t.targetGeometry)==null?void 0:e.extent)||a,v=l.center||h||(b==null?void 0:b.center),w=l.scale||m||(s==null||(i=s.viewpoint)==null?void 0:i.scale)||b&&Dg(b,this.size),x=l.rotation||f||(s==null||(n=s.viewpoint)==null?void 0:n.rotation)||0;return v&&w?new Yo({targetGeometry:v,scale:w,rotation:x}):null}_gotoAnimated(e,t){const i=this._gotoTask,n=this.animation,r=e.then(a=>{if(pi(t),i!==this._gotoTask)throw new L("view:goto-interrupted","Goto was interrupted");return n.update(a),this.animationManager.animate(n,this.viewpoint,t),n.when().then(()=>{},()=>{})});return this._cancellableGoTo(i,n,r)}_project(e,t){var i;const n=e&&e.targetGeometry||e;if(!t)return e;if(!n)return null;if(t.imageCoordinateSystem||(i=n.spatialReference)!=null&&i.imageCoordinateSystem||ir(t,n.spatialReference))return e;const r=Vy(n,t);if(!r)throw new L("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:n,spatialReference:t});return mCe(e)?(e.targetGeometry=r,e):r}_resizeHandler(e){if(!this.ready)return;const t=this.state;let i=this.state.paddedViewState.viewpoint;const n=this.state.paddedViewState.size.concat();t.size=[e.width,e.height],RSe(i,i,n,this.state.paddedViewState.size,this.resizeAlign),i=this.constraints.constrain(i,null),this.state.viewpoint=i}_startup(){var e;this.timeline.begin("MapView Startup");const t=this._getDefaultViewpoint(),i=t.targetGeometry;try{this._project(t,this.spatialReference)}catch(u){var n;_s.warn(new An("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:i.toJSON(),spatialReference:this.spatialReference,error:u})),t.targetGeometry=((n=this.defaultsFromMap.extent)==null?void 0:n.center)||new Ie({x:0,y:0,spatialReference:this.spatialReference})}(e=this.constraints)==null||e.fit(t),this._set("state",new ODe({padding:this._get("padding"),size:this.size,viewpoint:t})),this.graphics.owner=this;const r=new iU(this.surface,{canvas:this.renderCanvas,supersampleScreenshots:this.supersampleScreenshotsEnabled,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this._stage=r,this._magnifierView=new sU,this._magnifierView.magnifier=this.magnifier;const a=new aU({view:this});this._set("labelManager",a);const o=new jSe({view:this});this._set("animationManager",o);const s=new oU({view:this,animationManager:o});this._set("mapViewNavigation",s),this._setupSpatialReferenceDependentProperties(),this.handles.add([this.rootLayerViews.on("change",()=>this._updateStageChildren()),r.on("post-render",()=>this._set("rendering",r.renderRequested)),r.on("will-render",()=>this._set("rendering",r.renderRequested)),r.on("webgl-error",u=>this.fatalError=u.error),_t(()=>this.stationary,u=>r.stationary=u,bu),_t(()=>this.background,u=>{r.background=u,this._magnifierView.background=u},bu),_t(()=>this.magnifier,u=>this._magnifierView.magnifier=u,bu),_t(()=>this.renderingOptions,u=>r.renderingOptions=u,bu),_t(()=>this.highlightOptions,u=>r.highlightOptions=u,bu),_t(()=>this.state.id,()=>r.state=this.state,bu)],"map-view"),this._updateStageChildren();const l=this._resolveWhenReady;this._resolveWhenReady=[],l.forEach(u=>u(this)),this.timeline.end("MapView Startup"),this.frameTask&&this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.handles.remove("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._stage.destroy(),this._stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask&&this.frameTask.stop(),this._stationaryTimer&&(clearTimeout(this._stationaryTimer),this._stationaryTimer=null),this._set("ready",!1);const{center:[e,t],spatialReference:i,rotation:n,scale:r}=this.state.paddedViewState,a=new Ie({x:e,y:t,spatialReference:i});this._set("viewpoint",null),this._set("extent",null),this._set("center",a),this._set("zoom",-1),this._set("rotation",n),this._set("scale",r),this._set("spatialReference",i),this._set("state",null),this.animation=null}_updateStageChildren(){this._stage.removeAllChildren(),this.rootLayerViews.forEach(t=>{this._stage.addChild(t.container)});const e=this.graphicsView;this._stage.addChild(e.container),this._stage.addChild(this._magnifierView)}_setupSpatialReferenceDependentProperties(){const e=new NDe(Lme.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",e);const t=new nU({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new rU(e)});this.frameTask.graphicsView=t,this._set("graphicsView",t)}_destroySpatialReferenceDependentProperties(){const e=this.graphicsView;this._set("graphicsView",null),this.frameTask.graphicsView=null,e.destroy(),this._set("featuresTilingScheme",null)}_spatialReferenceChanged(e){if(!this.ready)return;this.frameTask.stop();for(const s of this.allLayerViews)s.processDetach();this._destroySpatialReferenceDependentProperties();const t=this.state.paddedViewState.clone();if(V(this._scaleBeforeChangingSpatialReference))this._scaleBeforeChangingSpatialReference=t.scale;else{const s=t.viewpoint.clone();s.scale=this._scaleBeforeChangingSpatialReference,t.viewpoint=s}const i=t.clone(),[n,r]=t.center;let a=null;try{a=this._project(new Ie({x:n,y:r,spatialReference:t.spatialReference}),e)}catch(s){ym()||_s.warn(new An("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:a.toJSON(),spatialReference:e,error:s}))}a||(a=new Ie({x:0,y:0,spatialReference:e}));const o=iC(new Yo({targetGeometry:new Ie,scale:0,rotation:0}),t.viewpoint,a);i.viewpoint=o;try{const l=[t.size[0]/2,t.size[1]/2],u=[l[0]+20,l[1]],h=t.toMap([0,0],u),{x:m,y:f}=this._project(new Ie({x:h[0],y:h[1],spatialReference:t.spatialReference}),e);h[0]=m,h[1]=f,i.toScreen(h,h);const g=PSe(l,h,u),b=Math.hypot(h[0]-l[0],h[1]-l[1])/20;!Number.isFinite(b)||Math.abs(b)>4?(o.rotation=0,o.targetGeometry=new Ie({x:0,y:0,spatialReference:e})):(o.scale*=b,o.scale>q("mapview-srswitch-adjust-rotation-scale-threshold")?o.rotation=0:o.rotation+=Number.isFinite(g)?g:0)}catch{}this._get("constraints").constrain(o,null),this._get("state").viewpoint=o,this._stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const s of this.allLayerViews)s.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}};c([d({readOnly:!0})],Oe.prototype,"animationManager",void 0),c([d({constructOnly:!0})],Oe.prototype,"deactivatedWebGLExtensions",void 0),c([d({constructOnly:!0})],Oe.prototype,"debugWebGLExtensions",void 0),c([d({readOnly:!0})],Oe.prototype,"featuresTilingScheme",void 0),c([d({readOnly:!0})],Oe.prototype,"fullOpacity",void 0),c([d({readOnly:!0})],Oe.prototype,"graphicsTileStore",null),c([d()],Oe.prototype,"graphicsView",void 0),c([d({readOnly:!0})],Oe.prototype,"state",void 0),c([d()],Oe.prototype,"initialExtentRequired",null),c([d()],Oe.prototype,"labelManager",void 0),c([d({readOnly:!0})],Oe.prototype,"resourceManager",null),c([d({readOnly:!0})],Oe.prototype,"textureManager",null),c([d({readOnly:!0})],Oe.prototype,"mapViewNavigation",void 0),c([d({constructOnly:!0})],Oe.prototype,"renderCanvas",void 0),c([d()],Oe.prototype,"renderingOptions",void 0),c([d({readOnly:!0})],Oe.prototype,"rendering",void 0),c([d({constructOnly:!0})],Oe.prototype,"supersampleScreenshotsEnabled",void 0),c([d({readOnly:!0})],Oe.prototype,"supportsGround",void 0),c([d()],Oe.prototype,"_stationaryTimer",void 0),c([d()],Oe.prototype,"_defaultsFromMapSettings",null),c([d()],Oe.prototype,"_pePromise",void 0),c([d({readOnly:!0})],Oe.prototype,"typeSpecificPreconditionsReady",null),c([d()],Oe.prototype,"animation",null),c([d({type:hCe})],Oe.prototype,"background",null),c([d({value:null,type:Ie,dependsOn:["state.id","ready"]})],Oe.prototype,"center",null),c([d({type:IB})],Oe.prototype,"constraints",null),c([d({value:null,type:pt,dependsOn:["state.id","ready"]})],Oe.prototype,"extent",null),c([d()],Oe.prototype,"floors",void 0),c([d({type:qB})],Oe.prototype,"highlightOptions",void 0),c([d({readOnly:!0})],Oe.prototype,"inputManager",void 0),c([d()],Oe.prototype,"map",void 0),c([d({value:{top:0,right:0,bottom:0,left:0},cast:e=>$({top:0,right:0,bottom:0,left:0},e)})],Oe.prototype,"padding",null),c([d()],Oe.prototype,"resizeAlign",void 0),c([d({readOnly:!0,dependsOn:["state.id"]})],Oe.prototype,"resolution",null),c([d({value:0,type:Number,dependsOn:["state.id","ready"]})],Oe.prototype,"rotation",null),c([d({value:0,type:Number,dependsOn:["state.id","ready"]})],Oe.prototype,"scale",null),c([d({constructOnly:!0})],Oe.prototype,"spatialReferenceLocked",void 0),c([d()],Oe.prototype,"stationary",null),c([d({type:BB,readOnly:!0})],Oe.prototype,"timeline",void 0),c([d({readOnly:!0})],Oe.prototype,"type",void 0),c([d({readOnly:!0})],Oe.prototype,"updating",null),c([d({value:null,type:Yo,dependsOn:["state.id","ready"]})],Oe.prototype,"viewpoint",null),c([d({value:-1,dependsOn:["state.id"]})],Oe.prototype,"zoom",null),c([d({type:Boolean})],Oe.prototype,"navigating",null),c([d({type:tU})],Oe.prototype,"ui",void 0),Oe=c([D("esri.views.MapView")],Oe);const fCe=Oe;function dC(e){const t=e.getObjectId();var i,n,r,a;return t?`${(i=(n=(r=e.layer)==null?void 0:r.uid)!=null?n:(a=e.sourceLayer)==null?void 0:a.uid)!=null?i:"MapView"}/${t}`:`"MapView/${e.uid}`}function lF(e,t,i,n,r){return a=>{if(a instanceof Mr){if(a.layer===e)r==null||r();else{const o=e.allLayerViews.find(s=>s.layer===a.layer);o&&(n==null||n(o))}i(dC(a))}else{const o=e.allLayerViews.find(s=>s.layer===a);o&&t(o)}}}function cF(e,t){if(e)if(iP(e))for(const i of e)if(iP(i))for(const n of i)t(n);else t(i);else t(e)}function uF(e){let t,i;return{c(){t=ee("p"),i=jt(e[0])},m(n,r){ve(n,t,r),G(t,i)},p(n,r){r&1&&Zp(i,n[0])},d(n){n&&fe(t)}}}function gCe(e){let t,i,n,r,a,o=e[0]&&uF(e);return{c(){t=ee("div"),i=De(),o&&o.c(),n=Hc(),j(t,"class","view svelte-1gv9btm")},m(s,l){ve(s,t,l),ve(s,i,l),o&&o.m(s,l),ve(s,n,l),r||(a=hG(e[1].call(null,t)),r=!0)},p(s,[l]){s[0]?o?o.p(s,l):(o=uF(s),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:Ve,o:Ve,d(s){s&&fe(t),s&&fe(i),o&&o.d(s),s&&fe(n),r=!1,a()}}}function yCe(e,t,i){let{centerText:n}=t;const r=a=>{const o=new t8({basemap:"gray-vector"});new fCe({container:a,map:o,zoom:3,center:[-80,32]}).watch("center",l=>{const{latitude:u,longitude:h}=l;i(0,n=`Lat: ${u.toFixed(2)} | Lon: ${h.toFixed(2)}`)})};return e.$$set=a=>{"centerText"in a&&i(0,n=a.centerText)},[n,r]}class bCe extends Di{constructor(t){super();Si(this,t,yCe,gCe,fi,{centerText:0})}}function vCe(e){let t,i,n;return i=new bCe({props:{centerText:"Loading ..."}}),{c(){t=De(),Ye(i.$$.fragment),document.title="Map"},m(r,a){ve(r,t,a),Ge(i,r,a),n=!0},p:Ve,i(r){n||(me(i.$$.fragment,r),n=!0)},o(r){be(i.$$.fragment,r),n=!1},d(r){r&&fe(t),We(i,r)}}}class wCe extends Di{constructor(t){super();Si(this,t,null,vCe,fi,{})}}var $T={exports:{}},lU=function(t,i){return function(){for(var r=new Array(arguments.length),a=0;a<r.length;a++)r[a]=arguments[a];return t.apply(i,r)}},xCe=lU,Yc=Object.prototype.toString;function CT(e){return Array.isArray(e)}function hC(e){return typeof e=="undefined"}function kCe(e){return e!==null&&!hC(e)&&e.constructor!==null&&!hC(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function cU(e){return Yc.call(e)==="[object ArrayBuffer]"}function _Ce(e){return Yc.call(e)==="[object FormData]"}function SCe(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&cU(e.buffer),t}function DCe(e){return typeof e=="string"}function $Ce(e){return typeof e=="number"}function uU(e){return e!==null&&typeof e=="object"}function aw(e){if(Yc.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function CCe(e){return Yc.call(e)==="[object Date]"}function ICe(e){return Yc.call(e)==="[object File]"}function ECe(e){return Yc.call(e)==="[object Blob]"}function dU(e){return Yc.call(e)==="[object Function]"}function TCe(e){return uU(e)&&dU(e.pipe)}function MCe(e){return Yc.call(e)==="[object URLSearchParams]"}function ACe(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function OCe(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function IT(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),CT(e))for(var i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}function pC(){var e={};function t(r,a){aw(e[a])&&aw(r)?e[a]=pC(e[a],r):aw(r)?e[a]=pC({},r):CT(r)?e[a]=r.slice():e[a]=r}for(var i=0,n=arguments.length;i<n;i++)IT(arguments[i],t);return e}function PCe(e,t,i){return IT(t,function(r,a){i&&typeof r=="function"?e[a]=xCe(r,i):e[a]=r}),e}function LCe(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var rr={isArray:CT,isArrayBuffer:cU,isBuffer:kCe,isFormData:_Ce,isArrayBufferView:SCe,isString:DCe,isNumber:$Ce,isObject:uU,isPlainObject:aw,isUndefined:hC,isDate:CCe,isFile:ICe,isBlob:ECe,isFunction:dU,isStream:TCe,isURLSearchParams:MCe,isStandardBrowserEnv:OCe,forEach:IT,merge:pC,extend:PCe,trim:ACe,stripBOM:LCe},Eh=rr;function dF(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var hU=function(t,i,n){if(!i)return t;var r;if(n)r=n(i);else if(Eh.isURLSearchParams(i))r=i.toString();else{var a=[];Eh.forEach(i,function(l,u){l===null||typeof l=="undefined"||(Eh.isArray(l)?u=u+"[]":l=[l],Eh.forEach(l,function(m){Eh.isDate(m)?m=m.toISOString():Eh.isObject(m)&&(m=JSON.stringify(m)),a.push(dF(u)+"="+dF(m))}))}),r=a.join("&")}if(r){var o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t},RCe=rr;function n_(){this.handlers=[]}n_.prototype.use=function(t,i,n){return this.handlers.push({fulfilled:t,rejected:i,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};n_.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};n_.prototype.forEach=function(t){RCe.forEach(this.handlers,function(n){n!==null&&t(n)})};var FCe=n_,NCe=rr,zCe=function(t,i){NCe.forEach(t,function(r,a){a!==i&&a.toUpperCase()===i.toUpperCase()&&(t[i]=r,delete t[a])})},pU=function(t,i,n,r,a){return t.config=i,n&&(t.code=n),t.request=r,t.response=a,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},mU={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jCe=pU,fU=function(t,i,n,r,a){var o=new Error(t);return jCe(o,i,n,r,a)},VCe=fU,HCe=function(t,i,n){var r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):i(VCe("Request failed with status code "+n.status,n.config,null,n.request,n))},Pv=rr,qCe=Pv.isStandardBrowserEnv()?function(){return{write:function(i,n,r,a,o,s){var l=[];l.push(i+"="+encodeURIComponent(n)),Pv.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),Pv.isString(a)&&l.push("path="+a),Pv.isString(o)&&l.push("domain="+o),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(i){var n=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),BCe=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},UCe=function(t,i){return i?t.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):t},GCe=BCe,WCe=UCe,JCe=function(t,i){return t&&!GCe(i)?WCe(t,i):i},I3=rr,KCe=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],YCe=function(t){var i={},n,r,a;return t&&I3.forEach(t.split(`
`),function(s){if(a=s.indexOf(":"),n=I3.trim(s.substr(0,a)).toLowerCase(),r=I3.trim(s.substr(a+1)),n){if(i[n]&&KCe.indexOf(n)>=0)return;n==="set-cookie"?i[n]=(i[n]?i[n]:[]).concat([r]):i[n]=i[n]?i[n]+", "+r:r}}),i},hF=rr,ZCe=hF.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),n;function r(a){var o=a;return t&&(i.setAttribute("href",o),o=i.href),i.setAttribute("href",o),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return n=r(window.location.href),function(o){var s=hF.isString(o)?r(o):o;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}();function ET(e){this.message=e}ET.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};ET.prototype.__CANCEL__=!0;var r_=ET,Lv=rr,XCe=HCe,QCe=qCe,eIe=hU,tIe=JCe,iIe=YCe,nIe=ZCe,E3=fU,rIe=mU,aIe=r_,pF=function(t){return new Promise(function(n,r){var a=t.data,o=t.headers,s=t.responseType,l;function u(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}Lv.isFormData(a)&&delete o["Content-Type"];var h=new XMLHttpRequest;if(t.auth){var m=t.auth.username||"",f=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.Authorization="Basic "+btoa(m+":"+f)}var g=tIe(t.baseURL,t.url);h.open(t.method.toUpperCase(),eIe(g,t.params,t.paramsSerializer),!0),h.timeout=t.timeout;function b(){if(!!h){var w="getAllResponseHeaders"in h?iIe(h.getAllResponseHeaders()):null,x=!s||s==="text"||s==="json"?h.responseText:h.response,S={data:x,status:h.status,statusText:h.statusText,headers:w,config:t,request:h};XCe(function(C){n(C),u()},function(C){r(C),u()},S),h=null}}if("onloadend"in h?h.onloadend=b:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(b)},h.onabort=function(){!h||(r(E3("Request aborted",t,"ECONNABORTED",h)),h=null)},h.onerror=function(){r(E3("Network Error",t,null,h)),h=null},h.ontimeout=function(){var x=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",S=t.transitional||rIe;t.timeoutErrorMessage&&(x=t.timeoutErrorMessage),r(E3(x,t,S.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",h)),h=null},Lv.isStandardBrowserEnv()){var v=(t.withCredentials||nIe(g))&&t.xsrfCookieName?QCe.read(t.xsrfCookieName):void 0;v&&(o[t.xsrfHeaderName]=v)}"setRequestHeader"in h&&Lv.forEach(o,function(x,S){typeof a=="undefined"&&S.toLowerCase()==="content-type"?delete o[S]:h.setRequestHeader(S,x)}),Lv.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),s&&s!=="json"&&(h.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&h.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(l=function(w){!h||(r(!w||w&&w.type?new aIe("canceled"):w),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l))),a||(a=null),h.send(a)})},Qi=rr,mF=zCe,oIe=pU,sIe=mU,lIe={"Content-Type":"application/x-www-form-urlencoded"};function fF(e,t){!Qi.isUndefined(e)&&Qi.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function cIe(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=pF),e}function uIe(e,t,i){if(Qi.isString(e))try{return(t||JSON.parse)(e),Qi.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(i||JSON.stringify)(e)}var a_={transitional:sIe,adapter:cIe(),transformRequest:[function(t,i){return mF(i,"Accept"),mF(i,"Content-Type"),Qi.isFormData(t)||Qi.isArrayBuffer(t)||Qi.isBuffer(t)||Qi.isStream(t)||Qi.isFile(t)||Qi.isBlob(t)?t:Qi.isArrayBufferView(t)?t.buffer:Qi.isURLSearchParams(t)?(fF(i,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Qi.isObject(t)||i&&i["Content-Type"]==="application/json"?(fF(i,"application/json"),uIe(t)):t}],transformResponse:[function(t){var i=this.transitional||a_.transitional,n=i&&i.silentJSONParsing,r=i&&i.forcedJSONParsing,a=!n&&this.responseType==="json";if(a||r&&Qi.isString(t)&&t.length)try{return JSON.parse(t)}catch(o){if(a)throw o.name==="SyntaxError"?oIe(o,this,"E_JSON_PARSE"):o}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Qi.forEach(["delete","get","head"],function(t){a_.headers[t]={}});Qi.forEach(["post","put","patch"],function(t){a_.headers[t]=Qi.merge(lIe)});var TT=a_,dIe=rr,hIe=TT,pIe=function(t,i,n){var r=this||hIe;return dIe.forEach(n,function(o){t=o.call(r,t,i)}),t},gU=function(t){return!!(t&&t.__CANCEL__)},gF=rr,T3=pIe,mIe=gU,fIe=TT,gIe=r_;function M3(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new gIe("canceled")}var yIe=function(t){M3(t),t.headers=t.headers||{},t.data=T3.call(t,t.data,t.headers,t.transformRequest),t.headers=gF.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),gF.forEach(["delete","get","head","post","put","patch","common"],function(r){delete t.headers[r]});var i=t.adapter||fIe.adapter;return i(t).then(function(r){return M3(t),r.data=T3.call(t,r.data,r.headers,t.transformResponse),r},function(r){return mIe(r)||(M3(t),r&&r.response&&(r.response.data=T3.call(t,r.response.data,r.response.headers,t.transformResponse))),Promise.reject(r)})},or=rr,yU=function(t,i){i=i||{};var n={};function r(h,m){return or.isPlainObject(h)&&or.isPlainObject(m)?or.merge(h,m):or.isPlainObject(m)?or.merge({},m):or.isArray(m)?m.slice():m}function a(h){if(or.isUndefined(i[h])){if(!or.isUndefined(t[h]))return r(void 0,t[h])}else return r(t[h],i[h])}function o(h){if(!or.isUndefined(i[h]))return r(void 0,i[h])}function s(h){if(or.isUndefined(i[h])){if(!or.isUndefined(t[h]))return r(void 0,t[h])}else return r(void 0,i[h])}function l(h){if(h in i)return r(t[h],i[h]);if(h in t)return r(void 0,t[h])}var u={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return or.forEach(Object.keys(t).concat(Object.keys(i)),function(m){var f=u[m]||a,g=f(m);or.isUndefined(g)&&f!==l||(n[m]=g)}),n},bU={version:"0.26.1"},bIe=bU.version,MT={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){MT[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var yF={};MT.transitional=function(t,i,n){function r(a,o){return"[Axios v"+bIe+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return function(a,o,s){if(t===!1)throw new Error(r(o," has been removed"+(i?" in "+i:"")));return i&&!yF[o]&&(yF[o]=!0,console.warn(r(o," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(a,o,s):!0}};function vIe(e,t,i){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),r=n.length;r-- >0;){var a=n[r],o=t[a];if(o){var s=e[a],l=s===void 0||o(s,a,e);if(l!==!0)throw new TypeError("option "+a+" must be "+l);continue}if(i!==!0)throw Error("Unknown option "+a)}}var wIe={assertOptions:vIe,validators:MT},vU=rr,xIe=hU,bF=FCe,vF=yIe,o_=yU,wU=wIe,Th=wU.validators;function nb(e){this.defaults=e,this.interceptors={request:new bF,response:new bF}}nb.prototype.request=function(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=o_(this.defaults,i),i.method?i.method=i.method.toLowerCase():this.defaults.method?i.method=this.defaults.method.toLowerCase():i.method="get";var n=i.transitional;n!==void 0&&wU.assertOptions(n,{silentJSONParsing:Th.transitional(Th.boolean),forcedJSONParsing:Th.transitional(Th.boolean),clarifyTimeoutError:Th.transitional(Th.boolean)},!1);var r=[],a=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(i)===!1||(a=a&&g.synchronous,r.unshift(g.fulfilled,g.rejected))});var o=[];this.interceptors.response.forEach(function(g){o.push(g.fulfilled,g.rejected)});var s;if(!a){var l=[vF,void 0];for(Array.prototype.unshift.apply(l,r),l=l.concat(o),s=Promise.resolve(i);l.length;)s=s.then(l.shift(),l.shift());return s}for(var u=i;r.length;){var h=r.shift(),m=r.shift();try{u=h(u)}catch(f){m(f);break}}try{s=vF(u)}catch(f){return Promise.reject(f)}for(;o.length;)s=s.then(o.shift(),o.shift());return s};nb.prototype.getUri=function(t){return t=o_(this.defaults,t),xIe(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};vU.forEach(["delete","get","head","options"],function(t){nb.prototype[t]=function(i,n){return this.request(o_(n||{},{method:t,url:i,data:(n||{}).data}))}});vU.forEach(["post","put","patch"],function(t){nb.prototype[t]=function(i,n,r){return this.request(o_(r||{},{method:t,url:i,data:n}))}});var kIe=nb,_Ie=r_;function $m(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(r){t=r});var i=this;this.promise.then(function(n){if(!!i._listeners){var r,a=i._listeners.length;for(r=0;r<a;r++)i._listeners[r](n);i._listeners=null}}),this.promise.then=function(n){var r,a=new Promise(function(o){i.subscribe(o),r=o}).then(n);return a.cancel=function(){i.unsubscribe(r)},a},e(function(r){i.reason||(i.reason=new _Ie(r),t(i.reason))})}$m.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};$m.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};$m.prototype.unsubscribe=function(t){if(!!this._listeners){var i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}};$m.source=function(){var t,i=new $m(function(r){t=r});return{token:i,cancel:t}};var SIe=$m,DIe=function(t){return function(n){return t.apply(null,n)}},$Ie=rr,CIe=function(t){return $Ie.isObject(t)&&t.isAxiosError===!0},wF=rr,IIe=lU,ow=kIe,EIe=yU,TIe=TT;function xU(e){var t=new ow(e),i=IIe(ow.prototype.request,t);return wF.extend(i,ow.prototype,t),wF.extend(i,t),i.create=function(r){return xU(EIe(e,r))},i}var hs=xU(TIe);hs.Axios=ow;hs.Cancel=r_;hs.CancelToken=SIe;hs.isCancel=gU;hs.VERSION=bU.version;hs.all=function(t){return Promise.all(t)};hs.spread=DIe;hs.isAxiosError=CIe;$T.exports=hs;$T.exports.default=hs;var kU=$T.exports;function MIe(e){let t,i,n,r,a,o,s;return{c(){t=ee("section"),t.innerHTML=`<p class="font-semibold">Emma Paz</p> 
	<p class="pb-3">Licensed REALTOR\xAE with</p>`,i=De(),n=ee("section"),r=ee("img"),o=De(),s=ee("div"),s.innerHTML=`<p class="pt-3">License #126299</p> 
		<p>774 S Shelmore Blvd Suite #106</p> 
		<p>Mt Pleasant, SC 29464</p> 
		<p class="pb-3"><a class="bhhs hover:text-red-700" href="tel:+18433888118">843-388-8118</a></p> 
		<a href="https://emma.myhomecharleston.com" target="_blank" class="button shadow-md bg-blue-900 text-white hover:bg-blue-300 hover:text-blue-900 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-3 mb-3">BHHS Properties <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></a>`,j(t,"class","text-center"),j(r,"class","w-56"),Td(r.src,a=EN)||j(r,"src",a),j(r,"alt","BHHS Logo"),j(s,"class","text-center")},m(l,u){ve(l,t,u),ve(l,i,u),ve(l,n,u),G(n,r),G(n,o),G(n,s)},p:Ve,i:Ve,o:Ve,d(l){l&&fe(t),l&&fe(i),l&&fe(n)}}}class AT extends Di{constructor(t){super();Si(this,t,null,MIe,fi,{})}}function xF(e,t,i){const n=e.slice();return n[2]=t[i],n}function kF(e,t,i){const n=e.slice();return n[5]=t[i],n}function AIe(e){let t;return{c(){t=ee("p"),t.textContent="Unable to load posts right now.. :( Please try again later.",j(t,"class","text-red-400")},m(i,n){ve(i,t,n)},p:Ve,i:Ve,o:Ve,d(i){i&&fe(t)}}}function OIe(e){let t,i,n,r=e[0],a=[];for(let s=0;s<r.length;s+=1)a[s]=SF(xF(e,r,s));const o=s=>be(a[s],1,1,()=>{a[s]=null});return{c(){t=ee("div");for(let s=0;s<a.length;s+=1)a[s].c();j(t,"class",i="grid grid-rows-"+e[0].length+" md:grid-flow-col justify-items-center gap-2 py-2")},m(s,l){ve(s,t,l);for(let u=0;u<a.length;u+=1)a[u].m(t,null);n=!0},p(s,l){if(l&1){r=s[0];let u;for(u=0;u<r.length;u+=1){const h=xF(s,r,u);a[u]?(a[u].p(h,l),me(a[u],1)):(a[u]=SF(h),a[u].c(),me(a[u],1),a[u].m(t,null))}for(oa(),u=r.length;u<a.length;u+=1)o(u);sa()}(!n||l&1&&i!==(i="grid grid-rows-"+s[0].length+" md:grid-flow-col justify-items-center gap-2 py-2"))&&j(t,"class",i)},i(s){if(!n){for(let l=0;l<r.length;l+=1)me(a[l]);n=!0}},o(s){a=a.filter(Boolean);for(let l=0;l<a.length;l+=1)be(a[l]);n=!1},d(s){s&&fe(t),hy(a,s)}}}function PIe(e){let t,i,n,r,a;return i=new Jo({props:{data:$N,pulse:!0}}),{c(){t=ee("span"),Ye(i.$$.fragment),n=De(),r=ee("span"),r.textContent="Loading...",j(t,"class","block"),j(r,"class","animate-pulse text-gray-600")},m(o,s){ve(o,t,s),Ge(i,t,null),ve(o,n,s),ve(o,r,s),a=!0},p:Ve,i(o){a||(me(i.$$.fragment,o),a=!0)},o(o){be(i.$$.fragment,o),a=!1},d(o){o&&fe(t),We(i),o&&fe(n),o&&fe(r)}}}function _F(e){let t,i=e[5]+"",n;return{c(){t=ee("span"),n=jt(i),j(t,"class","inline-block bhhs bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mb-2")},m(r,a){ve(r,t,a),G(t,n)},p(r,a){a&1&&i!==(i=r[5]+"")&&Zp(n,i)},d(r){r&&fe(t)}}}function SF(e){let t,i,n,r=e[2].title+"",a,o,s,l,u,h,m,f,g=new Date(e[2].published).toLocaleDateString("en-us",{timeZone:"UTC",year:"numeric",month:"short",day:"numeric"})+"",b,v,w;s=new Jo({props:{data:mre}});let x=e[2].tags,S=[];for(let E=0;E<x.length;E+=1)S[E]=_F(kF(e,x,E));return{c(){t=ee("div"),i=ee("div"),n=ee("a"),a=jt(r),o=De(),Ye(s.$$.fragment),u=De();for(let E=0;E<S.length;E+=1)S[E].c();h=De(),m=ee("span"),f=jt("Published "),b=jt(g),v=De(),j(n,"href",l="https://emmalu.notion.site/"+e[2].slug+"-"+e[2].id.split("-").join("")),j(n,"target","_blank"),j(n,"class","bhhs hover:text-red-700 text-2xl items-center"),j(i,"class","block"),j(m,"class","block text-xs italic"),j(t,"class","items-center text-center bg-white py-2 px-2 rounded-xl drop-shadow-2xl shadow-amber-100 w-3/4 sm:w-full")},m(E,C){ve(E,t,C),G(t,i),G(i,n),G(n,a),G(n,o),Ge(s,n,null),G(t,u);for(let _=0;_<S.length;_+=1)S[_].m(t,null);G(t,h),G(t,m),G(m,f),G(m,b),G(t,v),w=!0},p(E,C){if((!w||C&1)&&r!==(r=E[2].title+"")&&Zp(a,r),(!w||C&1&&l!==(l="https://emmalu.notion.site/"+E[2].slug+"-"+E[2].id.split("-").join("")))&&j(n,"href",l),C&1){x=E[2].tags;let _;for(_=0;_<x.length;_+=1){const I=kF(E,x,_);S[_]?S[_].p(I,C):(S[_]=_F(I),S[_].c(),S[_].m(t,h))}for(;_<S.length;_+=1)S[_].d(1);S.length=x.length}(!w||C&1)&&g!==(g=new Date(E[2].published).toLocaleDateString("en-us",{timeZone:"UTC",year:"numeric",month:"short",day:"numeric"})+"")&&Zp(b,g)},i(E){w||(me(s.$$.fragment,E),w=!0)},o(E){be(s.$$.fragment,E),w=!1},d(E){E&&fe(t),We(s),hy(S,E)}}}function LIe(e){let t,i,n,r,a,o,s,l,u,h,m,f,g,b,v,w,x,S,E,C;i=new _y({}),r=new Sy({});const _=[PIe,OIe,AIe],I=[];function O(R,H){return R[0].length===0?0:R[0].length>0?1:2}return g=O(e),b=I[g]=_[g](e),x=new AT({}),E=new Dy({}),{c(){t=De(),Ye(i.$$.fragment),n=De(),Ye(r.$$.fragment),a=De(),o=ee("main"),s=ee("div"),l=ee("div"),u=ee("h2"),u.textContent="House Bytes [Blog]",h=De(),m=ee("span"),m.textContent="A place for CHS-focused Real Estate bits & bytes for existing & prospective homeowners.",f=De(),b.c(),v=De(),w=ee("div"),Ye(x.$$.fragment),S=De(),Ye(E.$$.fragment),document.title="Lists",j(u,"class","block pb-4 font-bold"),j(m,"class","block py-4 px-2"),j(l,"class","text-center"),j(w,"class","contents-center"),j(s,"class","flex flex-col py-7 sm:py-12 items-center"),j(o,"class","main align-middle")},m(R,H){ve(R,t,H),Ge(i,R,H),ve(R,n,H),Ge(r,R,H),ve(R,a,H),ve(R,o,H),G(o,s),G(s,l),G(l,u),G(l,h),G(l,m),G(l,f),I[g].m(l,null),G(s,v),G(s,w),Ge(x,w,null),ve(R,S,H),Ge(E,R,H),C=!0},p(R,[H]){let Y=g;g=O(R),g===Y?I[g].p(R,H):(oa(),be(I[Y],1,1,()=>{I[Y]=null}),sa(),b=I[g],b?b.p(R,H):(b=I[g]=_[g](R),b.c()),me(b,1),b.m(l,null))},i(R){C||(me(i.$$.fragment,R),me(r.$$.fragment,R),me(b),me(x.$$.fragment,R),me(E.$$.fragment,R),C=!0)},o(R){be(i.$$.fragment,R),be(r.$$.fragment,R),be(b),be(x.$$.fragment,R),be(E.$$.fragment,R),C=!1},d(R){R&&fe(t),We(i,R),R&&fe(n),We(r,R),R&&fe(a),R&&fe(o),I[g].d(),We(x),R&&fe(S),We(E,R)}}}const RIe="https://cv-notion.herokuapp.com";function FIe(e,t,i){let n=[];const r={method:"get",url:`${RIe}/posts`};return OF(async()=>{const o=(await kU(r)).data;o?i(0,n=o):console.log("error")}),[n]}class NIe extends Di{constructor(t){super();Si(this,t,FIe,LIe,fi,{})}}function zIe(e){let t,i;return t=new NIe({}),{c(){Ye(t.$$.fragment)},m(n,r){Ge(t,n,r),i=!0},p:Ve,i(n){i||(me(t.$$.fragment,n),i=!0)},o(n){be(t.$$.fragment,n),i=!1},d(n){We(t,n)}}}class jIe extends Di{constructor(t){super();Si(this,t,null,zIe,fi,{})}}function DF(e,t,i){const n=e.slice();return n[2]=t[i],n}function VIe(e){let t;return{c(){t=ee("p"),t.textContent="Unable to load lists right now.. :( Please try again later.",j(t,"class","text-red-400")},m(i,n){ve(i,t,n)},p:Ve,i:Ve,o:Ve,d(i){i&&fe(t)}}}function HIe(e){let t,i,n=e[0],r=[];for(let a=0;a<n.length;a+=1)r[a]=$F(DF(e,n,a));return{c(){t=ee("div");for(let a=0;a<r.length;a+=1)r[a].c();j(t,"class",i="grid grid-rows-"+e[0].length+" md:grid-rows-"+e[0].length/2+" md:grid-flow-col items-center gap-4 py-4")},m(a,o){ve(a,t,o);for(let s=0;s<r.length;s+=1)r[s].m(t,null)},p(a,o){if(o&1){n=a[0];let s;for(s=0;s<n.length;s+=1){const l=DF(a,n,s);r[s]?r[s].p(l,o):(r[s]=$F(l),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}o&1&&i!==(i="grid grid-rows-"+a[0].length+" md:grid-rows-"+a[0].length/2+" md:grid-flow-col items-center gap-4 py-4")&&j(t,"class",i)},i:Ve,o:Ve,d(a){a&&fe(t),hy(r,a)}}}function qIe(e){let t,i,n,r;return t=new Jo({props:{data:$N,pulse:!0}}),{c(){Ye(t.$$.fragment),i=De(),n=ee("span"),n.textContent="Loading...",j(n,"class","animate-pulse text-gray-600")},m(a,o){Ge(t,a,o),ve(a,i,o),ve(a,n,o),r=!0},p:Ve,i(a){r||(me(t.$$.fragment,a),r=!0)},o(a){be(t.$$.fragment,a),r=!1},d(a){We(t,a),a&&fe(i),a&&fe(n)}}}function $F(e){let t,i,n,r=e[2].title+"",a,o,s,l,u=new Date(e[2].edited).toLocaleDateString("en-us",{timeZone:"UTC",year:"numeric",month:"short",day:"numeric"})+"",h,m,f;return{c(){t=ee("div"),i=ee("a"),n=ee("p"),a=jt(r),o=De(),s=ee("p"),l=jt("Updated: "),h=jt(u),f=De(),j(s,"class","text-xs text-blue-900 pt-2 italic"),j(i,"href",m=e[2].url),j(i,"target","_blank"),j(i,"class","items-center bhhs hover:text-red-700 text-2xl"),j(t,"class","items-center text-center w-72 bg-gray-100 hover:bg-yellow-100 rounded-xl drop-shadow-2xl drop-shadow-amber-100 px-2 py-4")},m(g,b){ve(g,t,b),G(t,i),G(i,n),G(n,a),G(i,o),G(i,s),G(s,l),G(s,h),G(t,f)},p(g,b){b&1&&r!==(r=g[2].title+"")&&Zp(a,r),b&1&&u!==(u=new Date(g[2].edited).toLocaleDateString("en-us",{timeZone:"UTC",year:"numeric",month:"short",day:"numeric"})+"")&&Zp(h,u),b&1&&m!==(m=g[2].url)&&j(i,"href",m)},d(g){g&&fe(t)}}}function BIe(e){let t,i,n,r,a,o,s,l,u,h,m,f,g,b,v,w,x;i=new _y({}),r=new Sy({});const S=[qIe,HIe,VIe],E=[];function C(_,I){return _[0].length===0?0:_[0].length>0?1:2}return h=C(e),m=E[h]=S[h](e),b=new AT({}),w=new Dy({}),{c(){t=De(),Ye(i.$$.fragment),n=De(),Ye(r.$$.fragment),a=De(),o=ee("main"),s=ee("div"),l=ee("h2"),l.textContent="Curated Property Lists",u=De(),m.c(),f=De(),g=ee("div"),Ye(b.$$.fragment),v=De(),Ye(w.$$.fragment),document.title="Lists",j(l,"class","block pb-4 font-bold"),j(g,"class","contents-center"),j(s,"class","flex flex-col py-7 sm:py-12 items-center"),j(o,"class","main")},m(_,I){ve(_,t,I),Ge(i,_,I),ve(_,n,I),Ge(r,_,I),ve(_,a,I),ve(_,o,I),G(o,s),G(s,l),G(s,u),E[h].m(s,null),G(s,f),G(s,g),Ge(b,g,null),ve(_,v,I),Ge(w,_,I),x=!0},p(_,[I]){let O=h;h=C(_),h===O?E[h].p(_,I):(oa(),be(E[O],1,1,()=>{E[O]=null}),sa(),m=E[h],m?m.p(_,I):(m=E[h]=S[h](_),m.c()),me(m,1),m.m(s,f))},i(_){x||(me(i.$$.fragment,_),me(r.$$.fragment,_),me(m),me(b.$$.fragment,_),me(w.$$.fragment,_),x=!0)},o(_){be(i.$$.fragment,_),be(r.$$.fragment,_),be(m),be(b.$$.fragment,_),be(w.$$.fragment,_),x=!1},d(_){_&&fe(t),We(i,_),_&&fe(n),We(r,_),_&&fe(a),_&&fe(o),E[h].d(),We(b),_&&fe(v),We(w,_)}}}const UIe="https://cv-notion.herokuapp.com";function GIe(e,t,i){let n=[];const r={method:"get",url:`${UIe}/lists`};return OF(async()=>{const o=(await kU(r)).data;return o?i(0,n=o):console.log("error"),{status:404,error:"error"}}),[n]}class WIe extends Di{constructor(t){super();Si(this,t,GIe,BIe,fi,{})}}function JIe(e){let t,i,n,r,a,o,s,l,u,h,m,f,g,b,v,w,x,S,E,C,_,I,O,R,H,Y,U,ce,ne,se,Je;return i=new _y({}),r=new Sy({}),l=new AT({}),H=new Jo({props:{data:fre}}),se=new Dy({}),{c(){t=De(),Ye(i.$$.fragment),n=De(),Ye(r.$$.fragment),a=De(),o=ee("main"),s=ee("div"),Ye(l.$$.fragment),u=De(),h=ee("div"),m=ee("div"),f=ee("span"),f.textContent="E",g=jt(`mma first moved to Charleston in
				`),b=ee("span"),b.textContent="2009",v=jt(`, to enroll in the M.S. Environmental Studies program
				the
				`),w=ee("span"),w.textContent="College of Charleston",x=jt(`. Throughout her time in graduate
				school, Emma learned the history & science of the
				`),S=ee("span"),S.textContent="Coastal Estuarine environment",E=jt(`
				that is unique to our beautiful Lowcountry; this was the origin of her personal love for this place.
				`),C=ee("br"),_=ee("br"),I=jt(`
				Over the years, Emma has pursued her career in
				`),O=ee("a"),R=jt("Geographic Information Systems "),Ye(H.$$.fragment),Y=jt(`
				& programming, taking on several opportunities to dig deeper into the geography of Charleston,
				as well as some of the challenges we face as a community\u2014most notably regarding flooding in light
				of Climate Change. To that end, Emma brings her technical skills & academic/professional background
				in
				`),U=ee("span"),U.textContent="Resiliency & Sustainability",ce=jt(` to the field of Real Estate,
				with the intent of providing as much added value to her clients as she can.`),ne=De(),Ye(se.$$.fragment),document.title="Reach",j(f,"class","float-left text-6xl pr-2"),j(b,"class","font-semibold"),j(w,"class","font-semibold"),j(S,"class","font-semibold"),j(O,"href","https://en.wikipedia.org/wiki/Geographic_information_system"),j(O,"target","_blank"),j(O,"class","bhhs hover:text-red-700 font-semibold"),j(U,"class","font-semibold"),j(h,"class","max-w-xl mx-auto pt-8 pb-4 text-sm text-justify"),j(s,"class","flex flex-col items-center bg-transparent py-3 sm:py-8 justify-start px-6"),j(o,"class","main")},m(pe,Te){ve(pe,t,Te),Ge(i,pe,Te),ve(pe,n,Te),Ge(r,pe,Te),ve(pe,a,Te),ve(pe,o,Te),G(o,s),Ge(l,s,null),G(s,u),G(s,h),G(h,m),G(m,f),G(m,g),G(m,b),G(m,v),G(m,w),G(m,x),G(m,S),G(m,E),G(m,C),G(m,_),G(m,I),G(m,O),G(O,R),Ge(H,O,null),G(m,Y),G(m,U),G(m,ce),ve(pe,ne,Te),Ge(se,pe,Te),Je=!0},p:Ve,i(pe){Je||(me(i.$$.fragment,pe),me(r.$$.fragment,pe),me(l.$$.fragment,pe),me(H.$$.fragment,pe),me(se.$$.fragment,pe),Je=!0)},o(pe){be(i.$$.fragment,pe),be(r.$$.fragment,pe),be(l.$$.fragment,pe),be(H.$$.fragment,pe),be(se.$$.fragment,pe),Je=!1},d(pe){pe&&fe(t),We(i,pe),pe&&fe(n),We(r,pe),pe&&fe(a),pe&&fe(o),We(l),We(H),pe&&fe(ne),We(se,pe)}}}class KIe extends Di{constructor(t){super();Si(this,t,null,JIe,fi,{})}}function YIe(e){let t,i;return t=new Kne({props:{routes:e[0]}}),{c(){Ye(t.$$.fragment)},m(n,r){Ge(t,n,r),i=!0},p:Ve,i(n){i||(me(t.$$.fragment,n),i=!0)},o(n){be(t.$$.fragment,n),i=!1},d(n){We(t,n)}}}function ZIe(e){return rW("https://js.arcgis.com/calcite-components/1.0.0-beta.80/assets"),qne(),[{"/":kre,"/meet":$re,"/map":wCe,"/bytes":jIe,"/lists":WIe,"/contact":KIe}]}class XIe extends Di{constructor(t){super();Si(this,t,ZIe,YIe,fi,{})}}new XIe({target:document.getElementById("app")});export{QC as $,Rm as A,gc as B,Lt as C,JC as D,gEe as E,si as F,Oc as G,BB as H,lm as I,ik as J,Yt as K,X1 as L,fT as M,Qk as N,Vo as O,KMe as P,GMe as Q,WMe as R,xI as S,ha as T,Ri as U,NH as V,eh as W,ge as X,hE as Y,c as Z,d as _,Ure as a,oC as a$,D as a0,Ac as a1,Un as a2,ss as a3,vz as a4,kI as a5,_z as a6,Yo as a7,Ie as a8,gk as a9,BTe as aA,ao as aB,Oy as aC,QTe as aD,hue as aE,gV as aF,oMe as aG,DL as aH,mV as aI,dTe as aJ,er as aK,Lx as aL,UTe as aM,hTe as aN,aTe as aO,OI as aP,H$e as aQ,Ode as aR,Pde as aS,He as aT,Ey as aU,zEe as aV,zMe as aW,jMe as aX,NMe as aY,AB as aZ,xT as a_,e_ as aa,rTe as ab,kB as ac,sB as ad,_B as ae,_Se as af,HMe as ag,PSe as ah,cy as ai,qMe as aj,On as ak,a6 as al,DEe as am,qd as an,to as ao,Fd as ap,$p as aq,MI as ar,TI as as,Qz as at,Sd as au,AI as av,VEe as aw,nle as ax,mg as ay,gd as az,cEe as b,MB as b$,Sm as b0,iDe as b1,OB as b2,z as b3,rB as b4,EB as b5,nB as b6,ly as b7,KSe as b8,oTe as b9,zm as bA,TMe as bB,g2e as bC,y2e as bD,b2e as bE,jxe as bF,UEe as bG,ue as bH,UH as bI,Cp as bJ,yxe as bK,xV as bL,Fc as bM,wV as bN,nMe as bO,eMe as bP,Kye as bQ,cMe as bR,AD as bS,Xxe as bT,aEe as bU,oEe as bV,_2e as bW,nDe as bX,Wa as bY,Sbe as bZ,vV as b_,no as ba,zc as bb,cTe as bc,OEe as bd,Re as be,pq as bf,Jke as bg,Kke as bh,vae as bi,xp as bj,ag as bk,TTe as bl,Xn as bm,ir as bn,Kv as bo,yP as bp,qn as bq,uMe as br,tMe as bs,ut as bt,nke as bu,MMe as bv,rke as bw,EMe as bx,Er as by,Gi as bz,nEe as c,ZE as c$,Jf as c0,jy as c1,Y$ as c2,st as c3,KC as c4,Py as c5,Ze as c6,nt as c7,J as c8,Zn as c9,tpe as cA,Dm as cB,x_e as cC,w_e as cD,RMe as cE,Ek as cF,n8 as cG,GEe as cH,Mre as cI,In as cJ,dl as cK,XEe as cL,WEe as cM,KEe as cN,JEe as cO,YEe as cP,jg as cQ,ca as cR,tde as cS,r6 as cT,oh as cU,Ko as cV,DI as cW,ZEe as cX,Lme as cY,wk as cZ,AMe as c_,A2e as ca,qw as cb,_e as cc,lTe as cd,fk as ce,mk as cf,Vy as cg,sTe as ch,n6 as ci,ck as cj,Fm as ck,_r as cl,Lde as cm,pt as cn,NDe as co,BMe as cp,UMe as cq,_t as cr,Qn as cs,Ld as ct,bu as cu,M5 as cv,lk as cw,Mr as cx,Nw as cy,n5 as cz,q as d,eo as d$,E6 as d0,um as d1,Sg as d2,A5 as d3,Zce as d4,rDe as d5,ym as d6,bm as d7,Gd as d8,KS as d9,an as dA,Se as dB,qTe as dC,G6 as dD,Mm as dE,Am as dF,Fre as dG,Lke as dH,F_e as dI,H_e as dJ,iq as dK,rEe as dL,qk as dM,T_e as dN,PI as dO,uEe as dP,hx as dQ,yEe as dR,_d as dS,mi as dT,$ue as dU,Aye as dV,Ok as dW,Hk as dX,jH as dY,VH as dZ,HH as d_,Ot as da,JS as db,ZS as dc,tx as dd,dme as de,ASe as df,kt as dg,Q6 as dh,j6 as di,fa as dj,Fg as dk,xTe as dl,oi as dm,fO as dn,qI as dp,ZO as dq,HEe as dr,mTe as ds,Xe as dt,kDe as du,Zxe as dv,nd as dw,ae as dx,DE as dy,Kbe as dz,L as e,Ipe as e$,Ixe as e0,B6 as e1,ez as e2,sEe as e3,Lc as e4,TN as e5,$Ee as e6,Xy as e7,Tke as e8,SEe as e9,Y6 as eA,lMe as eB,ZTe as eC,yV as eD,dV as eE,Qse as eF,ale as eG,TEe as eH,lEe as eI,PN as eJ,w$e as eK,AN as eL,BN as eM,Ule as eN,I5 as eO,dEe as eP,hEe as eQ,C5 as eR,Cz as eS,ece as eT,LEe as eU,fce as eV,wz as eW,Sz as eX,MEe as eY,Sce as eZ,Lz as e_,nr as ea,lxe as eb,cxe as ec,que as ed,os as ee,xse as ef,xwe as eg,pTe as eh,wTe as ei,sMe as ej,d3e as ek,QEe as el,Zz as em,qEe as en,jEe as eo,YH as ep,$Me as eq,Xd as er,Ho as es,jde as et,Uq as eu,eEe as ev,h2e as ew,p2e as ex,m2e as ey,ppe as ez,AEe as f,hbe as f$,Spe as f0,kpe as f1,vpe as f2,ace as f3,CTe as f4,OTe as f5,h7 as f6,Hy as f7,Qpe as f8,pce as f9,xce as fA,xc as fB,vEe as fC,MN as fD,nV as fE,Qj as fF,WTe as fG,rMe as fH,Xj as fI,VTe as fJ,iV as fK,HTe as fL,uTe as fM,cl as fN,qp as fO,wq as fP,PTe as fQ,$ye as fR,XTe as fS,RI as fT,eTe as fU,tTe as fV,iTe as fW,REe as fX,w7 as fY,NEe as fZ,ng as f_,Xpe as fa,Ple as fb,CEe as fc,hk as fd,pk as fe,YSe as ff,XSe as fg,oce as fh,EEe as fi,uDe as fj,vDe as fk,_pe as fl,hpe as fm,gm as fn,Jr as fo,Ae as fp,_ce as fq,Dce as fr,Mce as fs,Rce as ft,Fce as fu,Oz as fv,Pz as fw,Lce as fx,Hce as fy,qce as fz,tEe as g,_x as g$,obe as g0,vL as g1,eV as g2,aMe as g3,Lhe as g4,us as g5,IMe as g6,bae as g7,T2 as g8,M2 as g9,jj as gA,RN as gB,Vp as gC,kEe as gD,uk as gE,Ya as gF,IEe as gG,DMe as gH,cse as gI,Gg as gJ,hg as gK,OS as gL,jTe as gM,FTe as gN,LTe as gO,oj as gP,O0e as gQ,zTe as gR,NTe as gS,RTe as gT,Dn as gU,$n as gV,en as gW,ds as gX,$1 as gY,ty as gZ,UE as g_,Ore as ga,dq as gb,Et as gc,GTe as gd,D$e as ge,iMe as gf,Pk as gg,pEe as gh,sce as gi,$t as gj,JE as gk,fxe as gl,Dc as gm,Nre as gn,$Te as go,DTe as gp,rse as gq,zw as gr,hI as gs,Sue as gt,Cn as gu,Kn as gv,Pn as gw,F as gx,Ms as gy,iD as gz,Id as h,Ir as h$,i6 as h0,wp as h1,Wt as h2,Bwe as h3,Mc as h4,hn as h5,Hwe as h6,pa as h7,Fwe as h8,Owe as h9,zwe as hA,Pwe as hB,axe as hC,ixe as hD,txe as hE,wMe as hF,nxe as hG,rxe as hH,Lwe as hI,Rwe as hJ,XC as hK,jwe as hL,Qwe as hM,AE as hN,nO as hO,SMe as hP,Twe as hQ,Mwe as hR,Iwe as hS,Cwe as hT,gTe as hU,kTe as hV,_Te as hW,ul as hX,Ybe as hY,_ke as hZ,Pye as h_,Awe as ha,Yd as hb,wr as hc,IH as hd,ml as he,yve as hf,$we as hg,Ewe as hh,Ne as hi,CH as hj,Dr as hk,qwe as hl,Nwe as hm,x5 as hn,sh as ho,$I as hp,Uwe as hq,Gwe as hr,Wwe as hs,qE as ht,Kwe as hu,Jwe as hv,Ywe as hw,ey as hx,kwe as hy,Vwe as hz,qre as i,r5 as i$,Bd as i0,Ny as i1,JMe as i2,tI as i3,ATe as i4,uI as i5,Fle as i6,Epe as i7,b_e as i8,W_e as i9,Oue as iA,Tue as iB,OO as iC,Mn as iD,Ng as iE,M_e as iF,ho as iG,Dk as iH,qm as iI,nh as iJ,j_e as iK,v_e as iL,k_e as iM,Y_e as iN,WO as iO,i8 as iP,x2e as iQ,gq as iR,lT as iS,Y4 as iT,H1 as iU,QH as iV,E_e as iW,cT as iX,Cq as iY,ke as iZ,th as i_,G_e as ia,$4 as ib,LMe as ic,Eq as id,L2e as ie,I_e as ig,oke as ih,fq as ii,D2e as ij,An as ik,zoe as il,$8 as im,p0e as io,Cke as ip,Bp as iq,R6 as ir,FMe as is,A_e as it,P_e as iu,Mke as iv,tT as iw,Oke as ix,Pke as iy,GI as iz,ma as j,sT as j$,YTe as j0,fbe as j1,pbe as j2,Yae as j3,ia as j4,M2e as j5,Yy as j6,pxe as j7,RH as j8,_3e as j9,yR as jA,Bm as jB,qO as jC,sE as jD,rs as jE,ts as jF,x8 as jG,Dd as jH,iEe as jI,eq as jJ,B1 as jK,U4 as jL,zg as jM,R_e as jN,L_e as jO,Om as jP,Z8 as jQ,OMe as jR,Ty as jS,Lm as jT,wEe as jU,O_e as jV,PMe as jW,Moe as jX,fEe as jY,k as jZ,ITe as j_,Txe as ja,S3e as jb,KH as jc,$x as jd,XE as je,bEe as jf,AH as jg,Cx as jh,Ake as ji,v6 as jj,Ug as jk,wc as jl,Sr as jm,ihe as jn,dk as jo,Qx as jp,STe as jq,MTe as jr,Ay as js,mEe as jt,ETe as ju,eI as jv,Xh as jw,E2e as jx,vr as jy,Dw as jz,pi as k,BEe as k0,Nc as k1,d8 as k2,Hd as k3,xq as k4,xMe as k5,vMe as k6,o4 as k7,dMe as k8,a4 as k9,$z as kA,FEe as kB,eme as kC,sy as kD,Bk as kE,fTe as kF,Lle as kG,vTe as kH,kz as kI,xEe as kJ,Tpe as kK,zae as kL,Iw as kM,fSe as kN,Rle as kO,bz as kP,_Ee as kQ,zse as kR,JTe as kS,KTe as kT,CMe as kU,VMe as kV,Xwe as ka,bMe as kb,_Me as kc,Wj as kd,kMe as ke,Kd as kf,pMe as kg,hMe as kh,mMe as ki,fMe as kj,yMe as kk,Dwe as kl,l4 as km,gMe as kn,Zwe as ko,Vk as kp,TH as kq,MH as kr,tce as ks,Dz as kt,Qd as ku,jre as kv,Cse as kw,PEe as kx,yTe as ky,bTe as kz,jB as l,hi as m,YMe as n,Ui as o,is as p,vt as q,T as r,Q as s,V as t,qi as u,ro as v,i5 as w,nTe as x,LB as y,Gc as z};
