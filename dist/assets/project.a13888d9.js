var h=Object.defineProperty,y=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var m=(r,t,e)=>t in r?h(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,p=(r,t)=>{for(var e in t||(t={}))N.call(t,e)&&m(r,e,t[e]);if(c)for(var e of c(t))O.call(t,e)&&m(r,e,t[e]);return r},l=(r,t)=>y(r,J(t));import{aC as u,dU as R,Z as n,_ as i,a0 as w,c8 as j,dT as v,dj as F,dC as $,C as k}from"./index.ab15bc04.js";function q(r){return{geometryType:u(r[0]),geometries:r.map(t=>t.toJSON())}}function C(r,t,e){const s=R(t);return r.map(f=>{const a=s.fromJSON(f);return a.spatialReference=e,a})}let o=class extends j{constructor(r){super(r),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const r=this.geometries.map(function(s){return s.toJSON()}),t=this.geometries[0],e={};return e.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),e.inSR=t.spatialReference.wkid||JSON.stringify(t.spatialReference.toJSON()),e.geometries=JSON.stringify({geometryType:u(t),geometries:r}),this.transformation&&(e.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),this.transformForward!=null&&(e.transformForward=this.transformForward),e}};n([i()],o.prototype,"geometries",void 0),n([i({json:{read:{source:"outSR"}}})],o.prototype,"outSpatialReference",void 0),n([i()],o.prototype,"transformation",void 0),n([i()],o.prototype,"transformForward",void 0),o=n([w("esri.rest.support.ProjectParameters")],o);const T=o,x=v(T);async function U(r,t,e){t=x(t);const s=F(r),f=p(l(p({},s.query),{f:"json"}),t.toJSON()),a=t.outSpatialReference,d=u(t.geometries[0]),S=$(f,e);return k(s.path+"/project",S).then(({data:{geometries:g}})=>C(g,d,a))}export{T as a,U as n,C as o,q as r};
